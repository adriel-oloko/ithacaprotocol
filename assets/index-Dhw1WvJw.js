import{r as i,b4 as j,aF as e,b1 as l,b2 as C}from"./index-BCy5xNdd.js";import{C as b}from"./index-Bf9KQbg6.js";import{s as g}from"./sectionActive-COvEF9CS.js";const w="_CollateralOptimization_13siq_1",R="_CollateralOptimization_inner_13siq_19",v="_CollateralOptimization_playerBox_13siq_53",E="_hidden_13siq_61",N="_CollateralOptimization_player_13siq_53",q="_top_13siq_74",a={CollateralOptimization:w,CollateralOptimization_inner:R,CollateralOptimization_playerBox:v,hidden:E,CollateralOptimization_player:N,top:q},A=({isSectionActive:r})=>{const m=i.useRef(null),n=i.useRef(null),s=i.useRef(null),d=i.useRef(null),_=i.useRef(null),[u,O]=i.useState(0),h=()=>{var o;let t=(o=n.current)==null?void 0:o.state.instance;if(t){const c=(t==null?void 0:t.currentFrame)/(t==null?void 0:t.totalFrames)*100;O(c)}};i.useEffect(()=>{s.current&&(u>95?s.current.classList.add(a.hidden):s.current.classList.remove(a.hidden))},[u]);const y=t=>{var o,c,z,x;t?((o=m.current)==null||o.play(),(c=n.current)==null||c.play()):((z=m.current)==null||z.pause(),(x=n.current)==null||x.pause())},p=g();j(d,_,p);const f=t=>{y(t)};return i.useEffect(()=>{f(p.isActive)},[p.isActive]),(r===!0||r===!1)&&i.useEffect(()=>{f(r)},[r]),e.jsxs("section",{id:"collateral-optimization",className:l("section",a.CollateralOptimization),ref:d,children:[(window==null?void 0:window.innerWidth)>1024&&e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx("img",{loading:"lazy",decoding:"async",className:"bg_noise_absolute",src:"/images/noise.png",alt:""})]}),e.jsxs("div",{className:l(a.CollateralOptimization_inner),ref:_,children:[e.jsx("div",{className:l(a.CollateralOptimization_playerBoxHeader),children:e.jsx(C,{speed:1.3,className:l(a.CollateralOptimization_player,a.top),keepLastFrame:!0,ref:m,src:`/lottiAnimations/collateral-optimization/collateral-optimization-text${window.innerWidth>1024?"":window.innerWidth>560?"-tab":"-mob"}.json`})}),e.jsx("div",{className:l(a.CollateralOptimization_playerBox),ref:s,children:e.jsx(C,{speed:1.3,className:l(a.CollateralOptimization_player,a.bottom),onEvent:t=>{t==="frame"&&h()},ref:n,loop:!0,src:`/lottiAnimations/collateral-optimization/collateral-optimization-elements${window.innerWidth>1024?"":window.innerWidth>560?"-tab":"-mob"}.json`})})]})]})};export{A as CollateralOptimization,A as default};
