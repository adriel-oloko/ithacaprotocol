import{r as t,b3 as w,aF as e,b1 as a,b8 as b,b4 as N,b5 as P}from"./index-BCy5xNdd.js";import{C as S}from"./index-Bf9KQbg6.js";import{s as A}from"./sectionActive-COvEF9CS.js";import{L as E}from"./LazyVideo-DP8BvP6S.js";const T="_Roadmap_g3hm7_1",C="_Roadmap_inner_g3hm7_15",k="_Roadmap_glow_g3hm7_61",L="_active_g3hm7_72",$="_Roadmap_wave_g3hm7_87",F="_Roadmap_logo_g3hm7_117",M="_Roadmap_nav_g3hm7_125",V="_Roadmap_nav_item_g3hm7_141",z="_Roadmap_items_g3hm7_167",n={Roadmap:T,Roadmap_inner:C,Roadmap_glow:k,active:L,Roadmap_wave:$,Roadmap_logo:F,Roadmap_nav:M,Roadmap_nav_item:V,Roadmap_items:z},h=[{version:"1.0",subtitle:"(MVP at Launch)",items:["Vanilla Calls & Puts","Binary / digital calls & puts","Statically replicable structured products","Per auction settled cash (MEV-resistant spot)","Prepackaged Strategies"]},{version:"1.1",items:["Governance token","Liquidity incentive structure","TradFi access integration"]},{version:"1.2",items:["Margin borrowing /lending + liquidation engine"]},{version:"1.3",items:["Path dependent derivatives","Pairwise linked order books"]}],W="_RoadmapItem_1y3o6_1",q="_active_1y3o6_9",G="_RoadmapItem_light_1y3o6_12",B="_RoadmapItem_title_1y3o6_45",H="_RoadmapItem_subtitle_1y3o6_94",O="_RoadmapItem_items_1y3o6_123",D="_RoadmapItem_items_item_1y3o6_148",J="_RoadmapItem_items_item_ring_1y3o6_169",K="_RoadmapItem_items_item_text_1y3o6_203",m={RoadmapItem:W,active:q,RoadmapItem_light:G,RoadmapItem_title:B,RoadmapItem_subtitle:H,RoadmapItem_items:O,RoadmapItem_items_item:D,RoadmapItem_items_item_ring:J,RoadmapItem_items_item_text:K},Q=({version:_,subtitle:l,items:g,index:c,indexReverse:y,completeStage:p,completeStageAnim:f,toggleStage:d,lastElement:I,isActive:x})=>{const i=t.useRef([]),R=t.useRef([]),o=t.useRef(null),s=t.useRef(null),j=t.useRef(null);return t.useEffect(()=>{if(p==c){let r=w.timeline({defaults:{delay:0,duration:1,ease:"power2.inOut",immediateRender:!0}});r.fromTo(o.current,{opacity:0,scale:.9,yPercent:10},{opacity:1,scale:1,yPercent:0}),s&&r.fromTo(s.current,{opacity:0,scale:.9,yPercent:10},{opacity:1,scale:1,yPercent:0},"<20%"),i.current.map((u,v)=>{r.fromTo(u,{opacity:0,scale:0},{opacity:1,scale:1,duration:1},"<20%").fromTo(R.current[v],{opacity:0,xPercent:10},{opacity:1,xPercent:0,duration:1},"<20%")}),r.to(j.current,{opacity:.3,duration:.1}),r.eventCallback("onComplete",()=>{I&&d(c),f(c+1)})}},[p]),e.jsxs("div",{className:a(m.RoadmapItem,x&&p>=c+1&&m.active),ref:j,children:[e.jsx("div",{className:a(m.RoadmapItem_light)}),e.jsxs("div",{className:a(m.RoadmapItem_inner),style:window.innerWidth>1024?{marginTop:`${50*y}px`}:{},onMouseEnter:()=>{d(c)},onMouseLeave:()=>{d(-1)},children:[e.jsxs("div",{className:a(m.RoadmapItem_title,"dalek-font"),ref:o,children:[e.jsx(b,{})," ",_]}),l&&e.jsx("div",{className:a(m.RoadmapItem_subtitle),ref:s,children:l}),e.jsx("div",{className:a(m.RoadmapItem_items),children:g.map((r,u)=>e.jsxs("div",{className:a(m.RoadmapItem_items_item),children:[e.jsx("div",{className:a(m.RoadmapItem_items_item_ring),ref:v=>i.current[u]=v}),e.jsx("div",{className:a(m.RoadmapItem_items_item_text),ref:v=>R.current[u]=v,children:r})]},u))})]})]})},ee=({isSectionActive:_})=>{const[l,g]=t.useState(-1),[c,y]=t.useState(-1),p=t.useRef(null),f=t.useRef(null),d=t.useRef(null),I=o=>{y(o)},x=o=>{g(o)};t.useEffect(()=>{l==3&&d.current&&d.current.classList.add(n.active)},[l]);const i=A();N(p,f,i);const R=()=>{i.firstActive(),g(0)};return t.useEffect(()=>{i.isActive&&!i.isFirstActive&&R()},[i.isActive]),(_===!0||_===!1)&&t.useEffect(()=>{_&&!i.isFirstActive&&R()},[_]),e.jsxs("section",{id:"roadmap",className:a("section",n.Roadmap),ref:p,children:[(window==null?void 0:window.innerWidth)>1024&&e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx("img",{loading:"lazy",decoding:"async",className:"bg_noise_absolute",src:"/images/noise.png",alt:""})]}),e.jsxs("div",{className:a(n.Roadmap_inner),ref:f,children:[e.jsx("div",{className:a(n.Roadmap_glow),ref:d,children:e.jsx("img",{loading:"lazy",decoding:"async",src:"/images/roadmap/glow.png",alt:""})}),e.jsx(E,{className:a(n.Roadmap_wave),webmSrc:"/videos/roadmap/roadmap-wave.webm",mp4Src:"/videos/roadmap/roadmap-wave.mp4",onLoad:()=>{console.log("Video loaded successfully")}}),e.jsx("div",{className:a(n.Roadmap_nav),children:h.map((o,s)=>e.jsx("div",{className:a(n.Roadmap_nav_item,s==c&&n.active),onClick:()=>I(s),children:`ITHACA ${o.version}`},s))}),e.jsx(P,{title:"Roadmap"}),e.jsx("div",{className:a(n.Roadmap_items),children:h.map((o,s)=>t.createElement(Q,{...o,index:s,indexReverse:h.length-(s+1),completeStage:l,completeStageAnim:x,lastElement:h.length==s+1,isActive:c==s,toggleStage:I,key:s}))})]})]})};export{ee as Roadmap,ee as default};
