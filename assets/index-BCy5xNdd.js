const __vite__fileDeps=["assets/index-BH5XbB8X.js","assets/index-oXEOMJ44.css","assets/index-BoQeNZ-0.js","assets/index-CkGtHrM3.css","assets/index-CPgSqFXS.js","assets/index-Bf9KQbg6.js","assets/index-RtBU7NBC.css","assets/sectionActive-COvEF9CS.js","assets/index-C7N8rRJI.css","assets/index-CCIIeScQ.js","assets/LazyVideo-DP8BvP6S.js","assets/index-C9Jpgcob.css","assets/index-BJfPAca2.js","assets/index-DXrqI6Wq.css","assets/index-DU5LkTcN.js","assets/index-Cz_Vjnkq.css","assets/index-DP7M-P-E.js","assets/index-DB1S2HF7.css","assets/index-Dhw1WvJw.js","assets/index-DJh3UO-W.css","assets/index-pwcdFpa9.js","assets/index-ENCmK0dd.css","assets/index-B-tOJ9rc.js","assets/index-Bi3Q7B2F.css","assets/index-B-X7J7ar.js","assets/index-DdNBY3PG.css","assets/index-COkBDLsh.js","assets/index-ZYGx7-Gf.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function _mergeNamespaces(_e,_){for(var et=0;et<_.length;et++){const tt=_[et];if(typeof tt!="string"&&!Array.isArray(tt)){for(const nt in tt)if(nt!=="default"&&!(nt in _e)){const rt=Object.getOwnPropertyDescriptor(tt,nt);rt&&Object.defineProperty(_e,nt,rt.get?rt:{enumerable:!0,get:()=>tt[nt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$5=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(_e,_,et){this.props=_e,this.context=_,this.refs=D$2,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,_){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,_,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$2(){}F$2.prototype=E$2.prototype;function G$2(_e,_,et){this.props=_e,this.context=_,this.refs=D$2,this.updater=et||B$2}var H$3=G$2.prototype=new F$2;H$3.constructor=G$2;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$4=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(_e,_,et){var tt,nt={},rt=null,it=null;if(_!=null)for(tt in _.ref!==void 0&&(it=_.ref),_.key!==void 0&&(rt=""+_.key),_)J$2.call(_,tt)&&!L$3.hasOwnProperty(tt)&&(nt[tt]=_[tt]);var st=arguments.length-2;if(st===1)nt.children=et;else if(1<st){for(var ot=Array(st),at=0;at<st;at++)ot[at]=arguments[at+2];nt.children=ot}if(_e&&_e.defaultProps)for(tt in st=_e.defaultProps,st)nt[tt]===void 0&&(nt[tt]=st[tt]);return{$$typeof:l$5,type:_e,key:rt,ref:it,props:nt,_owner:K$1.current}}function N$3(_e,_){return{$$typeof:l$5,type:_e.type,key:_,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$5}function escape$1(_e){var _={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return _[et]})}var P$2=/\/+/g;function Q$2(_e,_){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):_.toString(36)}function R$2(_e,_,et,tt,nt){var rt=typeof _e;(rt==="undefined"||rt==="boolean")&&(_e=null);var it=!1;if(_e===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch(_e.$$typeof){case l$5:case n$6:it=!0}}if(it)return it=_e,nt=nt(it),_e=tt===""?"."+Q$2(it,0):tt,I$4(nt)?(et="",_e!=null&&(et=_e.replace(P$2,"$&/")+"/"),R$2(nt,_,et,"",function(at){return at})):nt!=null&&(O$2(nt)&&(nt=N$3(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+_e)),_.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$4(_e))for(var st=0;st<_e.length;st++){rt=_e[st];var ot=tt+Q$2(rt,st);it+=R$2(rt,_,et,ot,nt)}else if(ot=A$2(_e),typeof ot=="function")for(_e=ot.call(_e),st=0;!(rt=_e.next()).done;)rt=rt.value,ot=tt+Q$2(rt,st++),it+=R$2(rt,_,et,ot,nt);else if(rt==="object")throw _=String(_e),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return it}function S$4(_e,_,et){if(_e==null)return _e;var tt=[],nt=0;return R$2(_e,tt,"","",function(rt){return _.call(et,rt,nt++)}),tt}function T$3(_e){if(_e._status===-1){var _=_e._result;_=_(),_.then(function(et){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=et)},function(et){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=et)}),_e._status===-1&&(_e._status=0,_e._result=_)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$4={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$4,ReactCurrentOwner:K$1};react_production_min.Children={map:S$4,forEach:function(_e,_,et){S$4(_e,function(){_.apply(this,arguments)},et)},count:function(_e){var _=0;return S$4(_e,function(){_++}),_},toArray:function(_e){return S$4(_e,function(_){return _})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,_,et){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var tt=C$2({},_e.props),nt=_e.key,rt=_e.ref,it=_e._owner;if(_!=null){if(_.ref!==void 0&&(rt=_.ref,it=K$1.current),_.key!==void 0&&(nt=""+_.key),_e.type&&_e.type.defaultProps)var st=_e.type.defaultProps;for(ot in _)J$2.call(_,ot)&&!L$3.hasOwnProperty(ot)&&(tt[ot]=_[ot]===void 0&&st!==void 0?st[ot]:_[ot])}var ot=arguments.length-2;if(ot===1)tt.children=et;else if(1<ot){st=Array(ot);for(var at=0;at<ot;at++)st[at]=arguments[at+2];tt.children=st}return{$$typeof:l$5,type:_e.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function(_e){return _e={$$typeof:u$5,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$5,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$3;react_production_min.createFactory=function(_e){var _=M$3.bind(null,_e);return _.type=_e,_};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$5,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$3,_payload:{_status:-1,_result:_e},_init:T$3}};react_production_min.memo=function(_e,_){return{$$typeof:x$2,type:_e,compare:_===void 0?null:_}};react_production_min.startTransition=function(_e){var _=V$4.transition;V$4.transition={};try{_e()}finally{V$4.transition=_}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,_){return U$3.current.useCallback(_e,_)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,_){return U$3.current.useEffect(_e,_)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,_,et){return U$3.current.useImperativeHandle(_e,_,et)};react_production_min.useInsertionEffect=function(_e,_){return U$3.current.useInsertionEffect(_e,_)};react_production_min.useLayoutEffect=function(_e,_){return U$3.current.useLayoutEffect(_e,_)};react_production_min.useMemo=function(_e,_){return U$3.current.useMemo(_e,_)};react_production_min.useReducer=function(_e,_,et){return U$3.current.useReducer(_e,_,et)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,_,et){return U$3.current.useSyncExternalStore(_e,_,et)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),$2AODx$react=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$4=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$5=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$4(_e,_,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),_.key!==void 0&&(rt=""+_.key),_.ref!==void 0&&(it=_.ref);for(tt in _)m$5.call(_,tt)&&!p$6.hasOwnProperty(tt)&&(nt[tt]=_[tt]);if(_e&&_e.defaultProps)for(tt in _=_e.defaultProps,_)nt[tt]===void 0&&(nt[tt]=_[tt]);return{$$typeof:k$4,type:_e,key:rt,ref:it,props:nt,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function _(Rt,Ot){var Ut=Rt.length;Rt.push(Ot);e:for(;0<Ut;){var jt=Ut-1>>>1,Jt=Rt[jt];if(0<nt(Jt,Ot))Rt[jt]=Ot,Rt[Ut]=Jt,Ut=jt;else break e}}function et(Rt){return Rt.length===0?null:Rt[0]}function tt(Rt){if(Rt.length===0)return null;var Ot=Rt[0],Ut=Rt.pop();if(Ut!==Ot){Rt[0]=Ut;e:for(var jt=0,Jt=Rt.length,Xt=Jt>>>1;jt<Xt;){var Qt=2*(jt+1)-1,rn=Rt[Qt],pn=Qt+1,fn=Rt[pn];if(0>nt(rn,Ut))pn<Jt&&0>nt(fn,rn)?(Rt[jt]=fn,Rt[pn]=Ut,jt=pn):(Rt[jt]=rn,Rt[Qt]=Ut,jt=Qt);else if(pn<Jt&&0>nt(fn,Ut))Rt[jt]=fn,Rt[pn]=Ut,jt=pn;else break e}}return Ot}function nt(Rt,Ot){var Ut=Rt.sortIndex-Ot.sortIndex;return Ut!==0?Ut:Rt.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;_e.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();_e.unstable_now=function(){return it.now()-st}}var ot=[],at=[],lt=1,ct=null,ut=3,ft=!1,ht=!1,vt=!1,mt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(Rt){for(var Ot=et(at);Ot!==null;){if(Ot.callback===null)tt(at);else if(Ot.startTime<=Rt)tt(at),Ot.sortIndex=Ot.expirationTime,_(ot,Ot);else break;Ot=et(at)}}function St(Rt){if(vt=!1,_t(Rt),!ht)if(et(ot)!==null)ht=!0,Gt(Et);else{var Ot=et(at);Ot!==null&&Bt(St,Ot.startTime-Rt)}}function Et(Rt,Ot){ht=!1,vt&&(vt=!1,pt(At),At=-1),ft=!0;var Ut=ut;try{for(_t(Ot),ct=et(ot);ct!==null&&(!(ct.expirationTime>Ot)||Rt&&!Dt());){var jt=ct.callback;if(typeof jt=="function"){ct.callback=null,ut=ct.priorityLevel;var Jt=jt(ct.expirationTime<=Ot);Ot=_e.unstable_now(),typeof Jt=="function"?ct.callback=Jt:ct===et(ot)&&tt(ot),_t(Ot)}else tt(ot);ct=et(ot)}if(ct!==null)var Xt=!0;else{var Qt=et(at);Qt!==null&&Bt(St,Qt.startTime-Ot),Xt=!1}return Xt}finally{ct=null,ut=Ut,ft=!1}}var wt=!1,Mt=null,At=-1,Tt=5,Ct=-1;function Dt(){return!(_e.unstable_now()-Ct<Tt)}function $t(){if(Mt!==null){var Rt=_e.unstable_now();Ct=Rt;var Ot=!0;try{Ot=Mt(!0,Rt)}finally{Ot?kt():(wt=!1,Mt=null)}}else wt=!1}var kt;if(typeof yt=="function")kt=function(){yt($t)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Nt=It.port2;It.port1.onmessage=$t,kt=function(){Nt.postMessage(null)}}else kt=function(){mt($t,0)};function Gt(Rt){Mt=Rt,wt||(wt=!0,kt())}function Bt(Rt,Ot){At=mt(function(){Rt(_e.unstable_now())},Ot)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Rt){Rt.callback=null},_e.unstable_continueExecution=function(){ht||ft||(ht=!0,Gt(Et))},_e.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Tt=0<Rt?Math.floor(1e3/Rt):5},_e.unstable_getCurrentPriorityLevel=function(){return ut},_e.unstable_getFirstCallbackNode=function(){return et(ot)},_e.unstable_next=function(Rt){switch(ut){case 1:case 2:case 3:var Ot=3;break;default:Ot=ut}var Ut=ut;ut=Ot;try{return Rt()}finally{ut=Ut}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Rt,Ot){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Ut=ut;ut=Rt;try{return Ot()}finally{ut=Ut}},_e.unstable_scheduleCallback=function(Rt,Ot,Ut){var jt=_e.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?jt+Ut:jt):Ut=jt,Rt){case 1:var Jt=-1;break;case 2:Jt=250;break;case 5:Jt=1073741823;break;case 4:Jt=1e4;break;default:Jt=5e3}return Jt=Ut+Jt,Rt={id:lt++,callback:Ot,priorityLevel:Rt,startTime:Ut,expirationTime:Jt,sortIndex:-1},Ut>jt?(Rt.sortIndex=Ut,_(at,Rt),et(ot)===null&&Rt===et(at)&&(vt?(pt(At),At=-1):vt=!0,Bt(St,Ut-jt))):(Rt.sortIndex=Jt,_(ot,Rt),ht||ft||(ht=!0,Gt(Et))),Rt},_e.unstable_shouldYield=Dt,_e.unstable_wrapCallback=function(Rt){var Ot=ut;return function(){var Ut=ut;ut=Ot;try{return Rt.apply(this,arguments)}finally{ut=Ut}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$5(_e){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)_+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,_){ha(_e,_),ha(_e+"Capture",_)}function ha(_e,_){for(ea[_e]=_,_e=0;_e<_.length;_e++)da.add(_[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,_,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,_,et,tt){if(_===null||typeof _>"u"||pa(_e,_,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function v$4(_e,_,et,tt,nt,rt,it){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=_e,this.type=_,this.sanitizeURL=rt,this.removeEmptyString=it}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$4(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var _=_e[0];z$1[_]=new v$4(_,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$4(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$4(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$4(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$4(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$4(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$4(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$4(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var _=_e.replace(ra,sa);z$1[_]=new v$4(_,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var _=_e.replace(ra,sa);z$1[_]=new v$4(_,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var _=_e.replace(ra,sa);z$1[_]=new v$4(_,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$4(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$4(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,_,et,tt){var nt=z$1.hasOwnProperty(_)?z$1[_]:null;(nt!==null?nt.type!==0:tt||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(qa(_,et,nt,tt)&&(et=null),tt||nt===null?oa(_)&&(et===null?_e.removeAttribute(_):_e.setAttribute(_,""+et)):nt.mustUseProperty?_e[nt.propertyName]=et===null?nt.type===3?!1:"":et:(_=nt.attributeName,tt=nt.attributeNamespace,et===null?_e.removeAttribute(_):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?_e.setAttributeNS(tt,_,et):_e.setAttribute(_,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$1=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(et){var _=et.stack.trim().match(/\n( *(at )?)/);La=_&&_[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,_){if(!_e||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(at){var tt=at}Reflect.construct(_e,[],_)}else{try{_.call()}catch(at){tt=at}_e.call(_.prototype)}else{try{throw Error()}catch(at){tt=at}_e()}}catch(at){if(at&&tt&&typeof at.stack=="string"){for(var nt=at.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,st=rt.length-1;1<=it&&0<=st&&nt[it]!==rt[st];)st--;for(;1<=it&&0<=st;it--,st--)if(nt[it]!==rt[st]){if(it!==1||st!==1)do if(it--,st--,0>st||nt[it]!==rt[st]){var ot=`
`+nt[it].replace(" at new "," at ");return _e.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",_e.displayName)),ot}while(1<=it&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var _=_e.render;return _e=_e.displayName,_e||(_e=_.displayName||_.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return _=_e.displayName||null,_!==null?_:Qa(_e.type)||"Memo";case Ha:_=_e._payload,_e=_e._init;try{return Qa(_e(_))}catch{}}return null}function Ra(_e){var _=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=_.render,_e=_e.displayName||_e.name||"",_.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_);case 8:return _===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var _=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ua(_e){var _=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,_),tt=""+_e[_];if(!_e.hasOwnProperty(_)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty(_e,_,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty(_e,_,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){_e._valueTracker=null,delete _e[_]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var _=_e._valueTracker;if(!_)return!0;var et=_.getValue(),tt="";return _e&&(tt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=tt,_e!==et?(_.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,_){var et=_.checked;return A$1({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??_e._wrapperState.initialChecked})}function Za(_e,_){var et=_.defaultValue==null?"":_.defaultValue,tt=_.checked!=null?_.checked:_.defaultChecked;et=Sa(_.value!=null?_.value:et),_e._wrapperState={initialChecked:tt,initialValue:et,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ab(_e,_){_=_.checked,_!=null&&ta(_e,"checked",_,!1)}function bb(_e,_){ab(_e,_);var et=Sa(_.value),tt=_.type;if(et!=null)tt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(tt==="submit"||tt==="reset"){_e.removeAttribute("value");return}_.hasOwnProperty("value")?cb(_e,_.type,et):_.hasOwnProperty("defaultValue")&&cb(_e,_.type,Sa(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(_e.defaultChecked=!!_.defaultChecked)}function db(_e,_,et){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var tt=_.type;if(!(tt!=="submit"&&tt!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+_e._wrapperState.initialValue,et||_===_e.value||(_e.value=_),_e.defaultValue=_}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function cb(_e,_,et){(_!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}var eb=Array.isArray;function fb(_e,_,et,tt){if(_e=_e.options,_){_={};for(var nt=0;nt<et.length;nt++)_["$"+et[nt]]=!0;for(et=0;et<_e.length;et++)nt=_.hasOwnProperty("$"+_e[et].value),_e[et].selected!==nt&&(_e[et].selected=nt),nt&&tt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),_=null,nt=0;nt<_e.length;nt++){if(_e[nt].value===et){_e[nt].selected=!0,tt&&(_e[nt].defaultSelected=!0);return}_!==null||_e[nt].disabled||(_=_e[nt])}_!==null&&(_.selected=!0)}}function gb(_e,_){if(_.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$1({},_,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,_){var et=_.value;if(et==null){if(et=_.children,_=_.defaultValue,et!=null){if(_!=null)throw Error(p$5(92));if(eb(et)){if(1<et.length)throw Error(p$5(93));et=et[0]}_=et}_==null&&(_=""),et=_}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,_){var et=Sa(_.value),tt=Sa(_.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),_.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),tt!=null&&(_e.defaultValue=""+tt)}function jb(_e){var _=_e.textContent;_===_e._wrapperState.initialValue&&_!==""&&_!==null&&(_e.value=_)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,_){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(_):_e==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return _e(_,et,tt,nt)})}:_e}(function(_e,_){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=_;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;_.firstChild;)_e.appendChild(_.firstChild)}});function ob(_e,_){if(_){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=_;return}}_e.textContent=_}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(_){_=_+_e.charAt(0).toUpperCase()+_e.substring(1),pb[_]=pb[_e]})});function rb(_e,_,et){return _==null||typeof _=="boolean"||_===""?"":et||typeof _!="number"||_===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+_).trim():_+"px"}function sb(_e,_){_e=_e.style;for(var et in _)if(_.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb(et,_[et],tt);et==="float"&&(et="cssFloat"),tt?_e.setProperty(et,nt):_e[et]=nt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,_){if(_){if(tb[_e]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(p$5(137,_e));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(p$5(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(p$5(61))}if(_.style!=null&&typeof _.style!="object")throw Error(p$5(62))}}function vb(_e,_){if(_e.indexOf("-")===-1)return typeof _.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$5(280));var _=_e.stateNode;_&&(_=Db(_),yb(_e.stateNode,_e.type,_))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,_=Ab;if(Ab=zb=null,Bb(_e),_)for(_e=0;_e<_.length;_e++)Bb(_[_e])}}function Gb(_e,_){return _e(_)}function Hb(){}var Ib=!1;function Jb(_e,_,et){if(Ib)return _e(_,et);Ib=!0;try{return Gb(_e,_,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,_){var et=_e.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(_e=_e.type,tt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!tt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(p$5(231,_,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,_,et,tt,nt,rt,it,st,ot){var at=Array.prototype.slice.call(arguments,3);try{_.apply(et,at)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,_,et,tt,nt,rt,it,st,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,_,et,tt,nt,rt,it,st,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var at=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=at)}}function Vb(_e){var _=_e,et=_e;if(_e.alternate)for(;_.return;)_=_.return;else{_e=_;do _=_e,_.flags&4098&&(et=_.return),_e=_.return;while(_e)}return _.tag===3?et:null}function Wb(_e){if(_e.tag===13){var _=_e.memoizedState;if(_===null&&(_e=_e.alternate,_e!==null&&(_=_e.memoizedState)),_!==null)return _.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$5(188))}function Yb(_e){var _=_e.alternate;if(!_){if(_=Vb(_e),_===null)throw Error(p$5(188));return _!==_e?null:_e}for(var et=_e,tt=_;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb(nt),_e;if(rt===tt)return Xb(nt),_;rt=rt.sibling}throw Error(p$5(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,st=nt.child;st;){if(st===et){it=!0,et=nt,tt=rt;break}if(st===tt){it=!0,tt=nt,et=rt;break}st=st.sibling}if(!it){for(st=rt.child;st;){if(st===et){it=!0,et=rt,tt=nt;break}if(st===tt){it=!0,tt=rt,et=nt;break}st=st.sibling}if(!it)throw Error(p$5(189))}}if(et.alternate!==tt)throw Error(p$5(190))}if(et.tag!==3)throw Error(p$5(188));return et.stateNode.current===et?_e:_}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var _=$b(_e);if(_!==null)return _;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,_){var et=_e.pendingLanes;if(et===0)return 0;var tt=0,nt=_e.suspendedLanes,rt=_e.pingedLanes,it=et&268435455;if(it!==0){var st=it&~nt;st!==0?tt=tc(st):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=et&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if(_!==0&&_!==tt&&!(_&nt)&&(nt=tt&-tt,rt=_&-_,nt>=rt||nt===16&&(rt&4194240)!==0))return _;if(tt&4&&(tt|=et&16),_=_e.entangledLanes,_!==0)for(_e=_e.entanglements,_&=tt;0<_;)et=31-oc(_),nt=1<<et,tt|=_e[et],_&=~nt;return tt}function vc(_e,_){switch(_e){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,_){for(var et=_e.suspendedLanes,tt=_e.pingedLanes,nt=_e.expirationTimes,rt=_e.pendingLanes;0<rt;){var it=31-oc(rt),st=1<<it,ot=nt[it];ot===-1?(!(st&et)||st&tt)&&(nt[it]=vc(st,_)):ot<=_&&(_e.expiredLanes|=st),rt&=~st}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var _=[],et=0;31>et;et++)_.push(_e);return _}function Ac(_e,_,et){_e.pendingLanes|=_,_!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,_=31-oc(_),_e[_]=et}function Bc(_e,_){var et=_e.pendingLanes&~_;_e.pendingLanes=_,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=_,_e.mutableReadLanes&=_,_e.entangledLanes&=_,_=_e.entanglements;var tt=_e.eventTimes;for(_e=_e.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;_[nt]=0,tt[nt]=-1,_e[nt]=-1,et&=~rt}}function Cc(_e,_){var et=_e.entangledLanes|=_;for(_e=_e.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&_|_e[tt]&_&&(_e[tt]|=_),et&=~nt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,_){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_.pointerId)}}function Tc(_e,_,et,tt,nt,rt){return _e===null||_e.nativeEvent!==rt?(_e={blockedOn:_,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},_!==null&&(_=Cb(_),_!==null&&Fc(_)),_e):(_e.eventSystemFlags|=tt,_=_e.targetContainers,nt!==null&&_.indexOf(nt)===-1&&_.push(nt),_e)}function Uc(_e,_,et,tt,nt){switch(_){case"focusin":return Lc=Tc(Lc,_e,_,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,_e,_,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,_e,_,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,_e,_,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,_e,_,et,tt,nt)),!0}return!1}function Vc(_e){var _=Wc(_e.target);if(_!==null){var et=Vb(_);if(et!==null){if(_=et.tag,_===13){if(_=Wb(et),_!==null){_e.blockedOn=_,Ic(_e.priority,function(){Gc(et)});return}}else if(_===3&&et.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var _=_e.targetContainers;0<_.length;){var et=Yc(_e.domEventName,_e.eventSystemFlags,_[0],_e.nativeEvent);if(et===null){et=_e.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _=Cb(et),_!==null&&Fc(_),_e.blockedOn=et,!1;_.shift()}return!0}function Zc(_e,_,et){Xc(_e)&&et.delete(_)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,_){_e.blockedOn===_&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function _(nt){return ad(nt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===_e&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(_),Pc.forEach(_),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===_e&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,_,et,tt){var nt=C$1,rt=cd.transition;cd.transition=null;try{C$1=1,fd(_e,_,et,tt)}finally{C$1=nt,cd.transition=rt}}function gd(_e,_,et,tt){var nt=C$1,rt=cd.transition;cd.transition=null;try{C$1=4,fd(_e,_,et,tt)}finally{C$1=nt,cd.transition=rt}}function fd(_e,_,et,tt){if(dd){var nt=Yc(_e,_,et,tt);if(nt===null)hd(_e,_,tt,id,et),Sc(_e,tt);else if(Uc(nt,_e,_,et,tt))tt.stopPropagation();else if(Sc(_e,tt),_&4&&-1<Rc.indexOf(_e)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc(_e,_,et,tt),rt===null&&hd(_e,_,tt,id,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd(_e,_,tt,null,et)}}var id=null;function Yc(_e,_,et,tt){if(id=null,_e=xb(tt),_e=Wc(_e),_e!==null)if(_=Vb(_e),_===null)_e=null;else if(et=_.tag,et===13){if(_e=Wb(_),_e!==null)return _e;_e=null}else if(et===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;_e=null}else _!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,_=ld,et=_.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for(_e=0;_e<et&&_[_e]===nt[_e];_e++);var it=et-_e;for(tt=1;tt<=it&&_[et-tt]===nt[rt-tt];tt++);return md=nt.slice(_e,1<tt?1-tt:void 0)}function od(_e){var _=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&_===13&&(_e=13)):_e=_,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function _(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var st in _e)_e.hasOwnProperty(st)&&(et=_e[st],this[st]=et?et(rt):rt[st]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(_e):(_e=Od[_e])?!!_[_e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_e){if(_e.key){var _=Md[_e.key]||_e.key;if(_!=="Unidentified")return _}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee$1=" ",fe=!1;function ge(_e,_){switch(_e){case"keyup":return $d.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,_){switch(_e){case"compositionend":return he(_);case"keypress":return _.which!==32?null:(fe=!0,ee$1);case"textInput":return _e=_.data,_e===ee$1&&fe?null:_e;default:return null}}function ke(_e,_){if(ie)return _e==="compositionend"||!ae&&ge(_e,_)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return de&&_.locale!=="ko"?null:_.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var _=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return _==="input"?!!le[_e.type]:_==="textarea"}function ne(_e,_,et,tt){Eb(tt),_=oe(_,"onChange"),0<_.length&&(et=new td("onChange","change",null,et,tt),_e.push({event:et,listeners:_}))}var pe=null,qe=null;function re$1(_e){se(_e,0)}function te(_e){var _=ue(_e);if(Wa(_))return _e}function ve(_e,_){if(_e==="change")return _}var we=!1;if(ia){var xe$1;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe$1=ye}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var _=[];ne(_,qe,_e,xb(_e)),Jb(re$1,_)}}function Ce$1(_e,_,et){_e==="focusin"?(Ae(),pe=_,qe=et,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,_){if(_e==="click")return te(_)}function Fe(_e,_){if(_e==="input"||_e==="change")return te(_)}function Ge(_e,_){return _e===_&&(_e!==0||1/_e===1/_)||_e!==_e&&_!==_}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,_){if(He(_e,_))return!0;if(typeof _e!="object"||_e===null||typeof _!="object"||_===null)return!1;var et=Object.keys(_e),tt=Object.keys(_);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(_,nt)||!He(_e[nt],_[nt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,_){var et=Je(_e);_e=0;for(var tt;et;){if(et.nodeType===3){if(tt=_e+et.textContent.length,_e<=_&&tt>=_)return{node:et,offset:_-_e};_e=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(_e,_){return _e&&_?_e===_?!0:_e&&_e.nodeType===3?!1:_&&_.nodeType===3?Le(_e,_.parentNode):"contains"in _e?_e.contains(_):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(_)&16):!1:!1}function Me$1(){for(var _e=window,_=Xa();_ instanceof _e.HTMLIFrameElement;){try{var et=typeof _.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=_.contentWindow;else break;_=Xa(_e.document)}return _}function Ne$1(_e){var _=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return _&&(_==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||_==="textarea"||_e.contentEditable==="true")}function Oe(_e){var _=Me$1(),et=_e.focusedElem,tt=_e.selectionRange;if(_!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne$1(et)){if(_=tt.start,_e=tt.end,_e===void 0&&(_e=_),"selectionStart"in et)et.selectionStart=_,et.selectionEnd=Math.min(_e,et.value.length);else if(_e=(_=et.ownerDocument||document)&&_.defaultView||window,_e.getSelection){_e=_e.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!_e.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&(_e.rangeCount!==1||_e.anchorNode!==nt.node||_e.anchorOffset!==nt.offset||_e.focusNode!==it.node||_e.focusOffset!==it.offset)&&(_=_.createRange(),_.setStart(nt.node,nt.offset),_e.removeAllRanges(),rt>tt?(_e.addRange(_),_e.extend(it.node,it.offset)):(_.setEnd(it.node,it.offset),_e.addRange(_)))}}for(_=[],_e=et;_e=_e.parentNode;)_e.nodeType===1&&_.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_.length;et++)_e=_[et],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,_,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne$1(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_=new td("onSelect","select",null,_,et),_e.push({event:_,listeners:tt}),_.target=Qe)))}function Ve(_e,_){var et={};return et[_e.toLowerCase()]=_.toLowerCase(),et["Webkit"+_e]="webkit"+_,et["Moz"+_e]="moz"+_,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var _=We[_e],et;for(et in _)if(_.hasOwnProperty(et)&&et in Ye)return Xe[_e]=_[et];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,_){df.set(_e,_),fa(_,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,_,et){var tt=_e.type||"unknown-event";_e.currentTarget=et,Ub(tt,_,void 0,_e),_e.currentTarget=null}function se(_e,_){_=(_&4)!==0;for(var et=0;et<_e.length;et++){var tt=_e[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(_)for(var it=tt.length-1;0<=it;it--){var st=tt[it],ot=st.instance,at=st.currentTarget;if(st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}else for(it=0;it<tt.length;it++){if(st=tt[it],ot=st.instance,at=st.currentTarget,st=st.listener,ot!==rt&&nt.isPropagationStopped())break e;nf(nt,st,at),rt=ot}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,_){var et=_[of];et===void 0&&(et=_[of]=new Set);var tt=_e+"__bubble";et.has(tt)||(pf(_,_e,2,!1),et.add(tt))}function qf(_e,_,et){var tt=0;_&&(tt|=4),pf(et,_e,tt,_)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,_e),qf(et,!0,_e))});var _=_e.nodeType===9?_e:_e.ownerDocument;_===null||_[rf]||(_[rf]=!0,qf("selectionchange",!1,_))}}function pf(_e,_,et,tt){switch(jd(_)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,_,et,_e),nt=void 0,!Lb||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(nt=!0),tt?nt!==void 0?_e.addEventListener(_,et,{capture:!0,passive:nt}):_e.addEventListener(_,et,!0):nt!==void 0?_e.addEventListener(_,et,{passive:nt}):_e.addEventListener(_,et,!1)}function hd(_e,_,et,tt,nt){var rt=tt;if(!(_&1)&&!(_&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var st=tt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var ot=it.tag;if((ot===3||ot===4)&&(ot=it.stateNode.containerInfo,ot===nt||ot.nodeType===8&&ot.parentNode===nt))return;it=it.return}for(;st!==null;){if(it=Wc(st),it===null)return;if(ot=it.tag,ot===5||ot===6){tt=rt=it;continue e}st=st.parentNode}}tt=tt.return}Jb(function(){var at=rt,lt=xb(et),ct=[];e:{var ut=df.get(_e);if(ut!==void 0){var ft=td,ht=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":ht="focus",ft=Fd;break;case"focusout":ht="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var vt=(_&4)!==0,mt=!vt&&_e==="scroll",pt=vt?ut!==null?ut+"Capture":null:ut;vt=[];for(var yt=at,_t;yt!==null;){_t=yt;var St=_t.stateNode;if(_t.tag===5&&St!==null&&(_t=St,pt!==null&&(St=Kb(yt,pt),St!=null&&vt.push(tf(yt,St,_t)))),mt)break;yt=yt.return}0<vt.length&&(ut=new ft(ut,ht,null,et,lt),ct.push({event:ut,listeners:vt}))}}if(!(_&7)){e:{if(ut=_e==="mouseover"||_e==="pointerover",ft=_e==="mouseout"||_e==="pointerout",ut&&et!==wb&&(ht=et.relatedTarget||et.fromElement)&&(Wc(ht)||ht[uf]))break e;if((ft||ut)&&(ut=lt.window===lt?lt:(ut=lt.ownerDocument)?ut.defaultView||ut.parentWindow:window,ft?(ht=et.relatedTarget||et.toElement,ft=at,ht=ht?Wc(ht):null,ht!==null&&(mt=Vb(ht),ht!==mt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ft=null,ht=at),ft!==ht)){if(vt=Bd,St="onMouseLeave",pt="onMouseEnter",yt="mouse",(_e==="pointerout"||_e==="pointerover")&&(vt=Td,St="onPointerLeave",pt="onPointerEnter",yt="pointer"),mt=ft==null?ut:ue(ft),_t=ht==null?ut:ue(ht),ut=new vt(St,yt+"leave",ft,et,lt),ut.target=mt,ut.relatedTarget=_t,St=null,Wc(lt)===at&&(vt=new vt(pt,yt+"enter",ht,et,lt),vt.target=_t,vt.relatedTarget=mt,St=vt),mt=St,ft&&ht)t:{for(vt=ft,pt=ht,yt=0,_t=vt;_t;_t=vf(_t))yt++;for(_t=0,St=pt;St;St=vf(St))_t++;for(;0<yt-_t;)vt=vf(vt),yt--;for(;0<_t-yt;)pt=vf(pt),_t--;for(;yt--;){if(vt===pt||pt!==null&&vt===pt.alternate)break t;vt=vf(vt),pt=vf(pt)}vt=null}else vt=null;ft!==null&&wf(ct,ut,ft,vt,!1),ht!==null&&mt!==null&&wf(ct,mt,ht,vt,!0)}}e:{if(ut=at?ue(at):window,ft=ut.nodeName&&ut.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ut.type==="file")var Et=ve;else if(me(ut))if(we)Et=Fe;else{Et=De;var wt=Ce$1}else(ft=ut.nodeName)&&ft.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(Et=Ee);if(Et&&(Et=Et(_e,at))){ne(ct,Et,et,lt);break e}wt&&wt(_e,ut,at),_e==="focusout"&&(wt=ut._wrapperState)&&wt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(wt=at?ue(at):window,_e){case"focusin":(me(wt)||wt.contentEditable==="true")&&(Qe=wt,Re=at,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,et,lt)}var Mt;if(ae)e:{switch(_e){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else ie?ge(_e,et)&&(At="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(At="onCompositionStart");At&&(de&&et.locale!=="ko"&&(ie||At!=="onCompositionStart"?At==="onCompositionEnd"&&ie&&(Mt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),wt=oe(at,At),0<wt.length&&(At=new Ld(At,_e,null,et,lt),ct.push({event:At,listeners:wt}),Mt?At.data=Mt:(Mt=he(et),Mt!==null&&(At.data=Mt)))),(Mt=ce?je(_e,et):ke(_e,et))&&(at=oe(at,"onBeforeInput"),0<at.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),ct.push({event:lt,listeners:at}),lt.data=Mt))}se(ct,_)})}function tf(_e,_,et){return{instance:_e,listener:_,currentTarget:et}}function oe(_e,_){for(var et=_+"Capture",tt=[];_e!==null;){var nt=_e,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb(_e,et),rt!=null&&tt.unshift(tf(_e,rt,nt)),rt=Kb(_e,_),rt!=null&&tt.push(tf(_e,rt,nt))),_e=_e.return}return tt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,_,et,tt,nt){for(var rt=_._reactName,it=[];et!==null&&et!==tt;){var st=et,ot=st.alternate,at=st.stateNode;if(ot!==null&&ot===tt)break;st.tag===5&&at!==null&&(st=at,nt?(ot=Kb(et,rt),ot!=null&&it.unshift(tf(et,ot,st))):nt||(ot=Kb(et,rt),ot!=null&&it.push(tf(et,ot,st)))),et=et.return}it.length!==0&&_e.push({event:_,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,_,et){if(_=zf(_),zf(_e)!==_&&et)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,_){return _e==="textarea"||_e==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,_){var et=_,tt=0;do{var nt=et.nextSibling;if(_e.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){_e.removeChild(nt),bd(_);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd(_)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var _=_e.nodeType;if(_===1||_===3)break;if(_===8){if(_=_e.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var _=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if(_===0)return _e;_--}else et==="/$"&&_++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var _=_e[Of];if(_)return _;for(var et=_e.parentNode;et;){if(_=et[uf]||et[Of]){if(et=_.alternate,_.child!==null||et!==null&&et.child!==null)for(_e=Mf(_e);_e!==null;){if(et=_e[Of])return et;_e=Mf(_e)}return _}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$5(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,_){Tf++,Sf[Tf]=_e.current,_e.current=_}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,_){var et=_e.type.contextTypes;if(!et)return Vf;var tt=_e.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=_[rt];return tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=_,_e.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,_,et){if(H$2.current!==Vf)throw Error(p$5(168));G$1(H$2,_),G$1(Wf,et)}function bg(_e,_,et){var tt=_e.stateNode;if(_=_.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in _))throw Error(p$5(108,Ra(_e)||"Unknown",nt));return A$1({},et,tt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,_e),G$1(Wf,Wf.current),!0}function dg(_e,_,et){var tt=_e.stateNode;if(!tt)throw Error(p$5(169));et?(_e=bg(_e,_,Xf),tt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$1(H$2,_e)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,_=C$1;try{var et=eg;for(C$1=1;_e<et.length;_e++){var tt=et[_e];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),nt}finally{C$1=_,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,_){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=_}function ug(_e,_,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var tt=rg;_e=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc(_)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc(_)+nt|et<<nt|tt,sg=rt+_e}else rg=1<<rt|et<<nt|tt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(_e,_){var et=Bg$1(5,null,null,0);et.elementType="DELETED",et.stateNode=_,et.return=_e,_=_e.deletions,_===null?(_e.deletions=[et],_e.flags|=16):_.push(et)}function Cg(_e,_){switch(_e.tag){case 5:var et=_e.type;return _=_.nodeType!==1||et.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(_e.stateNode=_,xg=_e,yg=Lf(_.firstChild),!0):!1;case 6:return _=_e.pendingProps===""||_.nodeType!==3?null:_,_!==null?(_e.stateNode=_,xg=_e,yg=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(et=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:_,treeContext:et,retryLane:1073741824},et=Bg$1(18,null,null,0),et.stateNode=_,et.return=_e,_e.child=et,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$3){var _=yg;if(_){var et=_;if(!Cg(_e,_)){if(Dg(_e))throw Error(p$5(418));_=Lf(et.nextSibling);var tt=xg;_&&Cg(_e,_)?Ag(tt,et):(_e.flags=_e.flags&-4097|2,I$3=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$5(418));_e.flags=_e.flags&-4097|2,I$3=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$3)return Fg(_e),I$3=!0,!1;var _;if((_=_e.tag!==3)&&!(_=_e.tag!==5)&&(_=_e.type,_=_!=="head"&&_!=="body"&&!Ef(_e.type,_e.memoizedProps)),_&&(_=yg)){if(Dg(_e))throw Hg(),Error(p$5(418));for(;_;)Ag(_e,_),_=Lf(_.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$5(317));e:{for(_e=_e.nextSibling,_=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if(_===0){yg=Lf(_e.nextSibling);break e}_--}else et!=="$"&&et!=="$!"&&et!=="$?"||_++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,_){if(_e&&_e.defaultProps){_=A$1({},_),_e=_e.defaultProps;for(var et in _e)_[et]===void 0&&(_[et]=_e[et]);return _}return _}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var _=Mg.current;E$1(Mg),_e._currentValue=_}function Sg(_e,_,et){for(;_e!==null;){var tt=_e.alternate;if((_e.childLanes&_)!==_?(_e.childLanes|=_,tt!==null&&(tt.childLanes|=_)):tt!==null&&(tt.childLanes&_)!==_&&(tt.childLanes|=_),_e===et)break;_e=_e.return}}function Tg(_e,_){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&_&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var _=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:_,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return _}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,_,et,tt){var nt=_.interleaved;return nt===null?(et.next=et,Xg(_)):(et.next=nt.next,nt.next=et),_.interleaved=et,Zg(_e,tt)}function Zg(_e,_){_e.lanes|=_;var et=_e.alternate;for(et!==null&&(et.lanes|=_),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=_,et=_e.alternate,et!==null&&(et.childLanes|=_),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,_){_e=_e.updateQueue,_.updateQueue===_e&&(_.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,_){return{eventTime:_e,lane:_,tag:0,payload:null,callback:null,next:null}}function dh(_e,_,et){var tt=_e.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var nt=tt.pending;return nt===null?_.next=_:(_.next=nt.next,nt.next=_),tt.pending=_,Zg(_e,et)}return nt=tt.interleaved,nt===null?(_.next=_,Xg(tt)):(_.next=nt.next,nt.next=_),tt.interleaved=_,Zg(_e,et)}function eh(_e,_,et){if(_=_.updateQueue,_!==null&&(_=_.shared,(et&4194240)!==0)){var tt=_.lanes;tt&=_e.pendingLanes,et|=tt,_.lanes=et,Cc(_e,et)}}function fh(_e,_){var et=_e.updateQueue,tt=_e.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=_:rt=rt.next=_}else nt=rt=_;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=_:_e.next=_,et.lastBaseUpdate=_}function gh(_e,_,et,tt){var nt=_e.updateQueue;$g=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var ot=st,at=ot.next;ot.next=null,it===null?rt=at:it.next=at,it=ot;var lt=_e.alternate;lt!==null&&(lt=lt.updateQueue,st=lt.lastBaseUpdate,st!==it&&(st===null?lt.firstBaseUpdate=at:st.next=at,lt.lastBaseUpdate=ot))}if(rt!==null){var ct=nt.baseState;it=0,lt=at=ot=null,st=rt;do{var ut=st.lane,ft=st.eventTime;if((tt&ut)===ut){lt!==null&&(lt=lt.next={eventTime:ft,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var ht=_e,vt=st;switch(ut=_,ft=et,vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){ct=ht.call(ft,ct,ut);break e}ct=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,ut=typeof ht=="function"?ht.call(ft,ct,ut):ht,ut==null)break e;ct=A$1({},ct,ut);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(_e.flags|=64,ut=nt.effects,ut===null?nt.effects=[st]:ut.push(st))}else ft={eventTime:ft,lane:ut,tag:st.tag,payload:st.payload,callback:st.callback,next:null},lt===null?(at=lt=ft,ot=ct):lt=lt.next=ft,it|=ut;if(st=st.next,st===null){if(st=nt.shared.pending,st===null)break;ut=st,st=ut.next,ut.next=null,nt.lastBaseUpdate=ut,nt.shared.pending=null}}while(!0);if(lt===null&&(ot=ct),nt.baseState=ot,nt.firstBaseUpdate=at,nt.lastBaseUpdate=lt,_=nt.shared.interleaved,_!==null){nt=_;do it|=nt.lane,nt=nt.next;while(nt!==_)}else rt===null&&(nt.shared.lanes=0);hh|=it,_e.lanes=it,_e.memoizedState=ct}}function ih(_e,_,et){if(_e=_.effects,_.effects=null,_e!==null)for(_=0;_<_e.length;_++){var tt=_e[_],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$5(191,nt));nt.call(tt)}}}var jh=new aa.Component().refs;function kh(_e,_,et,tt){_=_e.memoizedState,et=et(tt,_),et=et==null?_:A$1({},_,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,_,et){_e=_e._reactInternals;var tt=L$2(),nt=lh(_e),rt=ch(tt,nt);rt.payload=_,et!=null&&(rt.callback=et),_=dh(_e,rt,nt),_!==null&&(mh(_,_e,nt,tt),eh(_,_e,nt))},enqueueReplaceState:function(_e,_,et){_e=_e._reactInternals;var tt=L$2(),nt=lh(_e),rt=ch(tt,nt);rt.tag=1,rt.payload=_,et!=null&&(rt.callback=et),_=dh(_e,rt,nt),_!==null&&(mh(_,_e,nt,tt),eh(_,_e,nt))},enqueueForceUpdate:function(_e,_){_e=_e._reactInternals;var et=L$2(),tt=lh(_e),nt=ch(et,tt);nt.tag=2,_!=null&&(nt.callback=_),_=dh(_e,nt,tt),_!==null&&(mh(_,_e,tt,et),eh(_,_e,tt))}};function oh(_e,_,et,tt,nt,rt,it){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(tt,rt,it):_.prototype&&_.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,rt):!0}function ph(_e,_,et){var tt=!1,nt=Vf,rt=_.contextType;return typeof rt=="object"&&rt!==null?rt=Vg(rt):(nt=Zf(_)?Xf:H$2.current,tt=_.contextTypes,rt=(tt=tt!=null)?Yf(_e,nt):Vf),_=new _(et,rt),_e.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=nh,_e.stateNode=_,_._reactInternals=_e,tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=nt,_e.__reactInternalMemoizedMaskedChildContext=rt),_}function qh(_e,_,et,tt){_e=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(et,tt),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(et,tt),_.state!==_e&&nh.enqueueReplaceState(_,_.state,null)}function rh(_e,_,et,tt){var nt=_e.stateNode;nt.props=et,nt.state=_e.memoizedState,nt.refs=jh,ah(_e);var rt=_.contextType;typeof rt=="object"&&rt!==null?nt.context=Vg(rt):(rt=Zf(_)?Xf:H$2.current,nt.context=Yf(_e,rt)),nt.state=_e.memoizedState,rt=_.getDerivedStateFromProps,typeof rt=="function"&&(kh(_e,_,rt,et),nt.state=_e.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(_e,et,nt,tt),nt.state=_e.memoizedState),typeof nt.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,_,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$5(309));var tt=et.stateNode}if(!tt)throw Error(p$5(147,_e));var nt=tt,rt=""+_e;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===rt?_.ref:(_=function(it){var st=nt.refs;st===jh&&(st=nt.refs={}),it===null?delete st[rt]:st[rt]=it},_._stringRef=rt,_)}if(typeof _e!="string")throw Error(p$5(284));if(!et._owner)throw Error(p$5(290,_e))}return _e}function th(_e,_){throw _e=Object.prototype.toString.call(_),Error(p$5(31,_e==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":_e))}function uh(_e){var _=_e._init;return _(_e._payload)}function vh(_e){function _(pt,yt){if(_e){var _t=pt.deletions;_t===null?(pt.deletions=[yt],pt.flags|=16):_t.push(yt)}}function et(pt,yt){if(!_e)return null;for(;yt!==null;)_(pt,yt),yt=yt.sibling;return null}function tt(pt,yt){for(pt=new Map;yt!==null;)yt.key!==null?pt.set(yt.key,yt):pt.set(yt.index,yt),yt=yt.sibling;return pt}function nt(pt,yt){return pt=wh(pt,yt),pt.index=0,pt.sibling=null,pt}function rt(pt,yt,_t){return pt.index=_t,_e?(_t=pt.alternate,_t!==null?(_t=_t.index,_t<yt?(pt.flags|=2,yt):_t):(pt.flags|=2,yt)):(pt.flags|=1048576,yt)}function it(pt){return _e&&pt.alternate===null&&(pt.flags|=2),pt}function st(pt,yt,_t,St){return yt===null||yt.tag!==6?(yt=xh(_t,pt.mode,St),yt.return=pt,yt):(yt=nt(yt,_t),yt.return=pt,yt)}function ot(pt,yt,_t,St){var Et=_t.type;return Et===ya?lt(pt,yt,_t.props.children,St,_t.key):yt!==null&&(yt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&uh(Et)===yt.type)?(St=nt(yt,_t.props),St.ref=sh(pt,yt,_t),St.return=pt,St):(St=yh(_t.type,_t.key,_t.props,null,pt.mode,St),St.ref=sh(pt,yt,_t),St.return=pt,St)}function at(pt,yt,_t,St){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==_t.containerInfo||yt.stateNode.implementation!==_t.implementation?(yt=zh(_t,pt.mode,St),yt.return=pt,yt):(yt=nt(yt,_t.children||[]),yt.return=pt,yt)}function lt(pt,yt,_t,St,Et){return yt===null||yt.tag!==7?(yt=Ah(_t,pt.mode,St,Et),yt.return=pt,yt):(yt=nt(yt,_t),yt.return=pt,yt)}function ct(pt,yt,_t){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=xh(""+yt,pt.mode,_t),yt.return=pt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return _t=yh(yt.type,yt.key,yt.props,null,pt.mode,_t),_t.ref=sh(pt,null,yt),_t.return=pt,_t;case wa:return yt=zh(yt,pt.mode,_t),yt.return=pt,yt;case Ha:var St=yt._init;return ct(pt,St(yt._payload),_t)}if(eb(yt)||Ka(yt))return yt=Ah(yt,pt.mode,_t,null),yt.return=pt,yt;th(pt,yt)}return null}function ut(pt,yt,_t,St){var Et=yt!==null?yt.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Et!==null?null:st(pt,yt,""+_t,St);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return _t.key===Et?ot(pt,yt,_t,St):null;case wa:return _t.key===Et?at(pt,yt,_t,St):null;case Ha:return Et=_t._init,ut(pt,yt,Et(_t._payload),St)}if(eb(_t)||Ka(_t))return Et!==null?null:lt(pt,yt,_t,St,null);th(pt,_t)}return null}function ft(pt,yt,_t,St,Et){if(typeof St=="string"&&St!==""||typeof St=="number")return pt=pt.get(_t)||null,st(yt,pt,""+St,Et);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return pt=pt.get(St.key===null?_t:St.key)||null,ot(yt,pt,St,Et);case wa:return pt=pt.get(St.key===null?_t:St.key)||null,at(yt,pt,St,Et);case Ha:var wt=St._init;return ft(pt,yt,_t,wt(St._payload),Et)}if(eb(St)||Ka(St))return pt=pt.get(_t)||null,lt(yt,pt,St,Et,null);th(yt,St)}return null}function ht(pt,yt,_t,St){for(var Et=null,wt=null,Mt=yt,At=yt=0,Tt=null;Mt!==null&&At<_t.length;At++){Mt.index>At?(Tt=Mt,Mt=null):Tt=Mt.sibling;var Ct=ut(pt,Mt,_t[At],St);if(Ct===null){Mt===null&&(Mt=Tt);break}_e&&Mt&&Ct.alternate===null&&_(pt,Mt),yt=rt(Ct,yt,At),wt===null?Et=Ct:wt.sibling=Ct,wt=Ct,Mt=Tt}if(At===_t.length)return et(pt,Mt),I$3&&tg(pt,At),Et;if(Mt===null){for(;At<_t.length;At++)Mt=ct(pt,_t[At],St),Mt!==null&&(yt=rt(Mt,yt,At),wt===null?Et=Mt:wt.sibling=Mt,wt=Mt);return I$3&&tg(pt,At),Et}for(Mt=tt(pt,Mt);At<_t.length;At++)Tt=ft(Mt,pt,At,_t[At],St),Tt!==null&&(_e&&Tt.alternate!==null&&Mt.delete(Tt.key===null?At:Tt.key),yt=rt(Tt,yt,At),wt===null?Et=Tt:wt.sibling=Tt,wt=Tt);return _e&&Mt.forEach(function(Dt){return _(pt,Dt)}),I$3&&tg(pt,At),Et}function vt(pt,yt,_t,St){var Et=Ka(_t);if(typeof Et!="function")throw Error(p$5(150));if(_t=Et.call(_t),_t==null)throw Error(p$5(151));for(var wt=Et=null,Mt=yt,At=yt=0,Tt=null,Ct=_t.next();Mt!==null&&!Ct.done;At++,Ct=_t.next()){Mt.index>At?(Tt=Mt,Mt=null):Tt=Mt.sibling;var Dt=ut(pt,Mt,Ct.value,St);if(Dt===null){Mt===null&&(Mt=Tt);break}_e&&Mt&&Dt.alternate===null&&_(pt,Mt),yt=rt(Dt,yt,At),wt===null?Et=Dt:wt.sibling=Dt,wt=Dt,Mt=Tt}if(Ct.done)return et(pt,Mt),I$3&&tg(pt,At),Et;if(Mt===null){for(;!Ct.done;At++,Ct=_t.next())Ct=ct(pt,Ct.value,St),Ct!==null&&(yt=rt(Ct,yt,At),wt===null?Et=Ct:wt.sibling=Ct,wt=Ct);return I$3&&tg(pt,At),Et}for(Mt=tt(pt,Mt);!Ct.done;At++,Ct=_t.next())Ct=ft(Mt,pt,At,Ct.value,St),Ct!==null&&(_e&&Ct.alternate!==null&&Mt.delete(Ct.key===null?At:Ct.key),yt=rt(Ct,yt,At),wt===null?Et=Ct:wt.sibling=Ct,wt=Ct);return _e&&Mt.forEach(function($t){return _(pt,$t)}),I$3&&tg(pt,At),Et}function mt(pt,yt,_t,St){if(typeof _t=="object"&&_t!==null&&_t.type===ya&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:e:{for(var Et=_t.key,wt=yt;wt!==null;){if(wt.key===Et){if(Et=_t.type,Et===ya){if(wt.tag===7){et(pt,wt.sibling),yt=nt(wt,_t.props.children),yt.return=pt,pt=yt;break e}}else if(wt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha&&uh(Et)===wt.type){et(pt,wt.sibling),yt=nt(wt,_t.props),yt.ref=sh(pt,wt,_t),yt.return=pt,pt=yt;break e}et(pt,wt);break}else _(pt,wt);wt=wt.sibling}_t.type===ya?(yt=Ah(_t.props.children,pt.mode,St,_t.key),yt.return=pt,pt=yt):(St=yh(_t.type,_t.key,_t.props,null,pt.mode,St),St.ref=sh(pt,yt,_t),St.return=pt,pt=St)}return it(pt);case wa:e:{for(wt=_t.key;yt!==null;){if(yt.key===wt)if(yt.tag===4&&yt.stateNode.containerInfo===_t.containerInfo&&yt.stateNode.implementation===_t.implementation){et(pt,yt.sibling),yt=nt(yt,_t.children||[]),yt.return=pt,pt=yt;break e}else{et(pt,yt);break}else _(pt,yt);yt=yt.sibling}yt=zh(_t,pt.mode,St),yt.return=pt,pt=yt}return it(pt);case Ha:return wt=_t._init,mt(pt,yt,wt(_t._payload),St)}if(eb(_t))return ht(pt,yt,_t,St);if(Ka(_t))return vt(pt,yt,_t,St);th(pt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,yt!==null&&yt.tag===6?(et(pt,yt.sibling),yt=nt(yt,_t),yt.return=pt,pt=yt):(et(pt,yt),yt=xh(_t,pt.mode,St),yt.return=pt,pt=yt),it(pt)):et(pt,yt)}return mt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$5(174));return _e}function Ih(_e,_){switch(G$1(Gh,_),G$1(Fh,_e),G$1(Eh,Dh),_e=_.nodeType,_e){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:lb(null,"");break;default:_e=_e===8?_.parentNode:_,_=_e.namespaceURI||null,_e=_e.tagName,_=lb(_,_e)}E$1(Eh),G$1(Eh,_)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(_e){Hh(Gh.current);var _=Hh(Eh.current),et=lb(_,_e.type);_!==et&&(G$1(Fh,_e),G$1(Eh,et))}function Lh(_e){Fh.current===_e&&(E$1(Eh),E$1(Fh))}var M$2=Uf(0);function Mh(_e){for(var _=_e;_!==null;){if(_.tag===13){var et=_.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===_e)break;for(;_.sibling===null;){if(_.return===null||_.return===_e)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$5(321))}function Wh(_e,_){if(_===null)return!1;for(var et=0;et<_.length&&et<_e.length;et++)if(!He(_e[et],_[et]))return!1;return!0}function Xh(_e,_,et,tt,nt,rt){if(Rh=rt,N$2=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=et(tt,nt),Th){rt=0;do{if(Th=!1,Uh=0,25<=rt)throw Error(p$5(301));rt+=1,P$1=O$1=null,_.updateQueue=null,Ph.current=$h,_e=et(tt,nt)}while(Th)}if(Ph.current=ai,_=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$2=null,Sh=!1,_)throw Error(p$5(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=_e:P$1=P$1.next=_e,P$1}function di(){if(O$1===null){var _e=N$2.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$1.next;var _=P$1===null?N$2.memoizedState:P$1.next;if(_!==null)P$1=_,O$1=_e;else{if(_e===null)throw Error(p$5(310));O$1=_e,_e={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$2.memoizedState=P$1=_e:P$1=P$1.next=_e}return P$1}function ei(_e,_){return typeof _=="function"?_(_e):_}function fi(_e){var _=di(),et=_.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=_e;var tt=O$1,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var st=it=null,ot=null,at=rt;do{var lt=at.lane;if((Rh&lt)===lt)ot!==null&&(ot=ot.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),tt=at.hasEagerState?at.eagerState:_e(tt,at.action);else{var ct={lane:lt,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};ot===null?(st=ot=ct,it=tt):ot=ot.next=ct,N$2.lanes|=lt,hh|=lt}at=at.next}while(at!==null&&at!==rt);ot===null?it=tt:ot.next=st,He(tt,_.memoizedState)||(Ug=!0),_.memoizedState=tt,_.baseState=it,_.baseQueue=ot,et.lastRenderedState=tt}if(_e=et.interleaved,_e!==null){nt=_e;do rt=nt.lane,N$2.lanes|=rt,hh|=rt,nt=nt.next;while(nt!==_e)}else nt===null&&(et.lanes=0);return[_.memoizedState,et.dispatch]}function gi(_e){var _=di(),et=_.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=_e;var tt=et.dispatch,nt=et.pending,rt=_.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=_e(rt,it.action),it=it.next;while(it!==nt);He(rt,_.memoizedState)||(Ug=!0),_.memoizedState=rt,_.baseQueue===null&&(_.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function hi(){}function ii(_e,_){var et=N$2,tt=di(),nt=_(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,_e),[_e]),tt.getSnapshot!==_||rt||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,nt,_),void 0,null),R$1===null)throw Error(p$5(349));Rh&30||ni(et,_,nt)}return nt}function ni(_e,_,et){_e.flags|=16384,_e={getSnapshot:_,value:et},_=N$2.updateQueue,_===null?(_={lastEffect:null,stores:null},N$2.updateQueue=_,_.stores=[_e]):(et=_.stores,et===null?_.stores=[_e]:et.push(_e))}function mi(_e,_,et,tt){_.value=et,_.getSnapshot=tt,oi(_)&&pi(_e)}function ki(_e,_,et){return et(function(){oi(_)&&pi(_e)})}function oi(_e){var _=_e.getSnapshot;_e=_e.value;try{var et=_();return!He(_e,et)}catch{return!0}}function pi(_e){var _=Zg(_e,1);_!==null&&mh(_,_e,1,-1)}function qi(_e){var _=ci();return typeof _e=="function"&&(_e=_e()),_.memoizedState=_.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},_.queue=_e,_e=_e.dispatch=ri.bind(null,N$2,_e),[_.memoizedState,_e]}function li(_e,_,et,tt){return _e={tag:_e,create:_,destroy:et,deps:tt,next:null},_=N$2.updateQueue,_===null?(_={lastEffect:null,stores:null},N$2.updateQueue=_,_.lastEffect=_e.next=_e):(et=_.lastEffect,et===null?_.lastEffect=_e.next=_e:(tt=et.next,et.next=_e,_e.next=tt,_.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,_,et,tt){var nt=ci();N$2.flags|=_e,nt.memoizedState=li(1|_,et,void 0,tt===void 0?null:tt)}function ui(_e,_,et,tt){var nt=di();tt=tt===void 0?null:tt;var rt=void 0;if(O$1!==null){var it=O$1.memoizedState;if(rt=it.destroy,tt!==null&&Wh(tt,it.deps)){nt.memoizedState=li(_,et,rt,tt);return}}N$2.flags|=_e,nt.memoizedState=li(1|_,et,rt,tt)}function vi(_e,_){return ti(8390656,8,_e,_)}function ji(_e,_){return ui(2048,8,_e,_)}function wi(_e,_){return ui(4,2,_e,_)}function xi(_e,_){return ui(4,4,_e,_)}function yi(_e,_){if(typeof _=="function")return _e=_e(),_(_e),function(){_(null)};if(_!=null)return _e=_e(),_.current=_e,function(){_.current=null}}function zi(_e,_,et){return et=et!=null?et.concat([_e]):null,ui(4,4,yi.bind(null,_,_e),et)}function Ai(){}function Bi(_e,_){var et=di();_=_===void 0?null:_;var tt=et.memoizedState;return tt!==null&&_!==null&&Wh(_,tt[1])?tt[0]:(et.memoizedState=[_e,_],_e)}function Ci(_e,_){var et=di();_=_===void 0?null:_;var tt=et.memoizedState;return tt!==null&&_!==null&&Wh(_,tt[1])?tt[0]:(_e=_e(),et.memoizedState=[_e,_],_e)}function Di(_e,_,et){return Rh&21?(He(et,_)||(et=yc(),N$2.lanes|=et,hh|=et,_e.baseState=!0),_):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=et)}function Ei(_e,_){var et=C$1;C$1=et!==0&&4>et?et:4,_e(!0);var tt=Qh.transition;Qh.transition={};try{_e(!1),_()}finally{C$1=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi(_e,_,et){var tt=lh(_e);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(_,et);else if(et=Yg(_e,_,et,tt),et!==null){var nt=L$2();mh(et,_e,tt,nt),Ji(et,_,tt)}}function ri(_e,_,et){var tt=lh(_e),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(_,nt);else{var rt=_e.alternate;if(_e.lanes===0&&(rt===null||rt.lanes===0)&&(rt=_.lastRenderedReducer,rt!==null))try{var it=_.lastRenderedState,st=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=st,He(st,it)){var ot=_.interleaved;ot===null?(nt.next=nt,Xg(_)):(nt.next=ot.next,ot.next=nt),_.interleaved=nt;return}}catch{}finally{}et=Yg(_e,_,nt,tt),et!==null&&(nt=L$2(),mh(et,_e,tt,nt),Ji(et,_,tt))}}function Hi(_e){var _=_e.alternate;return _e===N$2||_!==null&&_===N$2}function Ii(_e,_){Th=Sh=!0;var et=_e.pending;et===null?_.next=_:(_.next=et.next,et.next=_),_e.pending=_}function Ji(_e,_,et){if(et&4194240){var tt=_.lanes;tt&=_e.pendingLanes,et|=tt,_.lanes=et,Cc(_e,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,_){return ci().memoizedState=[_e,_===void 0?null:_],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,_,et){return et=et!=null?et.concat([_e]):null,ti(4194308,4,yi.bind(null,_,_e),et)},useLayoutEffect:function(_e,_){return ti(4194308,4,_e,_)},useInsertionEffect:function(_e,_){return ti(4,2,_e,_)},useMemo:function(_e,_){var et=ci();return _=_===void 0?null:_,_e=_e(),et.memoizedState=[_e,_],_e},useReducer:function(_e,_,et){var tt=ci();return _=et!==void 0?et(_):_,tt.memoizedState=tt.baseState=_,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:_},tt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$2,_e),[tt.memoizedState,_e]},useRef:function(_e){var _=ci();return _e={current:_e},_.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),_=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[_,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,_,et){var tt=N$2,nt=ci();if(I$3){if(et===void 0)throw Error(p$5(407));et=et()}else{if(et=_(),R$1===null)throw Error(p$5(349));Rh&30||ni(tt,_,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:_};return nt.queue=rt,vi(ki.bind(null,tt,rt,_e),[_e]),tt.flags|=2048,li(9,mi.bind(null,tt,rt,et,_),void 0,null),et},useId:function(){var _e=ci(),_=R$1.identifierPrefix;if(I$3){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_=":"+_+"R"+et,et=Uh++,0<et&&(_+="H"+et.toString(32)),_+=":"}else et=Vh++,_=":"+_+"r"+et.toString(32)+":";return _e.memoizedState=_},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var _=di();return Di(_,O$1.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],_=di().memoizedState;return[_e,_]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var _=di();return O$1===null?_.memoizedState=_e:Di(_,O$1.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],_=di().memoizedState;return[_e,_]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,_){try{var et="",tt=_;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:_e,source:_,stack:nt,digest:null}}function Li(_e,_,et){return{value:_e,source:null,stack:et??null,digest:_??null}}function Mi(_e,_){try{console.error(_.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,_,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=_.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi(_e,_)},et}function Ri(_e,_,et){et=ch(-1,et),et.tag=3;var tt=_e.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=_.value;et.payload=function(){return tt(nt)},et.callback=function(){Mi(_e,_)}}var rt=_e.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Mi(_e,_),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=_.stack;this.componentDidCatch(_.value,{componentStack:it!==null?it:""})}),et}function Ti(_e,_,et){var tt=_e.pingCache;if(tt===null){tt=_e.pingCache=new Ni;var nt=new Set;tt.set(_,nt)}else nt=tt.get(_),nt===void 0&&(nt=new Set,tt.set(_,nt));nt.has(et)||(nt.add(et),_e=Ui.bind(null,_e,_,et),_.then(_e,_e))}function Vi(_e){do{var _;if((_=_e.tag===13)&&(_=_e.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,_,et,tt,nt){return _e.mode&1?(_e.flags|=65536,_e.lanes=nt,_e):(_e===_?_e.flags|=65536:(_e.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_=ch(-1,1),_.tag=2,dh(et,_,1))),et.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,_,et,tt){_.child=_e===null?Ch(_,null,et,tt):Bh(_,_e.child,et,tt)}function Zi(_e,_,et,tt,nt){et=et.render;var rt=_.ref;return Tg(_,nt),tt=Xh(_e,_,et,tt,rt,nt),et=bi(),_e!==null&&!Ug?(_.updateQueue=_e.updateQueue,_.flags&=-2053,_e.lanes&=~nt,$i(_e,_,nt)):(I$3&&et&&vg(_),_.flags|=1,Yi(_e,_,tt,nt),_.child)}function aj(_e,_,et,tt,nt){if(_e===null){var rt=et.type;return typeof rt=="function"&&!bj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_.tag=15,_.type=rt,cj(_e,_,rt,tt,nt)):(_e=yh(et.type,null,tt,_,_.mode,nt),_e.ref=_.ref,_e.return=_,_.child=_e)}if(rt=_e.child,!(_e.lanes&nt)){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&_e.ref===_.ref)return $i(_e,_,nt)}return _.flags|=1,_e=wh(rt,tt),_e.ref=_.ref,_e.return=_,_.child=_e}function cj(_e,_,et,tt,nt){if(_e!==null){var rt=_e.memoizedProps;if(Ie(rt,tt)&&_e.ref===_.ref)if(Ug=!1,_.pendingProps=tt=rt,(_e.lanes&nt)!==0)_e.flags&131072&&(Ug=!0);else return _.lanes=_e.lanes,$i(_e,_,nt)}return dj(_e,_,et,tt,nt)}function ej(_e,_,et){var tt=_.pendingProps,nt=tt.children,rt=_e!==null?_e.memoizedState:null;if(tt.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if(!(et&1073741824))return _e=rt!==null?rt.baseLanes|et:et,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:_e,cachePool:null,transitions:null},_.updateQueue=null,G$1(fj,gj),gj|=_e,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G$1(fj,gj),gj|=tt}else rt!==null?(tt=rt.baseLanes|et,_.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi(_e,_,nt,et),_.child}function hj(_e,_){var et=_.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&(_.flags|=512,_.flags|=2097152)}function dj(_e,_,et,tt,nt){var rt=Zf(et)?Xf:H$2.current;return rt=Yf(_,rt),Tg(_,nt),et=Xh(_e,_,et,tt,rt,nt),tt=bi(),_e!==null&&!Ug?(_.updateQueue=_e.updateQueue,_.flags&=-2053,_e.lanes&=~nt,$i(_e,_,nt)):(I$3&&tt&&vg(_),_.flags|=1,Yi(_e,_,et,nt),_.child)}function ij(_e,_,et,tt,nt){if(Zf(et)){var rt=!0;cg(_)}else rt=!1;if(Tg(_,nt),_.stateNode===null)jj(_e,_),ph(_,et,tt),rh(_,et,tt,nt),tt=!0;else if(_e===null){var it=_.stateNode,st=_.memoizedProps;it.props=st;var ot=it.context,at=et.contextType;typeof at=="object"&&at!==null?at=Vg(at):(at=Zf(et)?Xf:H$2.current,at=Yf(_,at));var lt=et.getDerivedStateFromProps,ct=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";ct||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==tt||ot!==at)&&qh(_,it,tt,at),$g=!1;var ut=_.memoizedState;it.state=ut,gh(_,tt,it,nt),ot=_.memoizedState,st!==tt||ut!==ot||Wf.current||$g?(typeof lt=="function"&&(kh(_,et,lt,tt),ot=_.memoizedState),(st=$g||oh(_,et,st,tt,ut,ot,at))?(ct||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(_.flags|=4194308)):(typeof it.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=tt,_.memoizedState=ot),it.props=tt,it.state=ot,it.context=at,tt=st):(typeof it.componentDidMount=="function"&&(_.flags|=4194308),tt=!1)}else{it=_.stateNode,bh(_e,_),st=_.memoizedProps,at=_.type===_.elementType?st:Lg(_.type,st),it.props=at,ct=_.pendingProps,ut=it.context,ot=et.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(et)?Xf:H$2.current,ot=Yf(_,ot));var ft=et.getDerivedStateFromProps;(lt=typeof ft=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(st!==ct||ut!==ot)&&qh(_,it,tt,ot),$g=!1,ut=_.memoizedState,it.state=ut,gh(_,tt,it,nt);var ht=_.memoizedState;st!==ct||ut!==ht||Wf.current||$g?(typeof ft=="function"&&(kh(_,et,ft,tt),ht=_.memoizedState),(at=$g||oh(_,et,at,tt,ut,ht,ot)||!1)?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,ht,ot),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,ht,ot)),typeof it.componentDidUpdate=="function"&&(_.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof it.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(_.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(_.flags|=1024),_.memoizedProps=tt,_.memoizedState=ht),it.props=tt,it.state=ht,it.context=ot,tt=at):(typeof it.componentDidUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(_.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||st===_e.memoizedProps&&ut===_e.memoizedState||(_.flags|=1024),tt=!1)}return kj(_e,_,et,tt,rt,nt)}function kj(_e,_,et,tt,nt,rt){hj(_e,_);var it=(_.flags&128)!==0;if(!tt&&!it)return nt&&dg(_,et,!1),$i(_e,_,rt);tt=_.stateNode,Xi.current=_;var st=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _.flags|=1,_e!==null&&it?(_.child=Bh(_,_e.child,null,rt),_.child=Bh(_,null,st,rt)):Yi(_e,_,st,rt),_.memoizedState=tt.state,nt&&dg(_,et,!0),_.child}function lj(_e){var _=_e.stateNode;_.pendingContext?ag(_e,_.pendingContext,_.pendingContext!==_.context):_.context&&ag(_e,_.context,!1),Ih(_e,_.containerInfo)}function mj(_e,_,et,tt,nt){return Ig(),Jg(nt),_.flags|=256,Yi(_e,_,et,tt),_.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,_,et){var tt=_.pendingProps,nt=M$2.current,rt=!1,it=(_.flags&128)!==0,st;if((st=it)||(st=_e!==null&&_e.memoizedState===null?!1:(nt&2)!==0),st?(rt=!0,_.flags&=-129):(_e===null||_e.memoizedState!==null)&&(nt|=1),G$1(M$2,nt&1),_e===null)return Eg(_),_e=_.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(_.mode&1?_e.data==="$!"?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(it=tt.children,_e=tt.fallback,rt?(tt=_.mode,rt=_.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=qj(it,tt,0,null),_e=Ah(_e,tt,et,null),rt.return=_,_e.return=_,rt.sibling=_e,_.child=rt,_.child.memoizedState=oj(et),_.memoizedState=nj,_e):rj(_,it));if(nt=_e.memoizedState,nt!==null&&(st=nt.dehydrated,st!==null))return sj(_e,_,it,tt,st,nt,et);if(rt){rt=tt.fallback,it=_.mode,nt=_e.child,st=nt.sibling;var ot={mode:"hidden",children:tt.children};return!(it&1)&&_.child!==nt?(tt=_.child,tt.childLanes=0,tt.pendingProps=ot,_.deletions=null):(tt=wh(nt,ot),tt.subtreeFlags=nt.subtreeFlags&14680064),st!==null?rt=wh(st,rt):(rt=Ah(rt,it,et,null),rt.flags|=2),rt.return=_,tt.return=_,tt.sibling=rt,_.child=tt,tt=rt,rt=_.child,it=_e.child.memoizedState,it=it===null?oj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=_e.childLanes&~et,_.memoizedState=nj,tt}return rt=_e.child,_e=rt.sibling,tt=wh(rt,{mode:"visible",children:tt.children}),!(_.mode&1)&&(tt.lanes=et),tt.return=_,tt.sibling=null,_e!==null&&(et=_.deletions,et===null?(_.deletions=[_e],_.flags|=16):et.push(_e)),_.child=tt,_.memoizedState=null,tt}function rj(_e,_){return _=qj({mode:"visible",children:_},_e.mode,0,null),_.return=_e,_e.child=_}function tj(_e,_,et,tt){return tt!==null&&Jg(tt),Bh(_,_e.child,null,et),_e=rj(_,_.pendingProps.children),_e.flags|=2,_.memoizedState=null,_e}function sj(_e,_,et,tt,nt,rt,it){if(et)return _.flags&256?(_.flags&=-257,tt=Li(Error(p$5(422))),tj(_e,_,it,tt)):_.memoizedState!==null?(_.child=_e.child,_.flags|=128,null):(rt=tt.fallback,nt=_.mode,tt=qj({mode:"visible",children:tt.children},nt,0,null),rt=Ah(rt,nt,it,null),rt.flags|=2,tt.return=_,rt.return=_,tt.sibling=rt,_.child=tt,_.mode&1&&Bh(_,_e.child,null,it),_.child.memoizedState=oj(it),_.memoizedState=nj,rt);if(!(_.mode&1))return tj(_e,_,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var st=tt.dgst;return tt=st,rt=Error(p$5(419)),tt=Li(rt,tt,void 0),tj(_e,_,it,tt)}if(st=(it&_e.childLanes)!==0,Ug||st){if(tt=R$1,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,Zg(_e,nt),mh(tt,_e,nt,-1))}return uj(),tt=Li(Error(p$5(421))),tj(_e,_,it,tt)}return nt.data==="$?"?(_.flags|=128,_.child=_e.child,_=vj.bind(null,_e),nt._reactRetry=_,null):(_e=rt.treeContext,yg=Lf(nt.nextSibling),xg=_,I$3=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=_),_=rj(_,tt.children),_.flags|=4096,_)}function wj(_e,_,et){_e.lanes|=_;var tt=_e.alternate;tt!==null&&(tt.lanes|=_),Sg(_e.return,_,et)}function xj(_e,_,et,tt,nt){var rt=_e.memoizedState;rt===null?_e.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=_,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function yj(_e,_,et){var tt=_.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Yi(_e,_,tt.children,et),tt=M$2.current,tt&2)tt=tt&1|2,_.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=_.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,et,_);else if(_e.tag===19)wj(_e,et,_);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===_)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===_)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}tt&=1}if(G$1(M$2,tt),!(_.mode&1))_.memoizedState=null;else switch(nt){case"forwards":for(et=_.child,nt=null;et!==null;)_e=et.alternate,_e!==null&&Mh(_e)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=_.child,_.child=null):(nt=et.sibling,et.sibling=null),xj(_,!1,nt,et,rt);break;case"backwards":for(et=null,nt=_.child,_.child=null;nt!==null;){if(_e=nt.alternate,_e!==null&&Mh(_e)===null){_.child=nt;break}_e=nt.sibling,nt.sibling=et,et=nt,nt=_e}xj(_,!0,et,null,rt);break;case"together":xj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function jj(_e,_){!(_.mode&1)&&_e!==null&&(_e.alternate=null,_.alternate=null,_.flags|=2)}function $i(_e,_,et){if(_e!==null&&(_.dependencies=_e.dependencies),hh|=_.lanes,!(et&_.childLanes))return null;if(_e!==null&&_.child!==_e.child)throw Error(p$5(153));if(_.child!==null){for(_e=_.child,et=wh(_e,_e.pendingProps),_.child=et,et.return=_;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=wh(_e,_e.pendingProps),et.return=_;et.sibling=null}return _.child}function zj(_e,_,et){switch(_.tag){case 3:lj(_),Ig();break;case 5:Kh(_);break;case 1:Zf(_.type)&&cg(_);break;case 4:Ih(_,_.stateNode.containerInfo);break;case 10:var tt=_.type._context,nt=_.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=_.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$2,M$2.current&1),_.flags|=128,null):et&_.child.childLanes?pj(_e,_,et):(G$1(M$2,M$2.current&1),_e=$i(_e,_,et),_e!==null?_e.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(tt=(et&_.childLanes)!==0,_e.flags&128){if(tt)return yj(_e,_,et);_.flags|=128}if(nt=_.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$2,M$2.current),tt)break;return null;case 22:case 23:return _.lanes=0,ej(_e,_,et)}return $i(_e,_,et)}var Aj,Bj,Cj,Dj;Aj=function(_e,_){for(var et=_.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_)break;for(;et.sibling===null;){if(et.return===null||et.return===_)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function(_e,_,et,tt){var nt=_e.memoizedProps;if(nt!==tt){_e=_.stateNode,Hh(Eh.current);var rt=null;switch(et){case"input":nt=Ya(_e,nt),tt=Ya(_e,tt),rt=[];break;case"select":nt=A$1({},nt,{value:void 0}),tt=A$1({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb(_e,nt),tt=gb(_e,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&(_e.onclick=Bf)}ub(et,tt);var it;et=null;for(at in nt)if(!tt.hasOwnProperty(at)&&nt.hasOwnProperty(at)&&nt[at]!=null)if(at==="style"){var st=nt[at];for(it in st)st.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?rt||(rt=[]):(rt=rt||[]).push(at,null));for(at in tt){var ot=tt[at];if(st=nt!=null?nt[at]:void 0,tt.hasOwnProperty(at)&&ot!==st&&(ot!=null||st!=null))if(at==="style")if(st){for(it in st)!st.hasOwnProperty(it)||ot&&ot.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in ot)ot.hasOwnProperty(it)&&st[it]!==ot[it]&&(et||(et={}),et[it]=ot[it])}else et||(rt||(rt=[]),rt.push(at,et)),et=ot;else at==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,st=st?st.__html:void 0,ot!=null&&st!==ot&&(rt=rt||[]).push(at,ot)):at==="children"?typeof ot!="string"&&typeof ot!="number"||(rt=rt||[]).push(at,""+ot):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea.hasOwnProperty(at)?(ot!=null&&at==="onScroll"&&D$1("scroll",_e),rt||st===ot||(rt=[])):(rt=rt||[]).push(at,ot))}et&&(rt=rt||[]).push("style",et);var at=rt;(_.updateQueue=at)&&(_.flags|=4)}};Dj=function(_e,_,et,tt){et!==tt&&(_.flags|=4)};function Ej(_e,_){if(!I$3)switch(_e.tailMode){case"hidden":_=_e.tail;for(var et=null;_!==null;)_.alternate!==null&&(et=_),_=_.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_||_e.tail===null?_e.tail=null:_e.tail.sibling=null:tt.sibling=null}}function S$3(_e){var _=_e.alternate!==null&&_e.alternate.child===_e.child,et=0,tt=0;if(_)for(var nt=_e.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=_e,nt=nt.sibling;else for(nt=_e.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=_e,nt=nt.sibling;return _e.subtreeFlags|=tt,_e.childLanes=et,_}function Fj(_e,_,et){var tt=_.pendingProps;switch(wg(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(_),null;case 1:return Zf(_.type)&&$f(),S$3(_),null;case 3:return tt=_.stateNode,Jh(),E$1(Wf),E$1(H$2),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(_)?_.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,_),S$3(_),null;case 5:Lh(_);var nt=Hh(Gh.current);if(et=_.type,_e!==null&&_.stateNode!=null)Cj(_e,_,et,tt,nt),_e.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!tt){if(_.stateNode===null)throw Error(p$5(166));return S$3(_),null}if(_e=Hh(Eh.current),Gg(_)){tt=_.stateNode,et=_.type;var rt=_.memoizedProps;switch(tt[Of]=_,tt[Pf]=rt,_e=(_.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,rt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,rt),D$1("invalid",tt)}ub(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var st=rt[it];it==="children"?typeof st=="string"?tt.textContent!==st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,_e),nt=["children",st]):typeof st=="number"&&tt.textContent!==""+st&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,st,_e),nt=["children",""+st]):ea.hasOwnProperty(it)&&st!=null&&it==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,_.updateQueue=tt,tt!==null&&(_.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(et)),_e==="http://www.w3.org/1999/xhtml"?et==="script"?(_e=it.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof tt.is=="string"?_e=it.createElement(et,{is:tt.is}):(_e=it.createElement(et),et==="select"&&(it=_e,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):_e=it.createElementNS(_e,et),_e[Of]=_,_e[Pf]=tt,Aj(_e,_,!1,!1),_.stateNode=_e;e:{switch(it=vb(et,tt),et){case"dialog":D$1("cancel",_e),D$1("close",_e),nt=tt;break;case"iframe":case"object":case"embed":D$1("load",_e),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],_e);nt=tt;break;case"source":D$1("error",_e),nt=tt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),nt=tt;break;case"details":D$1("toggle",_e),nt=tt;break;case"input":Za(_e,tt),nt=Ya(_e,tt),D$1("invalid",_e);break;case"option":nt=tt;break;case"select":_e._wrapperState={wasMultiple:!!tt.multiple},nt=A$1({},tt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,tt),nt=gb(_e,tt),D$1("invalid",_e);break;default:nt=tt}ub(et,nt),st=nt;for(rt in st)if(st.hasOwnProperty(rt)){var ot=st[rt];rt==="style"?sb(_e,ot):rt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(_e,ot)):rt==="children"?typeof ot=="string"?(et!=="textarea"||ot!=="")&&ob(_e,ot):typeof ot=="number"&&ob(_e,""+ot):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?ot!=null&&rt==="onScroll"&&D$1("scroll",_e):ot!=null&&ta(_e,rt,ot,it))}switch(et){case"input":Va(_e),db(_e,tt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":tt.value!=null&&_e.setAttribute("value",""+Sa(tt.value));break;case"select":_e.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb(_e,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb(_e,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(_e.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return S$3(_),null;case 6:if(_e&&_.stateNode!=null)Dj(_e,_,_e.memoizedProps,tt);else{if(typeof tt!="string"&&_.stateNode===null)throw Error(p$5(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(_)){if(tt=_.stateNode,et=_.memoizedProps,tt[Of]=_,(rt=tt.nodeValue!==et)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(tt.nodeValue,et,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,(_e.mode&1)!==0)}rt&&(_.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_,_.stateNode=tt}return S$3(_),null;case 13:if(E$1(M$2),tt=_.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&_.mode&1&&!(_.flags&128))Hg(),Ig(),_.flags|=98560,rt=!1;else if(rt=Gg(_),tt!==null&&tt.dehydrated!==null){if(_e===null){if(!rt)throw Error(p$5(318));if(rt=_.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$5(317));rt[Of]=_}else Ig(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;S$3(_),rt=!1}else zg!==null&&(Gj(zg),zg=null),rt=!0;if(!rt)return _.flags&65536?_:null}return _.flags&128?(_.lanes=et,_):(tt=tt!==null,tt!==(_e!==null&&_e.memoizedState!==null)&&tt&&(_.child.flags|=8192,_.mode&1&&(_e===null||M$2.current&1?T$2===0&&(T$2=3):uj())),_.updateQueue!==null&&(_.flags|=4),S$3(_),null);case 4:return Jh(),Bj(_e,_),_e===null&&sf(_.stateNode.containerInfo),S$3(_),null;case 10:return Rg(_.type._context),S$3(_),null;case 17:return Zf(_.type)&&$f(),S$3(_),null;case 19:if(E$1(M$2),rt=_.memoizedState,rt===null)return S$3(_),null;if(tt=(_.flags&128)!==0,it=rt.rendering,it===null)if(tt)Ej(rt,!1);else{if(T$2!==0||_e!==null&&_e.flags&128)for(_e=_.child;_e!==null;){if(it=Mh(_e),it!==null){for(_.flags|=128,Ej(rt,!1),tt=it.updateQueue,tt!==null&&(_.updateQueue=tt,_.flags|=4),_.subtreeFlags=0,tt=et,et=_.child;et!==null;)rt=et,_e=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=_e,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,_e=it.dependencies,rt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return G$1(M$2,M$2.current&1|2),_.child}_e=_e.sibling}rt.tail!==null&&B$1()>Hj&&(_.flags|=128,tt=!0,Ej(rt,!1),_.lanes=4194304)}else{if(!tt)if(_e=Mh(it),_e!==null){if(_.flags|=128,tt=!0,et=_e.updateQueue,et!==null&&(_.updateQueue=et,_.flags|=4),Ej(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$3)return S$3(_),null}else 2*B$1()-rt.renderingStartTime>Hj&&et!==1073741824&&(_.flags|=128,tt=!0,Ej(rt,!1),_.lanes=4194304);rt.isBackwards?(it.sibling=_.child,_.child=it):(et=rt.last,et!==null?et.sibling=it:_.child=it,rt.last=it)}return rt.tail!==null?(_=rt.tail,rt.rendering=_,rt.tail=_.sibling,rt.renderingStartTime=B$1(),_.sibling=null,et=M$2.current,G$1(M$2,tt?et&1|2:et&1),_):(S$3(_),null);case 22:case 23:return Ij(),tt=_.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==tt&&(_.flags|=8192),tt&&_.mode&1?gj&1073741824&&(S$3(_),_.subtreeFlags&6&&(_.flags|=8192)):S$3(_),null;case 24:return null;case 25:return null}throw Error(p$5(156,_.tag))}function Jj(_e,_){switch(wg(_),_.tag){case 1:return Zf(_.type)&&$f(),_e=_.flags,_e&65536?(_.flags=_e&-65537|128,_):null;case 3:return Jh(),E$1(Wf),E$1(H$2),Oh(),_e=_.flags,_e&65536&&!(_e&128)?(_.flags=_e&-65537|128,_):null;case 5:return Lh(_),null;case 13:if(E$1(M$2),_e=_.memoizedState,_e!==null&&_e.dehydrated!==null){if(_.alternate===null)throw Error(p$5(340));Ig()}return _e=_.flags,_e&65536?(_.flags=_e&-65537|128,_):null;case 19:return E$1(M$2),null;case 4:return Jh(),null;case 10:return Rg(_.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$3=null;function Mj(_e,_){var et=_e.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1(_e,_,tt)}else et.current=null}function Nj(_e,_,et){try{et()}catch(tt){W$1(_e,_,tt)}}var Oj=!1;function Pj(_e,_){if(Cf=dd,_e=Me$1(),Ne$1(_e)){if("selectionStart"in _e)var et={start:_e.selectionStart,end:_e.selectionEnd};else e:{et=(et=_e.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,st=-1,ot=-1,at=0,lt=0,ct=_e,ut=null;t:for(;;){for(var ft;ct!==et||nt!==0&&ct.nodeType!==3||(st=it+nt),ct!==rt||tt!==0&&ct.nodeType!==3||(ot=it+tt),ct.nodeType===3&&(it+=ct.nodeValue.length),(ft=ct.firstChild)!==null;)ut=ct,ct=ft;for(;;){if(ct===_e)break t;if(ut===et&&++at===nt&&(st=it),ut===rt&&++lt===tt&&(ot=it),(ft=ct.nextSibling)!==null)break;ct=ut,ut=ct.parentNode}ct=ft}et=st===-1||ot===-1?null:{start:st,end:ot}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:_e,selectionRange:et},dd=!1,V$3=_;V$3!==null;)if(_=V$3,_e=_.child,(_.subtreeFlags&1028)!==0&&_e!==null)_e.return=_,V$3=_e;else for(;V$3!==null;){_=V$3;try{var ht=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var vt=ht.memoizedProps,mt=ht.memoizedState,pt=_.stateNode,yt=pt.getSnapshotBeforeUpdate(_.elementType===_.type?vt:Lg(_.type,vt),mt);pt.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var _t=_.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(St){W$1(_,_.return,St)}if(_e=_.sibling,_e!==null){_e.return=_.return,V$3=_e;break}V$3=_.return}return ht=Oj,Oj=!1,ht}function Qj(_e,_,et){var tt=_.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&_e)===_e){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Nj(_,et,rt)}nt=nt.next}while(nt!==tt)}}function Rj(_e,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var et=_=_.next;do{if((et.tag&_e)===_e){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_)}}function Sj(_e){var _=_e.ref;if(_!==null){var et=_e.stateNode;switch(_e.tag){case 5:_e=et;break;default:_e=et}typeof _=="function"?_(_e):_.current=_e}}function Tj(_e){var _=_e.alternate;_!==null&&(_e.alternate=null,Tj(_)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(_=_e.stateNode,_!==null&&(delete _[Of],delete _[Pf],delete _[of],delete _[Qf],delete _[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,_,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,_?et.nodeType===8?et.parentNode.insertBefore(_e,_):et.insertBefore(_e,_):(et.nodeType===8?(_=et.parentNode,_.insertBefore(_e,et)):(_=et,_.appendChild(_e)),et=et._reactRootContainer,et!=null||_.onclick!==null||(_.onclick=Bf));else if(tt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,_,et),_e=_e.sibling;_e!==null;)Wj(_e,_,et),_e=_e.sibling}function Xj(_e,_,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,_?et.insertBefore(_e,_):et.appendChild(_e);else if(tt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,_,et),_e=_e.sibling;_e!==null;)Xj(_e,_,et),_e=_e.sibling}var X=null,Yj=!1;function Zj(_e,_,et){for(et=et.child;et!==null;)ak(_e,_,et),et=et.sibling}function ak(_e,_,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$2||Mj(et,_);case 6:var tt=X,nt=Yj;X=null,Zj(_e,_,et),X=tt,Yj=nt,X!==null&&(Yj?(_e=X,et=et.stateNode,_e.nodeType===8?_e.parentNode.removeChild(et):_e.removeChild(et)):X.removeChild(et.stateNode));break;case 18:X!==null&&(Yj?(_e=X,et=et.stateNode,_e.nodeType===8?Kf(_e.parentNode,et):_e.nodeType===1&&Kf(_e,et),bd(_e)):Kf(X,et.stateNode));break;case 4:tt=X,nt=Yj,X=et.stateNode.containerInfo,Yj=!0,Zj(_e,_,et),X=tt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$2&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Nj(et,_,it),nt=nt.next}while(nt!==tt)}Zj(_e,_,et);break;case 1:if(!U$2&&(Mj(et,_),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(st){W$1(et,_,st)}Zj(_e,_,et);break;case 21:Zj(_e,_,et);break;case 22:et.mode&1?(U$2=(tt=U$2)||et.memoizedState!==null,Zj(_e,_,et),U$2=tt):Zj(_e,_,et);break;default:Zj(_e,_,et)}}function bk(_e){var _=_e.updateQueue;if(_!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Lj),_.forEach(function(tt){var nt=ck.bind(null,_e,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function dk(_e,_){var et=_.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=_e,it=_,st=it;e:for(;st!==null;){switch(st.tag){case 5:X=st.stateNode,Yj=!1;break e;case 3:X=st.stateNode.containerInfo,Yj=!0;break e;case 4:X=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X===null)throw Error(p$5(160));ak(rt,it,nt),X=null,Yj=!1;var ot=nt.alternate;ot!==null&&(ot.return=null),nt.return=null}catch(at){W$1(nt,_,at)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)ek(_,_e),_=_.sibling}function ek(_e,_){var et=_e.alternate,tt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(_,_e),fk(_e),tt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(vt){W$1(_e,_e.return,vt)}try{Qj(5,_e,_e.return)}catch(vt){W$1(_e,_e.return,vt)}}break;case 1:dk(_,_e),fk(_e),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(_,_e),fk(_e),tt&512&&et!==null&&Mj(et,et.return),_e.flags&32){var nt=_e.stateNode;try{ob(nt,"")}catch(vt){W$1(_e,_e.return,vt)}}if(tt&4&&(nt=_e.stateNode,nt!=null)){var rt=_e.memoizedProps,it=et!==null?et.memoizedProps:rt,st=_e.type,ot=_e.updateQueue;if(_e.updateQueue=null,ot!==null)try{st==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb(st,it);var at=vb(st,rt);for(it=0;it<ot.length;it+=2){var lt=ot[it],ct=ot[it+1];lt==="style"?sb(nt,ct):lt==="dangerouslySetInnerHTML"?nb(nt,ct):lt==="children"?ob(nt,ct):ta(nt,lt,ct,at)}switch(st){case"input":bb(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var ut=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var ft=rt.value;ft!=null?fb(nt,!!rt.multiple,ft,!1):ut!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(vt){W$1(_e,_e.return,vt)}}break;case 6:if(dk(_,_e),fk(_e),tt&4){if(_e.stateNode===null)throw Error(p$5(162));nt=_e.stateNode,rt=_e.memoizedProps;try{nt.nodeValue=rt}catch(vt){W$1(_e,_e.return,vt)}}break;case 3:if(dk(_,_e),fk(_e),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_.containerInfo)}catch(vt){W$1(_e,_e.return,vt)}break;case 4:dk(_,_e),fk(_e);break;case 13:dk(_,_e),fk(_e),nt=_e.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk(_e);break;case 22:if(lt=et!==null&&et.memoizedState!==null,_e.mode&1?(U$2=(at=U$2)||lt,dk(_,_e),U$2=at):dk(_,_e),fk(_e),tt&8192){if(at=_e.memoizedState!==null,(_e.stateNode.isHidden=at)&&!lt&&_e.mode&1)for(V$3=_e,lt=_e.child;lt!==null;){for(ct=V$3=lt;V$3!==null;){switch(ut=V$3,ft=ut.child,ut.tag){case 0:case 11:case 14:case 15:Qj(4,ut,ut.return);break;case 1:Mj(ut,ut.return);var ht=ut.stateNode;if(typeof ht.componentWillUnmount=="function"){tt=ut,et=ut.return;try{_=tt,ht.props=_.memoizedProps,ht.state=_.memoizedState,ht.componentWillUnmount()}catch(vt){W$1(tt,et,vt)}}break;case 5:Mj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){hk(ct);continue}}ft!==null?(ft.return=ut,V$3=ft):hk(ct)}lt=lt.sibling}e:for(lt=null,ct=_e;;){if(ct.tag===5){if(lt===null){lt=ct;try{nt=ct.stateNode,at?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(st=ct.stateNode,ot=ct.memoizedProps.style,it=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,st.style.display=rb("display",it))}catch(vt){W$1(_e,_e.return,vt)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=at?"":ct.memoizedProps}catch(vt){W$1(_e,_e.return,vt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===_e)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===_e)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===_e)break e;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:dk(_,_e),fk(_e),tt&4&&bk(_e);break;case 21:break;default:dk(_,_e),fk(_e)}}function fk(_e){var _=_e.flags;if(_&2){try{e:{for(var et=_e.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$5(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Vj(_e);Xj(_e,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,st=Vj(_e);Wj(_e,st,it);break;default:throw Error(p$5(161))}}catch(ot){W$1(_e,_e.return,ot)}_e.flags&=-3}_&4096&&(_e.flags&=-4097)}function ik(_e,_,et){V$3=_e,jk(_e)}function jk(_e,_,et){for(var tt=(_e.mode&1)!==0;V$3!==null;){var nt=V$3,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Kj;if(!it){var st=nt.alternate,ot=st!==null&&st.memoizedState!==null||U$2;st=Kj;var at=U$2;if(Kj=it,(U$2=ot)&&!at)for(V$3=nt;V$3!==null;)it=V$3,ot=it.child,it.tag===22&&it.memoizedState!==null?kk(nt):ot!==null?(ot.return=it,V$3=ot):kk(nt);for(;rt!==null;)V$3=rt,jk(rt),rt=rt.sibling;V$3=nt,Kj=st,U$2=at}lk(_e)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V$3=rt):lk(_e)}}function lk(_e){for(;V$3!==null;){var _=V$3;if(_.flags&8772){var et=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:U$2||Rj(5,_);break;case 1:var tt=_.stateNode;if(_.flags&4&&!U$2)if(et===null)tt.componentDidMount();else{var nt=_.elementType===_.type?et.memoizedProps:Lg(_.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=_.updateQueue;rt!==null&&ih(_,rt,tt);break;case 3:var it=_.updateQueue;if(it!==null){if(et=null,_.child!==null)switch(_.child.tag){case 5:et=_.child.stateNode;break;case 1:et=_.child.stateNode}ih(_,it,et)}break;case 5:var st=_.stateNode;if(et===null&&_.flags&4){et=st;var ot=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&et.focus();break;case"img":ot.src&&(et.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var at=_.alternate;if(at!==null){var lt=at.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$2||_.flags&512&&Sj(_)}catch(ut){W$1(_,_.return,ut)}}if(_===_e){V$3=null;break}if(et=_.sibling,et!==null){et.return=_.return,V$3=et;break}V$3=_.return}}function hk(_e){for(;V$3!==null;){var _=V$3;if(_===_e){V$3=null;break}var et=_.sibling;if(et!==null){et.return=_.return,V$3=et;break}V$3=_.return}}function kk(_e){for(;V$3!==null;){var _=V$3;try{switch(_.tag){case 0:case 11:case 15:var et=_.return;try{Rj(4,_)}catch(ot){W$1(_,et,ot)}break;case 1:var tt=_.stateNode;if(typeof tt.componentDidMount=="function"){var nt=_.return;try{tt.componentDidMount()}catch(ot){W$1(_,nt,ot)}}var rt=_.return;try{Sj(_)}catch(ot){W$1(_,rt,ot)}break;case 5:var it=_.return;try{Sj(_)}catch(ot){W$1(_,it,ot)}}}catch(ot){W$1(_,_.return,ot)}if(_===_e){V$3=null;break}var st=_.sibling;if(st!==null){st.return=_.return,V$3=st;break}V$3=_.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y$2=null,Z=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,_,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac(_e,et,tt),(!(K&2)||_e!==R$1)&&(_e===R$1&&(!(K&2)&&(rk|=et),T$2===4&&Dk(_e,Z)),Ek(_e,tt),et===1&&K===0&&!(_.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(_e,_){var et=_e.callbackNode;wc(_e,_);var tt=uc(_e,_e===R$1?Z:0);if(tt===0)et!==null&&bc(et),_e.callbackNode=null,_e.callbackPriority=0;else if(_=tt&-tt,_e.callbackPriority!==_){if(et!=null&&bc(et),_===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,_e))}_e.callbackPriority=_,_e.callbackNode=et}}function Hk(_e,_){if(Bk=-1,Ck=0,K&6)throw Error(p$5(327));var et=_e.callbackNode;if(Ik()&&_e.callbackNode!==et)return null;var tt=uc(_e,_e===R$1?Z:0);if(tt===0)return null;if(tt&30||tt&_e.expiredLanes||_)_=Jk(_e,tt);else{_=tt;var nt=K;K|=2;var rt=Kk();(R$1!==_e||Z!==_)&&(vk=null,Hj=B$1()+500,Lk(_e,_));do try{Mk();break}catch(st){Nk(_e,st)}while(!0);Qg(),nk.current=rt,K=nt,Y$2!==null?_=0:(R$1=null,Z=0,_=T$2)}if(_!==0){if(_===2&&(nt=xc(_e),nt!==0&&(tt=nt,_=Ok(_e,nt))),_===1)throw et=qk,Lk(_e,0),Dk(_e,tt),Ek(_e,B$1()),et;if(_===6)Dk(_e,tt);else{if(nt=_e.current.alternate,!(tt&30)&&!Pk(nt)&&(_=Jk(_e,tt),_===2&&(rt=xc(_e),rt!==0&&(tt=rt,_=Ok(_e,rt))),_===1))throw et=qk,Lk(_e,0),Dk(_e,tt),Ek(_e,B$1()),et;switch(_e.finishedWork=nt,_e.finishedLanes=tt,_){case 0:case 1:throw Error(p$5(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,tt),(tt&130023424)===tt&&(_=gk+500-B$1(),10<_)){if(uc(_e,0)!==0)break;if(nt=_e.suspendedLanes,(nt&tt)!==tt){L$2(),_e.pingedLanes|=_e.suspendedLanes&nt;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),_);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,tt),(tt&4194240)===tt)break;for(_=_e.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=_[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),tt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$5(329))}}}return Ek(_e,B$1()),_e.callbackNode===et?Hk.bind(null,_e):null}function Ok(_e,_){var et=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,_).flags|=256),_e=Jk(_e,_),_e!==2&&(_=uk,uk=et,_!==null&&Gj(_)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var _=_e;;){if(_.flags&16384){var et=_.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(et=_.child,_.subtreeFlags&16384&&et!==null)et.return=_,_=et;else{if(_===_e)break;for(;_.sibling===null;){if(_.return===null||_.return===_e)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Dk(_e,_){for(_&=~sk,_&=~rk,_e.suspendedLanes|=_,_e.pingedLanes&=~_,_e=_e.expirationTimes;0<_;){var et=31-oc(_),tt=1<<et;_e[et]=-1,_&=~tt}}function Fk(_e){if(K&6)throw Error(p$5(327));Ik();var _=uc(_e,0);if(!(_&1))return Ek(_e,B$1()),null;var et=Jk(_e,_);if(_e.tag!==0&&et===2){var tt=xc(_e);tt!==0&&(_=tt,et=Ok(_e,tt))}if(et===1)throw et=qk,Lk(_e,0),Dk(_e,_),Ek(_e,B$1()),et;if(et===6)throw Error(p$5(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=_,Qk(_e,uk,vk),Ek(_e,B$1()),null}function Rk(_e,_){var et=K;K|=1;try{return _e(_)}finally{K=et,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var _=K;K|=1;var et=pk.transition,tt=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=tt,pk.transition=et,K=_,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(_e,_){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,Gf(et)),Y$2!==null)for(et=Y$2.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$2),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$2);break;case 19:E$1(M$2);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$1=_e,Y$2=_e=wh(_e.current,null),Z=gj=_,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_=0;_<Wg.length;_++)if(et=Wg[_],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}Wg=null}return _e}function Nk(_e,_){do{var et=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$2.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O$1=N$2=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T$2=1,qk=_,Y$2=null;break}e:{var rt=_e,it=et.return,st=et,ot=_;if(_=Z,st.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var at=ot,lt=st,ct=lt.tag;if(!(lt.mode&1)&&(ct===0||ct===11||ct===15)){var ut=lt.alternate;ut?(lt.updateQueue=ut.updateQueue,lt.memoizedState=ut.memoizedState,lt.lanes=ut.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var ft=Vi(it);if(ft!==null){ft.flags&=-257,Wi(ft,it,st,rt,_),ft.mode&1&&Ti(rt,at,_),_=ft,ot=at;var ht=_.updateQueue;if(ht===null){var vt=new Set;vt.add(ot),_.updateQueue=vt}else ht.add(ot);break e}else{if(!(_&1)){Ti(rt,at,_),uj();break e}ot=Error(p$5(426))}}else if(I$3&&st.mode&1){var mt=Vi(it);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Wi(mt,it,st,rt,_),Jg(Ki(ot,st));break e}}rt=ot=Ki(ot,st),T$2!==4&&(T$2=2),tk===null?tk=[rt]:tk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,_&=-_,rt.lanes|=_;var pt=Oi(rt,ot,_);fh(rt,pt);break e;case 1:st=ot;var yt=rt.type,_t=rt.stateNode;if(!(rt.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(Si===null||!Si.has(_t)))){rt.flags|=65536,_&=-_,rt.lanes|=_;var St=Ri(rt,st,_);fh(rt,St);break e}}rt=rt.return}while(rt!==null)}Tk(et)}catch(Et){_=Et,Y$2===et&&et!==null&&(Y$2=et=et.return);continue}break}while(!0)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z)}function Jk(_e,_){var et=K;K|=2;var tt=Kk();(R$1!==_e||Z!==_)&&(vk=null,Lk(_e,_));do try{Uk();break}catch(nt){Nk(_e,nt)}while(!0);if(Qg(),K=et,nk.current=tt,Y$2!==null)throw Error(p$5(261));return R$1=null,Z=0,T$2}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc();)Vk(Y$2)}function Vk(_e){var _=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,_===null?Tk(_e):Y$2=_,ok.current=null}function Tk(_e){var _=_e;do{var et=_.alternate;if(_e=_.return,_.flags&32768){if(et=Jj(et,_),et!==null){et.flags&=32767,Y$2=et;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$2=6,Y$2=null;return}}else if(et=Fj(et,_,gj),et!==null){Y$2=et;return}if(_=_.sibling,_!==null){Y$2=_;return}Y$2=_=_e}while(_!==null);T$2===0&&(T$2=5)}function Qk(_e,_,et){var tt=C$1,nt=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,_,et,tt)}finally{pk.transition=nt,C$1=tt}return null}function Xk(_e,_,et,tt){do Ik();while(xk!==null);if(K&6)throw Error(p$5(327));et=_e.finishedWork;var nt=_e.finishedLanes;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(p$5(177));_e.callbackNode=null,_e.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc(_e,rt),_e===R$1&&(Y$2=R$1=null,Z=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),rt=(et.flags&15990)!==0,et.subtreeFlags&15990||rt){rt=pk.transition,pk.transition=null;var it=C$1;C$1=1;var st=K;K|=4,ok.current=null,Pj(_e,et),ek(et,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=et,ik(et),dc(),K=st,C$1=it,pk.transition=rt}else _e.current=et;if(wk&&(wk=!1,xk=_e,yk=nt),rt=_e.pendingLanes,rt===0&&(Si=null),mc(et.stateNode),Ek(_e,B$1()),_!==null)for(tt=_e.onRecoverableError,et=0;et<_.length;et++)nt=_[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),rt=_e.pendingLanes,rt&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),_=pk.transition,et=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var tt=!1;else{if(_e=xk,xk=null,yk=0,K&6)throw Error(p$5(331));var nt=K;for(K|=4,V$3=_e.current;V$3!==null;){var rt=V$3,it=rt.child;if(V$3.flags&16){var st=rt.deletions;if(st!==null){for(var ot=0;ot<st.length;ot++){var at=st[ot];for(V$3=at;V$3!==null;){var lt=V$3;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,rt)}var ct=lt.child;if(ct!==null)ct.return=lt,V$3=ct;else for(;V$3!==null;){lt=V$3;var ut=lt.sibling,ft=lt.return;if(Tj(lt),lt===at){V$3=null;break}if(ut!==null){ut.return=ft,V$3=ut;break}V$3=ft}}}var ht=rt.alternate;if(ht!==null){var vt=ht.child;if(vt!==null){ht.child=null;do{var mt=vt.sibling;vt.sibling=null,vt=mt}while(vt!==null)}}V$3=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V$3=it;else e:for(;V$3!==null;){if(rt=V$3,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Qj(9,rt,rt.return)}var pt=rt.sibling;if(pt!==null){pt.return=rt.return,V$3=pt;break e}V$3=rt.return}}var yt=_e.current;for(V$3=yt;V$3!==null;){it=V$3;var _t=it.child;if(it.subtreeFlags&2064&&_t!==null)_t.return=it,V$3=_t;else e:for(it=yt;V$3!==null;){if(st=V$3,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(Et){W$1(st,st.return,Et)}if(st===it){V$3=null;break e}var St=st.sibling;if(St!==null){St.return=st.return,V$3=St;break e}V$3=st.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}tt=!0}return tt}finally{C$1=et,pk.transition=_}}return!1}function Yk(_e,_,et){_=Ki(et,_),_=Oi(_e,_,1),_e=dh(_e,_,1),_=L$2(),_e!==null&&(Ac(_e,1,_),Ek(_e,_))}function W$1(_e,_,et){if(_e.tag===3)Yk(_e,_e,et);else for(;_!==null;){if(_.tag===3){Yk(_,_e,et);break}else if(_.tag===1){var tt=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){_e=Ki(et,_e),_e=Ri(_,_e,1),_=dh(_,_e,1),_e=L$2(),_!==null&&(Ac(_,1,_e),Ek(_,_e));break}}_=_.return}}function Ui(_e,_,et){var tt=_e.pingCache;tt!==null&&tt.delete(_),_=L$2(),_e.pingedLanes|=_e.suspendedLanes&et,R$1===_e&&(Z&et)===et&&(T$2===4||T$2===3&&(Z&130023424)===Z&&500>B$1()-gk?Lk(_e,0):sk|=et),Ek(_e,_)}function Zk(_e,_){_===0&&(_e.mode&1?(_=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_=1);var et=L$2();_e=Zg(_e,_),_e!==null&&(Ac(_e,_,et),Ek(_e,et))}function vj(_e){var _=_e.memoizedState,et=0;_!==null&&(et=_.retryLane),Zk(_e,et)}function ck(_e,_){var et=0;switch(_e.tag){case 13:var tt=_e.stateNode,nt=_e.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=_e.stateNode;break;default:throw Error(p$5(314))}tt!==null&&tt.delete(_),Zk(_e,et)}var Wk;Wk=function(_e,_,et){if(_e!==null)if(_e.memoizedProps!==_.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&et)&&!(_.flags&128))return Ug=!1,zj(_e,_,et);Ug=!!(_e.flags&131072)}else Ug=!1,I$3&&_.flags&1048576&&ug(_,ng,_.index);switch(_.lanes=0,_.tag){case 2:var tt=_.type;jj(_e,_),_e=_.pendingProps;var nt=Yf(_,H$2.current);Tg(_,et),nt=Xh(null,_,tt,_e,nt,et);var rt=bi();return _.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Zf(tt)?(rt=!0,cg(_)):rt=!1,_.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_),nt.updater=nh,_.stateNode=nt,nt._reactInternals=_,rh(_,tt,_e,et),_=kj(null,_,tt,!0,rt,et)):(_.tag=0,I$3&&rt&&vg(_),Yi(null,_,nt,et),_=_.child),_;case 16:tt=_.elementType;e:{switch(jj(_e,_),_e=_.pendingProps,nt=tt._init,tt=nt(tt._payload),_.type=tt,nt=_.tag=$k(tt),_e=Lg(tt,_e),nt){case 0:_=dj(null,_,tt,_e,et);break e;case 1:_=ij(null,_,tt,_e,et);break e;case 11:_=Zi(null,_,tt,_e,et);break e;case 14:_=aj(null,_,tt,Lg(tt.type,_e),et);break e}throw Error(p$5(306,tt,""))}return _;case 0:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),dj(_e,_,tt,nt,et);case 1:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),ij(_e,_,tt,nt,et);case 3:e:{if(lj(_),_e===null)throw Error(p$5(387));tt=_.pendingProps,rt=_.memoizedState,nt=rt.element,bh(_e,_),gh(_,tt,null,et);var it=_.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},_.updateQueue.baseState=rt,_.memoizedState=rt,_.flags&256){nt=Ki(Error(p$5(423)),_),_=mj(_e,_,tt,et,nt);break e}else if(tt!==nt){nt=Ki(Error(p$5(424)),_),_=mj(_e,_,tt,et,nt);break e}else for(yg=Lf(_.stateNode.containerInfo.firstChild),xg=_,I$3=!0,zg=null,et=Ch(_,null,tt,et),_.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){_=$i(_e,_,et);break e}Yi(_e,_,tt,et)}_=_.child}return _;case 5:return Kh(_),_e===null&&Eg(_),tt=_.type,nt=_.pendingProps,rt=_e!==null?_e.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&(_.flags|=32),hj(_e,_),Yi(_e,_,it,et),_.child;case 6:return _e===null&&Eg(_),null;case 13:return pj(_e,_,et);case 4:return Ih(_,_.stateNode.containerInfo),tt=_.pendingProps,_e===null?_.child=Bh(_,null,tt,et):Yi(_e,_,tt,et),_.child;case 11:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),Zi(_e,_,tt,nt,et);case 7:return Yi(_e,_,_.pendingProps,et),_.child;case 8:return Yi(_e,_,_.pendingProps.children,et),_.child;case 12:return Yi(_e,_,_.pendingProps.children,et),_.child;case 10:e:{if(tt=_.type._context,nt=_.pendingProps,rt=_.memoizedProps,it=nt.value,G$1(Mg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){_=$i(_e,_,et);break e}}else for(rt=_.child,rt!==null&&(rt.return=_);rt!==null;){var st=rt.dependencies;if(st!==null){it=rt.child;for(var ot=st.firstContext;ot!==null;){if(ot.context===tt){if(rt.tag===1){ot=ch(-1,et&-et),ot.tag=2;var at=rt.updateQueue;if(at!==null){at=at.shared;var lt=at.pending;lt===null?ot.next=ot:(ot.next=lt.next,lt.next=ot),at.pending=ot}}rt.lanes|=et,ot=rt.alternate,ot!==null&&(ot.lanes|=et),Sg(rt.return,et,_),st.lanes|=et;break}ot=ot.next}}else if(rt.tag===10)it=rt.type===_.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$5(341));it.lanes|=et,st=it.alternate,st!==null&&(st.lanes|=et),Sg(it,et,_),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===_){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Yi(_e,_,nt.children,et),_=_.child}return _;case 9:return nt=_.type,tt=_.pendingProps.children,Tg(_,et),nt=Vg(nt),tt=tt(nt),_.flags|=1,Yi(_e,_,tt,et),_.child;case 14:return tt=_.type,nt=Lg(tt,_.pendingProps),nt=Lg(tt.type,nt),aj(_e,_,tt,nt,et);case 15:return cj(_e,_,_.type,_.pendingProps,et);case 17:return tt=_.type,nt=_.pendingProps,nt=_.elementType===tt?nt:Lg(tt,nt),jj(_e,_),_.tag=1,Zf(tt)?(_e=!0,cg(_)):_e=!1,Tg(_,et),ph(_,tt,nt),rh(_,tt,nt,et),kj(null,_,tt,!0,_e,et);case 19:return yj(_e,_,et);case 22:return ej(_e,_,et)}throw Error(p$5(156,_.tag))};function Gk(_e,_){return ac(_e,_)}function al(_e,_,et,tt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg$1(_e,_,et,tt){return new al(_e,_,et,tt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,_){var et=_e.alternate;return et===null?(et=Bg$1(_e.tag,_,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=_,et.type=_e.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=_e.flags&14680064,et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,_=_e.dependencies,et.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function yh(_e,_,et,tt,nt,rt){var it=2;if(tt=_e,typeof _e=="function")bj(_e)&&(it=1);else if(typeof _e=="string")it=5;else e:switch(_e){case ya:return Ah(et.children,nt,rt,_);case za:it=8,nt|=8;break;case Aa:return _e=Bg$1(12,et,_,nt|2),_e.elementType=Aa,_e.lanes=rt,_e;case Ea:return _e=Bg$1(13,et,_,nt),_e.elementType=Ea,_e.lanes=rt,_e;case Fa:return _e=Bg$1(19,et,_,nt),_e.elementType=Fa,_e.lanes=rt,_e;case Ia:return qj(et,nt,rt,_);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$5(130,_e==null?_e:typeof _e,""))}return _=Bg$1(it,et,_,nt),_.elementType=_e,_.type=tt,_.lanes=rt,_}function Ah(_e,_,et,tt){return _e=Bg$1(7,_e,tt,_),_e.lanes=et,_e}function qj(_e,_,et,tt){return _e=Bg$1(22,_e,tt,_),_e.elementType=Ia,_e.lanes=et,_e.stateNode={isHidden:!1},_e}function xh(_e,_,et){return _e=Bg$1(6,_e,null,_),_e.lanes=et,_e}function zh(_e,_,et){return _=Bg$1(4,_e.children!==null?_e.children:[],_e.key,_),_.lanes=et,_.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},_}function bl(_e,_,et,tt,nt){this.tag=_,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(_e,_,et,tt,nt,rt,it,st,ot){return _e=new bl(_e,_,et,st,ot),_===1?(_=1,rt===!0&&(_|=8)):_=0,rt=Bg$1(3,null,null,_),_e.current=rt,rt.stateNode=_e,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rt),_e}function dl(_e,_,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:_e,containerInfo:_,implementation:et}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$5(170));var _=_e;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Zf(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(p$5(171))}if(_e.tag===1){var et=_e.type;if(Zf(et))return bg(_e,et,_)}return _}function fl(_e,_,et,tt,nt,rt,it,st,ot){return _e=cl(et,tt,!0,_e,nt,rt,it,st,ot),_e.context=el(null),et=_e.current,tt=L$2(),nt=lh(et),rt=ch(tt,nt),rt.callback=_??null,dh(et,rt,nt),_e.current.lanes=nt,Ac(_e,nt,tt),Ek(_e,tt),_e}function gl(_e,_,et,tt){var nt=_.current,rt=L$2(),it=lh(nt);return et=el(et),_.context===null?_.context=et:_.pendingContext=et,_=ch(rt,it),_.payload={element:_e},tt=tt===void 0?null:tt,tt!==null&&(_.callback=tt),_e=dh(nt,_,it),_e!==null&&(mh(_e,nt,it,rt),eh(_e,nt,it)),it}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,_){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<_?et:_}}function jl(_e,_){il(_e,_),(_e=_e.alternate)&&il(_e,_)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var _=this._internalRoot;if(_===null)throw Error(p$5(409));gl(_e,_,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var _=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),_[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var _=Hc();_e={blockedOn:null,target:_e,priority:_};for(var et=0;et<Qc.length&&_!==0&&_<Qc[et].priority;et++);Qc.splice(et,0,_e),et===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,_,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var at=hl(it);rt.call(at)}}var it=fl(_,tt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=it,_e[uf]=it.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),it}for(;nt=_e.lastChild;)_e.removeChild(nt);if(typeof tt=="function"){var st=tt;tt=function(){var at=hl(ot);st.call(at)}}var ot=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=ot,_e[uf]=ot.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(_,ot,et,tt)}),ot}function sl(_e,_,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var st=nt;nt=function(){var ot=hl(it);st.call(ot)}}gl(_,it,_e,nt)}else it=rl(et,_,_e,nt,tt);return hl(it)}Ec=function(_e){switch(_e.tag){case 3:var _=_e.stateNode;if(_.current.memoizedState.isDehydrated){var et=tc(_.pendingLanes);et!==0&&(Cc(_,et|1),Ek(_,B$1()),!(K&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg(_e,1);if(tt!==null){var nt=L$2();mh(tt,_e,1,nt)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var _=Zg(_e,134217728);if(_!==null){var et=L$2();mh(_,_e,134217728,et)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var _=lh(_e),et=Zg(_e,_);if(et!==null){var tt=L$2();mh(et,_e,_,tt)}jl(_e,_)}};Hc=function(){return C$1};Ic=function(_e,_){var et=C$1;try{return C$1=_e,_()}finally{C$1=et}};yb=function(_e,_,et){switch(_){case"input":if(bb(_e,et),_=et.name,et.type==="radio"&&_!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<et.length;_++){var tt=et[_];if(tt!==_e&&tt.form===_e.form){var nt=Db(tt);if(!nt)throw Error(p$5(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib(_e,et);break;case"select":_=et.value,_!=null&&fb(_e,!!et.multiple,_,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,_){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_))throw Error(p$5(200));return dl(_e,_,null,et)};reactDom_production_min.createRoot=function(_e,_){if(!ol(_e))throw Error(p$5(299));var et=!1,tt="",nt=ll;return _!=null&&(_.unstable_strictMode===!0&&(et=!0),_.identifierPrefix!==void 0&&(tt=_.identifierPrefix),_.onRecoverableError!==void 0&&(nt=_.onRecoverableError)),_=cl(_e,1,!1,null,null,et,!1,tt,nt),_e[uf]=_.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(_)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var _=_e._reactInternals;if(_===void 0)throw typeof _e.render=="function"?Error(p$5(188)):(_e=Object.keys(_e).join(","),Error(p$5(268,_e)));return _e=Zb(_),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,_,et){if(!pl(_))throw Error(p$5(200));return sl(null,_e,_,!0,et)};reactDom_production_min.hydrateRoot=function(_e,_,et){if(!ol(_e))throw Error(p$5(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=ll;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),_=fl(_,null,_e,1,et??null,nt,!1,rt,it),_e[uf]=_.current,sf(_e),tt)for(_e=0;_e<tt.length;_e++)et=tt[_e],nt=et._getVersion,nt=nt(et._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[et,nt]:_.mutableSourceEagerHydrationData.push(et,nt);return new nl(_)};reactDom_production_min.render=function(_e,_,et){if(!pl(_))throw Error(p$5(200));return sl(null,_e,_,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$5(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,_,et,tt){if(!pl(et))throw Error(p$5(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$5(38));return sl(_e,_,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;const scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function(_,et,tt){let nt=Promise.resolve();if(et&&et.length>0){document.getElementsByTagName("link");const rt=document.querySelector("meta[property=csp-nonce]"),it=(rt==null?void 0:rt.nonce)||(rt==null?void 0:rt.getAttribute("nonce"));nt=Promise.all(et.map(st=>{if(st=assetsURL(st),st in seen)return;seen[st]=!0;const ot=st.endsWith(".css"),at=ot?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${st}"]${at}`))return;const lt=document.createElement("link");if(lt.rel=ot?"stylesheet":scriptRel,ot||(lt.as="script",lt.crossOrigin=""),lt.href=st,it&&lt.setAttribute("nonce",it),document.head.appendChild(lt),ot)return new Promise((ct,ut)=>{lt.addEventListener("load",ct),lt.addEventListener("error",()=>ut(new Error(`Unable to preload CSS for ${st}`)))})}))}return nt.then(()=>_()).catch(rt=>{const it=new Event("vite:preloadError",{cancelable:!0});if(it.payload=rt,window.dispatchEvent(it),!it.defaultPrevented)throw rt})},MotionConfigContext=reactExports.createContext({transformPagePoint:_e=>_e,isStatic:!1,reducedMotion:"never"}),isBrowser$1=typeof document<"u",useIsomorphicLayoutEffect$6=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,clamp$5=(_e,_,et)=>Math.min(Math.max(et,_e),_),number$2={test:_e=>typeof _e=="number",parse:parseFloat,transform:_e=>_e},alpha={...number$2,transform:_e=>clamp$5(0,1,_e)},sanitize$6=_e=>Math.round(_e*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(_e){return typeof _e=="string"}const createUnitType=_e=>({test:_=>isString$1(_)&&_.endsWith(_e)&&_.split(" ").length===1,parse:parseFloat,transform:_=>`${_}${_e}`}),percent=createUnitType("%");function useConstant(_e){const _=reactExports.useRef(null);return _.current===null&&(_.current=_e()),_.current}const noop$2=_e=>_e;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(_){if(!this.scheduled.has(_))return this.scheduled.add(_),this.order.push(_),!0}remove(_){const et=this.order.indexOf(_);et!==-1&&(this.order.splice(et,1),this.scheduled.delete(_))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_e){let _=new Queue,et=new Queue,tt=0,nt=!1,rt=!1;const it=new WeakSet,st={schedule:(ot,at=!1,lt=!1)=>{const ct=lt&&nt,ut=ct?_:et;return at&&it.add(ot),ut.add(ot)&&ct&&nt&&(tt=_.order.length),ot},cancel:ot=>{et.remove(ot),it.delete(ot)},process:ot=>{if(nt){rt=!0;return}if(nt=!0,[_,et]=[et,_],et.clear(),tt=_.order.length,tt)for(let at=0;at<tt;at++){const lt=_.order[at];lt(ot),it.has(lt)&&(st.schedule(lt),_e())}nt=!1,rt&&(rt=!1,st.process(ot))}};return st}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed$1=40;function createRenderBatcher(_e,_){let et=!1,tt=!0;const nt={delta:0,timestamp:0,isProcessing:!1},rt=stepsOrder.reduce((ct,ut)=>(ct[ut]=createRenderStep(()=>et=!0),ct),{}),it=ct=>rt[ct].process(nt),st=()=>{const ct=performance.now();et=!1,nt.delta=tt?1e3/60:Math.max(Math.min(ct-nt.timestamp,maxElapsed$1),1),nt.timestamp=ct,nt.isProcessing=!0,stepsOrder.forEach(it),nt.isProcessing=!1,et&&_&&(tt=!1,_e(st))},ot=()=>{et=!0,tt=!0,nt.isProcessing||_e(st)};return{schedule:stepsOrder.reduce((ct,ut)=>{const ft=rt[ut];return ct[ut]=(ht,vt=!1,mt=!1)=>(et||ot(),ft.schedule(ht,vt,mt)),ct},{}),cancel:ct=>stepsOrder.forEach(ut=>rt[ut].cancel(ct)),state:nt,steps:rt}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:steps$1}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),combineFunctions=(_e,_)=>et=>_(_e(et)),pipe$1=(..._e)=>_e.reduce(combineFunctions);let warning=noop$2,invariant=noop$2;const calcBezier=(_e,_,et)=>(((1-3*et+3*_)*_e+(3*et-6*_))*_e+3*_)*_e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_e,_,et,tt,nt){let rt,it,st=0;do it=_+(et-_)/2,rt=calcBezier(it,tt,nt)-_e,rt>0?et=it:_=it;while(Math.abs(rt)>subdivisionPrecision&&++st<subdivisionMaxIterations);return it}function cubicBezier(_e,_,et,tt){if(_e===_&&et===tt)return noop$2;const nt=rt=>binarySubdivide(rt,0,1,_e,et);return rt=>rt===0||rt===1?rt:calcBezier(nt(rt),_,tt)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isColorString=(_e,_)=>et=>!!(isString$1(et)&&singleColorRegex.test(et)&&et.startsWith(_e)||_&&Object.prototype.hasOwnProperty.call(et,_)),splitColor$1=(_e,_,et)=>tt=>{if(!isString$1(tt))return tt;const[nt,rt,it,st]=tt.match(floatRegex);return{[_e]:parseFloat(nt),[_]:parseFloat(rt),[et]:parseFloat(it),alpha:st!==void 0?parseFloat(st):1}},clampRgbUnit=_e=>clamp$5(0,255,_e),rgbUnit={...number$2,transform:_e=>Math.round(clampRgbUnit(_e))},rgba={test:isColorString("rgb","red"),parse:splitColor$1("red","green","blue"),transform:({red:_e,green:_,blue:et,alpha:tt=1})=>"rgba("+rgbUnit.transform(_e)+", "+rgbUnit.transform(_)+", "+rgbUnit.transform(et)+", "+sanitize$6(alpha.transform(tt))+")"};function parseHex(_e){let _="",et="",tt="",nt="";return _e.length>5?(_=_e.substring(1,3),et=_e.substring(3,5),tt=_e.substring(5,7),nt=_e.substring(7,9)):(_=_e.substring(1,2),et=_e.substring(2,3),tt=_e.substring(3,4),nt=_e.substring(4,5),_+=_,et+=et,tt+=tt,nt+=nt),{red:parseInt(_,16),green:parseInt(et,16),blue:parseInt(tt,16),alpha:nt?parseInt(nt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor$1("hue","saturation","lightness"),transform:({hue:_e,saturation:_,lightness:et,alpha:tt=1})=>"hsla("+Math.round(_e)+", "+percent.transform(sanitize$6(_))+", "+percent.transform(sanitize$6(et))+", "+sanitize$6(alpha.transform(tt))+")"},color$1={test:_e=>rgba.test(_e)||hex.test(_e)||hsla.test(_e),parse:_e=>rgba.test(_e)?rgba.parse(_e):hsla.test(_e)?hsla.parse(_e):hex.parse(_e),transform:_e=>isString$1(_e)?_e:_e.hasOwnProperty("red")?rgba.transform(_e):hsla.transform(_e)},mix=(_e,_,et)=>-et*_e+et*_+_e;function hueToRgb(_e,_,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?_e+(_-_e)*6*et:et<1/2?_:et<2/3?_e+(_-_e)*(2/3-et)*6:_e}function hslaToRgba({hue:_e,saturation:_,lightness:et,alpha:tt}){_e/=360,_/=100,et/=100;let nt=0,rt=0,it=0;if(!_)nt=rt=it=et;else{const st=et<.5?et*(1+_):et+_-et*_,ot=2*et-st;nt=hueToRgb(ot,st,_e+1/3),rt=hueToRgb(ot,st,_e),it=hueToRgb(ot,st,_e-1/3)}return{red:Math.round(nt*255),green:Math.round(rt*255),blue:Math.round(it*255),alpha:tt}}const mixLinearColor=(_e,_,et)=>{const tt=_e*_e;return Math.sqrt(Math.max(0,et*(_*_-tt)+tt))},colorTypes=[hex,rgba,hsla],getColorType=_e=>colorTypes.find(_=>_.test(_e));function asRGBA(_e){const _=getColorType(_e);let et=_.parse(_e);return _===hsla&&(et=hslaToRgba(et)),et}const mixColor=(_e,_)=>{const et=asRGBA(_e),tt=asRGBA(_),nt={...et};return rt=>(nt.red=mixLinearColor(et.red,tt.red,rt),nt.green=mixLinearColor(et.green,tt.green,rt),nt.blue=mixLinearColor(et.blue,tt.blue,rt),nt.alpha=mix(et.alpha,tt.alpha,rt),rgba.transform(nt))};function test(_e){var _,et;return isNaN(_e)&&isString$1(_e)&&(((_=_e.match(floatRegex))===null||_===void 0?void 0:_.length)||0)+(((et=_e.match(colorRegex))===null||et===void 0?void 0:et.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$2},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color$1.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$2.parse};function tokenise(_e,{regex:_,countKey:et,token:tt,parse:nt}){const rt=_e.tokenised.match(_);rt&&(_e["num"+et]=rt.length,_e.tokenised=_e.tokenised.replace(_,tt),_e.values.push(...rt.map(nt)))}function analyseComplexValue(_e){const _=_e.toString(),et={value:_,tokenised:_,values:[],numVars:0,numColors:0,numNumbers:0};return et.value.includes("var(--")&&tokenise(et,cssVarTokeniser),tokenise(et,colorTokeniser),tokenise(et,numberTokeniser),et}function parseComplexValue(_e){return analyseComplexValue(_e).values}function createTransformer(_e){const{values:_,numColors:et,numVars:tt,tokenised:nt}=analyseComplexValue(_e),rt=_.length;return it=>{let st=nt;for(let ot=0;ot<rt;ot++)ot<tt?st=st.replace(cssVarTokeniser.token,it[ot]):ot<tt+et?st=st.replace(colorTokeniser.token,color$1.transform(it[ot])):st=st.replace(numberTokeniser.token,sanitize$6(it[ot]));return st}}const convertNumbersToZero=_e=>typeof _e=="number"?0:_e;function getAnimatableNone(_e){const _=parseComplexValue(_e);return createTransformer(_e)(_.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone},mixImmediate=(_e,_)=>et=>`${et>0?_:_e}`;function getMixer$1(_e,_){return typeof _e=="number"?et=>mix(_e,_,et):color$1.test(_e)?mixColor(_e,_):_e.startsWith("var(")?mixImmediate(_e,_):mixComplex(_e,_)}const mixArray=(_e,_)=>{const et=[..._e],tt=et.length,nt=_e.map((rt,it)=>getMixer$1(rt,_[it]));return rt=>{for(let it=0;it<tt;it++)et[it]=nt[it](rt);return et}},mixObject=(_e,_)=>{const et={..._e,..._},tt={};for(const nt in et)_e[nt]!==void 0&&_[nt]!==void 0&&(tt[nt]=getMixer$1(_e[nt],_[nt]));return nt=>{for(const rt in tt)et[rt]=tt[rt](nt);return et}},mixComplex=(_e,_)=>{const et=complex.createTransformer(_),tt=analyseComplexValue(_e),nt=analyseComplexValue(_);return tt.numVars===nt.numVars&&tt.numColors===nt.numColors&&tt.numNumbers>=nt.numNumbers?pipe$1(mixArray(tt.values,nt.values),et):mixImmediate(_e,_)},progress=(_e,_,et)=>{const tt=_-_e;return tt===0?1:(et-_e)/tt},mixNumber=(_e,_)=>et=>mix(_e,_,et);function detectMixerFactory(_e){return typeof _e=="number"?mixNumber:typeof _e=="string"?color$1.test(_e)?mixColor:mixComplex:Array.isArray(_e)?mixArray:typeof _e=="object"?mixObject:mixNumber}function createMixers(_e,_,et){const tt=[],nt=et||detectMixerFactory(_e[0]),rt=_e.length-1;for(let it=0;it<rt;it++){let st=nt(_e[it],_e[it+1]);if(_){const ot=Array.isArray(_)?_[it]||noop$2:_;st=pipe$1(ot,st)}tt.push(st)}return tt}function interpolate$1(_e,_,{clamp:et=!0,ease:tt,mixer:nt}={}){const rt=_e.length;if(invariant(rt===_.length),rt===1)return()=>_[0];_e[0]>_e[rt-1]&&(_e=[..._e].reverse(),_=[..._].reverse());const it=createMixers(_,tt,nt),st=it.length,ot=at=>{let lt=0;if(st>1)for(;lt<_e.length-2&&!(at<_e[lt+1]);lt++);const ct=progress(_e[lt],_e[lt+1],at);return it[lt](ct)};return et?at=>ot(clamp$5(_e[0],_e[rt-1],at)):ot}function fillOffset(_e,_){const et=_e[_e.length-1];for(let tt=1;tt<=_;tt++){const nt=progress(0,_,tt);_e.push(mix(et,1,nt))}}function defaultOffset$1(_e){const _=[0];return fillOffset(_,_e.length-1),_}function velocityPerSecond(_e,_){return _?_e*(1e3/_):0}function addUniqueItem(_e,_){_e.indexOf(_)===-1&&_e.push(_)}function removeItem(_e,_){const et=_e.indexOf(_);et>-1&&_e.splice(et,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_){return addUniqueItem(this.subscriptions,_),()=>removeItem(this.subscriptions,_)}notify(_,et,tt){const nt=this.subscriptions.length;if(nt)if(nt===1)this.subscriptions[0](_,et,tt);else for(let rt=0;rt<nt;rt++){const it=this.subscriptions[rt];it&&it(_,et,tt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=_e=>!isNaN(parseFloat(_e)),collectMotionValues={current:void 0};class MotionValue{constructor(_,et={}){this.version="10.16.15",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(tt,nt=!0)=>{this.prev=this.current,this.current=tt;const{delta:rt,timestamp:it}=frameData;this.lastUpdated!==it&&(this.timeDelta=rt,this.lastUpdated=it,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),nt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:tt})=>{tt!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=_,this.canTrackVelocity=isFloat(this.current),this.owner=et.owner}onChange(_){return this.on("change",_)}on(_,et){this.events[_]||(this.events[_]=new SubscriptionManager);const tt=this.events[_].add(et);return _==="change"?()=>{tt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:tt}clearListeners(){for(const _ in this.events)this.events[_].clear()}attach(_,et){this.passiveEffect=_,this.stopPassiveEffect=et}set(_,et=!0){!et||!this.passiveEffect?this.updateAndNotify(_,et):this.passiveEffect(_,this.updateAndNotify)}setWithVelocity(_,et,tt){this.set(et),this.prev=_,this.timeDelta=tt}jump(_){this.updateAndNotify(_),this.prev=_,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return collectMotionValues.current&&collectMotionValues.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(_){return this.stop(),new Promise(et=>{this.hasAnimated=!0,this.animation=_(et),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_e,_){return new MotionValue(_e,_)}function useMotionValue(_e){const _=useConstant(()=>motionValue(_e)),{isStatic:et}=reactExports.useContext(MotionConfigContext);if(et){const[,tt]=reactExports.useState(_e);reactExports.useEffect(()=>_.on("change",tt),[])}return _}const isCustomValueType=_e=>typeof _e=="object"&&_e.mix,getMixer=_e=>isCustomValueType(_e)?_e.mix:void 0;function transform(..._e){const _=!Array.isArray(_e[0]),et=_?0:-1,tt=_e[0+et],nt=_e[1+et],rt=_e[2+et],it=_e[3+et],st=interpolate$1(nt,rt,{mixer:getMixer(rt[0]),...it});return _?st(tt):st}function useCombineMotionValues(_e,_){const et=useMotionValue(_()),tt=()=>et.set(_());return tt(),useIsomorphicLayoutEffect$6(()=>{const nt=()=>frame.update(tt,!1,!0),rt=_e.map(it=>it.on("change",nt));return()=>{rt.forEach(it=>it()),cancelFrame(tt)}}),et}function useComputed(_e){collectMotionValues.current=[],_e();const _=useCombineMotionValues(collectMotionValues.current,_e);return collectMotionValues.current=void 0,_}function useTransform$1(_e,_,et,tt){if(typeof _e=="function")return useComputed(_e);const nt=typeof _=="function"?_:transform(_,et,tt);return Array.isArray(_e)?useListTransform(_e,nt):useListTransform([_e],([rt])=>nt(rt))}function useListTransform(_e,_){const et=useConstant(()=>[]);return useCombineMotionValues(_e,()=>{et.length=0;const tt=_e.length;for(let nt=0;nt<tt;nt++)et[nt]=_e[nt].get();return _(et)})}function resolveElements(_e,_,et){return typeof _e=="string"?_e=document.querySelectorAll(_e):_e instanceof Element&&(_e=[_e]),Array.from(_e||[])}const resizeHandlers=new WeakMap;let observer;function getElementSize(_e,_){if(_){const{inlineSize:et,blockSize:tt}=_[0];return{width:et,height:tt}}else return _e instanceof SVGElement&&"getBBox"in _e?_e.getBBox():{width:_e.offsetWidth,height:_e.offsetHeight}}function notifyTarget({target:_e,contentRect:_,borderBoxSize:et}){var tt;(tt=resizeHandlers.get(_e))===null||tt===void 0||tt.forEach(nt=>{nt({target:_e,contentSize:_,get size(){return getElementSize(_e,et)}})})}function notifyAll(_e){_e.forEach(notifyTarget)}function createResizeObserver(){typeof ResizeObserver>"u"||(observer=new ResizeObserver(notifyAll))}function resizeElement(_e,_){observer||createResizeObserver();const et=resolveElements(_e);return et.forEach(tt=>{let nt=resizeHandlers.get(tt);nt||(nt=new Set,resizeHandlers.set(tt,nt)),nt.add(_),observer==null||observer.observe(tt)}),()=>{et.forEach(tt=>{const nt=resizeHandlers.get(tt);nt==null||nt.delete(_),nt!=null&&nt.size||observer==null||observer.unobserve(tt)})}}const windowCallbacks=new Set;let windowResizeHandler;function createWindowResizeHandler(){windowResizeHandler=()=>{const _e={width:window.innerWidth,height:window.innerHeight},_={target:window,size:_e,contentSize:_e};windowCallbacks.forEach(et=>et(_))},window.addEventListener("resize",windowResizeHandler)}function resizeWindow(_e){return windowCallbacks.add(_e),windowResizeHandler||createWindowResizeHandler(),()=>{windowCallbacks.delete(_e),!windowCallbacks.size&&windowResizeHandler&&(windowResizeHandler=void 0)}}function resize(_e,_){return typeof _e=="function"?resizeWindow(_e):resizeElement(_e,_)}const maxElapsed=50,createAxisInfo=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),createScrollInfo=()=>({time:0,x:createAxisInfo(),y:createAxisInfo()}),keys$1={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function updateAxisInfo(_e,_,et,tt){const nt=et[_],{length:rt,position:it}=keys$1[_],st=nt.current,ot=et.time;nt.current=_e["scroll"+it],nt.scrollLength=_e["scroll"+rt]-_e["client"+rt],nt.offset.length=0,nt.offset[0]=0,nt.offset[1]=nt.scrollLength,nt.progress=progress(0,nt.scrollLength,nt.current);const at=tt-ot;nt.velocity=at>maxElapsed?0:velocityPerSecond(nt.current-st,at)}function updateScrollInfo(_e,_,et){updateAxisInfo(_e,"x",_,et),updateAxisInfo(_e,"y",_,et),_.time=et}function calcInset(_e,_){const et={x:0,y:0};let tt=_e;for(;tt&&tt!==_;)if(tt instanceof HTMLElement)et.x+=tt.offsetLeft,et.y+=tt.offsetTop,tt=tt.offsetParent;else if(tt.tagName==="svg"){const nt=tt.getBoundingClientRect();tt=tt.parentElement;const rt=tt.getBoundingClientRect();et.x+=nt.left-rt.left,et.y+=nt.top-rt.top}else if(tt instanceof SVGGraphicsElement){const{x:nt,y:rt}=tt.getBBox();et.x+=nt,et.y+=rt;let it=null,st=tt.parentNode;for(;!it;)st.tagName==="svg"&&(it=st),st=tt.parentNode;tt=it}else break;return et}const ScrollOffset={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},namedEdges={start:0,center:.5,end:1};function resolveEdge(_e,_,et=0){let tt=0;if(namedEdges[_e]!==void 0&&(_e=namedEdges[_e]),typeof _e=="string"){const nt=parseFloat(_e);_e.endsWith("px")?tt=nt:_e.endsWith("%")?_e=nt/100:_e.endsWith("vw")?tt=nt/100*document.documentElement.clientWidth:_e.endsWith("vh")?tt=nt/100*document.documentElement.clientHeight:_e=nt}return typeof _e=="number"&&(tt=_*_e),et+tt}const defaultOffset=[0,0];function resolveOffset(_e,_,et,tt){let nt=Array.isArray(_e)?_e:defaultOffset,rt=0,it=0;return typeof _e=="number"?nt=[_e,_e]:typeof _e=="string"&&(_e=_e.trim(),_e.includes(" ")?nt=_e.split(" "):nt=[_e,namedEdges[_e]?_e:"0"]),rt=resolveEdge(nt[0],et,tt),it=resolveEdge(nt[1],_),rt-it}const point={x:0,y:0};function getTargetSize(_e){return"getBBox"in _e&&_e.tagName!=="svg"?_e.getBBox():{width:_e.clientWidth,height:_e.clientHeight}}function resolveOffsets(_e,_,et){let{offset:tt=ScrollOffset.All}=et;const{target:nt=_e,axis:rt="y"}=et,it=rt==="y"?"height":"width",st=nt!==_e?calcInset(nt,_e):point,ot=nt===_e?{width:_e.scrollWidth,height:_e.scrollHeight}:getTargetSize(nt),at={width:_e.clientWidth,height:_e.clientHeight};_[rt].offset.length=0;let lt=!_[rt].interpolate;const ct=tt.length;for(let ut=0;ut<ct;ut++){const ft=resolveOffset(tt[ut],at[it],ot[it],st[rt]);!lt&&ft!==_[rt].interpolatorOffsets[ut]&&(lt=!0),_[rt].offset[ut]=ft}lt&&(_[rt].interpolate=interpolate$1(_[rt].offset,defaultOffset$1(tt)),_[rt].interpolatorOffsets=[..._[rt].offset]),_[rt].progress=_[rt].interpolate(_[rt].current)}function measure(_e,_=_e,et){if(et.x.targetOffset=0,et.y.targetOffset=0,_!==_e){let tt=_;for(;tt&&tt!==_e;)et.x.targetOffset+=tt.offsetLeft,et.y.targetOffset+=tt.offsetTop,tt=tt.offsetParent}et.x.targetLength=_===_e?_.scrollWidth:_.clientWidth,et.y.targetLength=_===_e?_.scrollHeight:_.clientHeight,et.x.containerLength=_e.clientWidth,et.y.containerLength=_e.clientHeight}function createOnScrollHandler(_e,_,et,tt={}){return{measure:()=>measure(_e,tt.target,et),update:nt=>{updateScrollInfo(_e,et,nt),(tt.offset||tt.target)&&resolveOffsets(_e,et,tt)},notify:()=>_(et)}}const scrollListeners=new WeakMap,resizeListeners=new WeakMap,onScrollHandlers=new WeakMap,getEventTarget=_e=>_e===document.documentElement?window:_e;function scrollInfo(_e,{container:_=document.documentElement,...et}={}){let tt=onScrollHandlers.get(_);tt||(tt=new Set,onScrollHandlers.set(_,tt));const nt=createScrollInfo(),rt=createOnScrollHandler(_,_e,nt,et);if(tt.add(rt),!scrollListeners.has(_)){const st=()=>{for(const ut of tt)ut.measure()},ot=()=>{for(const ut of tt)ut.update(frameData.timestamp)},at=()=>{for(const ut of tt)ut.notify()},lt=()=>{frame.read(st,!1,!0),frame.update(ot,!1,!0),frame.update(at,!1,!0)};scrollListeners.set(_,lt);const ct=getEventTarget(_);window.addEventListener("resize",lt,{passive:!0}),_!==document.documentElement&&resizeListeners.set(_,resize(_,lt)),ct.addEventListener("scroll",lt,{passive:!0})}const it=scrollListeners.get(_);return frame.read(it,!1,!0),()=>{var st;cancelFrame(it);const ot=onScrollHandlers.get(_);if(!ot||(ot.delete(rt),ot.size))return;const at=scrollListeners.get(_);scrollListeners.delete(_),at&&(getEventTarget(_).removeEventListener("scroll",at),(st=resizeListeners.get(_))===null||st===void 0||st(),window.removeEventListener("resize",at))}}function refWarning(_e,_){warning(!!(!_||_.current))}const createScrollMotionValues=()=>({scrollX:motionValue(0),scrollY:motionValue(0),scrollXProgress:motionValue(0),scrollYProgress:motionValue(0)});function useScroll$1({container:_e,target:_,layoutEffect:et=!0,...tt}={}){const nt=useConstant(createScrollMotionValues);return(et?useIsomorphicLayoutEffect$6:reactExports.useEffect)(()=>(refWarning("target",_),refWarning("container",_e),scrollInfo(({x:it,y:st})=>{nt.scrollX.set(it.current),nt.scrollXProgress.set(it.progress),nt.scrollY.set(st.current),nt.scrollYProgress.set(st.progress)},{...tt,container:(_e==null?void 0:_e.current)||void 0,target:(_==null?void 0:_.current)||void 0})),[_e,_,JSON.stringify(tt.offset)]),nt}function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _inheritsLoose(_e,_){_e.prototype=Object.create(_.prototype),_e.prototype.constructor=_e,_e.__proto__=_}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _config$1={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_reverting$1,_context$1,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString$1=function(_){return typeof _=="string"},_isFunction$1=function(_){return typeof _=="function"},_isNumber=function(_){return typeof _=="number"},_isUndefined=function(_){return typeof _>"u"},_isObject=function(_){return typeof _=="object"},_isNotFalse=function(_){return _!==!1},_windowExists$2=function(){return typeof window<"u"},_isFuncOrString=function(_){return _isFunction$1(_)||_isString$1(_)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$1,_coreInitted$1,_doc$1,_globals={},_installScope={},_coreReady,_install=function(_){return(_installScope=_merge(_,_globals))&&gsap$2},_missingPlugin=function(_,et){return console.warn("Invalid property",_,"set to",et,"Missing plugin? gsap.registerPlugin()")},_warn=function(_,et){return!et&&console.warn(_)},_addGlobal=function(_,et){return _&&(_globals[_]=et)&&_installScope&&(_installScope[_]=et)||_globals},_emptyFunc=function(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function(_){var et=_[0],tt,nt;if(_isObject(et)||_isFunction$1(et)||(_=[_]),!(tt=(et._gsap||{}).harness)){for(nt=_harnessPlugins.length;nt--&&!_harnessPlugins[nt].targetTest(et););tt=_harnessPlugins[nt]}for(nt=_.length;nt--;)_[nt]&&(_[nt]._gsap||(_[nt]._gsap=new GSCache(_[nt],tt)))||_.splice(nt,1);return _},_getCache=function(_){return _._gsap||_harness(toArray$1(_))[0]._gsap},_getProperty=function(_,et,tt){return(tt=_[et])&&_isFunction$1(tt)?_[et]():_isUndefined(tt)&&_.getAttribute&&_.getAttribute(et)||tt},_forEachName=function(_,et){return(_=_.split(",")).forEach(et)||_},_round=function(_){return Math.round(_*1e5)/1e5||0},_roundPrecise=function(_){return Math.round(_*1e7)/1e7||0},_parseRelative=function(_,et){var tt=et.charAt(0),nt=parseFloat(et.substr(2));return _=parseFloat(_),tt==="+"?_+nt:tt==="-"?_-nt:tt==="*"?_*nt:_/nt},_arrayContainsAny=function(_,et){for(var tt=et.length,nt=0;_.indexOf(et[nt])<0&&++nt<tt;);return nt<tt},_lazyRender=function(){var _=_lazyTweens.length,et=_lazyTweens.slice(0),tt,nt;for(_lazyLookup={},_lazyTweens.length=0,tt=0;tt<_;tt++)nt=et[tt],nt&&nt._lazy&&(nt.render(nt._lazy[0],nt._lazy[1],!0)._lazy=0)},_lazySafeRender=function(_,et,tt,nt){_lazyTweens.length&&!_reverting$1&&_lazyRender(),_.render(et,tt,_reverting$1&&et<0&&(_._initted||_._startAt)),_lazyTweens.length&&!_reverting$1&&_lazyRender()},_numericIfPossible=function(_){var et=parseFloat(_);return(et||et===0)&&(_+"").match(_delimitedValueExp).length<2?et:_isString$1(_)?_.trim():_},_passThrough=function(_){return _},_setDefaults=function(_,et){for(var tt in et)tt in _||(_[tt]=et[tt]);return _},_setKeyframeDefaults=function(_){return function(et,tt){for(var nt in tt)nt in et||nt==="duration"&&_||nt==="ease"||(et[nt]=tt[nt])}},_merge=function(_,et){for(var tt in et)_[tt]=et[tt];return _},_mergeDeep=function _e(_,et){for(var tt in et)tt!=="__proto__"&&tt!=="constructor"&&tt!=="prototype"&&(_[tt]=_isObject(et[tt])?_e(_[tt]||(_[tt]={}),et[tt]):et[tt]);return _},_copyExcluding=function(_,et){var tt={},nt;for(nt in _)nt in et||(tt[nt]=_[nt]);return tt},_inheritDefaults=function(_){var et=_.parent||_globalTimeline,tt=_.keyframes?_setKeyframeDefaults(_isArray(_.keyframes)):_setDefaults;if(_isNotFalse(_.inherit))for(;et;)tt(_,et.vars.defaults),et=et.parent||et._dp;return _},_arraysMatch=function(_,et){for(var tt=_.length,nt=tt===et.length;nt&&tt--&&_[tt]===et[tt];);return tt<0},_addLinkedListItem=function(_,et,tt,nt,rt){var it=_[nt],st;if(rt)for(st=et[rt];it&&it[rt]>st;)it=it._prev;return it?(et._next=it._next,it._next=et):(et._next=_[tt],_[tt]=et),et._next?et._next._prev=et:_[nt]=et,et._prev=it,et.parent=et._dp=_,et},_removeLinkedListItem=function(_,et,tt,nt){tt===void 0&&(tt="_first"),nt===void 0&&(nt="_last");var rt=et._prev,it=et._next;rt?rt._next=it:_[tt]===et&&(_[tt]=it),it?it._prev=rt:_[nt]===et&&(_[nt]=rt),et._next=et._prev=et.parent=null},_removeFromParent=function(_,et){_.parent&&(!et||_.parent.autoRemoveChildren)&&_.parent.remove&&_.parent.remove(_),_._act=0},_uncache=function(_,et){if(_&&(!et||et._end>_._dur||et._start<0))for(var tt=_;tt;)tt._dirty=1,tt=tt.parent;return _},_recacheAncestors=function(_){for(var et=_.parent;et&&et.parent;)et._dirty=1,et.totalDuration(),et=et.parent;return _},_rewindStartAt=function(_,et,tt,nt){return _._startAt&&(_reverting$1?_._startAt.revert(_revertConfigNoKill):_.vars.immediateRender&&!_.vars.autoRevert||_._startAt.render(et,!0,nt))},_hasNoPausedAncestors=function _e(_){return!_||_._ts&&_e(_.parent)},_elapsedCycleDuration=function(_){return _._repeat?_animationCycle(_._tTime,_=_.duration()+_._rDelay)*_:0},_animationCycle=function(_,et){var tt=Math.floor(_/=et);return _&&tt===_?tt-1:tt},_parentToChildTotalTime=function(_,et){return(_-et._start)*et._ts+(et._ts>=0?0:et._dirty?et.totalDuration():et._tDur)},_setEnd=function(_){return _._end=_roundPrecise(_._start+(_._tDur/Math.abs(_._ts||_._rts||_tinyNum)||0))},_alignPlayhead=function(_,et){var tt=_._dp;return tt&&tt.smoothChildTiming&&_._ts&&(_._start=_roundPrecise(tt._time-(_._ts>0?et/_._ts:((_._dirty?_.totalDuration():_._tDur)-et)/-_._ts)),_setEnd(_),tt._dirty||_uncache(tt,_)),_},_postAddChecks=function(_,et){var tt;if((et._time||!et._dur&&et._initted||et._start<_._time&&(et._dur||!et.add))&&(tt=_parentToChildTotalTime(_.rawTime(),et),(!et._dur||_clamp(0,et.totalDuration(),tt)-et._tTime>_tinyNum)&&et.render(tt,!0)),_uncache(_,et)._dp&&_._initted&&_._time>=_._dur&&_._ts){if(_._dur<_.duration())for(tt=_;tt._dp;)tt.rawTime()>=0&&tt.totalTime(tt._tTime),tt=tt._dp;_._zTime=-_tinyNum}},_addToTimeline=function(_,et,tt,nt){return et.parent&&_removeFromParent(et),et._start=_roundPrecise((_isNumber(tt)?tt:tt||_!==_globalTimeline?_parsePosition(_,tt,et):_._time)+et._delay),et._end=_roundPrecise(et._start+(et.totalDuration()/Math.abs(et.timeScale())||0)),_addLinkedListItem(_,et,"_first","_last",_._sort?"_start":0),_isFromOrFromStart(et)||(_._recent=et),nt||_postAddChecks(_,et),_._ts<0&&_alignPlayhead(_,_._tTime),_},_scrollTrigger=function(_,et){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",et))&&_globals.ScrollTrigger.create(et,_)},_attemptInitTween=function(_,et,tt,nt,rt){if(_initTween(_,et,rt),!_._initted)return 1;if(!tt&&_._pt&&!_reverting$1&&(_._dur&&_.vars.lazy!==!1||!_._dur&&_.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(_),_._lazy=[rt,nt],1},_parentPlayheadIsBeforeStart=function _e(_){var et=_.parent;return et&&et._ts&&et._initted&&!et._lock&&(et.rawTime()<0||_e(et))},_isFromOrFromStart=function(_){var et=_.data;return et==="isFromStart"||et==="isStart"},_renderZeroDurationTween=function(_,et,tt,nt){var rt=_.ratio,it=et<0||!et&&(!_._start&&_parentPlayheadIsBeforeStart(_)&&!(!_._initted&&_isFromOrFromStart(_))||(_._ts<0||_._dp._ts<0)&&!_isFromOrFromStart(_))?0:1,st=_._rDelay,ot=0,at,lt,ct;if(st&&_._repeat&&(ot=_clamp(0,_._tDur,et),lt=_animationCycle(ot,st),_._yoyo&&lt&1&&(it=1-it),lt!==_animationCycle(_._tTime,st)&&(rt=1-it,_.vars.repeatRefresh&&_._initted&&_.invalidate())),it!==rt||_reverting$1||nt||_._zTime===_tinyNum||!et&&_._zTime){if(!_._initted&&_attemptInitTween(_,et,nt,tt,ot))return;for(ct=_._zTime,_._zTime=et||(tt?_tinyNum:0),tt||(tt=et&&!ct),_.ratio=it,_._from&&(it=1-it),_._time=0,_._tTime=ot,at=_._pt;at;)at.r(it,at.d),at=at._next;et<0&&_rewindStartAt(_,et,tt,!0),_._onUpdate&&!tt&&_callback(_,"onUpdate"),ot&&_._repeat&&!tt&&_.parent&&_callback(_,"onRepeat"),(et>=_._tDur||et<0)&&_.ratio===it&&(it&&_removeFromParent(_,1),!tt&&!_reverting$1&&(_callback(_,it?"onComplete":"onReverseComplete",!0),_._prom&&_._prom()))}else _._zTime||(_._zTime=et)},_findNextPauseTween=function(_,et,tt){var nt;if(tt>et)for(nt=_._first;nt&&nt._start<=tt;){if(nt.data==="isPause"&&nt._start>et)return nt;nt=nt._next}else for(nt=_._last;nt&&nt._start>=tt;){if(nt.data==="isPause"&&nt._start<et)return nt;nt=nt._prev}},_setDuration=function(_,et,tt,nt){var rt=_._repeat,it=_roundPrecise(et)||0,st=_._tTime/_._tDur;return st&&!nt&&(_._time*=it/_._dur),_._dur=it,_._tDur=rt?rt<0?1e10:_roundPrecise(it*(rt+1)+_._rDelay*rt):it,st>0&&!nt&&_alignPlayhead(_,_._tTime=_._tDur*st),_.parent&&_setEnd(_),tt||_uncache(_.parent,_),_},_onUpdateTotalDuration=function(_){return _ instanceof Timeline?_uncache(_):_setDuration(_,_._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition=function _e(_,et,tt){var nt=_.labels,rt=_._recent||_zeroPosition,it=_.duration()>=_bigNum$1?rt.endTime(!1):_._dur,st,ot,at;return _isString$1(et)&&(isNaN(et)||et in nt)?(ot=et.charAt(0),at=et.substr(-1)==="%",st=et.indexOf("="),ot==="<"||ot===">"?(st>=0&&(et=et.replace(/=/,"")),(ot==="<"?rt._start:rt.endTime(rt._repeat>=0))+(parseFloat(et.substr(1))||0)*(at?(st<0?rt:tt).totalDuration()/100:1)):st<0?(et in nt||(nt[et]=it),nt[et]):(ot=parseFloat(et.charAt(st-1)+et.substr(st+1)),at&&tt&&(ot=ot/100*(_isArray(tt)?tt[0]:tt).totalDuration()),st>1?_e(_,et.substr(0,st-1),tt)+ot:it+ot)):et==null?it:+et},_createTweenType=function(_,et,tt){var nt=_isNumber(et[1]),rt=(nt?2:1)+(_<2?0:1),it=et[rt],st,ot;if(nt&&(it.duration=et[1]),it.parent=tt,_){for(st=it,ot=tt;ot&&!("immediateRender"in st);)st=ot.vars.defaults||{},ot=_isNotFalse(ot.vars.inherit)&&ot.parent;it.immediateRender=_isNotFalse(st.immediateRender),_<2?it.runBackwards=1:it.startAt=et[rt-1]}return new Tween(et[0],it,et[rt+1])},_conditionalReturn=function(_,et){return _||_===0?et(_):et},_clamp=function(_,et,tt){return tt<_?_:tt>et?et:tt},getUnit$1=function(_,et){return!_isString$1(_)||!(et=_unitExp.exec(_))?"":et[1]},clamp$4=function(_,et,tt){return _conditionalReturn(tt,function(nt){return _clamp(_,et,nt)})},_slice=[].slice,_isArrayLike=function(_,et){return _&&_isObject(_)&&"length"in _&&(!et&&!_.length||_.length-1 in _&&_isObject(_[0]))&&!_.nodeType&&_!==_win$1},_flatten=function(_,et,tt){return tt===void 0&&(tt=[]),_.forEach(function(nt){var rt;return _isString$1(nt)&&!et||_isArrayLike(nt,1)?(rt=tt).push.apply(rt,toArray$1(nt)):tt.push(nt)})||tt},toArray$1=function(_,et,tt){return _context$1&&!et&&_context$1.selector?_context$1.selector(_):_isString$1(_)&&!tt&&(_coreInitted$1||!_wake())?_slice.call((et||_doc$1).querySelectorAll(_),0):_isArray(_)?_flatten(_,tt):_isArrayLike(_)?_slice.call(_,0):_?[_]:[]},selector=function(_){return _=toArray$1(_)[0]||_warn("Invalid scope")||{},function(et){var tt=_.current||_.nativeElement||_;return toArray$1(et,tt.querySelectorAll?tt:tt===_?_warn("Invalid scope")||_doc$1.createElement("div"):_)}},shuffle=function(_){return _.sort(function(){return .5-Math.random()})},distribute=function(_){if(_isFunction$1(_))return _;var et=_isObject(_)?_:{each:_},tt=_parseEase(et.ease),nt=et.from||0,rt=parseFloat(et.base)||0,it={},st=nt>0&&nt<1,ot=isNaN(nt)||st,at=et.axis,lt=nt,ct=nt;return _isString$1(nt)?lt=ct={center:.5,edges:.5,end:1}[nt]||0:!st&&ot&&(lt=nt[0],ct=nt[1]),function(ut,ft,ht){var vt=(ht||et).length,mt=it[vt],pt,yt,_t,St,Et,wt,Mt,At,Tt;if(!mt){if(Tt=et.grid==="auto"?0:(et.grid||[1,_bigNum$1])[1],!Tt){for(Mt=-_bigNum$1;Mt<(Mt=ht[Tt++].getBoundingClientRect().left)&&Tt<vt;);Tt--}for(mt=it[vt]=[],pt=ot?Math.min(Tt,vt)*lt-.5:nt%Tt,yt=Tt===_bigNum$1?0:ot?vt*ct/Tt-.5:nt/Tt|0,Mt=0,At=_bigNum$1,wt=0;wt<vt;wt++)_t=wt%Tt-pt,St=yt-(wt/Tt|0),mt[wt]=Et=at?Math.abs(at==="y"?St:_t):_sqrt(_t*_t+St*St),Et>Mt&&(Mt=Et),Et<At&&(At=Et);nt==="random"&&shuffle(mt),mt.max=Mt-At,mt.min=At,mt.v=vt=(parseFloat(et.amount)||parseFloat(et.each)*(Tt>vt?vt-1:at?at==="y"?vt/Tt:Tt:Math.max(Tt,vt/Tt))||0)*(nt==="edges"?-1:1),mt.b=vt<0?rt-vt:rt,mt.u=getUnit$1(et.amount||et.each)||0,tt=tt&&vt<0?_invertEase(tt):tt}return vt=(mt[ut]-mt.min)/mt.max||0,_roundPrecise(mt.b+(tt?tt(vt):vt)*mt.v)+mt.u}},_roundModifier=function(_){var et=Math.pow(10,((_+"").split(".")[1]||"").length);return function(tt){var nt=_roundPrecise(Math.round(parseFloat(tt)/_)*_*et);return(nt-nt%1)/et+(_isNumber(tt)?0:getUnit$1(tt))}},snap=function(_,et){var tt=_isArray(_),nt,rt;return!tt&&_isObject(_)&&(nt=tt=_.radius||_bigNum$1,_.values?(_=toArray$1(_.values),(rt=!_isNumber(_[0]))&&(nt*=nt)):_=_roundModifier(_.increment)),_conditionalReturn(et,tt?_isFunction$1(_)?function(it){return rt=_(it),Math.abs(rt-it)<=nt?rt:it}:function(it){for(var st=parseFloat(rt?it.x:it),ot=parseFloat(rt?it.y:0),at=_bigNum$1,lt=0,ct=_.length,ut,ft;ct--;)rt?(ut=_[ct].x-st,ft=_[ct].y-ot,ut=ut*ut+ft*ft):ut=Math.abs(_[ct]-st),ut<at&&(at=ut,lt=ct);return lt=!nt||at<=nt?_[lt]:it,rt||lt===it||_isNumber(it)?lt:lt+getUnit$1(it)}:_roundModifier(_))},random=function(_,et,tt,nt){return _conditionalReturn(_isArray(_)?!et:tt===!0?!!(tt=0):!nt,function(){return _isArray(_)?_[~~(Math.random()*_.length)]:(tt=tt||1e-5)&&(nt=tt<1?Math.pow(10,(tt+"").length-2):1)&&Math.floor(Math.round((_-tt/2+Math.random()*(et-_+tt*.99))/tt)*tt*nt)/nt})},pipe=function(){for(var _=arguments.length,et=new Array(_),tt=0;tt<_;tt++)et[tt]=arguments[tt];return function(nt){return et.reduce(function(rt,it){return it(rt)},nt)}},unitize=function(_,et){return function(tt){return _(parseFloat(tt))+(et||getUnit$1(tt))}},normalize$6=function(_,et,tt){return mapRange(_,et,0,1,tt)},_wrapArray=function(_,et,tt){return _conditionalReturn(tt,function(nt){return _[~~et(nt)]})},wrap=function _e(_,et,tt){var nt=et-_;return _isArray(_)?_wrapArray(_,_e(0,_.length),et):_conditionalReturn(tt,function(rt){return(nt+(rt-_)%nt)%nt+_})},wrapYoyo=function _e(_,et,tt){var nt=et-_,rt=nt*2;return _isArray(_)?_wrapArray(_,_e(0,_.length-1),et):_conditionalReturn(tt,function(it){return it=(rt+(it-_)%rt)%rt||0,_+(it>nt?rt-it:it)})},_replaceRandom=function(_){for(var et=0,tt="",nt,rt,it,st;~(nt=_.indexOf("random(",et));)it=_.indexOf(")",nt),st=_.charAt(nt+7)==="[",rt=_.substr(nt+7,it-nt-7).match(st?_delimitedValueExp:_strictNumExp),tt+=_.substr(et,nt-et)+random(st?rt:+rt[0],st?0:+rt[1],+rt[2]||1e-5),et=it+1;return tt+_.substr(et,_.length-et)},mapRange=function(_,et,tt,nt,rt){var it=et-_,st=nt-tt;return _conditionalReturn(rt,function(ot){return tt+((ot-_)/it*st||0)})},interpolate=function _e(_,et,tt,nt){var rt=isNaN(_+et)?0:function(ft){return(1-ft)*_+ft*et};if(!rt){var it=_isString$1(_),st={},ot,at,lt,ct,ut;if(tt===!0&&(nt=1)&&(tt=null),it)_={p:_},et={p:et};else if(_isArray(_)&&!_isArray(et)){for(lt=[],ct=_.length,ut=ct-2,at=1;at<ct;at++)lt.push(_e(_[at-1],_[at]));ct--,rt=function(ht){ht*=ct;var vt=Math.min(ut,~~ht);return lt[vt](ht-vt)},tt=et}else nt||(_=_merge(_isArray(_)?[]:{},_));if(!lt){for(ot in et)_addPropTween.call(st,_,ot,"get",et[ot]);rt=function(ht){return _renderPropTweens(ht,st)||(it?_.p:_)}}}return _conditionalReturn(tt,rt)},_getLabelInDirection=function(_,et,tt){var nt=_.labels,rt=_bigNum$1,it,st,ot;for(it in nt)st=nt[it]-et,st<0==!!tt&&st&&rt>(st=Math.abs(st))&&(ot=it,rt=st);return ot},_callback=function(_,et,tt){var nt=_.vars,rt=nt[et],it=_context$1,st=_._ctx,ot,at,lt;if(rt)return ot=nt[et+"Params"],at=nt.callbackScope||_,tt&&_lazyTweens.length&&_lazyRender(),st&&(_context$1=st),lt=ot?rt.apply(at,ot):rt.call(at),_context$1=it,lt},_interrupt=function(_){return _removeFromParent(_),_.scrollTrigger&&_.scrollTrigger.kill(!!_reverting$1),_.progress()<1&&_callback(_,"onInterrupt"),_},_quickTween,_registerPluginQueue=[],_createPlugin=function(_){if(_windowExists$2()&&_){_=!_.name&&_.default||_;var et=_.name,tt=_isFunction$1(_),nt=et&&!tt&&_.init?function(){this._props=[]}:_,rt={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},it={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),_!==nt){if(_plugins[et])return;_setDefaults(nt,_setDefaults(_copyExcluding(_,rt),it)),_merge(nt.prototype,_merge(rt,_copyExcluding(_,it))),_plugins[nt.prop=et]=nt,_.targetTest&&(_harnessPlugins.push(nt),_reservedProps[et]=1),et=(et==="css"?"CSS":et.charAt(0).toUpperCase()+et.substr(1))+"Plugin"}_addGlobal(et,nt),_.register&&_.register(gsap$2,nt,PropTween)}else _&&_registerPluginQueue.push(_)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function(_,et,tt){return _+=_<0?1:_>1?-1:0,(_*6<1?et+(tt-et)*_*6:_<.5?tt:_*3<2?et+(tt-et)*(2/3-_)*6:et)*_255+.5|0},splitColor=function(_,et,tt){var nt=_?_isNumber(_)?[_>>16,_>>8&_255,_&_255]:0:_colorLookup.black,rt,it,st,ot,at,lt,ct,ut,ft,ht;if(!nt){if(_.substr(-1)===","&&(_=_.substr(0,_.length-1)),_colorLookup[_])nt=_colorLookup[_];else if(_.charAt(0)==="#"){if(_.length<6&&(rt=_.charAt(1),it=_.charAt(2),st=_.charAt(3),_="#"+rt+rt+it+it+st+st+(_.length===5?_.charAt(4)+_.charAt(4):"")),_.length===9)return nt=parseInt(_.substr(1,6),16),[nt>>16,nt>>8&_255,nt&_255,parseInt(_.substr(7),16)/255];_=parseInt(_.substr(1),16),nt=[_>>16,_>>8&_255,_&_255]}else if(_.substr(0,3)==="hsl"){if(nt=ht=_.match(_strictNumExp),!et)ot=+nt[0]%360/360,at=+nt[1]/100,lt=+nt[2]/100,it=lt<=.5?lt*(at+1):lt+at-lt*at,rt=lt*2-it,nt.length>3&&(nt[3]*=1),nt[0]=_hue(ot+1/3,rt,it),nt[1]=_hue(ot,rt,it),nt[2]=_hue(ot-1/3,rt,it);else if(~_.indexOf("="))return nt=_.match(_numExp),tt&&nt.length<4&&(nt[3]=1),nt}else nt=_.match(_strictNumExp)||_colorLookup.transparent;nt=nt.map(Number)}return et&&!ht&&(rt=nt[0]/_255,it=nt[1]/_255,st=nt[2]/_255,ct=Math.max(rt,it,st),ut=Math.min(rt,it,st),lt=(ct+ut)/2,ct===ut?ot=at=0:(ft=ct-ut,at=lt>.5?ft/(2-ct-ut):ft/(ct+ut),ot=ct===rt?(it-st)/ft+(it<st?6:0):ct===it?(st-rt)/ft+2:(rt-it)/ft+4,ot*=60),nt[0]=~~(ot+.5),nt[1]=~~(at*100+.5),nt[2]=~~(lt*100+.5)),tt&&nt.length<4&&(nt[3]=1),nt},_colorOrderData=function(_){var et=[],tt=[],nt=-1;return _.split(_colorExp).forEach(function(rt){var it=rt.match(_numWithUnitExp)||[];et.push.apply(et,it),tt.push(nt+=it.length+1)}),et.c=tt,et},_formatColors=function(_,et,tt){var nt="",rt=(_+nt).match(_colorExp),it=et?"hsla(":"rgba(",st=0,ot,at,lt,ct;if(!rt)return _;if(rt=rt.map(function(ut){return(ut=splitColor(ut,et,1))&&it+(et?ut[0]+","+ut[1]+"%,"+ut[2]+"%,"+ut[3]:ut.join(","))+")"}),tt&&(lt=_colorOrderData(_),ot=tt.c,ot.join(nt)!==lt.c.join(nt)))for(at=_.replace(_colorExp,"1").split(_numWithUnitExp),ct=at.length-1;st<ct;st++)nt+=at[st]+(~ot.indexOf(st)?rt.shift()||it+"0,0,0,0)":(lt.length?lt:rt.length?rt:tt).shift());if(!at)for(at=_.split(_colorExp),ct=at.length-1;st<ct;st++)nt+=at[st]+rt[st];return nt+at[ct]},_colorExp=function(){var _e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",_;for(_ in _colorLookup)_e+="|"+_+"\\b";return new RegExp(_e+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function(_){var et=_.join(" "),tt;if(_colorExp.lastIndex=0,_colorExp.test(et))return tt=_hslExp.test(et),_[1]=_formatColors(_[1],tt),_[0]=_formatColors(_[0],tt,_colorOrderData(_[1])),!0},_tickerActive,_ticker=function(){var _e=Date.now,_=500,et=33,tt=_e(),nt=tt,rt=1e3/240,it=rt,st=[],ot,at,lt,ct,ut,ft,ht=function vt(mt){var pt=_e()-nt,yt=mt===!0,_t,St,Et,wt;if(pt>_&&(tt+=pt-et),nt+=pt,Et=nt-tt,_t=Et-it,(_t>0||yt)&&(wt=++ct.frame,ut=Et-ct.time*1e3,ct.time=Et=Et/1e3,it+=_t+(_t>=rt?4:rt-_t),St=1),yt||(ot=at(vt)),St)for(ft=0;ft<st.length;ft++)st[ft](Et,ut,wt,mt)};return ct={time:0,frame:0,tick:function(){ht(!0)},deltaRatio:function(mt){return ut/(1e3/(mt||60))},wake:function(){_coreReady&&(!_coreInitted$1&&_windowExists$2()&&(_win$1=_coreInitted$1=window,_doc$1=_win$1.document||{},_globals.gsap=gsap$2,(_win$1.gsapVersions||(_win$1.gsapVersions=[])).push(gsap$2.version),_install(_installScope||_win$1.GreenSockGlobals||!_win$1.gsap&&_win$1||{}),lt=_win$1.requestAnimationFrame,_registerPluginQueue.forEach(_createPlugin)),ot&&ct.sleep(),at=lt||function(mt){return setTimeout(mt,it-ct.time*1e3+1|0)},_tickerActive=1,ht(2))},sleep:function(){(lt?_win$1.cancelAnimationFrame:clearTimeout)(ot),_tickerActive=0,at=_emptyFunc},lagSmoothing:function(mt,pt){_=mt||1/0,et=Math.min(pt||33,_)},fps:function(mt){rt=1e3/(mt||240),it=ct.time*1e3+rt},add:function(mt,pt,yt){var _t=pt?function(St,Et,wt,Mt){mt(St,Et,wt,Mt),ct.remove(_t)}:mt;return ct.remove(mt),st[yt?"unshift":"push"](_t),_wake(),_t},remove:function(mt,pt){~(pt=st.indexOf(mt))&&st.splice(pt,1)&&ft>=pt&&ft--},_listeners:st},ct}(),_wake=function(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function(_){for(var et={},tt=_.substr(1,_.length-3).split(":"),nt=tt[0],rt=1,it=tt.length,st,ot,at;rt<it;rt++)ot=tt[rt],st=rt!==it-1?ot.lastIndexOf(","):ot.length,at=ot.substr(0,st),et[nt]=isNaN(at)?at.replace(_quotesExp,"").trim():+at,nt=ot.substr(st+1).trim();return et},_valueInParentheses=function(_){var et=_.indexOf("(")+1,tt=_.indexOf(")"),nt=_.indexOf("(",et);return _.substring(et,~nt&&nt<tt?_.indexOf(")",tt+1):tt)},_configEaseFromString=function(_){var et=(_+"").split("("),tt=_easeMap[et[0]];return tt&&et.length>1&&tt.config?tt.config.apply(null,~_.indexOf("{")?[_parseObjectInString(et[1])]:_valueInParentheses(_).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(_)?_easeMap._CE("",_):tt},_invertEase=function(_){return function(et){return 1-_(1-et)}},_propagateYoyoEase=function _e(_,et){for(var tt=_._first,nt;tt;)tt instanceof Timeline?_e(tt,et):tt.vars.yoyoEase&&(!tt._yoyo||!tt._repeat)&&tt._yoyo!==et&&(tt.timeline?_e(tt.timeline,et):(nt=tt._ease,tt._ease=tt._yEase,tt._yEase=nt,tt._yoyo=et)),tt=tt._next},_parseEase=function(_,et){return _&&(_isFunction$1(_)?_:_easeMap[_]||_configEaseFromString(_))||et},_insertEase=function(_,et,tt,nt){tt===void 0&&(tt=function(ot){return 1-et(1-ot)}),nt===void 0&&(nt=function(ot){return ot<.5?et(ot*2)/2:1-et((1-ot)*2)/2});var rt={easeIn:et,easeOut:tt,easeInOut:nt},it;return _forEachName(_,function(st){_easeMap[st]=_globals[st]=rt,_easeMap[it=st.toLowerCase()]=tt;for(var ot in rt)_easeMap[it+(ot==="easeIn"?".in":ot==="easeOut"?".out":".inOut")]=_easeMap[st+"."+ot]=rt[ot]}),rt},_easeInOutFromOut=function(_){return function(et){return et<.5?(1-_(1-et*2))/2:.5+_((et-.5)*2)/2}},_configElastic=function _e(_,et,tt){var nt=et>=1?et:1,rt=(tt||(_?.3:.45))/(et<1?et:1),it=rt/_2PI*(Math.asin(1/nt)||0),st=function(lt){return lt===1?1:nt*Math.pow(2,-10*lt)*_sin((lt-it)*rt)+1},ot=_==="out"?st:_==="in"?function(at){return 1-st(1-at)}:_easeInOutFromOut(st);return rt=_2PI/rt,ot.config=function(at,lt){return _e(_,at,lt)},ot},_configBack=function _e(_,et){et===void 0&&(et=1.70158);var tt=function(it){return it?--it*it*((et+1)*it+et)+1:0},nt=_==="out"?tt:_==="in"?function(rt){return 1-tt(1-rt)}:_easeInOutFromOut(tt);return nt.config=function(rt){return _e(_,rt)},nt};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(_e,_){var et=_<5?_+1:_;_insertEase(_e+",Power"+(et-1),_?function(tt){return Math.pow(tt,et)}:function(tt){return tt},function(tt){return 1-Math.pow(1-tt,et)},function(tt){return tt<.5?Math.pow(tt*2,et)/2:1-Math.pow((1-tt)*2,et)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(_e,_){var et=1/_,tt=2*et,nt=2.5*et,rt=function(st){return st<et?_e*st*st:st<tt?_e*Math.pow(st-1.5/_,2)+.75:st<nt?_e*(st-=2.25/_)*st+.9375:_e*Math.pow(st-2.625/_,2)+.984375};_insertEase("Bounce",function(it){return 1-rt(1-it)},rt)})(7.5625,2.75);_insertEase("Expo",function(_e){return _e?Math.pow(2,10*(_e-1)):0});_insertEase("Circ",function(_e){return-(_sqrt(1-_e*_e)-1)});_insertEase("Sine",function(_e){return _e===1?1:-_cos(_e*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function(_,et){_===void 0&&(_=1);var tt=1/_,nt=_+(et?0:1),rt=et?1:0,it=1-_tinyNum;return function(st){return((nt*_clamp(0,it,st)|0)+rt)*tt}}};_defaults.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(_e){return _callbackNames+=_e+","+_e+"Params,"});var GSCache=function(_,et){this.id=_gsID++,_._gsap=this,this.target=_,this.harness=et,this.get=et?et.get:_getProperty,this.set=et?et.getSetter:_getSetter},Animation=function(){function _e(et){this.vars=et,this._delay=+et.delay||0,(this._repeat=et.repeat===1/0?-2:et.repeat||0)&&(this._rDelay=et.repeatDelay||0,this._yoyo=!!et.yoyo||!!et.yoyoEase),this._ts=1,_setDuration(this,+et.duration,1,1),this.data=et.data,_context$1&&(this._ctx=_context$1,_context$1.data.push(this)),_tickerActive||_ticker.wake()}var _=_e.prototype;return _.delay=function(tt){return tt||tt===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+tt-this._delay),this._delay=tt,this):this._delay},_.duration=function(tt){return arguments.length?this.totalDuration(this._repeat>0?tt+(tt+this._rDelay)*this._repeat:tt):this.totalDuration()&&this._dur},_.totalDuration=function(tt){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?tt:(tt-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},_.totalTime=function(tt,nt){if(_wake(),!arguments.length)return this._tTime;var rt=this._dp;if(rt&&rt.smoothChildTiming&&this._ts){for(_alignPlayhead(this,tt),!rt._dp||rt.parent||_postAddChecks(rt,this);rt&&rt.parent;)rt.parent._time!==rt._start+(rt._ts>=0?rt._tTime/rt._ts:(rt.totalDuration()-rt._tTime)/-rt._ts)&&rt.totalTime(rt._tTime,!0),rt=rt.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&tt<this._tDur||this._ts<0&&tt>0||!this._tDur&&!tt)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==tt||!this._dur&&!nt||this._initted&&Math.abs(this._zTime)===_tinyNum||!tt&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=tt),_lazySafeRender(this,tt,nt)),this},_.time=function(tt,nt){return arguments.length?this.totalTime(Math.min(this.totalDuration(),tt+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(tt?this._dur:0),nt):this._time},_.totalProgress=function(tt,nt){return arguments.length?this.totalTime(this.totalDuration()*tt,nt):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},_.progress=function(tt,nt){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-tt:tt)+_elapsedCycleDuration(this),nt):this.duration()?Math.min(1,this._time/this._dur):this.ratio},_.iteration=function(tt,nt){var rt=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(tt-1)*rt,nt):this._repeat?_animationCycle(this._tTime,rt)+1:1},_.timeScale=function(tt){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===tt)return this;var nt=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+tt||0,this._ts=this._ps||tt===-_tinyNum?0:this._rts,this.totalTime(_clamp(-Math.abs(this._delay),this._tDur,nt),!0),_setEnd(this),_recacheAncestors(this)},_.paused=function(tt){return arguments.length?(this._ps!==tt&&(this._ps=tt,tt?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},_.startTime=function(tt){if(arguments.length){this._start=tt;var nt=this.parent||this._dp;return nt&&(nt._sort||!this.parent)&&_addToTimeline(nt,this,tt-this._delay),this}return this._start},_.endTime=function(tt){return this._start+(_isNotFalse(tt)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},_.rawTime=function(tt){var nt=this.parent||this._dp;return nt?tt&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(nt.rawTime(tt),this):this._tTime:this._tTime},_.revert=function(tt){tt===void 0&&(tt=_revertConfig);var nt=_reverting$1;return _reverting$1=tt,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(tt),this.totalTime(-.01,tt.suppressEvents)),this.data!=="nested"&&tt.kill!==!1&&this.kill(),_reverting$1=nt,this},_.globalTime=function(tt){for(var nt=this,rt=arguments.length?tt:nt.rawTime();nt;)rt=nt._start+rt/(nt._ts||1),nt=nt._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(tt):rt},_.repeat=function(tt){return arguments.length?(this._repeat=tt===1/0?-2:tt,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},_.repeatDelay=function(tt){if(arguments.length){var nt=this._time;return this._rDelay=tt,_onUpdateTotalDuration(this),nt?this.time(nt):this}return this._rDelay},_.yoyo=function(tt){return arguments.length?(this._yoyo=tt,this):this._yoyo},_.seek=function(tt,nt){return this.totalTime(_parsePosition(this,tt),_isNotFalse(nt))},_.restart=function(tt,nt){return this.play().totalTime(tt?-this._delay:0,_isNotFalse(nt))},_.play=function(tt,nt){return tt!=null&&this.seek(tt,nt),this.reversed(!1).paused(!1)},_.reverse=function(tt,nt){return tt!=null&&this.seek(tt||this.totalDuration(),nt),this.reversed(!0).paused(!1)},_.pause=function(tt,nt){return tt!=null&&this.seek(tt,nt),this.paused(!0)},_.resume=function(){return this.paused(!1)},_.reversed=function(tt){return arguments.length?(!!tt!==this.reversed()&&this.timeScale(-this._rts||(tt?-_tinyNum:0)),this):this._rts<0},_.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},_.isActive=function(){var tt=this.parent||this._dp,nt=this._start,rt;return!!(!tt||this._ts&&this._initted&&tt.isActive()&&(rt=tt.rawTime(!0))>=nt&&rt<this.endTime(!0)-_tinyNum)},_.eventCallback=function(tt,nt,rt){var it=this.vars;return arguments.length>1?(nt?(it[tt]=nt,rt&&(it[tt+"Params"]=rt),tt==="onUpdate"&&(this._onUpdate=nt)):delete it[tt],this):it[tt]},_.then=function(tt){var nt=this;return new Promise(function(rt){var it=_isFunction$1(tt)?tt:_passThrough,st=function(){var at=nt.then;nt.then=null,_isFunction$1(it)&&(it=it(nt))&&(it.then||it===nt)&&(nt.then=at),rt(it),nt.then=at};nt._initted&&nt.totalProgress()===1&&nt._ts>=0||!nt._tTime&&nt._ts<0?st():nt._prom=st})},_.kill=function(){_interrupt(this)},_e}();_setDefaults(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(_e){_inheritsLoose(_,_e);function _(tt,nt){var rt;return tt===void 0&&(tt={}),rt=_e.call(this,tt)||this,rt.labels={},rt.smoothChildTiming=!!tt.smoothChildTiming,rt.autoRemoveChildren=!!tt.autoRemoveChildren,rt._sort=_isNotFalse(tt.sortChildren),_globalTimeline&&_addToTimeline(tt.parent||_globalTimeline,_assertThisInitialized(rt),nt),tt.reversed&&rt.reverse(),tt.paused&&rt.paused(!0),tt.scrollTrigger&&_scrollTrigger(_assertThisInitialized(rt),tt.scrollTrigger),rt}var et=_.prototype;return et.to=function(nt,rt,it){return _createTweenType(0,arguments,this),this},et.from=function(nt,rt,it){return _createTweenType(1,arguments,this),this},et.fromTo=function(nt,rt,it,st){return _createTweenType(2,arguments,this),this},et.set=function(nt,rt,it){return rt.duration=0,rt.parent=this,_inheritDefaults(rt).repeatDelay||(rt.repeat=0),rt.immediateRender=!!rt.immediateRender,new Tween(nt,rt,_parsePosition(this,it),1),this},et.call=function(nt,rt,it){return _addToTimeline(this,Tween.delayedCall(0,nt,rt),it)},et.staggerTo=function(nt,rt,it,st,ot,at,lt){return it.duration=rt,it.stagger=it.stagger||st,it.onComplete=at,it.onCompleteParams=lt,it.parent=this,new Tween(nt,it,_parsePosition(this,ot)),this},et.staggerFrom=function(nt,rt,it,st,ot,at,lt){return it.runBackwards=1,_inheritDefaults(it).immediateRender=_isNotFalse(it.immediateRender),this.staggerTo(nt,rt,it,st,ot,at,lt)},et.staggerFromTo=function(nt,rt,it,st,ot,at,lt,ct){return st.startAt=it,_inheritDefaults(st).immediateRender=_isNotFalse(st.immediateRender),this.staggerTo(nt,rt,st,ot,at,lt,ct)},et.render=function(nt,rt,it){var st=this._time,ot=this._dirty?this.totalDuration():this._tDur,at=this._dur,lt=nt<=0?0:_roundPrecise(nt),ct=this._zTime<0!=nt<0&&(this._initted||!at),ut,ft,ht,vt,mt,pt,yt,_t,St,Et,wt,Mt;if(this!==_globalTimeline&&lt>ot&&nt>=0&&(lt=ot),lt!==this._tTime||it||ct){if(st!==this._time&&at&&(lt+=this._time-st,nt+=this._time-st),ut=lt,St=this._start,_t=this._ts,pt=!_t,ct&&(at||(st=this._zTime),(nt||!rt)&&(this._zTime=nt)),this._repeat){if(wt=this._yoyo,mt=at+this._rDelay,this._repeat<-1&&nt<0)return this.totalTime(mt*100+nt,rt,it);if(ut=_roundPrecise(lt%mt),lt===ot?(vt=this._repeat,ut=at):(vt=~~(lt/mt),vt&&vt===lt/mt&&(ut=at,vt--),ut>at&&(ut=at)),Et=_animationCycle(this._tTime,mt),!st&&this._tTime&&Et!==vt&&this._tTime-Et*mt-this._dur<=0&&(Et=vt),wt&&vt&1&&(ut=at-ut,Mt=1),vt!==Et&&!this._lock){var At=wt&&Et&1,Tt=At===(wt&&vt&1);if(vt<Et&&(At=!At),st=At?0:lt%at?at:lt,this._lock=1,this.render(st||(Mt?0:_roundPrecise(vt*mt)),rt,!at)._lock=0,this._tTime=lt,!rt&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!Mt&&(this.invalidate()._lock=1),st&&st!==this._time||pt!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(at=this._dur,ot=this._tDur,Tt&&(this._lock=2,st=At?at:-1e-4,this.render(st,!0),this.vars.repeatRefresh&&!Mt&&this.invalidate()),this._lock=0,!this._ts&&!pt)return this;_propagateYoyoEase(this,Mt)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(yt=_findNextPauseTween(this,_roundPrecise(st),_roundPrecise(ut)),yt&&(lt-=ut-(ut=yt._start))),this._tTime=lt,this._time=ut,this._act=!_t,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=nt,st=0),!st&&ut&&!rt&&!vt&&(_callback(this,"onStart"),this._tTime!==lt))return this;if(ut>=st&&nt>=0)for(ft=this._first;ft;){if(ht=ft._next,(ft._act||ut>=ft._start)&&ft._ts&&yt!==ft){if(ft.parent!==this)return this.render(nt,rt,it);if(ft.render(ft._ts>0?(ut-ft._start)*ft._ts:(ft._dirty?ft.totalDuration():ft._tDur)+(ut-ft._start)*ft._ts,rt,it),ut!==this._time||!this._ts&&!pt){yt=0,ht&&(lt+=this._zTime=-_tinyNum);break}}ft=ht}else{ft=this._last;for(var Ct=nt<0?nt:ut;ft;){if(ht=ft._prev,(ft._act||Ct<=ft._end)&&ft._ts&&yt!==ft){if(ft.parent!==this)return this.render(nt,rt,it);if(ft.render(ft._ts>0?(Ct-ft._start)*ft._ts:(ft._dirty?ft.totalDuration():ft._tDur)+(Ct-ft._start)*ft._ts,rt,it||_reverting$1&&(ft._initted||ft._startAt)),ut!==this._time||!this._ts&&!pt){yt=0,ht&&(lt+=this._zTime=Ct?-_tinyNum:_tinyNum);break}}ft=ht}}if(yt&&!rt&&(this.pause(),yt.render(ut>=st?0:-_tinyNum)._zTime=ut>=st?1:-1,this._ts))return this._start=St,_setEnd(this),this.render(nt,rt,it);this._onUpdate&&!rt&&_callback(this,"onUpdate",!0),(lt===ot&&this._tTime>=this.totalDuration()||!lt&&st)&&(St===this._start||Math.abs(_t)!==Math.abs(this._ts))&&(this._lock||((nt||!at)&&(lt===ot&&this._ts>0||!lt&&this._ts<0)&&_removeFromParent(this,1),!rt&&!(nt<0&&!st)&&(lt||st||!ot)&&(_callback(this,lt===ot&&nt>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(lt<ot&&this.timeScale()>0)&&this._prom())))}return this},et.add=function(nt,rt){var it=this;if(_isNumber(rt)||(rt=_parsePosition(this,rt,nt)),!(nt instanceof Animation)){if(_isArray(nt))return nt.forEach(function(st){return it.add(st,rt)}),this;if(_isString$1(nt))return this.addLabel(nt,rt);if(_isFunction$1(nt))nt=Tween.delayedCall(0,nt);else return this}return this!==nt?_addToTimeline(this,nt,rt):this},et.getChildren=function(nt,rt,it,st){nt===void 0&&(nt=!0),rt===void 0&&(rt=!0),it===void 0&&(it=!0),st===void 0&&(st=-_bigNum$1);for(var ot=[],at=this._first;at;)at._start>=st&&(at instanceof Tween?rt&&ot.push(at):(it&&ot.push(at),nt&&ot.push.apply(ot,at.getChildren(!0,rt,it)))),at=at._next;return ot},et.getById=function(nt){for(var rt=this.getChildren(1,1,1),it=rt.length;it--;)if(rt[it].vars.id===nt)return rt[it]},et.remove=function(nt){return _isString$1(nt)?this.removeLabel(nt):_isFunction$1(nt)?this.killTweensOf(nt):(_removeLinkedListItem(this,nt),nt===this._recent&&(this._recent=this._last),_uncache(this))},et.totalTime=function(nt,rt){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?nt/this._ts:(this.totalDuration()-nt)/-this._ts))),_e.prototype.totalTime.call(this,nt,rt),this._forcing=0,this):this._tTime},et.addLabel=function(nt,rt){return this.labels[nt]=_parsePosition(this,rt),this},et.removeLabel=function(nt){return delete this.labels[nt],this},et.addPause=function(nt,rt,it){var st=Tween.delayedCall(0,rt||_emptyFunc,it);return st.data="isPause",this._hasPause=1,_addToTimeline(this,st,_parsePosition(this,nt))},et.removePause=function(nt){var rt=this._first;for(nt=_parsePosition(this,nt);rt;)rt._start===nt&&rt.data==="isPause"&&_removeFromParent(rt),rt=rt._next},et.killTweensOf=function(nt,rt,it){for(var st=this.getTweensOf(nt,it),ot=st.length;ot--;)_overwritingTween!==st[ot]&&st[ot].kill(nt,rt);return this},et.getTweensOf=function(nt,rt){for(var it=[],st=toArray$1(nt),ot=this._first,at=_isNumber(rt),lt;ot;)ot instanceof Tween?_arrayContainsAny(ot._targets,st)&&(at?(!_overwritingTween||ot._initted&&ot._ts)&&ot.globalTime(0)<=rt&&ot.globalTime(ot.totalDuration())>rt:!rt||ot.isActive())&&it.push(ot):(lt=ot.getTweensOf(st,rt)).length&&it.push.apply(it,lt),ot=ot._next;return it},et.tweenTo=function(nt,rt){rt=rt||{};var it=this,st=_parsePosition(it,nt),ot=rt,at=ot.startAt,lt=ot.onStart,ct=ot.onStartParams,ut=ot.immediateRender,ft,ht=Tween.to(it,_setDefaults({ease:rt.ease||"none",lazy:!1,immediateRender:!1,time:st,overwrite:"auto",duration:rt.duration||Math.abs((st-(at&&"time"in at?at.time:it._time))/it.timeScale())||_tinyNum,onStart:function(){if(it.pause(),!ft){var mt=rt.duration||Math.abs((st-(at&&"time"in at?at.time:it._time))/it.timeScale());ht._dur!==mt&&_setDuration(ht,mt,0,1).render(ht._time,!0,!0),ft=1}lt&&lt.apply(ht,ct||[])}},rt));return ut?ht.render(0):ht},et.tweenFromTo=function(nt,rt,it){return this.tweenTo(rt,_setDefaults({startAt:{time:_parsePosition(this,nt)}},it))},et.recent=function(){return this._recent},et.nextLabel=function(nt){return nt===void 0&&(nt=this._time),_getLabelInDirection(this,_parsePosition(this,nt))},et.previousLabel=function(nt){return nt===void 0&&(nt=this._time),_getLabelInDirection(this,_parsePosition(this,nt),1)},et.currentLabel=function(nt){return arguments.length?this.seek(nt,!0):this.previousLabel(this._time+_tinyNum)},et.shiftChildren=function(nt,rt,it){it===void 0&&(it=0);for(var st=this._first,ot=this.labels,at;st;)st._start>=it&&(st._start+=nt,st._end+=nt),st=st._next;if(rt)for(at in ot)ot[at]>=it&&(ot[at]+=nt);return _uncache(this)},et.invalidate=function(nt){var rt=this._first;for(this._lock=0;rt;)rt.invalidate(nt),rt=rt._next;return _e.prototype.invalidate.call(this,nt)},et.clear=function(nt){nt===void 0&&(nt=!0);for(var rt=this._first,it;rt;)it=rt._next,this.remove(rt),rt=it;return this._dp&&(this._time=this._tTime=this._pTime=0),nt&&(this.labels={}),_uncache(this)},et.totalDuration=function(nt){var rt=0,it=this,st=it._last,ot=_bigNum$1,at,lt,ct;if(arguments.length)return it.timeScale((it._repeat<0?it.duration():it.totalDuration())/(it.reversed()?-nt:nt));if(it._dirty){for(ct=it.parent;st;)at=st._prev,st._dirty&&st.totalDuration(),lt=st._start,lt>ot&&it._sort&&st._ts&&!it._lock?(it._lock=1,_addToTimeline(it,st,lt-st._delay,1)._lock=0):ot=lt,lt<0&&st._ts&&(rt-=lt,(!ct&&!it._dp||ct&&ct.smoothChildTiming)&&(it._start+=lt/it._ts,it._time-=lt,it._tTime-=lt),it.shiftChildren(-lt,!1,-1/0),ot=0),st._end>rt&&st._ts&&(rt=st._end),st=at;_setDuration(it,it===_globalTimeline&&it._time>rt?it._time:rt,1,1),it._dirty=0}return it._tDur},_.updateRoot=function(nt){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(nt,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config$1.autoSleep||120;var rt=_globalTimeline._first;if((!rt||!rt._ts)&&_config$1.autoSleep&&_ticker._listeners.length<2){for(;rt&&!rt._ts;)rt=rt._next;rt||_ticker.sleep()}}},_}(Animation);_setDefaults(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function(_,et,tt,nt,rt,it,st){var ot=new PropTween(this._pt,_,et,0,1,_renderComplexString,null,rt),at=0,lt=0,ct,ut,ft,ht,vt,mt,pt,yt;for(ot.b=tt,ot.e=nt,tt+="",nt+="",(pt=~nt.indexOf("random("))&&(nt=_replaceRandom(nt)),it&&(yt=[tt,nt],it(yt,_,et),tt=yt[0],nt=yt[1]),ut=tt.match(_complexStringNumExp)||[];ct=_complexStringNumExp.exec(nt);)ht=ct[0],vt=nt.substring(at,ct.index),ft?ft=(ft+1)%5:vt.substr(-5)==="rgba("&&(ft=1),ht!==ut[lt++]&&(mt=parseFloat(ut[lt-1])||0,ot._pt={_next:ot._pt,p:vt||lt===1?vt:",",s:mt,c:ht.charAt(1)==="="?_parseRelative(mt,ht)-mt:parseFloat(ht)-mt,m:ft&&ft<4?Math.round:0},at=_complexStringNumExp.lastIndex);return ot.c=at<nt.length?nt.substring(at,nt.length):"",ot.fp=st,(_relExp.test(nt)||pt)&&(ot.e=0),this._pt=ot,ot},_addPropTween=function(_,et,tt,nt,rt,it,st,ot,at,lt){_isFunction$1(nt)&&(nt=nt(rt||0,_,it));var ct=_[et],ut=tt!=="get"?tt:_isFunction$1(ct)?at?_[et.indexOf("set")||!_isFunction$1(_["get"+et.substr(3)])?et:"get"+et.substr(3)](at):_[et]():ct,ft=_isFunction$1(ct)?at?_setterFuncWithParam:_setterFunc:_setterPlain,ht;if(_isString$1(nt)&&(~nt.indexOf("random(")&&(nt=_replaceRandom(nt)),nt.charAt(1)==="="&&(ht=_parseRelative(ut,nt)+(getUnit$1(ut)||0),(ht||ht===0)&&(nt=ht))),!lt||ut!==nt||_forceAllPropTweens)return!isNaN(ut*nt)&&nt!==""?(ht=new PropTween(this._pt,_,et,+ut||0,nt-(ut||0),typeof ct=="boolean"?_renderBoolean:_renderPlain,0,ft),at&&(ht.fp=at),st&&ht.modifier(st,this,_),this._pt=ht):(!ct&&!(et in _)&&_missingPlugin(et,nt),_addComplexStringPropTween.call(this,_,et,ut,nt,ft,ot||_config$1.stringFilter,at))},_processVars=function(_,et,tt,nt,rt){if(_isFunction$1(_)&&(_=_parseFuncOrString(_,rt,et,tt,nt)),!_isObject(_)||_.style&&_.nodeType||_isArray(_)||_isTypedArray(_))return _isString$1(_)?_parseFuncOrString(_,rt,et,tt,nt):_;var it={},st;for(st in _)it[st]=_parseFuncOrString(_[st],rt,et,tt,nt);return it},_checkPlugin=function(_,et,tt,nt,rt,it){var st,ot,at,lt;if(_plugins[_]&&(st=new _plugins[_]).init(rt,st.rawVars?et[_]:_processVars(et[_],nt,rt,it,tt),tt,nt,it)!==!1&&(tt._pt=ot=new PropTween(tt._pt,rt,_,0,1,st.render,st,0,st.priority),tt!==_quickTween))for(at=tt._ptLookup[tt._targets.indexOf(rt)],lt=st._props.length;lt--;)at[st._props[lt]]=ot;return st},_overwritingTween,_forceAllPropTweens,_initTween=function _e(_,et,tt){var nt=_.vars,rt=nt.ease,it=nt.startAt,st=nt.immediateRender,ot=nt.lazy,at=nt.onUpdate,lt=nt.onUpdateParams,ct=nt.callbackScope,ut=nt.runBackwards,ft=nt.yoyoEase,ht=nt.keyframes,vt=nt.autoRevert,mt=_._dur,pt=_._startAt,yt=_._targets,_t=_.parent,St=_t&&_t.data==="nested"?_t.vars.targets:yt,Et=_._overwrite==="auto"&&!_suppressOverwrites,wt=_.timeline,Mt,At,Tt,Ct,Dt,$t,kt,It,Nt,Gt,Bt,Rt,Ot;if(wt&&(!ht||!rt)&&(rt="none"),_._ease=_parseEase(rt,_defaults.ease),_._yEase=ft?_invertEase(_parseEase(ft===!0?rt:ft,_defaults.ease)):0,ft&&_._yoyo&&!_._repeat&&(ft=_._yEase,_._yEase=_._ease,_._ease=ft),_._from=!wt&&!!nt.runBackwards,!wt||ht&&!nt.stagger){if(It=yt[0]?_getCache(yt[0]).harness:0,Rt=It&&nt[It.prop],Mt=_copyExcluding(nt,_reservedProps),pt&&(pt._zTime<0&&pt.progress(1),et<0&&ut&&st&&!vt?pt.render(-1,!0):pt.revert(ut&&mt?_revertConfigNoKill:_startAtRevertConfig),pt._lazy=0),it){if(_removeFromParent(_._startAt=Tween.set(yt,_setDefaults({data:"isStart",overwrite:!1,parent:_t,immediateRender:!0,lazy:!pt&&_isNotFalse(ot),startAt:null,delay:0,onUpdate:at,onUpdateParams:lt,callbackScope:ct,stagger:0},it))),_._startAt._dp=0,_._startAt._sat=_,et<0&&(_reverting$1||!st&&!vt)&&_._startAt.revert(_revertConfigNoKill),st&&mt&&et<=0&&tt<=0){et&&(_._zTime=et);return}}else if(ut&&mt&&!pt){if(et&&(st=!1),Tt=_setDefaults({overwrite:!1,data:"isFromStart",lazy:st&&!pt&&_isNotFalse(ot),immediateRender:st,stagger:0,parent:_t},Mt),Rt&&(Tt[It.prop]=Rt),_removeFromParent(_._startAt=Tween.set(yt,Tt)),_._startAt._dp=0,_._startAt._sat=_,et<0&&(_reverting$1?_._startAt.revert(_revertConfigNoKill):_._startAt.render(-1,!0)),_._zTime=et,!st)_e(_._startAt,_tinyNum,_tinyNum);else if(!et)return}for(_._pt=_._ptCache=0,ot=mt&&_isNotFalse(ot)||ot&&!mt,At=0;At<yt.length;At++){if(Dt=yt[At],kt=Dt._gsap||_harness(yt)[At]._gsap,_._ptLookup[At]=Gt={},_lazyLookup[kt.id]&&_lazyTweens.length&&_lazyRender(),Bt=St===yt?At:St.indexOf(Dt),It&&(Nt=new It).init(Dt,Rt||Mt,_,Bt,St)!==!1&&(_._pt=Ct=new PropTween(_._pt,Dt,Nt.name,0,1,Nt.render,Nt,0,Nt.priority),Nt._props.forEach(function(Ut){Gt[Ut]=Ct}),Nt.priority&&($t=1)),!It||Rt)for(Tt in Mt)_plugins[Tt]&&(Nt=_checkPlugin(Tt,Mt,_,Bt,Dt,St))?Nt.priority&&($t=1):Gt[Tt]=Ct=_addPropTween.call(_,Dt,Tt,"get",Mt[Tt],Bt,St,0,nt.stringFilter);_._op&&_._op[At]&&_.kill(Dt,_._op[At]),Et&&_._pt&&(_overwritingTween=_,_globalTimeline.killTweensOf(Dt,Gt,_.globalTime(et)),Ot=!_.parent,_overwritingTween=0),_._pt&&ot&&(_lazyLookup[kt.id]=1)}$t&&_sortPropTweensByPriority(_),_._onInit&&_._onInit(_)}_._onUpdate=at,_._initted=(!_._op||_._pt)&&!Ot,ht&&et<=0&&wt.render(_bigNum$1,!0,!0)},_updatePropTweens=function(_,et,tt,nt,rt,it,st){var ot=(_._pt&&_._ptCache||(_._ptCache={}))[et],at,lt,ct,ut;if(!ot)for(ot=_._ptCache[et]=[],ct=_._ptLookup,ut=_._targets.length;ut--;){if(at=ct[ut][et],at&&at.d&&at.d._pt)for(at=at.d._pt;at&&at.p!==et&&at.fp!==et;)at=at._next;if(!at)return _forceAllPropTweens=1,_.vars[et]="+=0",_initTween(_,st),_forceAllPropTweens=0,1;ot.push(at)}for(ut=ot.length;ut--;)lt=ot[ut],at=lt._pt||lt,at.s=(nt||nt===0)&&!rt?nt:at.s+(nt||0)+it*at.c,at.c=tt-at.s,lt.e&&(lt.e=_round(tt)+getUnit$1(lt.e)),lt.b&&(lt.b=at.s+getUnit$1(lt.b))},_addAliasesToVars=function(_,et){var tt=_[0]?_getCache(_[0]).harness:0,nt=tt&&tt.aliases,rt,it,st,ot;if(!nt)return et;rt=_merge({},et);for(it in nt)if(it in rt)for(ot=nt[it].split(","),st=ot.length;st--;)rt[ot[st]]=rt[it];return rt},_parseKeyframe=function(_,et,tt,nt){var rt=et.ease||nt||"power1.inOut",it,st;if(_isArray(et))st=tt[_]||(tt[_]=[]),et.forEach(function(ot,at){return st.push({t:at/(et.length-1)*100,v:ot,e:rt})});else for(it in et)st=tt[it]||(tt[it]=[]),it==="ease"||st.push({t:parseFloat(_),v:et[it],e:rt})},_parseFuncOrString=function(_,et,tt,nt,rt){return _isFunction$1(_)?_.call(et,tt,nt,rt):_isString$1(_)&&~_.indexOf("random(")?_replaceRandom(_):_},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(_e){return _staggerPropsToSkip[_e]=1});var Tween=function(_e){_inheritsLoose(_,_e);function _(tt,nt,rt,it){var st;typeof nt=="number"&&(rt.duration=nt,nt=rt,rt=null),st=_e.call(this,it?nt:_inheritDefaults(nt))||this;var ot=st.vars,at=ot.duration,lt=ot.delay,ct=ot.immediateRender,ut=ot.stagger,ft=ot.overwrite,ht=ot.keyframes,vt=ot.defaults,mt=ot.scrollTrigger,pt=ot.yoyoEase,yt=nt.parent||_globalTimeline,_t=(_isArray(tt)||_isTypedArray(tt)?_isNumber(tt[0]):"length"in nt)?[tt]:toArray$1(tt),St,Et,wt,Mt,At,Tt,Ct,Dt;if(st._targets=_t.length?_harness(_t):_warn("GSAP target "+tt+" not found. https://greensock.com",!_config$1.nullTargetWarn)||[],st._ptLookup=[],st._overwrite=ft,ht||ut||_isFuncOrString(at)||_isFuncOrString(lt)){if(nt=st.vars,St=st.timeline=new Timeline({data:"nested",defaults:vt||{},targets:yt&&yt.data==="nested"?yt.vars.targets:_t}),St.kill(),St.parent=St._dp=_assertThisInitialized(st),St._start=0,ut||_isFuncOrString(at)||_isFuncOrString(lt)){if(Mt=_t.length,Ct=ut&&distribute(ut),_isObject(ut))for(At in ut)~_staggerTweenProps.indexOf(At)&&(Dt||(Dt={}),Dt[At]=ut[At]);for(Et=0;Et<Mt;Et++)wt=_copyExcluding(nt,_staggerPropsToSkip),wt.stagger=0,pt&&(wt.yoyoEase=pt),Dt&&_merge(wt,Dt),Tt=_t[Et],wt.duration=+_parseFuncOrString(at,_assertThisInitialized(st),Et,Tt,_t),wt.delay=(+_parseFuncOrString(lt,_assertThisInitialized(st),Et,Tt,_t)||0)-st._delay,!ut&&Mt===1&&wt.delay&&(st._delay=lt=wt.delay,st._start+=lt,wt.delay=0),St.to(Tt,wt,Ct?Ct(Et,Tt,_t):0),St._ease=_easeMap.none;St.duration()?at=lt=0:st.timeline=0}else if(ht){_inheritDefaults(_setDefaults(St.vars.defaults,{ease:"none"})),St._ease=_parseEase(ht.ease||nt.ease||"none");var $t=0,kt,It,Nt;if(_isArray(ht))ht.forEach(function(Gt){return St.to(_t,Gt,">")}),St.duration();else{wt={};for(At in ht)At==="ease"||At==="easeEach"||_parseKeyframe(At,ht[At],wt,ht.easeEach);for(At in wt)for(kt=wt[At].sort(function(Gt,Bt){return Gt.t-Bt.t}),$t=0,Et=0;Et<kt.length;Et++)It=kt[Et],Nt={ease:It.e,duration:(It.t-(Et?kt[Et-1].t:0))/100*at},Nt[At]=It.v,St.to(_t,Nt,$t),$t+=Nt.duration;St.duration()<at&&St.to({},{duration:at-St.duration()})}}at||st.duration(at=St.duration())}else st.timeline=0;return ft===!0&&!_suppressOverwrites&&(_overwritingTween=_assertThisInitialized(st),_globalTimeline.killTweensOf(_t),_overwritingTween=0),_addToTimeline(yt,_assertThisInitialized(st),rt),nt.reversed&&st.reverse(),nt.paused&&st.paused(!0),(ct||!at&&!ht&&st._start===_roundPrecise(yt._time)&&_isNotFalse(ct)&&_hasNoPausedAncestors(_assertThisInitialized(st))&&yt.data!=="nested")&&(st._tTime=-_tinyNum,st.render(Math.max(0,-lt)||0)),mt&&_scrollTrigger(_assertThisInitialized(st),mt),st}var et=_.prototype;return et.render=function(nt,rt,it){var st=this._time,ot=this._tDur,at=this._dur,lt=nt<0,ct=nt>ot-_tinyNum&&!lt?ot:nt<_tinyNum?0:nt,ut,ft,ht,vt,mt,pt,yt,_t,St;if(!at)_renderZeroDurationTween(this,nt,rt,it);else if(ct!==this._tTime||!nt||it||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==lt){if(ut=ct,_t=this.timeline,this._repeat){if(vt=at+this._rDelay,this._repeat<-1&&lt)return this.totalTime(vt*100+nt,rt,it);if(ut=_roundPrecise(ct%vt),ct===ot?(ht=this._repeat,ut=at):(ht=~~(ct/vt),ht&&ht===ct/vt&&(ut=at,ht--),ut>at&&(ut=at)),pt=this._yoyo&&ht&1,pt&&(St=this._yEase,ut=at-ut),mt=_animationCycle(this._tTime,vt),ut===st&&!it&&this._initted)return this._tTime=ct,this;ht!==mt&&(_t&&this._yEase&&_propagateYoyoEase(_t,pt),this.vars.repeatRefresh&&!pt&&!this._lock&&(this._lock=it=1,this.render(_roundPrecise(vt*ht),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,lt?nt:ut,it,rt,ct))return this._tTime=0,this;if(st!==this._time)return this;if(at!==this._dur)return this.render(nt,rt,it)}if(this._tTime=ct,this._time=ut,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=yt=(St||this._ease)(ut/at),this._from&&(this.ratio=yt=1-yt),ut&&!st&&!rt&&!ht&&(_callback(this,"onStart"),this._tTime!==ct))return this;for(ft=this._pt;ft;)ft.r(yt,ft.d),ft=ft._next;_t&&_t.render(nt<0?nt:!ut&&pt?-_tinyNum:_t._dur*_t._ease(ut/this._dur),rt,it)||this._startAt&&(this._zTime=nt),this._onUpdate&&!rt&&(lt&&_rewindStartAt(this,nt,rt,it),_callback(this,"onUpdate")),this._repeat&&ht!==mt&&this.vars.onRepeat&&!rt&&this.parent&&_callback(this,"onRepeat"),(ct===this._tDur||!ct)&&this._tTime===ct&&(lt&&!this._onUpdate&&_rewindStartAt(this,nt,!0,!0),(nt||!at)&&(ct===this._tDur&&this._ts>0||!ct&&this._ts<0)&&_removeFromParent(this,1),!rt&&!(lt&&!st)&&(ct||st||pt)&&(_callback(this,ct===ot?"onComplete":"onReverseComplete",!0),this._prom&&!(ct<ot&&this.timeScale()>0)&&this._prom()))}return this},et.targets=function(){return this._targets},et.invalidate=function(nt){return(!nt||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(nt),_e.prototype.invalidate.call(this,nt)},et.resetTo=function(nt,rt,it,st){_tickerActive||_ticker.wake(),this._ts||this.play();var ot=Math.min(this._dur,(this._dp._time-this._start)*this._ts),at;return this._initted||_initTween(this,ot),at=this._ease(ot/this._dur),_updatePropTweens(this,nt,rt,it,st,at,ot)?this.resetTo(nt,rt,it,st):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},et.kill=function(nt,rt){if(rt===void 0&&(rt="all"),!nt&&(!rt||rt==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var it=this.timeline.totalDuration();return this.timeline.killTweensOf(nt,rt,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&it!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/it,0,1),this}var st=this._targets,ot=nt?toArray$1(nt):st,at=this._ptLookup,lt=this._pt,ct,ut,ft,ht,vt,mt,pt;if((!rt||rt==="all")&&_arraysMatch(st,ot))return rt==="all"&&(this._pt=0),_interrupt(this);for(ct=this._op=this._op||[],rt!=="all"&&(_isString$1(rt)&&(vt={},_forEachName(rt,function(yt){return vt[yt]=1}),rt=vt),rt=_addAliasesToVars(st,rt)),pt=st.length;pt--;)if(~ot.indexOf(st[pt])){ut=at[pt],rt==="all"?(ct[pt]=rt,ht=ut,ft={}):(ft=ct[pt]=ct[pt]||{},ht=rt);for(vt in ht)mt=ut&&ut[vt],mt&&((!("kill"in mt.d)||mt.d.kill(vt)===!0)&&_removeLinkedListItem(this,mt,"_pt"),delete ut[vt]),ft!=="all"&&(ft[vt]=1)}return this._initted&&!this._pt&&lt&&_interrupt(this),this},_.to=function(nt,rt){return new _(nt,rt,arguments[2])},_.from=function(nt,rt){return _createTweenType(1,arguments)},_.delayedCall=function(nt,rt,it,st){return new _(rt,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:nt,onComplete:rt,onReverseComplete:rt,onCompleteParams:it,onReverseCompleteParams:it,callbackScope:st})},_.fromTo=function(nt,rt,it){return _createTweenType(2,arguments)},_.set=function(nt,rt){return rt.duration=0,rt.repeatDelay||(rt.repeat=0),new _(nt,rt)},_.killTweensOf=function(nt,rt,it){return _globalTimeline.killTweensOf(nt,rt,it)},_}(Animation);_setDefaults(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(_e){Tween[_e]=function(){var _=new Timeline,et=_slice.call(arguments,0);return et.splice(_e==="staggerFromTo"?5:4,0,0),_[_e].apply(_,et)}});var _setterPlain=function(_,et,tt){return _[et]=tt},_setterFunc=function(_,et,tt){return _[et](tt)},_setterFuncWithParam=function(_,et,tt,nt){return _[et](nt.fp,tt)},_setterAttribute=function(_,et,tt){return _.setAttribute(et,tt)},_getSetter=function(_,et){return _isFunction$1(_[et])?_setterFunc:_isUndefined(_[et])&&_.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function(_,et){return et.set(et.t,et.p,Math.round((et.s+et.c*_)*1e6)/1e6,et)},_renderBoolean=function(_,et){return et.set(et.t,et.p,!!(et.s+et.c*_),et)},_renderComplexString=function(_,et){var tt=et._pt,nt="";if(!_&&et.b)nt=et.b;else if(_===1&&et.e)nt=et.e;else{for(;tt;)nt=tt.p+(tt.m?tt.m(tt.s+tt.c*_):Math.round((tt.s+tt.c*_)*1e4)/1e4)+nt,tt=tt._next;nt+=et.c}et.set(et.t,et.p,nt,et)},_renderPropTweens=function(_,et){for(var tt=et._pt;tt;)tt.r(_,tt.d),tt=tt._next},_addPluginModifier=function(_,et,tt,nt){for(var rt=this._pt,it;rt;)it=rt._next,rt.p===nt&&rt.modifier(_,et,tt),rt=it},_killPropTweensOf=function(_){for(var et=this._pt,tt,nt;et;)nt=et._next,et.p===_&&!et.op||et.op===_?_removeLinkedListItem(this,et,"_pt"):et.dep||(tt=1),et=nt;return!tt},_setterWithModifier=function(_,et,tt,nt){nt.mSet(_,et,nt.m.call(nt.tween,tt,nt.mt),nt)},_sortPropTweensByPriority=function(_){for(var et=_._pt,tt,nt,rt,it;et;){for(tt=et._next,nt=rt;nt&&nt.pr>et.pr;)nt=nt._next;(et._prev=nt?nt._prev:it)?et._prev._next=et:rt=et,(et._next=nt)?nt._prev=et:it=et,et=tt}_._pt=rt},PropTween=function(){function _e(et,tt,nt,rt,it,st,ot,at,lt){this.t=tt,this.s=rt,this.c=it,this.p=nt,this.r=st||_renderPlain,this.d=ot||this,this.set=at||_setterPlain,this.pr=lt||0,this._next=et,et&&(et._prev=this)}var _=_e.prototype;return _.modifier=function(tt,nt,rt){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=tt,this.mt=rt,this.tween=nt},_e}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(_e){return _reservedProps[_e]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config$1.stringFilter=_colorStringFilter;var _media=[],_listeners={},_emptyArray=[],_lastMediaTime=0,_contextID=0,_dispatch=function(_){return(_listeners[_]||_emptyArray).map(function(et){return et()})},_onMediaChange=function(){var _=Date.now(),et=[];_-_lastMediaTime>2&&(_dispatch("matchMediaInit"),_media.forEach(function(tt){var nt=tt.queries,rt=tt.conditions,it,st,ot,at;for(st in nt)it=_win$1.matchMedia(nt[st]).matches,it&&(ot=1),it!==rt[st]&&(rt[st]=it,at=1);at&&(tt.revert(),ot&&et.push(tt))}),_dispatch("matchMediaRevert"),et.forEach(function(tt){return tt.onMatch(tt)}),_lastMediaTime=_,_dispatch("matchMedia"))},Context$1=function(){function _e(et,tt){this.selector=tt&&selector(tt),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID++,et&&this.add(et)}var _=_e.prototype;return _.add=function(tt,nt,rt){_isFunction$1(tt)&&(rt=nt,nt=tt,tt=_isFunction$1);var it=this,st=function(){var at=_context$1,lt=it.selector,ct;return at&&at!==it&&at.data.push(it),rt&&(it.selector=selector(rt)),_context$1=it,ct=nt.apply(it,arguments),_isFunction$1(ct)&&it._r.push(ct),_context$1=at,it.selector=lt,it.isReverted=!1,ct};return it.last=st,tt===_isFunction$1?st(it):tt?it[tt]=st:st},_.ignore=function(tt){var nt=_context$1;_context$1=null,tt(this),_context$1=nt},_.getTweens=function(){var tt=[];return this.data.forEach(function(nt){return nt instanceof _e?tt.push.apply(tt,nt.getTweens()):nt instanceof Tween&&!(nt.parent&&nt.parent.data==="nested")&&tt.push(nt)}),tt},_.clear=function(){this._r.length=this.data.length=0},_.kill=function(tt,nt){var rt=this;if(tt){var it=this.getTweens();this.data.forEach(function(ot){ot.data==="isFlip"&&(ot.revert(),ot.getChildren(!0,!0,!1).forEach(function(at){return it.splice(it.indexOf(at),1)}))}),it.map(function(ot){return{g:ot.globalTime(0),t:ot}}).sort(function(ot,at){return at.g-ot.g||-1/0}).forEach(function(ot){return ot.t.revert(tt)}),this.data.forEach(function(ot){return!(ot instanceof Tween)&&ot.revert&&ot.revert(tt)}),this._r.forEach(function(ot){return ot(tt,rt)}),this.isReverted=!0}else this.data.forEach(function(ot){return ot.kill&&ot.kill()});if(this.clear(),nt)for(var st=_media.length;st--;)_media[st].id===this.id&&_media.splice(st,1)},_.revert=function(tt){this.kill(tt||{})},_e}(),MatchMedia=function(){function _e(et){this.contexts=[],this.scope=et}var _=_e.prototype;return _.add=function(tt,nt,rt){_isObject(tt)||(tt={matches:tt});var it=new Context$1(0,rt||this.scope),st=it.conditions={},ot,at,lt;_context$1&&!it.selector&&(it.selector=_context$1.selector),this.contexts.push(it),nt=it.add("onMatch",nt),it.queries=tt;for(at in tt)at==="all"?lt=1:(ot=_win$1.matchMedia(tt[at]),ot&&(_media.indexOf(it)<0&&_media.push(it),(st[at]=ot.matches)&&(lt=1),ot.addListener?ot.addListener(_onMediaChange):ot.addEventListener("change",_onMediaChange)));return lt&&nt(it),this},_.revert=function(tt){this.kill(tt||{})},_.kill=function(tt){this.contexts.forEach(function(nt){return nt.kill(tt,!0)})},_e}(),_gsap={registerPlugin:function(){for(var _=arguments.length,et=new Array(_),tt=0;tt<_;tt++)et[tt]=arguments[tt];et.forEach(function(nt){return _createPlugin(nt)})},timeline:function(_){return new Timeline(_)},getTweensOf:function(_,et){return _globalTimeline.getTweensOf(_,et)},getProperty:function(_,et,tt,nt){_isString$1(_)&&(_=toArray$1(_)[0]);var rt=_getCache(_||{}).get,it=tt?_passThrough:_numericIfPossible;return tt==="native"&&(tt=""),_&&(et?it((_plugins[et]&&_plugins[et].get||rt)(_,et,tt,nt)):function(st,ot,at){return it((_plugins[st]&&_plugins[st].get||rt)(_,st,ot,at))})},quickSetter:function(_,et,tt){if(_=toArray$1(_),_.length>1){var nt=_.map(function(lt){return gsap$2.quickSetter(lt,et,tt)}),rt=nt.length;return function(lt){for(var ct=rt;ct--;)nt[ct](lt)}}_=_[0]||{};var it=_plugins[et],st=_getCache(_),ot=st.harness&&(st.harness.aliases||{})[et]||et,at=it?function(lt){var ct=new it;_quickTween._pt=0,ct.init(_,tt?lt+tt:lt,_quickTween,0,[_]),ct.render(1,ct),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:st.set(_,ot);return it?at:function(lt){return at(_,ot,tt?lt+tt:lt,st,1)}},quickTo:function(_,et,tt){var nt,rt=gsap$2.to(_,_merge((nt={},nt[et]="+=0.1",nt.paused=!0,nt),tt||{})),it=function(ot,at,lt){return rt.resetTo(et,ot,at,lt)};return it.tween=rt,it},isTweening:function(_){return _globalTimeline.getTweensOf(_,!0).length>0},defaults:function(_){return _&&_.ease&&(_.ease=_parseEase(_.ease,_defaults.ease)),_mergeDeep(_defaults,_||{})},config:function(_){return _mergeDeep(_config$1,_||{})},registerEffect:function(_){var et=_.name,tt=_.effect,nt=_.plugins,rt=_.defaults,it=_.extendTimeline;(nt||"").split(",").forEach(function(st){return st&&!_plugins[st]&&!_globals[st]&&_warn(et+" effect requires "+st+" plugin.")}),_effects[et]=function(st,ot,at){return tt(toArray$1(st),_setDefaults(ot||{},rt),at)},it&&(Timeline.prototype[et]=function(st,ot,at){return this.add(_effects[et](st,_isObject(ot)?ot:(at=ot)&&{},this),at)})},registerEase:function(_,et){_easeMap[_]=_parseEase(et)},parseEase:function(_,et){return arguments.length?_parseEase(_,et):_easeMap},getById:function(_){return _globalTimeline.getById(_)},exportRoot:function(_,et){_===void 0&&(_={});var tt=new Timeline(_),nt,rt;for(tt.smoothChildTiming=_isNotFalse(_.smoothChildTiming),_globalTimeline.remove(tt),tt._dp=0,tt._time=tt._tTime=_globalTimeline._time,nt=_globalTimeline._first;nt;)rt=nt._next,(et||!(!nt._dur&&nt instanceof Tween&&nt.vars.onComplete===nt._targets[0]))&&_addToTimeline(tt,nt,nt._start-nt._delay),nt=rt;return _addToTimeline(_globalTimeline,tt,0),tt},context:function(_,et){return _?new Context$1(_,et):_context$1},matchMedia:function(_){return new MatchMedia(_)},matchMediaRefresh:function(){return _media.forEach(function(_){var et=_.conditions,tt,nt;for(nt in et)et[nt]&&(et[nt]=!1,tt=1);tt&&_.revert()})||_onMediaChange()},addEventListener:function(_,et){var tt=_listeners[_]||(_listeners[_]=[]);~tt.indexOf(et)||tt.push(et)},removeEventListener:function(_,et){var tt=_listeners[_],nt=tt&&tt.indexOf(et);nt>=0&&tt.splice(nt,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize:normalize$6,getUnit:getUnit$1,clamp:clamp$4,splitColor,toArray:toArray$1,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function(){return _reverting$1},context:function(_){return _&&_context$1&&(_context$1.data.push(_),_._ctx=_context$1),_context$1},suppressOverwrites:function(_){return _suppressOverwrites=_}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(_e){return _gsap[_e]=Tween[_e]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function(_,et){for(var tt=_._pt;tt&&tt.p!==et&&tt.op!==et&&tt.fp!==et;)tt=tt._next;return tt},_addModifiers=function(_,et){var tt=_._targets,nt,rt,it;for(nt in et)for(rt=tt.length;rt--;)it=_._ptLookup[rt][nt],it&&(it=it.d)&&(it._pt&&(it=_getPluginPropTween(it,nt)),it&&it.modifier&&it.modifier(et[nt],_,tt[rt],nt))},_buildModifierPlugin=function(_,et){return{name:_,rawVars:1,init:function(nt,rt,it){it._onInit=function(st){var ot,at;if(_isString$1(rt)&&(ot={},_forEachName(rt,function(lt){return ot[lt]=1}),rt=ot),et){ot={};for(at in rt)ot[at]=et(rt[at]);rt=ot}_addModifiers(st,rt)}}}},gsap$2=_gsap.registerPlugin({name:"attr",init:function(_,et,tt,nt,rt){var it,st,ot;this.tween=tt;for(it in et)ot=_.getAttribute(it)||"",st=this.add(_,"setAttribute",(ot||0)+"",et[it],nt,rt,0,0,it),st.op=it,st.b=ot,this._props.push(it)},render:function(_,et){for(var tt=et._pt;tt;)_reverting$1?tt.set(tt.t,tt.p,tt.b,tt):tt.r(_,tt.d),tt=tt._next}},{name:"endArray",init:function(_,et){for(var tt=et.length;tt--;)this.add(_,tt,_[tt]||0,et[tt],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$2.version="3.12.2";_coreReady=1;_windowExists$2()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _win,_doc,_docElement,_pluginInitted,_tempDiv$1,_recentSetterPlugin,_reverting,_windowExists$1=function(){return typeof window<"u"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function(_,et){return et.set(et.t,et.p,Math.round((et.s+et.c*_)*1e4)/1e4+et.u,et)},_renderPropWithEnd=function(_,et){return et.set(et.t,et.p,_===1?et.e:Math.round((et.s+et.c*_)*1e4)/1e4+et.u,et)},_renderCSSPropWithBeginning=function(_,et){return et.set(et.t,et.p,_?Math.round((et.s+et.c*_)*1e4)/1e4+et.u:et.b,et)},_renderRoundedCSSProp=function(_,et){var tt=et.s+et.c*_;et.set(et.t,et.p,~~(tt+(tt<0?-.5:.5))+et.u,et)},_renderNonTweeningValue=function(_,et){return et.set(et.t,et.p,_?et.e:et.b,et)},_renderNonTweeningValueOnlyAtEnd=function(_,et){return et.set(et.t,et.p,_!==1?et.b:et.e,et)},_setterCSSStyle=function(_,et,tt){return _.style[et]=tt},_setterCSSProp=function(_,et,tt){return _.style.setProperty(et,tt)},_setterTransform=function(_,et,tt){return _._gsap[et]=tt},_setterScale=function(_,et,tt){return _._gsap.scaleX=_._gsap.scaleY=tt},_setterScaleWithRender=function(_,et,tt,nt,rt){var it=_._gsap;it.scaleX=it.scaleY=tt,it.renderTransform(rt,it)},_setterTransformWithRender=function(_,et,tt,nt,rt){var it=_._gsap;it[et]=tt,it.renderTransform(rt,it)},_transformProp="transform",_transformOriginProp=_transformProp+"Origin",_saveStyle=function _e(_,et){var tt=this,nt=this.target,rt=nt.style;if(_ in _transformProps&&rt){if(this.tfm=this.tfm||{},_!=="transform")_=_propertyAliases[_]||_,~_.indexOf(",")?_.split(",").forEach(function(it){return tt.tfm[it]=_get(nt,it)}):this.tfm[_]=nt._gsap.x?nt._gsap[_]:_get(nt,_);else return _propertyAliases.transform.split(",").forEach(function(it){return _e.call(tt,it,et)});if(this.props.indexOf(_transformProp)>=0)return;nt._gsap.svg&&(this.svgo=nt.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,et,"")),_=_transformProp}(rt||et)&&this.props.push(_,et,rt[_])},_removeIndependentTransforms=function(_){_.translate&&(_.removeProperty("translate"),_.removeProperty("scale"),_.removeProperty("rotate"))},_revertStyle=function(){var _=this.props,et=this.target,tt=et.style,nt=et._gsap,rt,it;for(rt=0;rt<_.length;rt+=3)_[rt+1]?et[_[rt]]=_[rt+2]:_[rt+2]?tt[_[rt]]=_[rt+2]:tt.removeProperty(_[rt].substr(0,2)==="--"?_[rt]:_[rt].replace(_capsExp,"-$1").toLowerCase());if(this.tfm){for(it in this.tfm)nt[it]=this.tfm[it];nt.svg&&(nt.renderTransform(),et.setAttribute("data-svg-origin",this.svgo||"")),rt=_reverting(),(!rt||!rt.isStart)&&!tt[_transformProp]&&(_removeIndependentTransforms(tt),nt.uncache=1)}},_getStyleSaver=function(_,et){var tt={target:_,props:[],revert:_revertStyle,save:_saveStyle};return _._gsap||gsap$2.core.getCache(_),et&&et.split(",").forEach(function(nt){return tt.save(nt)}),tt},_supports3D,_createElement=function(_,et){var tt=_doc.createElementNS?_doc.createElementNS((et||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),_):_doc.createElement(_);return tt.style?tt:_doc.createElement(_)},_getComputedProperty=function _e(_,et,tt){var nt=getComputedStyle(_);return nt[et]||nt.getPropertyValue(et.replace(_capsExp,"-$1").toLowerCase())||nt.getPropertyValue(et)||!tt&&_e(_,_checkPropPrefix(et)||et,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function(_,et,tt){var nt=et||_tempDiv$1,rt=nt.style,it=5;if(_ in rt&&!tt)return _;for(_=_.charAt(0).toUpperCase()+_.substr(1);it--&&!(_prefixes[it]+_ in rt););return it<0?null:(it===3?"ms":it>=0?_prefixes[it]:"")+_},_initCore$1=function(){_windowExists$1()&&window.document&&(_win=window,_doc=_win.document,_docElement=_doc.documentElement,_tempDiv$1=_createElement("div")||{style:{}},_createElement("div"),_transformProp=_checkPropPrefix(_transformProp),_transformOriginProp=_transformProp+"Origin",_tempDiv$1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap$2.core.reverting,_pluginInitted=1)},_getBBoxHack=function _e(_){var et=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),tt=this.parentNode,nt=this.nextSibling,rt=this.style.cssText,it;if(_docElement.appendChild(et),et.appendChild(this),this.style.display="block",_)try{it=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=_e}catch{}else this._gsapBBox&&(it=this._gsapBBox());return tt&&(nt?tt.insertBefore(this,nt):tt.appendChild(this)),_docElement.removeChild(et),this.style.cssText=rt,it},_getAttributeFallbacks=function(_,et){for(var tt=et.length;tt--;)if(_.hasAttribute(et[tt]))return _.getAttribute(et[tt])},_getBBox=function(_){var et;try{et=_.getBBox()}catch{et=_getBBoxHack.call(_,!0)}return et&&(et.width||et.height)||_.getBBox===_getBBoxHack||(et=_getBBoxHack.call(_,!0)),et&&!et.width&&!et.x&&!et.y?{x:+_getAttributeFallbacks(_,["x","cx","x1"])||0,y:+_getAttributeFallbacks(_,["y","cy","y1"])||0,width:0,height:0}:et},_isSVG=function(_){return!!(_.getCTM&&(!_.parentNode||_.ownerSVGElement)&&_getBBox(_))},_removeProperty=function(_,et){if(et){var tt=_.style;et in _transformProps&&et!==_transformOriginProp&&(et=_transformProp),tt.removeProperty?((et.substr(0,2)==="ms"||et.substr(0,6)==="webkit")&&(et="-"+et),tt.removeProperty(et.replace(_capsExp,"-$1").toLowerCase())):tt.removeAttribute(et)}},_addNonTweeningPT=function(_,et,tt,nt,rt,it){var st=new PropTween(_._pt,et,tt,0,1,it?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return _._pt=st,st.b=nt,st.e=rt,_._props.push(tt),st},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function _e(_,et,tt,nt){var rt=parseFloat(tt)||0,it=(tt+"").trim().substr((rt+"").length)||"px",st=_tempDiv$1.style,ot=_horizontalExp.test(et),at=_.tagName.toLowerCase()==="svg",lt=(at?"client":"offset")+(ot?"Width":"Height"),ct=100,ut=nt==="px",ft=nt==="%",ht,vt,mt,pt;return nt===it||!rt||_nonConvertibleUnits[nt]||_nonConvertibleUnits[it]?rt:(it!=="px"&&!ut&&(rt=_e(_,et,tt,"px")),pt=_.getCTM&&_isSVG(_),(ft||it==="%")&&(_transformProps[et]||~et.indexOf("adius"))?(ht=pt?_.getBBox()[ot?"width":"height"]:_[lt],_round(ft?rt/ht*ct:rt/100*ht)):(st[ot?"width":"height"]=ct+(ut?it:nt),vt=~et.indexOf("adius")||nt==="em"&&_.appendChild&&!at?_:_.parentNode,pt&&(vt=(_.ownerSVGElement||{}).parentNode),(!vt||vt===_doc||!vt.appendChild)&&(vt=_doc.body),mt=vt._gsap,mt&&ft&&mt.width&&ot&&mt.time===_ticker.time&&!mt.uncache?_round(rt/mt.width*ct):((ft||it==="%")&&!_nonStandardLayouts[_getComputedProperty(vt,"display")]&&(st.position=_getComputedProperty(_,"position")),vt===_&&(st.position="static"),vt.appendChild(_tempDiv$1),ht=_tempDiv$1[lt],vt.removeChild(_tempDiv$1),st.position="absolute",ot&&ft&&(mt=_getCache(vt),mt.time=_ticker.time,mt.width=vt[lt]),_round(ut?ht*rt/ct:ht&&rt?ct/ht*rt:0))))},_get=function(_,et,tt,nt){var rt;return _pluginInitted||_initCore$1(),et in _propertyAliases&&et!=="transform"&&(et=_propertyAliases[et],~et.indexOf(",")&&(et=et.split(",")[0])),_transformProps[et]&&et!=="transform"?(rt=_parseTransform(_,nt),rt=et!=="transformOrigin"?rt[et]:rt.svg?rt.origin:_firstTwoOnly(_getComputedProperty(_,_transformOriginProp))+" "+rt.zOrigin+"px"):(rt=_.style[et],(!rt||rt==="auto"||nt||~(rt+"").indexOf("calc("))&&(rt=_specialProps[et]&&_specialProps[et](_,et,tt)||_getComputedProperty(_,et)||_getProperty(_,et)||(et==="opacity"?1:0))),tt&&!~(rt+"").trim().indexOf(" ")?_convertToUnit(_,et,rt,tt)+tt:rt},_tweenComplexCSSString=function(_,et,tt,nt){if(!tt||tt==="none"){var rt=_checkPropPrefix(et,_,1),it=rt&&_getComputedProperty(_,rt,1);it&&it!==tt?(et=rt,tt=it):et==="borderColor"&&(tt=_getComputedProperty(_,"borderTopColor"))}var st=new PropTween(this._pt,_.style,et,0,1,_renderComplexString),ot=0,at=0,lt,ct,ut,ft,ht,vt,mt,pt,yt,_t,St,Et;if(st.b=tt,st.e=nt,tt+="",nt+="",nt==="auto"&&(_.style[et]=nt,nt=_getComputedProperty(_,et)||nt,_.style[et]=tt),lt=[tt,nt],_colorStringFilter(lt),tt=lt[0],nt=lt[1],ut=tt.match(_numWithUnitExp)||[],Et=nt.match(_numWithUnitExp)||[],Et.length){for(;ct=_numWithUnitExp.exec(nt);)mt=ct[0],yt=nt.substring(ot,ct.index),ht?ht=(ht+1)%5:(yt.substr(-5)==="rgba("||yt.substr(-5)==="hsla(")&&(ht=1),mt!==(vt=ut[at++]||"")&&(ft=parseFloat(vt)||0,St=vt.substr((ft+"").length),mt.charAt(1)==="="&&(mt=_parseRelative(ft,mt)+St),pt=parseFloat(mt),_t=mt.substr((pt+"").length),ot=_numWithUnitExp.lastIndex-_t.length,_t||(_t=_t||_config$1.units[et]||St,ot===nt.length&&(nt+=_t,st.e+=_t)),St!==_t&&(ft=_convertToUnit(_,et,vt,_t)||0),st._pt={_next:st._pt,p:yt||at===1?yt:",",s:ft,c:pt-ft,m:ht&&ht<4||et==="zIndex"?Math.round:0});st.c=ot<nt.length?nt.substring(ot,nt.length):""}else st.r=et==="display"&&nt==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(nt)&&(st.e=0),this._pt=st,st},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function(_){var et=_.split(" "),tt=et[0],nt=et[1]||"50%";return(tt==="top"||tt==="bottom"||nt==="left"||nt==="right")&&(_=tt,tt=nt,nt=_),et[0]=_keywordToPercent[tt]||tt,et[1]=_keywordToPercent[nt]||nt,et.join(" ")},_renderClearProps=function(_,et){if(et.tween&&et.tween._time===et.tween._dur){var tt=et.t,nt=tt.style,rt=et.u,it=tt._gsap,st,ot,at;if(rt==="all"||rt===!0)nt.cssText="",ot=1;else for(rt=rt.split(","),at=rt.length;--at>-1;)st=rt[at],_transformProps[st]&&(ot=1,st=st==="transformOrigin"?_transformOriginProp:_transformProp),_removeProperty(tt,st);ot&&(_removeProperty(tt,_transformProp),it&&(it.svg&&tt.removeAttribute("transform"),_parseTransform(tt,1),it.uncache=1,_removeIndependentTransforms(nt)))}},_specialProps={clearProps:function(_,et,tt,nt,rt){if(rt.data!=="isFromStart"){var it=_._pt=new PropTween(_._pt,et,tt,0,0,_renderClearProps);return it.u=nt,it.pr=-10,it.tween=rt,_._props.push(tt),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function(_){return _==="matrix(1, 0, 0, 1, 0, 0)"||_==="none"||!_},_getComputedTransformMatrixAsArray=function(_){var et=_getComputedProperty(_,_transformProp);return _isNullTransform(et)?_identity2DMatrix:et.substr(7).match(_numExp).map(_round)},_getMatrix=function(_,et){var tt=_._gsap||_getCache(_),nt=_.style,rt=_getComputedTransformMatrixAsArray(_),it,st,ot,at;return tt.svg&&_.getAttribute("transform")?(ot=_.transform.baseVal.consolidate().matrix,rt=[ot.a,ot.b,ot.c,ot.d,ot.e,ot.f],rt.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:rt):(rt===_identity2DMatrix&&!_.offsetParent&&_!==_docElement&&!tt.svg&&(ot=nt.display,nt.display="block",it=_.parentNode,(!it||!_.offsetParent)&&(at=1,st=_.nextElementSibling,_docElement.appendChild(_)),rt=_getComputedTransformMatrixAsArray(_),ot?nt.display=ot:_removeProperty(_,"display"),at&&(st?it.insertBefore(_,st):it?it.appendChild(_):_docElement.removeChild(_))),et&&rt.length>6?[rt[0],rt[1],rt[4],rt[5],rt[12],rt[13]]:rt)},_applySVGOrigin=function(_,et,tt,nt,rt,it){var st=_._gsap,ot=rt||_getMatrix(_,!0),at=st.xOrigin||0,lt=st.yOrigin||0,ct=st.xOffset||0,ut=st.yOffset||0,ft=ot[0],ht=ot[1],vt=ot[2],mt=ot[3],pt=ot[4],yt=ot[5],_t=et.split(" "),St=parseFloat(_t[0])||0,Et=parseFloat(_t[1])||0,wt,Mt,At,Tt;tt?ot!==_identity2DMatrix&&(Mt=ft*mt-ht*vt)&&(At=St*(mt/Mt)+Et*(-vt/Mt)+(vt*yt-mt*pt)/Mt,Tt=St*(-ht/Mt)+Et*(ft/Mt)-(ft*yt-ht*pt)/Mt,St=At,Et=Tt):(wt=_getBBox(_),St=wt.x+(~_t[0].indexOf("%")?St/100*wt.width:St),Et=wt.y+(~(_t[1]||_t[0]).indexOf("%")?Et/100*wt.height:Et)),nt||nt!==!1&&st.smooth?(pt=St-at,yt=Et-lt,st.xOffset=ct+(pt*ft+yt*vt)-pt,st.yOffset=ut+(pt*ht+yt*mt)-yt):st.xOffset=st.yOffset=0,st.xOrigin=St,st.yOrigin=Et,st.smooth=!!nt,st.origin=et,st.originIsAbsolute=!!tt,_.style[_transformOriginProp]="0px 0px",it&&(_addNonTweeningPT(it,st,"xOrigin",at,St),_addNonTweeningPT(it,st,"yOrigin",lt,Et),_addNonTweeningPT(it,st,"xOffset",ct,st.xOffset),_addNonTweeningPT(it,st,"yOffset",ut,st.yOffset)),_.setAttribute("data-svg-origin",St+" "+Et)},_parseTransform=function(_,et){var tt=_._gsap||new GSCache(_);if("x"in tt&&!et&&!tt.uncache)return tt;var nt=_.style,rt=tt.scaleX<0,it="px",st="deg",ot=getComputedStyle(_),at=_getComputedProperty(_,_transformOriginProp)||"0",lt,ct,ut,ft,ht,vt,mt,pt,yt,_t,St,Et,wt,Mt,At,Tt,Ct,Dt,$t,kt,It,Nt,Gt,Bt,Rt,Ot,Ut,jt,Jt,Xt,Qt,rn;return lt=ct=ut=vt=mt=pt=yt=_t=St=0,ft=ht=1,tt.svg=!!(_.getCTM&&_isSVG(_)),ot.translate&&((ot.translate!=="none"||ot.scale!=="none"||ot.rotate!=="none")&&(nt[_transformProp]=(ot.translate!=="none"?"translate3d("+(ot.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(ot.rotate!=="none"?"rotate("+ot.rotate+") ":"")+(ot.scale!=="none"?"scale("+ot.scale.split(" ").join(",")+") ":"")+(ot[_transformProp]!=="none"?ot[_transformProp]:"")),nt.scale=nt.rotate=nt.translate="none"),Mt=_getMatrix(_,tt.svg),tt.svg&&(tt.uncache?(Rt=_.getBBox(),at=tt.xOrigin-Rt.x+"px "+(tt.yOrigin-Rt.y)+"px",Bt=""):Bt=!et&&_.getAttribute("data-svg-origin"),_applySVGOrigin(_,Bt||at,!!Bt||tt.originIsAbsolute,tt.smooth!==!1,Mt)),Et=tt.xOrigin||0,wt=tt.yOrigin||0,Mt!==_identity2DMatrix&&(Dt=Mt[0],$t=Mt[1],kt=Mt[2],It=Mt[3],lt=Nt=Mt[4],ct=Gt=Mt[5],Mt.length===6?(ft=Math.sqrt(Dt*Dt+$t*$t),ht=Math.sqrt(It*It+kt*kt),vt=Dt||$t?_atan2($t,Dt)*_RAD2DEG:0,yt=kt||It?_atan2(kt,It)*_RAD2DEG+vt:0,yt&&(ht*=Math.abs(Math.cos(yt*_DEG2RAD))),tt.svg&&(lt-=Et-(Et*Dt+wt*kt),ct-=wt-(Et*$t+wt*It))):(rn=Mt[6],Xt=Mt[7],Ut=Mt[8],jt=Mt[9],Jt=Mt[10],Qt=Mt[11],lt=Mt[12],ct=Mt[13],ut=Mt[14],At=_atan2(rn,Jt),mt=At*_RAD2DEG,At&&(Tt=Math.cos(-At),Ct=Math.sin(-At),Bt=Nt*Tt+Ut*Ct,Rt=Gt*Tt+jt*Ct,Ot=rn*Tt+Jt*Ct,Ut=Nt*-Ct+Ut*Tt,jt=Gt*-Ct+jt*Tt,Jt=rn*-Ct+Jt*Tt,Qt=Xt*-Ct+Qt*Tt,Nt=Bt,Gt=Rt,rn=Ot),At=_atan2(-kt,Jt),pt=At*_RAD2DEG,At&&(Tt=Math.cos(-At),Ct=Math.sin(-At),Bt=Dt*Tt-Ut*Ct,Rt=$t*Tt-jt*Ct,Ot=kt*Tt-Jt*Ct,Qt=It*Ct+Qt*Tt,Dt=Bt,$t=Rt,kt=Ot),At=_atan2($t,Dt),vt=At*_RAD2DEG,At&&(Tt=Math.cos(At),Ct=Math.sin(At),Bt=Dt*Tt+$t*Ct,Rt=Nt*Tt+Gt*Ct,$t=$t*Tt-Dt*Ct,Gt=Gt*Tt-Nt*Ct,Dt=Bt,Nt=Rt),mt&&Math.abs(mt)+Math.abs(vt)>359.9&&(mt=vt=0,pt=180-pt),ft=_round(Math.sqrt(Dt*Dt+$t*$t+kt*kt)),ht=_round(Math.sqrt(Gt*Gt+rn*rn)),At=_atan2(Nt,Gt),yt=Math.abs(At)>2e-4?At*_RAD2DEG:0,St=Qt?1/(Qt<0?-Qt:Qt):0),tt.svg&&(Bt=_.getAttribute("transform"),tt.forceCSS=_.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(_,_transformProp)),Bt&&_.setAttribute("transform",Bt))),Math.abs(yt)>90&&Math.abs(yt)<270&&(rt?(ft*=-1,yt+=vt<=0?180:-180,vt+=vt<=0?180:-180):(ht*=-1,yt+=yt<=0?180:-180)),et=et||tt.uncache,tt.x=lt-((tt.xPercent=lt&&(!et&&tt.xPercent||(Math.round(_.offsetWidth/2)===Math.round(-lt)?-50:0)))?_.offsetWidth*tt.xPercent/100:0)+it,tt.y=ct-((tt.yPercent=ct&&(!et&&tt.yPercent||(Math.round(_.offsetHeight/2)===Math.round(-ct)?-50:0)))?_.offsetHeight*tt.yPercent/100:0)+it,tt.z=ut+it,tt.scaleX=_round(ft),tt.scaleY=_round(ht),tt.rotation=_round(vt)+st,tt.rotationX=_round(mt)+st,tt.rotationY=_round(pt)+st,tt.skewX=yt+st,tt.skewY=_t+st,tt.transformPerspective=St+it,(tt.zOrigin=parseFloat(at.split(" ")[2])||0)&&(nt[_transformOriginProp]=_firstTwoOnly(at)),tt.xOffset=tt.yOffset=0,tt.force3D=_config$1.force3D,tt.renderTransform=tt.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,tt.uncache=0,tt},_firstTwoOnly=function(_){return(_=_.split(" "))[0]+" "+_[1]},_addPxTranslate=function(_,et,tt){var nt=getUnit$1(et);return _round(parseFloat(et)+parseFloat(_convertToUnit(_,"x",tt+"px",nt)))+nt},_renderNon3DTransforms=function(_,et){et.z="0px",et.rotationY=et.rotationX="0deg",et.force3D=0,_renderCSSTransforms(_,et)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function(_,et){var tt=et||this,nt=tt.xPercent,rt=tt.yPercent,it=tt.x,st=tt.y,ot=tt.z,at=tt.rotation,lt=tt.rotationY,ct=tt.rotationX,ut=tt.skewX,ft=tt.skewY,ht=tt.scaleX,vt=tt.scaleY,mt=tt.transformPerspective,pt=tt.force3D,yt=tt.target,_t=tt.zOrigin,St="",Et=pt==="auto"&&_&&_!==1||pt===!0;if(_t&&(ct!==_zeroDeg||lt!==_zeroDeg)){var wt=parseFloat(lt)*_DEG2RAD,Mt=Math.sin(wt),At=Math.cos(wt),Tt;wt=parseFloat(ct)*_DEG2RAD,Tt=Math.cos(wt),it=_addPxTranslate(yt,it,Mt*Tt*-_t),st=_addPxTranslate(yt,st,-Math.sin(wt)*-_t),ot=_addPxTranslate(yt,ot,At*Tt*-_t+_t)}mt!==_zeroPx&&(St+="perspective("+mt+_endParenthesis),(nt||rt)&&(St+="translate("+nt+"%, "+rt+"%) "),(Et||it!==_zeroPx||st!==_zeroPx||ot!==_zeroPx)&&(St+=ot!==_zeroPx||Et?"translate3d("+it+", "+st+", "+ot+") ":"translate("+it+", "+st+_endParenthesis),at!==_zeroDeg&&(St+="rotate("+at+_endParenthesis),lt!==_zeroDeg&&(St+="rotateY("+lt+_endParenthesis),ct!==_zeroDeg&&(St+="rotateX("+ct+_endParenthesis),(ut!==_zeroDeg||ft!==_zeroDeg)&&(St+="skew("+ut+", "+ft+_endParenthesis),(ht!==1||vt!==1)&&(St+="scale("+ht+", "+vt+_endParenthesis),yt.style[_transformProp]=St||"translate(0, 0)"},_renderSVGTransforms=function(_,et){var tt=et||this,nt=tt.xPercent,rt=tt.yPercent,it=tt.x,st=tt.y,ot=tt.rotation,at=tt.skewX,lt=tt.skewY,ct=tt.scaleX,ut=tt.scaleY,ft=tt.target,ht=tt.xOrigin,vt=tt.yOrigin,mt=tt.xOffset,pt=tt.yOffset,yt=tt.forceCSS,_t=parseFloat(it),St=parseFloat(st),Et,wt,Mt,At,Tt;ot=parseFloat(ot),at=parseFloat(at),lt=parseFloat(lt),lt&&(lt=parseFloat(lt),at+=lt,ot+=lt),ot||at?(ot*=_DEG2RAD,at*=_DEG2RAD,Et=Math.cos(ot)*ct,wt=Math.sin(ot)*ct,Mt=Math.sin(ot-at)*-ut,At=Math.cos(ot-at)*ut,at&&(lt*=_DEG2RAD,Tt=Math.tan(at-lt),Tt=Math.sqrt(1+Tt*Tt),Mt*=Tt,At*=Tt,lt&&(Tt=Math.tan(lt),Tt=Math.sqrt(1+Tt*Tt),Et*=Tt,wt*=Tt)),Et=_round(Et),wt=_round(wt),Mt=_round(Mt),At=_round(At)):(Et=ct,At=ut,wt=Mt=0),(_t&&!~(it+"").indexOf("px")||St&&!~(st+"").indexOf("px"))&&(_t=_convertToUnit(ft,"x",it,"px"),St=_convertToUnit(ft,"y",st,"px")),(ht||vt||mt||pt)&&(_t=_round(_t+ht-(ht*Et+vt*Mt)+mt),St=_round(St+vt-(ht*wt+vt*At)+pt)),(nt||rt)&&(Tt=ft.getBBox(),_t=_round(_t+nt/100*Tt.width),St=_round(St+rt/100*Tt.height)),Tt="matrix("+Et+","+wt+","+Mt+","+At+","+_t+","+St+")",ft.setAttribute("transform",Tt),yt&&(ft.style[_transformProp]=Tt)},_addRotationalPropTween=function(_,et,tt,nt,rt){var it=360,st=_isString$1(rt),ot=parseFloat(rt)*(st&&~rt.indexOf("rad")?_RAD2DEG:1),at=ot-nt,lt=nt+at+"deg",ct,ut;return st&&(ct=rt.split("_")[1],ct==="short"&&(at%=it,at!==at%(it/2)&&(at+=at<0?it:-it)),ct==="cw"&&at<0?at=(at+it*_bigNum)%it-~~(at/it)*it:ct==="ccw"&&at>0&&(at=(at-it*_bigNum)%it-~~(at/it)*it)),_._pt=ut=new PropTween(_._pt,et,tt,nt,at,_renderPropWithEnd),ut.e=lt,ut.u="deg",_._props.push(tt),ut},_assign=function(_,et){for(var tt in et)_[tt]=et[tt];return _},_addRawTransformPTs=function(_,et,tt){var nt=_assign({},tt._gsap),rt="perspective,force3D,transformOrigin,svgOrigin",it=tt.style,st,ot,at,lt,ct,ut,ft,ht;nt.svg?(at=tt.getAttribute("transform"),tt.setAttribute("transform",""),it[_transformProp]=et,st=_parseTransform(tt,1),_removeProperty(tt,_transformProp),tt.setAttribute("transform",at)):(at=getComputedStyle(tt)[_transformProp],it[_transformProp]=et,st=_parseTransform(tt,1),it[_transformProp]=at);for(ot in _transformProps)at=nt[ot],lt=st[ot],at!==lt&&rt.indexOf(ot)<0&&(ft=getUnit$1(at),ht=getUnit$1(lt),ct=ft!==ht?_convertToUnit(tt,ot,at,ht):parseFloat(at),ut=parseFloat(lt),_._pt=new PropTween(_._pt,st,ot,ct,ut-ct,_renderCSSProp),_._pt.u=ht||0,_._props.push(ot));_assign(st,nt)};_forEachName("padding,margin,Width,Radius",function(_e,_){var et="Top",tt="Right",nt="Bottom",rt="Left",it=(_<3?[et,tt,nt,rt]:[et+rt,et+tt,nt+tt,nt+rt]).map(function(st){return _<2?_e+st:"border"+st+_e});_specialProps[_>1?"border"+_e:_e]=function(st,ot,at,lt,ct){var ut,ft;if(arguments.length<4)return ut=it.map(function(ht){return _get(st,ht,at)}),ft=ut.join(" "),ft.split(ut[0]).length===5?ut[0]:ft;ut=(lt+"").split(" "),ft={},it.forEach(function(ht,vt){return ft[ht]=ut[vt]=ut[vt]||ut[(vt-1)/2|0]}),st.init(ot,ft,ct)}});var CSSPlugin={name:"css",register:_initCore$1,targetTest:function(_){return _.style&&_.nodeType},init:function(_,et,tt,nt,rt){var it=this._props,st=_.style,ot=tt.vars.startAt,at,lt,ct,ut,ft,ht,vt,mt,pt,yt,_t,St,Et,wt,Mt,At;_pluginInitted||_initCore$1(),this.styles=this.styles||_getStyleSaver(_),At=this.styles.props,this.tween=tt;for(vt in et)if(vt!=="autoRound"&&(lt=et[vt],!(_plugins[vt]&&_checkPlugin(vt,et,tt,nt,_,rt)))){if(ft=typeof lt,ht=_specialProps[vt],ft==="function"&&(lt=lt.call(tt,nt,_,rt),ft=typeof lt),ft==="string"&&~lt.indexOf("random(")&&(lt=_replaceRandom(lt)),ht)ht(this,_,vt,lt,tt)&&(Mt=1);else if(vt.substr(0,2)==="--")at=(getComputedStyle(_).getPropertyValue(vt)+"").trim(),lt+="",_colorExp.lastIndex=0,_colorExp.test(at)||(mt=getUnit$1(at),pt=getUnit$1(lt)),pt?mt!==pt&&(at=_convertToUnit(_,vt,at,pt)+pt):mt&&(lt+=mt),this.add(st,"setProperty",at,lt,nt,rt,0,0,vt),it.push(vt),At.push(vt,0,st[vt]);else if(ft!=="undefined"){if(ot&&vt in ot?(at=typeof ot[vt]=="function"?ot[vt].call(tt,nt,_,rt):ot[vt],_isString$1(at)&&~at.indexOf("random(")&&(at=_replaceRandom(at)),getUnit$1(at+"")||(at+=_config$1.units[vt]||getUnit$1(_get(_,vt))||""),(at+"").charAt(1)==="="&&(at=_get(_,vt))):at=_get(_,vt),ut=parseFloat(at),yt=ft==="string"&&lt.charAt(1)==="="&&lt.substr(0,2),yt&&(lt=lt.substr(2)),ct=parseFloat(lt),vt in _propertyAliases&&(vt==="autoAlpha"&&(ut===1&&_get(_,"visibility")==="hidden"&&ct&&(ut=0),At.push("visibility",0,st.visibility),_addNonTweeningPT(this,st,"visibility",ut?"inherit":"hidden",ct?"inherit":"hidden",!ct)),vt!=="scale"&&vt!=="transform"&&(vt=_propertyAliases[vt],~vt.indexOf(",")&&(vt=vt.split(",")[0]))),_t=vt in _transformProps,_t){if(this.styles.save(vt),St||(Et=_._gsap,Et.renderTransform&&!et.parseTransform||_parseTransform(_,et.parseTransform),wt=et.smoothOrigin!==!1&&Et.smooth,St=this._pt=new PropTween(this._pt,st,_transformProp,0,1,Et.renderTransform,Et,0,-1),St.dep=1),vt==="scale")this._pt=new PropTween(this._pt,Et,"scaleY",Et.scaleY,(yt?_parseRelative(Et.scaleY,yt+ct):ct)-Et.scaleY||0,_renderCSSProp),this._pt.u=0,it.push("scaleY",vt),vt+="X";else if(vt==="transformOrigin"){At.push(_transformOriginProp,0,st[_transformOriginProp]),lt=_convertKeywordsToPercentages(lt),Et.svg?_applySVGOrigin(_,lt,0,wt,0,this):(pt=parseFloat(lt.split(" ")[2])||0,pt!==Et.zOrigin&&_addNonTweeningPT(this,Et,"zOrigin",Et.zOrigin,pt),_addNonTweeningPT(this,st,vt,_firstTwoOnly(at),_firstTwoOnly(lt)));continue}else if(vt==="svgOrigin"){_applySVGOrigin(_,lt,1,wt,0,this);continue}else if(vt in _rotationalProperties){_addRotationalPropTween(this,Et,vt,ut,yt?_parseRelative(ut,yt+lt):lt);continue}else if(vt==="smoothOrigin"){_addNonTweeningPT(this,Et,"smooth",Et.smooth,lt);continue}else if(vt==="force3D"){Et[vt]=lt;continue}else if(vt==="transform"){_addRawTransformPTs(this,lt,_);continue}}else vt in st||(vt=_checkPropPrefix(vt)||vt);if(_t||(ct||ct===0)&&(ut||ut===0)&&!_complexExp.test(lt)&&vt in st)mt=(at+"").substr((ut+"").length),ct||(ct=0),pt=getUnit$1(lt)||(vt in _config$1.units?_config$1.units[vt]:mt),mt!==pt&&(ut=_convertToUnit(_,vt,at,pt)),this._pt=new PropTween(this._pt,_t?Et:st,vt,ut,(yt?_parseRelative(ut,yt+ct):ct)-ut,!_t&&(pt==="px"||vt==="zIndex")&&et.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=pt||0,mt!==pt&&pt!=="%"&&(this._pt.b=at,this._pt.r=_renderCSSPropWithBeginning);else if(vt in st)_tweenComplexCSSString.call(this,_,vt,at,yt?yt+lt:lt);else if(vt in _)this.add(_,vt,at||_[vt],yt?yt+lt:lt,nt,rt);else if(vt!=="parseTransform"){_missingPlugin(vt,lt);continue}_t||(vt in st?At.push(vt,0,st[vt]):At.push(vt,1,at||_[vt])),it.push(vt)}}Mt&&_sortPropTweensByPriority(this)},render:function(_,et){if(et.tween._time||!_reverting())for(var tt=et._pt;tt;)tt.r(_,tt.d),tt=tt._next;else et.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function(_,et,tt){var nt=_propertyAliases[et];return nt&&nt.indexOf(",")<0&&(et=nt),et in _transformProps&&et!==_transformOriginProp&&(_._gsap.x||_get(_,"x"))?tt&&_recentSetterPlugin===tt?et==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=tt||{})&&(et==="scale"?_setterScaleWithRender:_setterTransformWithRender):_.style&&!_isUndefined(_.style[et])?_setterCSSStyle:~et.indexOf("-")?_setterCSSProp:_getSetter(_,et)},core:{_removeProperty,_getMatrix}};gsap$2.utils.checkPrefix=_checkPropPrefix;gsap$2.core.getStyleSaver=_getStyleSaver;(function(_e,_,et,tt){var nt=_forEachName(_e+","+_+","+et,function(rt){_transformProps[rt]=1});_forEachName(_,function(rt){_config$1.units[rt]="deg",_rotationalProperties[rt]=1}),_propertyAliases[nt[13]]=_e+","+_,_forEachName(tt,function(rt){var it=rt.split(":");_propertyAliases[it[1]]=nt[it[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(_e){_config$1.units[_e]="px"});gsap$2.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$2.registerPlugin(CSSPlugin)||gsap$2;gsapWithCSS.core.Tween;function isObject$b(_e){return _e!==null&&typeof _e=="object"&&"constructor"in _e&&_e.constructor===Object}function extend$5(_e,_){_e===void 0&&(_e={}),_===void 0&&(_={}),Object.keys(_).forEach(et=>{typeof _e[et]>"u"?_e[et]=_[et]:isObject$b(_[et])&&isObject$b(_e[et])&&Object.keys(_[et]).length>0&&extend$5(_e[et],_[et])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const _e=typeof document<"u"?document:{};return extend$5(_e,ssrDocument),_e}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(_e){return typeof setTimeout>"u"?(_e(),null):setTimeout(_e,0)},cancelAnimationFrame(_e){typeof setTimeout>"u"||clearTimeout(_e)}};function getWindow$1(){const _e=typeof window<"u"?window:{};return extend$5(_e,ssrWindow),_e}function classesToTokens(_e){return _e===void 0&&(_e=""),_e.trim().split(" ").filter(_=>!!_.trim())}function deleteProps(_e){const _=_e;Object.keys(_).forEach(et=>{try{_[et]=null}catch{}try{delete _[et]}catch{}})}function nextTick(_e,_){return _===void 0&&(_=0),setTimeout(_e,_)}function now$1(){return Date.now()}function getComputedStyle$2(_e){const _=getWindow$1();let et;return _.getComputedStyle&&(et=_.getComputedStyle(_e,null)),!et&&_e.currentStyle&&(et=_e.currentStyle),et||(et=_e.style),et}function getTranslate(_e,_){_===void 0&&(_="x");const et=getWindow$1();let tt,nt,rt;const it=getComputedStyle$2(_e);return et.WebKitCSSMatrix?(nt=it.transform||it.webkitTransform,nt.split(",").length>6&&(nt=nt.split(", ").map(st=>st.replace(",",".")).join(", ")),rt=new et.WebKitCSSMatrix(nt==="none"?"":nt)):(rt=it.MozTransform||it.OTransform||it.MsTransform||it.msTransform||it.transform||it.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),tt=rt.toString().split(",")),_==="x"&&(et.WebKitCSSMatrix?nt=rt.m41:tt.length===16?nt=parseFloat(tt[12]):nt=parseFloat(tt[4])),_==="y"&&(et.WebKitCSSMatrix?nt=rt.m42:tt.length===16?nt=parseFloat(tt[13]):nt=parseFloat(tt[5])),nt||0}function isObject$a(_e){return typeof _e=="object"&&_e!==null&&_e.constructor&&Object.prototype.toString.call(_e).slice(8,-1)==="Object"}function isNode$1(_e){return typeof window<"u"&&typeof window.HTMLElement<"u"?_e instanceof HTMLElement:_e&&(_e.nodeType===1||_e.nodeType===11)}function extend$4(){const _e=Object(arguments.length<=0?void 0:arguments[0]),_=["__proto__","constructor","prototype"];for(let et=1;et<arguments.length;et+=1){const tt=et<0||arguments.length<=et?void 0:arguments[et];if(tt!=null&&!isNode$1(tt)){const nt=Object.keys(Object(tt)).filter(rt=>_.indexOf(rt)<0);for(let rt=0,it=nt.length;rt<it;rt+=1){const st=nt[rt],ot=Object.getOwnPropertyDescriptor(tt,st);ot!==void 0&&ot.enumerable&&(isObject$a(_e[st])&&isObject$a(tt[st])?tt[st].__swiper__?_e[st]=tt[st]:extend$4(_e[st],tt[st]):!isObject$a(_e[st])&&isObject$a(tt[st])?(_e[st]={},tt[st].__swiper__?_e[st]=tt[st]:extend$4(_e[st],tt[st])):_e[st]=tt[st])}}}return _e}function setCSSProperty(_e,_,et){_e.style.setProperty(_,et)}function animateCSSModeScroll(_e){let{swiper:_,targetPosition:et,side:tt}=_e;const nt=getWindow$1(),rt=-_.translate;let it=null,st;const ot=_.params.speed;_.wrapperEl.style.scrollSnapType="none",nt.cancelAnimationFrame(_.cssModeFrameID);const at=et>rt?"next":"prev",lt=(ut,ft)=>at==="next"&&ut>=ft||at==="prev"&&ut<=ft,ct=()=>{st=new Date().getTime(),it===null&&(it=st);const ut=Math.max(Math.min((st-it)/ot,1),0),ft=.5-Math.cos(ut*Math.PI)/2;let ht=rt+ft*(et-rt);if(lt(ht,et)&&(ht=et),_.wrapperEl.scrollTo({[tt]:ht}),lt(ht,et)){_.wrapperEl.style.overflow="hidden",_.wrapperEl.style.scrollSnapType="",setTimeout(()=>{_.wrapperEl.style.overflow="",_.wrapperEl.scrollTo({[tt]:ht})}),nt.cancelAnimationFrame(_.cssModeFrameID);return}_.cssModeFrameID=nt.requestAnimationFrame(ct)};ct()}function elementChildren(_e,_){return _===void 0&&(_=""),[..._e.children].filter(et=>et.matches(_))}function showWarning(_e){try{console.warn(_e);return}catch{}}function createElement(_e,_){_===void 0&&(_=[]);const et=document.createElement(_e);return et.classList.add(...Array.isArray(_)?_:classesToTokens(_)),et}function elementPrevAll(_e,_){const et=[];for(;_e.previousElementSibling;){const tt=_e.previousElementSibling;_?tt.matches(_)&&et.push(tt):et.push(tt),_e=tt}return et}function elementNextAll(_e,_){const et=[];for(;_e.nextElementSibling;){const tt=_e.nextElementSibling;_?tt.matches(_)&&et.push(tt):et.push(tt),_e=tt}return et}function elementStyle(_e,_){return getWindow$1().getComputedStyle(_e,null).getPropertyValue(_)}function elementIndex(_e){let _=_e,et;if(_){for(et=0;(_=_.previousSibling)!==null;)_.nodeType===1&&(et+=1);return et}}function elementParents(_e,_){const et=[];let tt=_e.parentElement;for(;tt;)et.push(tt),tt=tt.parentElement;return et}function elementOuterSize(_e,_,et){const tt=getWindow$1();return _e[_==="width"?"offsetWidth":"offsetHeight"]+parseFloat(tt.getComputedStyle(_e,null).getPropertyValue(_==="width"?"margin-right":"margin-top"))+parseFloat(tt.getComputedStyle(_e,null).getPropertyValue(_==="width"?"margin-left":"margin-bottom"))}function Mousewheel(_e){let{swiper:_,extendParams:et,on:tt,emit:nt}=_e;const rt=getWindow$1();et({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),_.mousewheel={enabled:!1};let it,st=now$1(),ot;const at=[];function lt(_t){let Mt=0,At=0,Tt=0,Ct=0;return"detail"in _t&&(At=_t.detail),"wheelDelta"in _t&&(At=-_t.wheelDelta/120),"wheelDeltaY"in _t&&(At=-_t.wheelDeltaY/120),"wheelDeltaX"in _t&&(Mt=-_t.wheelDeltaX/120),"axis"in _t&&_t.axis===_t.HORIZONTAL_AXIS&&(Mt=At,At=0),Tt=Mt*10,Ct=At*10,"deltaY"in _t&&(Ct=_t.deltaY),"deltaX"in _t&&(Tt=_t.deltaX),_t.shiftKey&&!Tt&&(Tt=Ct,Ct=0),(Tt||Ct)&&_t.deltaMode&&(_t.deltaMode===1?(Tt*=40,Ct*=40):(Tt*=800,Ct*=800)),Tt&&!Mt&&(Mt=Tt<1?-1:1),Ct&&!At&&(At=Ct<1?-1:1),{spinX:Mt,spinY:At,pixelX:Tt,pixelY:Ct}}function ct(){_.enabled&&(_.mouseEntered=!0)}function ut(){_.enabled&&(_.mouseEntered=!1)}function ft(_t){return _.params.mousewheel.thresholdDelta&&_t.delta<_.params.mousewheel.thresholdDelta||_.params.mousewheel.thresholdTime&&now$1()-st<_.params.mousewheel.thresholdTime?!1:_t.delta>=6&&now$1()-st<60?!0:(_t.direction<0?(!_.isEnd||_.params.loop)&&!_.animating&&(_.slideNext(),nt("scroll",_t.raw)):(!_.isBeginning||_.params.loop)&&!_.animating&&(_.slidePrev(),nt("scroll",_t.raw)),st=new rt.Date().getTime(),!1)}function ht(_t){const St=_.params.mousewheel;if(_t.direction<0){if(_.isEnd&&!_.params.loop&&St.releaseOnEdges)return!0}else if(_.isBeginning&&!_.params.loop&&St.releaseOnEdges)return!0;return!1}function vt(_t){let St=_t,Et=!0;if(!_.enabled||_t.target.closest(`.${_.params.mousewheel.noMousewheelClass}`))return;const wt=_.params.mousewheel;_.params.cssMode&&St.preventDefault();let Mt=_.el;_.params.mousewheel.eventsTarget!=="container"&&(Mt=document.querySelector(_.params.mousewheel.eventsTarget));const At=Mt&&Mt.contains(St.target);if(!_.mouseEntered&&!At&&!wt.releaseOnEdges)return!0;St.originalEvent&&(St=St.originalEvent);let Tt=0;const Ct=_.rtlTranslate?-1:1,Dt=lt(St);if(wt.forceToAxis)if(_.isHorizontal())if(Math.abs(Dt.pixelX)>Math.abs(Dt.pixelY))Tt=-Dt.pixelX*Ct;else return!0;else if(Math.abs(Dt.pixelY)>Math.abs(Dt.pixelX))Tt=-Dt.pixelY;else return!0;else Tt=Math.abs(Dt.pixelX)>Math.abs(Dt.pixelY)?-Dt.pixelX*Ct:-Dt.pixelY;if(Tt===0)return!0;wt.invert&&(Tt=-Tt);let $t=_.getTranslate()+Tt*wt.sensitivity;if($t>=_.minTranslate()&&($t=_.minTranslate()),$t<=_.maxTranslate()&&($t=_.maxTranslate()),Et=_.params.loop?!0:!($t===_.minTranslate()||$t===_.maxTranslate()),Et&&_.params.nested&&St.stopPropagation(),!_.params.freeMode||!_.params.freeMode.enabled){const kt={time:now$1(),delta:Math.abs(Tt),direction:Math.sign(Tt),raw:_t};at.length>=2&&at.shift();const It=at.length?at[at.length-1]:void 0;if(at.push(kt),It?(kt.direction!==It.direction||kt.delta>It.delta||kt.time>It.time+150)&&ft(kt):ft(kt),ht(kt))return!0}else{const kt={time:now$1(),delta:Math.abs(Tt),direction:Math.sign(Tt)},It=ot&&kt.time<ot.time+500&&kt.delta<=ot.delta&&kt.direction===ot.direction;if(!It){ot=void 0;let Nt=_.getTranslate()+Tt*wt.sensitivity;const Gt=_.isBeginning,Bt=_.isEnd;if(Nt>=_.minTranslate()&&(Nt=_.minTranslate()),Nt<=_.maxTranslate()&&(Nt=_.maxTranslate()),_.setTransition(0),_.setTranslate(Nt),_.updateProgress(),_.updateActiveIndex(),_.updateSlidesClasses(),(!Gt&&_.isBeginning||!Bt&&_.isEnd)&&_.updateSlidesClasses(),_.params.loop&&_.loopFix({direction:kt.direction<0?"next":"prev",byMousewheel:!0}),_.params.freeMode.sticky){clearTimeout(it),it=void 0,at.length>=15&&at.shift();const Rt=at.length?at[at.length-1]:void 0,Ot=at[0];if(at.push(kt),Rt&&(kt.delta>Rt.delta||kt.direction!==Rt.direction))at.splice(0);else if(at.length>=15&&kt.time-Ot.time<500&&Ot.delta-kt.delta>=1&&kt.delta<=6){const Ut=Tt>0?.8:.2;ot=kt,at.splice(0),it=nextTick(()=>{_.slideToClosest(_.params.speed,!0,void 0,Ut)},0)}it||(it=nextTick(()=>{ot=kt,at.splice(0),_.slideToClosest(_.params.speed,!0,void 0,.5)},500))}if(It||nt("scroll",St),_.params.autoplay&&_.params.autoplayDisableOnInteraction&&_.autoplay.stop(),wt.releaseOnEdges&&(Nt===_.minTranslate()||Nt===_.maxTranslate()))return!0}}return St.preventDefault?St.preventDefault():St.returnValue=!1,!1}function mt(_t){let St=_.el;_.params.mousewheel.eventsTarget!=="container"&&(St=document.querySelector(_.params.mousewheel.eventsTarget)),St[_t]("mouseenter",ct),St[_t]("mouseleave",ut),St[_t]("wheel",vt)}function pt(){return _.params.cssMode?(_.wrapperEl.removeEventListener("wheel",vt),!0):_.mousewheel.enabled?!1:(mt("addEventListener"),_.mousewheel.enabled=!0,!0)}function yt(){return _.params.cssMode?(_.wrapperEl.addEventListener(event,vt),!0):_.mousewheel.enabled?(mt("removeEventListener"),_.mousewheel.enabled=!1,!0):!1}tt("init",()=>{!_.params.mousewheel.enabled&&_.params.cssMode&&yt(),_.params.mousewheel.enabled&&pt()}),tt("destroy",()=>{_.params.cssMode&&pt(),_.mousewheel.enabled&&yt()}),Object.assign(_.mousewheel,{enable:pt,disable:yt})}let support;function calcSupport(){const _e=getWindow$1(),_=getDocument();return{smoothScroll:_.documentElement&&_.documentElement.style&&"scrollBehavior"in _.documentElement.style,touch:!!("ontouchstart"in _e||_e.DocumentTouch&&_ instanceof _e.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice(_e){let{userAgent:_}=_e===void 0?{}:_e;const et=getSupport(),tt=getWindow$1(),nt=tt.navigator.platform,rt=_||tt.navigator.userAgent,it={ios:!1,android:!1},st=tt.screen.width,ot=tt.screen.height,at=rt.match(/(Android);?[\s\/]+([\d.]+)?/);let lt=rt.match(/(iPad).*OS\s([\d_]+)/);const ct=rt.match(/(iPod)(.*OS\s([\d_]+))?/),ut=!lt&&rt.match(/(iPhone\sOS|iOS)\s([\d_]+)/),ft=nt==="Win32";let ht=nt==="MacIntel";const vt=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!lt&&ht&&et.touch&&vt.indexOf(`${st}x${ot}`)>=0&&(lt=rt.match(/(Version)\/([\d.]+)/),lt||(lt=[0,1,"13_0_0"]),ht=!1),at&&!ft&&(it.os="android",it.android=!0),(lt||ut||ct)&&(it.os="ios",it.ios=!0),it}function getDevice(_e){return _e===void 0&&(_e={}),deviceCached||(deviceCached=calcDevice(_e)),deviceCached}let browser;function calcBrowser(){const _e=getWindow$1();let _=!1;function et(){const tt=_e.navigator.userAgent.toLowerCase();return tt.indexOf("safari")>=0&&tt.indexOf("chrome")<0&&tt.indexOf("android")<0}if(et()){const tt=String(_e.navigator.userAgent);if(tt.includes("Version/")){const[nt,rt]=tt.split("Version/")[1].split(" ")[0].split(".").map(it=>Number(it));_=nt<16||nt===16&&rt<2}}return{isSafari:_||et(),needPerspectiveFix:_,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(_e.navigator.userAgent)}}function getBrowser(){return browser||(browser=calcBrowser()),browser}function Resize(_e){let{swiper:_,on:et,emit:tt}=_e;const nt=getWindow$1();let rt=null,it=null;const st=()=>{!_||_.destroyed||!_.initialized||(tt("beforeResize"),tt("resize"))},ot=()=>{!_||_.destroyed||!_.initialized||(rt=new ResizeObserver(ct=>{it=nt.requestAnimationFrame(()=>{const{width:ut,height:ft}=_;let ht=ut,vt=ft;ct.forEach(mt=>{let{contentBoxSize:pt,contentRect:yt,target:_t}=mt;_t&&_t!==_.el||(ht=yt?yt.width:(pt[0]||pt).inlineSize,vt=yt?yt.height:(pt[0]||pt).blockSize)}),(ht!==ut||vt!==ft)&&st()})}),rt.observe(_.el))},at=()=>{it&&nt.cancelAnimationFrame(it),rt&&rt.unobserve&&_.el&&(rt.unobserve(_.el),rt=null)},lt=()=>{!_||_.destroyed||!_.initialized||tt("orientationchange")};et("init",()=>{if(_.params.resizeObserver&&typeof nt.ResizeObserver<"u"){ot();return}nt.addEventListener("resize",st),nt.addEventListener("orientationchange",lt)}),et("destroy",()=>{at(),nt.removeEventListener("resize",st),nt.removeEventListener("orientationchange",lt)})}function Observer(_e){let{swiper:_,extendParams:et,on:tt,emit:nt}=_e;const rt=[],it=getWindow$1(),st=function(lt,ct){ct===void 0&&(ct={});const ut=it.MutationObserver||it.WebkitMutationObserver,ft=new ut(ht=>{if(_.__preventObserver__)return;if(ht.length===1){nt("observerUpdate",ht[0]);return}const vt=function(){nt("observerUpdate",ht[0])};it.requestAnimationFrame?it.requestAnimationFrame(vt):it.setTimeout(vt,0)});ft.observe(lt,{attributes:typeof ct.attributes>"u"?!0:ct.attributes,childList:typeof ct.childList>"u"?!0:ct.childList,characterData:typeof ct.characterData>"u"?!0:ct.characterData}),rt.push(ft)},ot=()=>{if(_.params.observer){if(_.params.observeParents){const lt=elementParents(_.hostEl);for(let ct=0;ct<lt.length;ct+=1)st(lt[ct])}st(_.hostEl,{childList:_.params.observeSlideChildren}),st(_.wrapperEl,{attributes:!1})}},at=()=>{rt.forEach(lt=>{lt.disconnect()}),rt.splice(0,rt.length)};et({observer:!1,observeParents:!1,observeSlideChildren:!1}),tt("init",ot),tt("destroy",at)}var eventsEmitter={on(_e,_,et){const tt=this;if(!tt.eventsListeners||tt.destroyed||typeof _!="function")return tt;const nt=et?"unshift":"push";return _e.split(" ").forEach(rt=>{tt.eventsListeners[rt]||(tt.eventsListeners[rt]=[]),tt.eventsListeners[rt][nt](_)}),tt},once(_e,_,et){const tt=this;if(!tt.eventsListeners||tt.destroyed||typeof _!="function")return tt;function nt(){tt.off(_e,nt),nt.__emitterProxy&&delete nt.__emitterProxy;for(var rt=arguments.length,it=new Array(rt),st=0;st<rt;st++)it[st]=arguments[st];_.apply(tt,it)}return nt.__emitterProxy=_,tt.on(_e,nt,et)},onAny(_e,_){const et=this;if(!et.eventsListeners||et.destroyed||typeof _e!="function")return et;const tt=_?"unshift":"push";return et.eventsAnyListeners.indexOf(_e)<0&&et.eventsAnyListeners[tt](_e),et},offAny(_e){const _=this;if(!_.eventsListeners||_.destroyed||!_.eventsAnyListeners)return _;const et=_.eventsAnyListeners.indexOf(_e);return et>=0&&_.eventsAnyListeners.splice(et,1),_},off(_e,_){const et=this;return!et.eventsListeners||et.destroyed||!et.eventsListeners||_e.split(" ").forEach(tt=>{typeof _>"u"?et.eventsListeners[tt]=[]:et.eventsListeners[tt]&&et.eventsListeners[tt].forEach((nt,rt)=>{(nt===_||nt.__emitterProxy&&nt.__emitterProxy===_)&&et.eventsListeners[tt].splice(rt,1)})}),et},emit(){const _e=this;if(!_e.eventsListeners||_e.destroyed||!_e.eventsListeners)return _e;let _,et,tt;for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return typeof rt[0]=="string"||Array.isArray(rt[0])?(_=rt[0],et=rt.slice(1,rt.length),tt=_e):(_=rt[0].events,et=rt[0].data,tt=rt[0].context||_e),et.unshift(tt),(Array.isArray(_)?_:_.split(" ")).forEach(ot=>{_e.eventsAnyListeners&&_e.eventsAnyListeners.length&&_e.eventsAnyListeners.forEach(at=>{at.apply(tt,[ot,...et])}),_e.eventsListeners&&_e.eventsListeners[ot]&&_e.eventsListeners[ot].forEach(at=>{at.apply(tt,et)})}),_e}};function updateSize(){const _e=this;let _,et;const tt=_e.el;typeof _e.params.width<"u"&&_e.params.width!==null?_=_e.params.width:_=tt.clientWidth,typeof _e.params.height<"u"&&_e.params.height!==null?et=_e.params.height:et=tt.clientHeight,!(_===0&&_e.isHorizontal()||et===0&&_e.isVertical())&&(_=_-parseInt(elementStyle(tt,"padding-left")||0,10)-parseInt(elementStyle(tt,"padding-right")||0,10),et=et-parseInt(elementStyle(tt,"padding-top")||0,10)-parseInt(elementStyle(tt,"padding-bottom")||0,10),Number.isNaN(_)&&(_=0),Number.isNaN(et)&&(et=0),Object.assign(_e,{width:_,height:et,size:_e.isHorizontal()?_:et}))}function updateSlides(){const _e=this;function _(Ct,Dt){return parseFloat(Ct.getPropertyValue(_e.getDirectionLabel(Dt))||0)}const et=_e.params,{wrapperEl:tt,slidesEl:nt,size:rt,rtlTranslate:it,wrongRTL:st}=_e,ot=_e.virtual&&et.virtual.enabled,at=ot?_e.virtual.slides.length:_e.slides.length,lt=elementChildren(nt,`.${_e.params.slideClass}, swiper-slide`),ct=ot?_e.virtual.slides.length:lt.length;let ut=[];const ft=[],ht=[];let vt=et.slidesOffsetBefore;typeof vt=="function"&&(vt=et.slidesOffsetBefore.call(_e));let mt=et.slidesOffsetAfter;typeof mt=="function"&&(mt=et.slidesOffsetAfter.call(_e));const pt=_e.snapGrid.length,yt=_e.slidesGrid.length;let _t=et.spaceBetween,St=-vt,Et=0,wt=0;if(typeof rt>"u")return;typeof _t=="string"&&_t.indexOf("%")>=0?_t=parseFloat(_t.replace("%",""))/100*rt:typeof _t=="string"&&(_t=parseFloat(_t)),_e.virtualSize=-_t,lt.forEach(Ct=>{it?Ct.style.marginLeft="":Ct.style.marginRight="",Ct.style.marginBottom="",Ct.style.marginTop=""}),et.centeredSlides&&et.cssMode&&(setCSSProperty(tt,"--swiper-centered-offset-before",""),setCSSProperty(tt,"--swiper-centered-offset-after",""));const Mt=et.grid&&et.grid.rows>1&&_e.grid;Mt?_e.grid.initSlides(lt):_e.grid&&_e.grid.unsetSlides();let At;const Tt=et.slidesPerView==="auto"&&et.breakpoints&&Object.keys(et.breakpoints).filter(Ct=>typeof et.breakpoints[Ct].slidesPerView<"u").length>0;for(let Ct=0;Ct<ct;Ct+=1){At=0;let Dt;if(lt[Ct]&&(Dt=lt[Ct]),Mt&&_e.grid.updateSlide(Ct,Dt,lt),!(lt[Ct]&&elementStyle(Dt,"display")==="none")){if(et.slidesPerView==="auto"){Tt&&(lt[Ct].style[_e.getDirectionLabel("width")]="");const $t=getComputedStyle(Dt),kt=Dt.style.transform,It=Dt.style.webkitTransform;if(kt&&(Dt.style.transform="none"),It&&(Dt.style.webkitTransform="none"),et.roundLengths)At=_e.isHorizontal()?elementOuterSize(Dt,"width"):elementOuterSize(Dt,"height");else{const Nt=_($t,"width"),Gt=_($t,"padding-left"),Bt=_($t,"padding-right"),Rt=_($t,"margin-left"),Ot=_($t,"margin-right"),Ut=$t.getPropertyValue("box-sizing");if(Ut&&Ut==="border-box")At=Nt+Rt+Ot;else{const{clientWidth:jt,offsetWidth:Jt}=Dt;At=Nt+Gt+Bt+Rt+Ot+(Jt-jt)}}kt&&(Dt.style.transform=kt),It&&(Dt.style.webkitTransform=It),et.roundLengths&&(At=Math.floor(At))}else At=(rt-(et.slidesPerView-1)*_t)/et.slidesPerView,et.roundLengths&&(At=Math.floor(At)),lt[Ct]&&(lt[Ct].style[_e.getDirectionLabel("width")]=`${At}px`);lt[Ct]&&(lt[Ct].swiperSlideSize=At),ht.push(At),et.centeredSlides?(St=St+At/2+Et/2+_t,Et===0&&Ct!==0&&(St=St-rt/2-_t),Ct===0&&(St=St-rt/2-_t),Math.abs(St)<1/1e3&&(St=0),et.roundLengths&&(St=Math.floor(St)),wt%et.slidesPerGroup===0&&ut.push(St),ft.push(St)):(et.roundLengths&&(St=Math.floor(St)),(wt-Math.min(_e.params.slidesPerGroupSkip,wt))%_e.params.slidesPerGroup===0&&ut.push(St),ft.push(St),St=St+At+_t),_e.virtualSize+=At+_t,Et=At,wt+=1}}if(_e.virtualSize=Math.max(_e.virtualSize,rt)+mt,it&&st&&(et.effect==="slide"||et.effect==="coverflow")&&(tt.style.width=`${_e.virtualSize+_t}px`),et.setWrapperSize&&(tt.style[_e.getDirectionLabel("width")]=`${_e.virtualSize+_t}px`),Mt&&_e.grid.updateWrapperSize(At,ut),!et.centeredSlides){const Ct=[];for(let Dt=0;Dt<ut.length;Dt+=1){let $t=ut[Dt];et.roundLengths&&($t=Math.floor($t)),ut[Dt]<=_e.virtualSize-rt&&Ct.push($t)}ut=Ct,Math.floor(_e.virtualSize-rt)-Math.floor(ut[ut.length-1])>1&&ut.push(_e.virtualSize-rt)}if(ot&&et.loop){const Ct=ht[0]+_t;if(et.slidesPerGroup>1){const Dt=Math.ceil((_e.virtual.slidesBefore+_e.virtual.slidesAfter)/et.slidesPerGroup),$t=Ct*et.slidesPerGroup;for(let kt=0;kt<Dt;kt+=1)ut.push(ut[ut.length-1]+$t)}for(let Dt=0;Dt<_e.virtual.slidesBefore+_e.virtual.slidesAfter;Dt+=1)et.slidesPerGroup===1&&ut.push(ut[ut.length-1]+Ct),ft.push(ft[ft.length-1]+Ct),_e.virtualSize+=Ct}if(ut.length===0&&(ut=[0]),_t!==0){const Ct=_e.isHorizontal()&&it?"marginLeft":_e.getDirectionLabel("marginRight");lt.filter((Dt,$t)=>!et.cssMode||et.loop?!0:$t!==lt.length-1).forEach(Dt=>{Dt.style[Ct]=`${_t}px`})}if(et.centeredSlides&&et.centeredSlidesBounds){let Ct=0;ht.forEach($t=>{Ct+=$t+(_t||0)}),Ct-=_t;const Dt=Ct-rt;ut=ut.map($t=>$t<=0?-vt:$t>Dt?Dt+mt:$t)}if(et.centerInsufficientSlides){let Ct=0;if(ht.forEach(Dt=>{Ct+=Dt+(_t||0)}),Ct-=_t,Ct<rt){const Dt=(rt-Ct)/2;ut.forEach(($t,kt)=>{ut[kt]=$t-Dt}),ft.forEach(($t,kt)=>{ft[kt]=$t+Dt})}}if(Object.assign(_e,{slides:lt,snapGrid:ut,slidesGrid:ft,slidesSizesGrid:ht}),et.centeredSlides&&et.cssMode&&!et.centeredSlidesBounds){setCSSProperty(tt,"--swiper-centered-offset-before",`${-ut[0]}px`),setCSSProperty(tt,"--swiper-centered-offset-after",`${_e.size/2-ht[ht.length-1]/2}px`);const Ct=-_e.snapGrid[0],Dt=-_e.slidesGrid[0];_e.snapGrid=_e.snapGrid.map($t=>$t+Ct),_e.slidesGrid=_e.slidesGrid.map($t=>$t+Dt)}if(ct!==at&&_e.emit("slidesLengthChange"),ut.length!==pt&&(_e.params.watchOverflow&&_e.checkOverflow(),_e.emit("snapGridLengthChange")),ft.length!==yt&&_e.emit("slidesGridLengthChange"),et.watchSlidesProgress&&_e.updateSlidesOffset(),_e.emit("slidesUpdated"),!ot&&!et.cssMode&&(et.effect==="slide"||et.effect==="fade")){const Ct=`${et.containerModifierClass}backface-hidden`,Dt=_e.el.classList.contains(Ct);ct<=et.maxBackfaceHiddenSlides?Dt||_e.el.classList.add(Ct):Dt&&_e.el.classList.remove(Ct)}}function updateAutoHeight(_e){const _=this,et=[],tt=_.virtual&&_.params.virtual.enabled;let nt=0,rt;typeof _e=="number"?_.setTransition(_e):_e===!0&&_.setTransition(_.params.speed);const it=st=>tt?_.slides[_.getSlideIndexByData(st)]:_.slides[st];if(_.params.slidesPerView!=="auto"&&_.params.slidesPerView>1)if(_.params.centeredSlides)(_.visibleSlides||[]).forEach(st=>{et.push(st)});else for(rt=0;rt<Math.ceil(_.params.slidesPerView);rt+=1){const st=_.activeIndex+rt;if(st>_.slides.length&&!tt)break;et.push(it(st))}else et.push(it(_.activeIndex));for(rt=0;rt<et.length;rt+=1)if(typeof et[rt]<"u"){const st=et[rt].offsetHeight;nt=st>nt?st:nt}(nt||nt===0)&&(_.wrapperEl.style.height=`${nt}px`)}function updateSlidesOffset(){const _e=this,_=_e.slides,et=_e.isElement?_e.isHorizontal()?_e.wrapperEl.offsetLeft:_e.wrapperEl.offsetTop:0;for(let tt=0;tt<_.length;tt+=1)_[tt].swiperSlideOffset=(_e.isHorizontal()?_[tt].offsetLeft:_[tt].offsetTop)-et-_e.cssOverflowAdjustment()}function updateSlidesProgress(_e){_e===void 0&&(_e=this&&this.translate||0);const _=this,et=_.params,{slides:tt,rtlTranslate:nt,snapGrid:rt}=_;if(tt.length===0)return;typeof tt[0].swiperSlideOffset>"u"&&_.updateSlidesOffset();let it=-_e;nt&&(it=_e),tt.forEach(ot=>{ot.classList.remove(et.slideVisibleClass,et.slideFullyVisibleClass)}),_.visibleSlidesIndexes=[],_.visibleSlides=[];let st=et.spaceBetween;typeof st=="string"&&st.indexOf("%")>=0?st=parseFloat(st.replace("%",""))/100*_.size:typeof st=="string"&&(st=parseFloat(st));for(let ot=0;ot<tt.length;ot+=1){const at=tt[ot];let lt=at.swiperSlideOffset;et.cssMode&&et.centeredSlides&&(lt-=tt[0].swiperSlideOffset);const ct=(it+(et.centeredSlides?_.minTranslate():0)-lt)/(at.swiperSlideSize+st),ut=(it-rt[0]+(et.centeredSlides?_.minTranslate():0)-lt)/(at.swiperSlideSize+st),ft=-(it-lt),ht=ft+_.slidesSizesGrid[ot],vt=ft>=0&&ft<=_.size-_.slidesSizesGrid[ot];(ft>=0&&ft<_.size-1||ht>1&&ht<=_.size||ft<=0&&ht>=_.size)&&(_.visibleSlides.push(at),_.visibleSlidesIndexes.push(ot),tt[ot].classList.add(et.slideVisibleClass)),vt&&tt[ot].classList.add(et.slideFullyVisibleClass),at.progress=nt?-ct:ct,at.originalProgress=nt?-ut:ut}}function updateProgress(_e){const _=this;if(typeof _e>"u"){const lt=_.rtlTranslate?-1:1;_e=_&&_.translate&&_.translate*lt||0}const et=_.params,tt=_.maxTranslate()-_.minTranslate();let{progress:nt,isBeginning:rt,isEnd:it,progressLoop:st}=_;const ot=rt,at=it;if(tt===0)nt=0,rt=!0,it=!0;else{nt=(_e-_.minTranslate())/tt;const lt=Math.abs(_e-_.minTranslate())<1,ct=Math.abs(_e-_.maxTranslate())<1;rt=lt||nt<=0,it=ct||nt>=1,lt&&(nt=0),ct&&(nt=1)}if(et.loop){const lt=_.getSlideIndexByData(0),ct=_.getSlideIndexByData(_.slides.length-1),ut=_.slidesGrid[lt],ft=_.slidesGrid[ct],ht=_.slidesGrid[_.slidesGrid.length-1],vt=Math.abs(_e);vt>=ut?st=(vt-ut)/ht:st=(vt+ht-ft)/ht,st>1&&(st-=1)}Object.assign(_,{progress:nt,progressLoop:st,isBeginning:rt,isEnd:it}),(et.watchSlidesProgress||et.centeredSlides&&et.autoHeight)&&_.updateSlidesProgress(_e),rt&&!ot&&_.emit("reachBeginning toEdge"),it&&!at&&_.emit("reachEnd toEdge"),(ot&&!rt||at&&!it)&&_.emit("fromEdge"),_.emit("progress",nt)}function updateSlidesClasses(){const _e=this,{slides:_,params:et,slidesEl:tt,activeIndex:nt}=_e,rt=_e.virtual&&et.virtual.enabled,it=_e.grid&&et.grid&&et.grid.rows>1,st=ct=>elementChildren(tt,`.${et.slideClass}${ct}, swiper-slide${ct}`)[0];_.forEach(ct=>{ct.classList.remove(et.slideActiveClass,et.slideNextClass,et.slidePrevClass)});let ot,at,lt;if(rt)if(et.loop){let ct=nt-_e.virtual.slidesBefore;ct<0&&(ct=_e.virtual.slides.length+ct),ct>=_e.virtual.slides.length&&(ct-=_e.virtual.slides.length),ot=st(`[data-swiper-slide-index="${ct}"]`)}else ot=st(`[data-swiper-slide-index="${nt}"]`);else it?(ot=_.filter(ct=>ct.column===nt)[0],lt=_.filter(ct=>ct.column===nt+1)[0],at=_.filter(ct=>ct.column===nt-1)[0]):ot=_[nt];ot&&(ot.classList.add(et.slideActiveClass),it?(lt&&lt.classList.add(et.slideNextClass),at&&at.classList.add(et.slidePrevClass)):(lt=elementNextAll(ot,`.${et.slideClass}, swiper-slide`)[0],et.loop&&!lt&&(lt=_[0]),lt&&lt.classList.add(et.slideNextClass),at=elementPrevAll(ot,`.${et.slideClass}, swiper-slide`)[0],et.loop&&!at===0&&(at=_[_.length-1]),at&&at.classList.add(et.slidePrevClass))),_e.emitSlidesClasses()}const processLazyPreloader=(_e,_)=>{if(!_e||_e.destroyed||!_e.params)return;const et=()=>_e.isElement?"swiper-slide":`.${_e.params.slideClass}`,tt=_.closest(et());if(tt){let nt=tt.querySelector(`.${_e.params.lazyPreloaderClass}`);!nt&&_e.isElement&&(tt.shadowRoot?nt=tt.shadowRoot.querySelector(`.${_e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{tt.shadowRoot&&(nt=tt.shadowRoot.querySelector(`.${_e.params.lazyPreloaderClass}`),nt&&nt.remove())})),nt&&nt.remove()}},unlazy=(_e,_)=>{if(!_e.slides[_])return;const et=_e.slides[_].querySelector('[loading="lazy"]');et&&et.removeAttribute("loading")},preload$1=_e=>{if(!_e||_e.destroyed||!_e.params)return;let _=_e.params.lazyPreloadPrevNext;const et=_e.slides.length;if(!et||!_||_<0)return;_=Math.min(_,et);const tt=_e.params.slidesPerView==="auto"?_e.slidesPerViewDynamic():Math.ceil(_e.params.slidesPerView),nt=_e.activeIndex;if(_e.params.grid&&_e.params.grid.rows>1){const it=nt,st=[it-_];st.push(...Array.from({length:_}).map((ot,at)=>it+tt+at)),_e.slides.forEach((ot,at)=>{st.includes(ot.column)&&unlazy(_e,at)});return}const rt=nt+tt-1;if(_e.params.rewind||_e.params.loop)for(let it=nt-_;it<=rt+_;it+=1){const st=(it%et+et)%et;(st<nt||st>rt)&&unlazy(_e,st)}else for(let it=Math.max(nt-_,0);it<=Math.min(rt+_,et-1);it+=1)it!==nt&&(it>rt||it<nt)&&unlazy(_e,it)};function getActiveIndexByTranslate(_e){const{slidesGrid:_,params:et}=_e,tt=_e.rtlTranslate?_e.translate:-_e.translate;let nt;for(let rt=0;rt<_.length;rt+=1)typeof _[rt+1]<"u"?tt>=_[rt]&&tt<_[rt+1]-(_[rt+1]-_[rt])/2?nt=rt:tt>=_[rt]&&tt<_[rt+1]&&(nt=rt+1):tt>=_[rt]&&(nt=rt);return et.normalizeSlideIndex&&(nt<0||typeof nt>"u")&&(nt=0),nt}function updateActiveIndex(_e){const _=this,et=_.rtlTranslate?_.translate:-_.translate,{snapGrid:tt,params:nt,activeIndex:rt,realIndex:it,snapIndex:st}=_;let ot=_e,at;const lt=ft=>{let ht=ft-_.virtual.slidesBefore;return ht<0&&(ht=_.virtual.slides.length+ht),ht>=_.virtual.slides.length&&(ht-=_.virtual.slides.length),ht};if(typeof ot>"u"&&(ot=getActiveIndexByTranslate(_)),tt.indexOf(et)>=0)at=tt.indexOf(et);else{const ft=Math.min(nt.slidesPerGroupSkip,ot);at=ft+Math.floor((ot-ft)/nt.slidesPerGroup)}if(at>=tt.length&&(at=tt.length-1),ot===rt&&!_.params.loop){at!==st&&(_.snapIndex=at,_.emit("snapIndexChange"));return}if(ot===rt&&_.params.loop&&_.virtual&&_.params.virtual.enabled){_.realIndex=lt(ot);return}const ct=_.grid&&nt.grid&&nt.grid.rows>1;let ut;if(_.virtual&&nt.virtual.enabled&&nt.loop)ut=lt(ot);else if(ct){const ft=_.slides.filter(vt=>vt.column===ot)[0];let ht=parseInt(ft.getAttribute("data-swiper-slide-index"),10);Number.isNaN(ht)&&(ht=Math.max(_.slides.indexOf(ft),0)),ut=Math.floor(ht/nt.grid.rows)}else if(_.slides[ot]){const ft=_.slides[ot].getAttribute("data-swiper-slide-index");ft?ut=parseInt(ft,10):ut=ot}else ut=ot;Object.assign(_,{previousSnapIndex:st,snapIndex:at,previousRealIndex:it,realIndex:ut,previousIndex:rt,activeIndex:ot}),_.initialized&&preload$1(_),_.emit("activeIndexChange"),_.emit("snapIndexChange"),(_.initialized||_.params.runCallbacksOnInit)&&(it!==ut&&_.emit("realIndexChange"),_.emit("slideChange"))}function updateClickedSlide(_e,_){const et=this,tt=et.params;let nt=_e.closest(`.${tt.slideClass}, swiper-slide`);!nt&&et.isElement&&_&&_.length>1&&_.includes(_e)&&[..._.slice(_.indexOf(_e)+1,_.length)].forEach(st=>{!nt&&st.matches&&st.matches(`.${tt.slideClass}, swiper-slide`)&&(nt=st)});let rt=!1,it;if(nt){for(let st=0;st<et.slides.length;st+=1)if(et.slides[st]===nt){rt=!0,it=st;break}}if(nt&&rt)et.clickedSlide=nt,et.virtual&&et.params.virtual.enabled?et.clickedIndex=parseInt(nt.getAttribute("data-swiper-slide-index"),10):et.clickedIndex=it;else{et.clickedSlide=void 0,et.clickedIndex=void 0;return}tt.slideToClickedSlide&&et.clickedIndex!==void 0&&et.clickedIndex!==et.activeIndex&&et.slideToClickedSlide()}var update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(_e){_e===void 0&&(_e=this.isHorizontal()?"x":"y");const _=this,{params:et,rtlTranslate:tt,translate:nt,wrapperEl:rt}=_;if(et.virtualTranslate)return tt?-nt:nt;if(et.cssMode)return nt;let it=getTranslate(rt,_e);return it+=_.cssOverflowAdjustment(),tt&&(it=-it),it||0}function setTranslate(_e,_){const et=this,{rtlTranslate:tt,params:nt,wrapperEl:rt,progress:it}=et;let st=0,ot=0;const at=0;et.isHorizontal()?st=tt?-_e:_e:ot=_e,nt.roundLengths&&(st=Math.floor(st),ot=Math.floor(ot)),et.previousTranslate=et.translate,et.translate=et.isHorizontal()?st:ot,nt.cssMode?rt[et.isHorizontal()?"scrollLeft":"scrollTop"]=et.isHorizontal()?-st:-ot:nt.virtualTranslate||(et.isHorizontal()?st-=et.cssOverflowAdjustment():ot-=et.cssOverflowAdjustment(),rt.style.transform=`translate3d(${st}px, ${ot}px, ${at}px)`);let lt;const ct=et.maxTranslate()-et.minTranslate();ct===0?lt=0:lt=(_e-et.minTranslate())/ct,lt!==it&&et.updateProgress(_e),et.emit("setTranslate",et.translate,_)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(_e,_,et,tt,nt){_e===void 0&&(_e=0),_===void 0&&(_=this.params.speed),et===void 0&&(et=!0),tt===void 0&&(tt=!0);const rt=this,{params:it,wrapperEl:st}=rt;if(rt.animating&&it.preventInteractionOnTransition)return!1;const ot=rt.minTranslate(),at=rt.maxTranslate();let lt;if(tt&&_e>ot?lt=ot:tt&&_e<at?lt=at:lt=_e,rt.updateProgress(lt),it.cssMode){const ct=rt.isHorizontal();if(_===0)st[ct?"scrollLeft":"scrollTop"]=-lt;else{if(!rt.support.smoothScroll)return animateCSSModeScroll({swiper:rt,targetPosition:-lt,side:ct?"left":"top"}),!0;st.scrollTo({[ct?"left":"top"]:-lt,behavior:"smooth"})}return!0}return _===0?(rt.setTransition(0),rt.setTranslate(lt),et&&(rt.emit("beforeTransitionStart",_,nt),rt.emit("transitionEnd"))):(rt.setTransition(_),rt.setTranslate(lt),et&&(rt.emit("beforeTransitionStart",_,nt),rt.emit("transitionStart")),rt.animating||(rt.animating=!0,rt.onTranslateToWrapperTransitionEnd||(rt.onTranslateToWrapperTransitionEnd=function(ut){!rt||rt.destroyed||ut.target===this&&(rt.wrapperEl.removeEventListener("transitionend",rt.onTranslateToWrapperTransitionEnd),rt.onTranslateToWrapperTransitionEnd=null,delete rt.onTranslateToWrapperTransitionEnd,et&&rt.emit("transitionEnd"))}),rt.wrapperEl.addEventListener("transitionend",rt.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(_e,_){const et=this;et.params.cssMode||(et.wrapperEl.style.transitionDuration=`${_e}ms`,et.wrapperEl.style.transitionDelay=_e===0?"0ms":""),et.emit("setTransition",_e,_)}function transitionEmit(_e){let{swiper:_,runCallbacks:et,direction:tt,step:nt}=_e;const{activeIndex:rt,previousIndex:it}=_;let st=tt;if(st||(rt>it?st="next":rt<it?st="prev":st="reset"),_.emit(`transition${nt}`),et&&rt!==it){if(st==="reset"){_.emit(`slideResetTransition${nt}`);return}_.emit(`slideChangeTransition${nt}`),st==="next"?_.emit(`slideNextTransition${nt}`):_.emit(`slidePrevTransition${nt}`)}}function transitionStart(_e,_){_e===void 0&&(_e=!0);const et=this,{params:tt}=et;tt.cssMode||(tt.autoHeight&&et.updateAutoHeight(),transitionEmit({swiper:et,runCallbacks:_e,direction:_,step:"Start"}))}function transitionEnd(_e,_){_e===void 0&&(_e=!0);const et=this,{params:tt}=et;et.animating=!1,!tt.cssMode&&(et.setTransition(0),transitionEmit({swiper:et,runCallbacks:_e,direction:_,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(_e,_,et,tt,nt){_e===void 0&&(_e=0),_===void 0&&(_=this.params.speed),et===void 0&&(et=!0),typeof _e=="string"&&(_e=parseInt(_e,10));const rt=this;let it=_e;it<0&&(it=0);const{params:st,snapGrid:ot,slidesGrid:at,previousIndex:lt,activeIndex:ct,rtlTranslate:ut,wrapperEl:ft,enabled:ht}=rt;if(rt.animating&&st.preventInteractionOnTransition||!ht&&!tt&&!nt)return!1;const vt=Math.min(rt.params.slidesPerGroupSkip,it);let mt=vt+Math.floor((it-vt)/rt.params.slidesPerGroup);mt>=ot.length&&(mt=ot.length-1);const pt=-ot[mt];if(st.normalizeSlideIndex)for(let _t=0;_t<at.length;_t+=1){const St=-Math.floor(pt*100),Et=Math.floor(at[_t]*100),wt=Math.floor(at[_t+1]*100);typeof at[_t+1]<"u"?St>=Et&&St<wt-(wt-Et)/2?it=_t:St>=Et&&St<wt&&(it=_t+1):St>=Et&&(it=_t)}if(rt.initialized&&it!==ct&&(!rt.allowSlideNext&&(ut?pt>rt.translate&&pt>rt.minTranslate():pt<rt.translate&&pt<rt.minTranslate())||!rt.allowSlidePrev&&pt>rt.translate&&pt>rt.maxTranslate()&&(ct||0)!==it))return!1;it!==(lt||0)&&et&&rt.emit("beforeSlideChangeStart"),rt.updateProgress(pt);let yt;if(it>ct?yt="next":it<ct?yt="prev":yt="reset",ut&&-pt===rt.translate||!ut&&pt===rt.translate)return rt.updateActiveIndex(it),st.autoHeight&&rt.updateAutoHeight(),rt.updateSlidesClasses(),st.effect!=="slide"&&rt.setTranslate(pt),yt!=="reset"&&(rt.transitionStart(et,yt),rt.transitionEnd(et,yt)),!1;if(st.cssMode){const _t=rt.isHorizontal(),St=ut?pt:-pt;if(_===0){const Et=rt.virtual&&rt.params.virtual.enabled;Et&&(rt.wrapperEl.style.scrollSnapType="none",rt._immediateVirtual=!0),Et&&!rt._cssModeVirtualInitialSet&&rt.params.initialSlide>0?(rt._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{ft[_t?"scrollLeft":"scrollTop"]=St})):ft[_t?"scrollLeft":"scrollTop"]=St,Et&&requestAnimationFrame(()=>{rt.wrapperEl.style.scrollSnapType="",rt._immediateVirtual=!1})}else{if(!rt.support.smoothScroll)return animateCSSModeScroll({swiper:rt,targetPosition:St,side:_t?"left":"top"}),!0;ft.scrollTo({[_t?"left":"top"]:St,behavior:"smooth"})}return!0}return rt.setTransition(_),rt.setTranslate(pt),rt.updateActiveIndex(it),rt.updateSlidesClasses(),rt.emit("beforeTransitionStart",_,tt),rt.transitionStart(et,yt),_===0?rt.transitionEnd(et,yt):rt.animating||(rt.animating=!0,rt.onSlideToWrapperTransitionEnd||(rt.onSlideToWrapperTransitionEnd=function(St){!rt||rt.destroyed||St.target===this&&(rt.wrapperEl.removeEventListener("transitionend",rt.onSlideToWrapperTransitionEnd),rt.onSlideToWrapperTransitionEnd=null,delete rt.onSlideToWrapperTransitionEnd,rt.transitionEnd(et,yt))}),rt.wrapperEl.addEventListener("transitionend",rt.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(_e,_,et,tt){_e===void 0&&(_e=0),_===void 0&&(_=this.params.speed),et===void 0&&(et=!0),typeof _e=="string"&&(_e=parseInt(_e,10));const nt=this,rt=nt.grid&&nt.params.grid&&nt.params.grid.rows>1;let it=_e;if(nt.params.loop)if(nt.virtual&&nt.params.virtual.enabled)it=it+nt.virtual.slidesBefore;else{let st;if(rt){const ut=it*nt.params.grid.rows;st=nt.slides.filter(ft=>ft.getAttribute("data-swiper-slide-index")*1===ut)[0].column}else st=nt.getSlideIndexByData(it);const ot=rt?Math.ceil(nt.slides.length/nt.params.grid.rows):nt.slides.length,{centeredSlides:at}=nt.params;let lt=nt.params.slidesPerView;lt==="auto"?lt=nt.slidesPerViewDynamic():(lt=Math.ceil(parseFloat(nt.params.slidesPerView,10)),at&&lt%2===0&&(lt=lt+1));let ct=ot-st<lt;if(at&&(ct=ct||st<Math.ceil(lt/2)),ct){const ut=at?st<nt.activeIndex?"prev":"next":st-nt.activeIndex-1<nt.params.slidesPerView?"next":"prev";nt.loopFix({direction:ut,slideTo:!0,activeSlideIndex:ut==="next"?st+1:st-ot+1,slideRealIndex:ut==="next"?nt.realIndex:void 0})}if(rt){const ut=it*nt.params.grid.rows;it=nt.slides.filter(ft=>ft.getAttribute("data-swiper-slide-index")*1===ut)[0].column}else it=nt.getSlideIndexByData(it)}return requestAnimationFrame(()=>{nt.slideTo(it,_,et,tt)}),nt}function slideNext(_e,_,et){_e===void 0&&(_e=this.params.speed),_===void 0&&(_=!0);const tt=this,{enabled:nt,params:rt,animating:it}=tt;if(!nt)return tt;let st=rt.slidesPerGroup;rt.slidesPerView==="auto"&&rt.slidesPerGroup===1&&rt.slidesPerGroupAuto&&(st=Math.max(tt.slidesPerViewDynamic("current",!0),1));const ot=tt.activeIndex<rt.slidesPerGroupSkip?1:st,at=tt.virtual&&rt.virtual.enabled;if(rt.loop){if(it&&!at&&rt.loopPreventsSliding)return!1;if(tt.loopFix({direction:"next"}),tt._clientLeft=tt.wrapperEl.clientLeft,tt.activeIndex===tt.slides.length-1&&rt.cssMode)return requestAnimationFrame(()=>{tt.slideTo(tt.activeIndex+ot,_e,_,et)}),!0}return rt.rewind&&tt.isEnd?tt.slideTo(0,_e,_,et):tt.slideTo(tt.activeIndex+ot,_e,_,et)}function slidePrev(_e,_,et){_e===void 0&&(_e=this.params.speed),_===void 0&&(_=!0);const tt=this,{params:nt,snapGrid:rt,slidesGrid:it,rtlTranslate:st,enabled:ot,animating:at}=tt;if(!ot)return tt;const lt=tt.virtual&&nt.virtual.enabled;if(nt.loop){if(at&&!lt&&nt.loopPreventsSliding)return!1;tt.loopFix({direction:"prev"}),tt._clientLeft=tt.wrapperEl.clientLeft}const ct=st?tt.translate:-tt.translate;function ut(pt){return pt<0?-Math.floor(Math.abs(pt)):Math.floor(pt)}const ft=ut(ct),ht=rt.map(pt=>ut(pt));let vt=rt[ht.indexOf(ft)-1];if(typeof vt>"u"&&nt.cssMode){let pt;rt.forEach((yt,_t)=>{ft>=yt&&(pt=_t)}),typeof pt<"u"&&(vt=rt[pt>0?pt-1:pt])}let mt=0;if(typeof vt<"u"&&(mt=it.indexOf(vt),mt<0&&(mt=tt.activeIndex-1),nt.slidesPerView==="auto"&&nt.slidesPerGroup===1&&nt.slidesPerGroupAuto&&(mt=mt-tt.slidesPerViewDynamic("previous",!0)+1,mt=Math.max(mt,0))),nt.rewind&&tt.isBeginning){const pt=tt.params.virtual&&tt.params.virtual.enabled&&tt.virtual?tt.virtual.slides.length-1:tt.slides.length-1;return tt.slideTo(pt,_e,_,et)}else if(nt.loop&&tt.activeIndex===0&&nt.cssMode)return requestAnimationFrame(()=>{tt.slideTo(mt,_e,_,et)}),!0;return tt.slideTo(mt,_e,_,et)}function slideReset(_e,_,et){_e===void 0&&(_e=this.params.speed),_===void 0&&(_=!0);const tt=this;return tt.slideTo(tt.activeIndex,_e,_,et)}function slideToClosest(_e,_,et,tt){_e===void 0&&(_e=this.params.speed),_===void 0&&(_=!0),tt===void 0&&(tt=.5);const nt=this;let rt=nt.activeIndex;const it=Math.min(nt.params.slidesPerGroupSkip,rt),st=it+Math.floor((rt-it)/nt.params.slidesPerGroup),ot=nt.rtlTranslate?nt.translate:-nt.translate;if(ot>=nt.snapGrid[st]){const at=nt.snapGrid[st],lt=nt.snapGrid[st+1];ot-at>(lt-at)*tt&&(rt+=nt.params.slidesPerGroup)}else{const at=nt.snapGrid[st-1],lt=nt.snapGrid[st];ot-at<=(lt-at)*tt&&(rt-=nt.params.slidesPerGroup)}return rt=Math.max(rt,0),rt=Math.min(rt,nt.slidesGrid.length-1),nt.slideTo(rt,_e,_,et)}function slideToClickedSlide(){const _e=this,{params:_,slidesEl:et}=_e,tt=_.slidesPerView==="auto"?_e.slidesPerViewDynamic():_.slidesPerView;let nt=_e.clickedIndex,rt;const it=_e.isElement?"swiper-slide":`.${_.slideClass}`;if(_.loop){if(_e.animating)return;rt=parseInt(_e.clickedSlide.getAttribute("data-swiper-slide-index"),10),_.centeredSlides?nt<_e.loopedSlides-tt/2||nt>_e.slides.length-_e.loopedSlides+tt/2?(_e.loopFix(),nt=_e.getSlideIndex(elementChildren(et,`${it}[data-swiper-slide-index="${rt}"]`)[0]),nextTick(()=>{_e.slideTo(nt)})):_e.slideTo(nt):nt>_e.slides.length-tt?(_e.loopFix(),nt=_e.getSlideIndex(elementChildren(et,`${it}[data-swiper-slide-index="${rt}"]`)[0]),nextTick(()=>{_e.slideTo(nt)})):_e.slideTo(nt)}else _e.slideTo(nt)}var slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(_e){const _=this,{params:et,slidesEl:tt}=_;if(!et.loop||_.virtual&&_.params.virtual.enabled)return;const nt=()=>{elementChildren(tt,`.${et.slideClass}, swiper-slide`).forEach((ct,ut)=>{ct.setAttribute("data-swiper-slide-index",ut)})},rt=_.grid&&et.grid&&et.grid.rows>1,it=et.slidesPerGroup*(rt?et.grid.rows:1),st=_.slides.length%it!==0,ot=rt&&_.slides.length%et.grid.rows!==0,at=lt=>{for(let ct=0;ct<lt;ct+=1){const ut=_.isElement?createElement("swiper-slide",[et.slideBlankClass]):createElement("div",[et.slideClass,et.slideBlankClass]);_.slidesEl.append(ut)}};if(st){if(et.loopAddBlankSlides){const lt=it-_.slides.length%it;at(lt),_.recalcSlides(),_.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");nt()}else if(ot){if(et.loopAddBlankSlides){const lt=et.grid.rows-_.slides.length%et.grid.rows;at(lt),_.recalcSlides(),_.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");nt()}else nt();_.loopFix({slideRealIndex:_e,direction:et.centeredSlides?void 0:"next"})}function loopFix(_e){let{slideRealIndex:_,slideTo:et=!0,direction:tt,setTranslate:nt,activeSlideIndex:rt,byController:it,byMousewheel:st}=_e===void 0?{}:_e;const ot=this;if(!ot.params.loop)return;ot.emit("beforeLoopFix");const{slides:at,allowSlidePrev:lt,allowSlideNext:ct,slidesEl:ut,params:ft}=ot,{centeredSlides:ht}=ft;if(ot.allowSlidePrev=!0,ot.allowSlideNext=!0,ot.virtual&&ft.virtual.enabled){et&&(!ft.centeredSlides&&ot.snapIndex===0?ot.slideTo(ot.virtual.slides.length,0,!1,!0):ft.centeredSlides&&ot.snapIndex<ft.slidesPerView?ot.slideTo(ot.virtual.slides.length+ot.snapIndex,0,!1,!0):ot.snapIndex===ot.snapGrid.length-1&&ot.slideTo(ot.virtual.slidesBefore,0,!1,!0)),ot.allowSlidePrev=lt,ot.allowSlideNext=ct,ot.emit("loopFix");return}let vt=ft.slidesPerView;vt==="auto"?vt=ot.slidesPerViewDynamic():(vt=Math.ceil(parseFloat(ft.slidesPerView,10)),ht&&vt%2===0&&(vt=vt+1));const mt=ft.slidesPerGroupAuto?vt:ft.slidesPerGroup;let pt=mt;pt%mt!==0&&(pt+=mt-pt%mt),pt+=ft.loopAdditionalSlides,ot.loopedSlides=pt;const yt=ot.grid&&ft.grid&&ft.grid.rows>1;at.length<vt+pt?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):yt&&ft.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _t=[],St=[];let Et=ot.activeIndex;typeof rt>"u"?rt=ot.getSlideIndex(at.filter(kt=>kt.classList.contains(ft.slideActiveClass))[0]):Et=rt;const wt=tt==="next"||!tt,Mt=tt==="prev"||!tt;let At=0,Tt=0;const Ct=yt?Math.ceil(at.length/ft.grid.rows):at.length,$t=(yt?at[rt].column:rt)+(ht&&typeof nt>"u"?-vt/2+.5:0);if($t<pt){At=Math.max(pt-$t,mt);for(let kt=0;kt<pt-$t;kt+=1){const It=kt-Math.floor(kt/Ct)*Ct;if(yt){const Nt=Ct-It-1;for(let Gt=at.length-1;Gt>=0;Gt-=1)at[Gt].column===Nt&&_t.push(Gt)}else _t.push(Ct-It-1)}}else if($t+vt>Ct-pt){Tt=Math.max($t-(Ct-pt*2),mt);for(let kt=0;kt<Tt;kt+=1){const It=kt-Math.floor(kt/Ct)*Ct;yt?at.forEach((Nt,Gt)=>{Nt.column===It&&St.push(Gt)}):St.push(It)}}if(ot.__preventObserver__=!0,requestAnimationFrame(()=>{ot.__preventObserver__=!1}),Mt&&_t.forEach(kt=>{at[kt].swiperLoopMoveDOM=!0,ut.prepend(at[kt]),at[kt].swiperLoopMoveDOM=!1}),wt&&St.forEach(kt=>{at[kt].swiperLoopMoveDOM=!0,ut.append(at[kt]),at[kt].swiperLoopMoveDOM=!1}),ot.recalcSlides(),ft.slidesPerView==="auto"?ot.updateSlides():yt&&(_t.length>0&&Mt||St.length>0&&wt)&&ot.slides.forEach((kt,It)=>{ot.grid.updateSlide(It,kt,ot.slides)}),ft.watchSlidesProgress&&ot.updateSlidesOffset(),et){if(_t.length>0&&Mt){if(typeof _>"u"){const kt=ot.slidesGrid[Et],Nt=ot.slidesGrid[Et+At]-kt;st?ot.setTranslate(ot.translate-Nt):(ot.slideTo(Et+At,0,!1,!0),nt&&(ot.touchEventsData.startTranslate=ot.touchEventsData.startTranslate-Nt,ot.touchEventsData.currentTranslate=ot.touchEventsData.currentTranslate-Nt))}else if(nt){const kt=yt?_t.length/ft.grid.rows:_t.length;ot.slideTo(ot.activeIndex+kt,0,!1,!0),ot.touchEventsData.currentTranslate=ot.translate}}else if(St.length>0&&wt)if(typeof _>"u"){const kt=ot.slidesGrid[Et],Nt=ot.slidesGrid[Et-Tt]-kt;st?ot.setTranslate(ot.translate-Nt):(ot.slideTo(Et-Tt,0,!1,!0),nt&&(ot.touchEventsData.startTranslate=ot.touchEventsData.startTranslate-Nt,ot.touchEventsData.currentTranslate=ot.touchEventsData.currentTranslate-Nt))}else{const kt=yt?St.length/ft.grid.rows:St.length;ot.slideTo(ot.activeIndex-kt,0,!1,!0)}}if(ot.allowSlidePrev=lt,ot.allowSlideNext=ct,ot.controller&&ot.controller.control&&!it){const kt={slideRealIndex:_,direction:tt,setTranslate:nt,activeSlideIndex:rt,byController:!0};Array.isArray(ot.controller.control)?ot.controller.control.forEach(It=>{!It.destroyed&&It.params.loop&&It.loopFix({...kt,slideTo:It.params.slidesPerView===ft.slidesPerView?et:!1})}):ot.controller.control instanceof ot.constructor&&ot.controller.control.params.loop&&ot.controller.control.loopFix({...kt,slideTo:ot.controller.control.params.slidesPerView===ft.slidesPerView?et:!1})}ot.emit("loopFix")}function loopDestroy(){const _e=this,{params:_,slidesEl:et}=_e;if(!_.loop||_e.virtual&&_e.params.virtual.enabled)return;_e.recalcSlides();const tt=[];_e.slides.forEach(nt=>{const rt=typeof nt.swiperSlideIndex>"u"?nt.getAttribute("data-swiper-slide-index")*1:nt.swiperSlideIndex;tt[rt]=nt}),_e.slides.forEach(nt=>{nt.removeAttribute("data-swiper-slide-index")}),tt.forEach(nt=>{et.append(nt)}),_e.recalcSlides(),_e.slideTo(_e.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(_e){const _=this;if(!_.params.simulateTouch||_.params.watchOverflow&&_.isLocked||_.params.cssMode)return;const et=_.params.touchEventsTarget==="container"?_.el:_.wrapperEl;_.isElement&&(_.__preventObserver__=!0),et.style.cursor="move",et.style.cursor=_e?"grabbing":"grab",_.isElement&&requestAnimationFrame(()=>{_.__preventObserver__=!1})}function unsetGrabCursor(){const _e=this;_e.params.watchOverflow&&_e.isLocked||_e.params.cssMode||(_e.isElement&&(_e.__preventObserver__=!0),_e[_e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",_e.isElement&&requestAnimationFrame(()=>{_e.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(_e,_){_===void 0&&(_=this);function et(tt){if(!tt||tt===getDocument()||tt===getWindow$1())return null;tt.assignedSlot&&(tt=tt.assignedSlot);const nt=tt.closest(_e);return!nt&&!tt.getRootNode?null:nt||et(tt.getRootNode().host)}return et(_)}function preventEdgeSwipe(_e,_,et){const tt=getWindow$1(),{params:nt}=_e,rt=nt.edgeSwipeDetection,it=nt.edgeSwipeThreshold;return rt&&(et<=it||et>=tt.innerWidth-it)?rt==="prevent"?(_.preventDefault(),!0):!1:!0}function onTouchStart(_e){const _=this,et=getDocument();let tt=_e;tt.originalEvent&&(tt=tt.originalEvent);const nt=_.touchEventsData;if(tt.type==="pointerdown"){if(nt.pointerId!==null&&nt.pointerId!==tt.pointerId)return;nt.pointerId=tt.pointerId}else tt.type==="touchstart"&&tt.targetTouches.length===1&&(nt.touchId=tt.targetTouches[0].identifier);if(tt.type==="touchstart"){preventEdgeSwipe(_,tt,tt.targetTouches[0].pageX);return}const{params:rt,touches:it,enabled:st}=_;if(!st||!rt.simulateTouch&&tt.pointerType==="mouse"||_.animating&&rt.preventInteractionOnTransition)return;!_.animating&&rt.cssMode&&rt.loop&&_.loopFix();let ot=tt.target;if(rt.touchEventsTarget==="wrapper"&&!_.wrapperEl.contains(ot)||"which"in tt&&tt.which===3||"button"in tt&&tt.button>0||nt.isTouched&&nt.isMoved)return;const at=!!rt.noSwipingClass&&rt.noSwipingClass!=="",lt=tt.composedPath?tt.composedPath():tt.path;at&&tt.target&&tt.target.shadowRoot&&lt&&(ot=lt[0]);const ct=rt.noSwipingSelector?rt.noSwipingSelector:`.${rt.noSwipingClass}`,ut=!!(tt.target&&tt.target.shadowRoot);if(rt.noSwiping&&(ut?closestElement(ct,ot):ot.closest(ct))){_.allowClick=!0;return}if(rt.swipeHandler&&!ot.closest(rt.swipeHandler))return;it.currentX=tt.pageX,it.currentY=tt.pageY;const ft=it.currentX,ht=it.currentY;if(!preventEdgeSwipe(_,tt,ft))return;Object.assign(nt,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),it.startX=ft,it.startY=ht,nt.touchStartTime=now$1(),_.allowClick=!0,_.updateSize(),_.swipeDirection=void 0,rt.threshold>0&&(nt.allowThresholdMove=!1);let vt=!0;ot.matches(nt.focusableElements)&&(vt=!1,ot.nodeName==="SELECT"&&(nt.isTouched=!1)),et.activeElement&&et.activeElement.matches(nt.focusableElements)&&et.activeElement!==ot&&et.activeElement.blur();const mt=vt&&_.allowTouchMove&&rt.touchStartPreventDefault;(rt.touchStartForcePreventDefault||mt)&&!ot.isContentEditable&&tt.preventDefault(),rt.freeMode&&rt.freeMode.enabled&&_.freeMode&&_.animating&&!rt.cssMode&&_.freeMode.onTouchStart(),_.emit("touchStart",tt)}function onTouchMove(_e){const _=getDocument(),et=this,tt=et.touchEventsData,{params:nt,touches:rt,rtlTranslate:it,enabled:st}=et;if(!st||!nt.simulateTouch&&_e.pointerType==="mouse")return;let ot=_e;if(ot.originalEvent&&(ot=ot.originalEvent),ot.type==="pointermove"&&(tt.touchId!==null||ot.pointerId!==tt.pointerId))return;let at;if(ot.type==="touchmove"){if(at=[...ot.changedTouches].filter(wt=>wt.identifier===tt.touchId)[0],!at||at.identifier!==tt.touchId)return}else at=ot;if(!tt.isTouched){tt.startMoving&&tt.isScrolling&&et.emit("touchMoveOpposite",ot);return}const lt=at.pageX,ct=at.pageY;if(ot.preventedByNestedSwiper){rt.startX=lt,rt.startY=ct;return}if(!et.allowTouchMove){ot.target.matches(tt.focusableElements)||(et.allowClick=!1),tt.isTouched&&(Object.assign(rt,{startX:lt,startY:ct,currentX:lt,currentY:ct}),tt.touchStartTime=now$1());return}if(nt.touchReleaseOnEdges&&!nt.loop){if(et.isVertical()){if(ct<rt.startY&&et.translate<=et.maxTranslate()||ct>rt.startY&&et.translate>=et.minTranslate()){tt.isTouched=!1,tt.isMoved=!1;return}}else if(lt<rt.startX&&et.translate<=et.maxTranslate()||lt>rt.startX&&et.translate>=et.minTranslate())return}if(_.activeElement&&ot.target===_.activeElement&&ot.target.matches(tt.focusableElements)){tt.isMoved=!0,et.allowClick=!1;return}tt.allowTouchCallbacks&&et.emit("touchMove",ot),rt.previousX=rt.currentX,rt.previousY=rt.currentY,rt.currentX=lt,rt.currentY=ct;const ut=rt.currentX-rt.startX,ft=rt.currentY-rt.startY;if(et.params.threshold&&Math.sqrt(ut**2+ft**2)<et.params.threshold)return;if(typeof tt.isScrolling>"u"){let wt;et.isHorizontal()&&rt.currentY===rt.startY||et.isVertical()&&rt.currentX===rt.startX?tt.isScrolling=!1:ut*ut+ft*ft>=25&&(wt=Math.atan2(Math.abs(ft),Math.abs(ut))*180/Math.PI,tt.isScrolling=et.isHorizontal()?wt>nt.touchAngle:90-wt>nt.touchAngle)}if(tt.isScrolling&&et.emit("touchMoveOpposite",ot),typeof tt.startMoving>"u"&&(rt.currentX!==rt.startX||rt.currentY!==rt.startY)&&(tt.startMoving=!0),tt.isScrolling){tt.isTouched=!1;return}if(!tt.startMoving)return;et.allowClick=!1,!nt.cssMode&&ot.cancelable&&ot.preventDefault(),nt.touchMoveStopPropagation&&!nt.nested&&ot.stopPropagation();let ht=et.isHorizontal()?ut:ft,vt=et.isHorizontal()?rt.currentX-rt.previousX:rt.currentY-rt.previousY;nt.oneWayMovement&&(ht=Math.abs(ht)*(it?1:-1),vt=Math.abs(vt)*(it?1:-1)),rt.diff=ht,ht*=nt.touchRatio,it&&(ht=-ht,vt=-vt);const mt=et.touchesDirection;et.swipeDirection=ht>0?"prev":"next",et.touchesDirection=vt>0?"prev":"next";const pt=et.params.loop&&!nt.cssMode,yt=et.touchesDirection==="next"&&et.allowSlideNext||et.touchesDirection==="prev"&&et.allowSlidePrev;if(!tt.isMoved){if(pt&&yt&&et.loopFix({direction:et.swipeDirection}),tt.startTranslate=et.getTranslate(),et.setTransition(0),et.animating){const wt=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});et.wrapperEl.dispatchEvent(wt)}tt.allowMomentumBounce=!1,nt.grabCursor&&(et.allowSlideNext===!0||et.allowSlidePrev===!0)&&et.setGrabCursor(!0),et.emit("sliderFirstMove",ot)}let _t;if(new Date().getTime(),tt.isMoved&&tt.allowThresholdMove&&mt!==et.touchesDirection&&pt&&yt&&Math.abs(ht)>=1){Object.assign(rt,{startX:lt,startY:ct,currentX:lt,currentY:ct,startTranslate:tt.currentTranslate}),tt.loopSwapReset=!0,tt.startTranslate=tt.currentTranslate;return}et.emit("sliderMove",ot),tt.isMoved=!0,tt.currentTranslate=ht+tt.startTranslate;let St=!0,Et=nt.resistanceRatio;if(nt.touchReleaseOnEdges&&(Et=0),ht>0?(pt&&yt&&!_t&&tt.allowThresholdMove&&tt.currentTranslate>(nt.centeredSlides?et.minTranslate()-et.slidesSizesGrid[et.activeIndex+1]:et.minTranslate())&&et.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),tt.currentTranslate>et.minTranslate()&&(St=!1,nt.resistance&&(tt.currentTranslate=et.minTranslate()-1+(-et.minTranslate()+tt.startTranslate+ht)**Et))):ht<0&&(pt&&yt&&!_t&&tt.allowThresholdMove&&tt.currentTranslate<(nt.centeredSlides?et.maxTranslate()+et.slidesSizesGrid[et.slidesSizesGrid.length-1]:et.maxTranslate())&&et.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:et.slides.length-(nt.slidesPerView==="auto"?et.slidesPerViewDynamic():Math.ceil(parseFloat(nt.slidesPerView,10)))}),tt.currentTranslate<et.maxTranslate()&&(St=!1,nt.resistance&&(tt.currentTranslate=et.maxTranslate()+1-(et.maxTranslate()-tt.startTranslate-ht)**Et))),St&&(ot.preventedByNestedSwiper=!0),!et.allowSlideNext&&et.swipeDirection==="next"&&tt.currentTranslate<tt.startTranslate&&(tt.currentTranslate=tt.startTranslate),!et.allowSlidePrev&&et.swipeDirection==="prev"&&tt.currentTranslate>tt.startTranslate&&(tt.currentTranslate=tt.startTranslate),!et.allowSlidePrev&&!et.allowSlideNext&&(tt.currentTranslate=tt.startTranslate),nt.threshold>0)if(Math.abs(ht)>nt.threshold||tt.allowThresholdMove){if(!tt.allowThresholdMove){tt.allowThresholdMove=!0,rt.startX=rt.currentX,rt.startY=rt.currentY,tt.currentTranslate=tt.startTranslate,rt.diff=et.isHorizontal()?rt.currentX-rt.startX:rt.currentY-rt.startY;return}}else{tt.currentTranslate=tt.startTranslate;return}!nt.followFinger||nt.cssMode||((nt.freeMode&&nt.freeMode.enabled&&et.freeMode||nt.watchSlidesProgress)&&(et.updateActiveIndex(),et.updateSlidesClasses()),nt.freeMode&&nt.freeMode.enabled&&et.freeMode&&et.freeMode.onTouchMove(),et.updateProgress(tt.currentTranslate),et.setTranslate(tt.currentTranslate))}function onTouchEnd(_e){const _=this,et=_.touchEventsData;let tt=_e;tt.originalEvent&&(tt=tt.originalEvent);let nt;if(tt.type==="touchend"||tt.type==="touchcancel"){if(nt=[...tt.changedTouches].filter(Et=>Et.identifier===et.touchId)[0],!nt||nt.identifier!==et.touchId)return}else{if(et.touchId!==null||tt.pointerId!==et.pointerId)return;nt=tt}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(tt.type)&&!(["pointercancel","contextmenu"].includes(tt.type)&&(_.browser.isSafari||_.browser.isWebView)))return;et.pointerId=null,et.touchId=null;const{params:it,touches:st,rtlTranslate:ot,slidesGrid:at,enabled:lt}=_;if(!lt||!it.simulateTouch&&tt.pointerType==="mouse")return;if(et.allowTouchCallbacks&&_.emit("touchEnd",tt),et.allowTouchCallbacks=!1,!et.isTouched){et.isMoved&&it.grabCursor&&_.setGrabCursor(!1),et.isMoved=!1,et.startMoving=!1;return}it.grabCursor&&et.isMoved&&et.isTouched&&(_.allowSlideNext===!0||_.allowSlidePrev===!0)&&_.setGrabCursor(!1);const ct=now$1(),ut=ct-et.touchStartTime;if(_.allowClick){const Et=tt.path||tt.composedPath&&tt.composedPath();_.updateClickedSlide(Et&&Et[0]||tt.target,Et),_.emit("tap click",tt),ut<300&&ct-et.lastClickTime<300&&_.emit("doubleTap doubleClick",tt)}if(et.lastClickTime=now$1(),nextTick(()=>{_.destroyed||(_.allowClick=!0)}),!et.isTouched||!et.isMoved||!_.swipeDirection||st.diff===0&&!et.loopSwapReset||et.currentTranslate===et.startTranslate&&!et.loopSwapReset){et.isTouched=!1,et.isMoved=!1,et.startMoving=!1;return}et.isTouched=!1,et.isMoved=!1,et.startMoving=!1;let ft;if(it.followFinger?ft=ot?_.translate:-_.translate:ft=-et.currentTranslate,it.cssMode)return;if(it.freeMode&&it.freeMode.enabled){_.freeMode.onTouchEnd({currentPos:ft});return}const ht=ft>=-_.maxTranslate()&&!_.params.loop;let vt=0,mt=_.slidesSizesGrid[0];for(let Et=0;Et<at.length;Et+=Et<it.slidesPerGroupSkip?1:it.slidesPerGroup){const wt=Et<it.slidesPerGroupSkip-1?1:it.slidesPerGroup;typeof at[Et+wt]<"u"?(ht||ft>=at[Et]&&ft<at[Et+wt])&&(vt=Et,mt=at[Et+wt]-at[Et]):(ht||ft>=at[Et])&&(vt=Et,mt=at[at.length-1]-at[at.length-2])}let pt=null,yt=null;it.rewind&&(_.isBeginning?yt=it.virtual&&it.virtual.enabled&&_.virtual?_.virtual.slides.length-1:_.slides.length-1:_.isEnd&&(pt=0));const _t=(ft-at[vt])/mt,St=vt<it.slidesPerGroupSkip-1?1:it.slidesPerGroup;if(ut>it.longSwipesMs){if(!it.longSwipes){_.slideTo(_.activeIndex);return}_.swipeDirection==="next"&&(_t>=it.longSwipesRatio?_.slideTo(it.rewind&&_.isEnd?pt:vt+St):_.slideTo(vt)),_.swipeDirection==="prev"&&(_t>1-it.longSwipesRatio?_.slideTo(vt+St):yt!==null&&_t<0&&Math.abs(_t)>it.longSwipesRatio?_.slideTo(yt):_.slideTo(vt))}else{if(!it.shortSwipes){_.slideTo(_.activeIndex);return}_.navigation&&(tt.target===_.navigation.nextEl||tt.target===_.navigation.prevEl)?tt.target===_.navigation.nextEl?_.slideTo(vt+St):_.slideTo(vt):(_.swipeDirection==="next"&&_.slideTo(pt!==null?pt:vt+St),_.swipeDirection==="prev"&&_.slideTo(yt!==null?yt:vt))}}function onResize(){const _e=this,{params:_,el:et}=_e;if(et&&et.offsetWidth===0)return;_.breakpoints&&_e.setBreakpoint();const{allowSlideNext:tt,allowSlidePrev:nt,snapGrid:rt}=_e,it=_e.virtual&&_e.params.virtual.enabled;_e.allowSlideNext=!0,_e.allowSlidePrev=!0,_e.updateSize(),_e.updateSlides(),_e.updateSlidesClasses();const st=it&&_.loop;(_.slidesPerView==="auto"||_.slidesPerView>1)&&_e.isEnd&&!_e.isBeginning&&!_e.params.centeredSlides&&!st?_e.slideTo(_e.slides.length-1,0,!1,!0):_e.params.loop&&!it?_e.slideToLoop(_e.realIndex,0,!1,!0):_e.slideTo(_e.activeIndex,0,!1,!0),_e.autoplay&&_e.autoplay.running&&_e.autoplay.paused&&(clearTimeout(_e.autoplay.resizeTimeout),_e.autoplay.resizeTimeout=setTimeout(()=>{_e.autoplay&&_e.autoplay.running&&_e.autoplay.paused&&_e.autoplay.resume()},500)),_e.allowSlidePrev=nt,_e.allowSlideNext=tt,_e.params.watchOverflow&&rt!==_e.snapGrid&&_e.checkOverflow()}function onClick(_e){const _=this;_.enabled&&(_.allowClick||(_.params.preventClicks&&_e.preventDefault(),_.params.preventClicksPropagation&&_.animating&&(_e.stopPropagation(),_e.stopImmediatePropagation())))}function onScroll(){const _e=this,{wrapperEl:_,rtlTranslate:et,enabled:tt}=_e;if(!tt)return;_e.previousTranslate=_e.translate,_e.isHorizontal()?_e.translate=-_.scrollLeft:_e.translate=-_.scrollTop,_e.translate===0&&(_e.translate=0),_e.updateActiveIndex(),_e.updateSlidesClasses();let nt;const rt=_e.maxTranslate()-_e.minTranslate();rt===0?nt=0:nt=(_e.translate-_e.minTranslate())/rt,nt!==_e.progress&&_e.updateProgress(et?-_e.translate:_e.translate),_e.emit("setTranslate",_e.translate,!1)}function onLoad(_e){const _=this;processLazyPreloader(_,_e.target),!(_.params.cssMode||_.params.slidesPerView!=="auto"&&!_.params.autoHeight)&&_.update()}function onDocumentTouchStart(){const _e=this;_e.documentTouchHandlerProceeded||(_e.documentTouchHandlerProceeded=!0,_e.params.touchReleaseOnEdges&&(_e.el.style.touchAction="auto"))}const events=(_e,_)=>{const et=getDocument(),{params:tt,el:nt,wrapperEl:rt,device:it}=_e,st=!!tt.nested,ot=_==="on"?"addEventListener":"removeEventListener",at=_;et[ot]("touchstart",_e.onDocumentTouchStart,{passive:!1,capture:st}),nt[ot]("touchstart",_e.onTouchStart,{passive:!1}),nt[ot]("pointerdown",_e.onTouchStart,{passive:!1}),et[ot]("touchmove",_e.onTouchMove,{passive:!1,capture:st}),et[ot]("pointermove",_e.onTouchMove,{passive:!1,capture:st}),et[ot]("touchend",_e.onTouchEnd,{passive:!0}),et[ot]("pointerup",_e.onTouchEnd,{passive:!0}),et[ot]("pointercancel",_e.onTouchEnd,{passive:!0}),et[ot]("touchcancel",_e.onTouchEnd,{passive:!0}),et[ot]("pointerout",_e.onTouchEnd,{passive:!0}),et[ot]("pointerleave",_e.onTouchEnd,{passive:!0}),et[ot]("contextmenu",_e.onTouchEnd,{passive:!0}),(tt.preventClicks||tt.preventClicksPropagation)&&nt[ot]("click",_e.onClick,!0),tt.cssMode&&rt[ot]("scroll",_e.onScroll),tt.updateOnWindowResize?_e[at](it.ios||it.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):_e[at]("observerUpdate",onResize,!0),nt[ot]("load",_e.onLoad,{capture:!0})};function attachEvents(){const _e=this,{params:_}=_e;_e.onTouchStart=onTouchStart.bind(_e),_e.onTouchMove=onTouchMove.bind(_e),_e.onTouchEnd=onTouchEnd.bind(_e),_e.onDocumentTouchStart=onDocumentTouchStart.bind(_e),_.cssMode&&(_e.onScroll=onScroll.bind(_e)),_e.onClick=onClick.bind(_e),_e.onLoad=onLoad.bind(_e),events(_e,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(_e,_)=>_e.grid&&_.grid&&_.grid.rows>1;function setBreakpoint(){const _e=this,{realIndex:_,initialized:et,params:tt,el:nt}=_e,rt=tt.breakpoints;if(!rt||rt&&Object.keys(rt).length===0)return;const it=_e.getBreakpoint(rt,_e.params.breakpointsBase,_e.el);if(!it||_e.currentBreakpoint===it)return;const ot=(it in rt?rt[it]:void 0)||_e.originalParams,at=isGridEnabled(_e,tt),lt=isGridEnabled(_e,ot),ct=tt.enabled;at&&!lt?(nt.classList.remove(`${tt.containerModifierClass}grid`,`${tt.containerModifierClass}grid-column`),_e.emitContainerClasses()):!at&&lt&&(nt.classList.add(`${tt.containerModifierClass}grid`),(ot.grid.fill&&ot.grid.fill==="column"||!ot.grid.fill&&tt.grid.fill==="column")&&nt.classList.add(`${tt.containerModifierClass}grid-column`),_e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(pt=>{if(typeof ot[pt]>"u")return;const yt=tt[pt]&&tt[pt].enabled,_t=ot[pt]&&ot[pt].enabled;yt&&!_t&&_e[pt].disable(),!yt&&_t&&_e[pt].enable()});const ut=ot.direction&&ot.direction!==tt.direction,ft=tt.loop&&(ot.slidesPerView!==tt.slidesPerView||ut),ht=tt.loop;ut&&et&&_e.changeDirection(),extend$4(_e.params,ot);const vt=_e.params.enabled,mt=_e.params.loop;Object.assign(_e,{allowTouchMove:_e.params.allowTouchMove,allowSlideNext:_e.params.allowSlideNext,allowSlidePrev:_e.params.allowSlidePrev}),ct&&!vt?_e.disable():!ct&&vt&&_e.enable(),_e.currentBreakpoint=it,_e.emit("_beforeBreakpoint",ot),et&&(ft?(_e.loopDestroy(),_e.loopCreate(_),_e.updateSlides()):!ht&&mt?(_e.loopCreate(_),_e.updateSlides()):ht&&!mt&&_e.loopDestroy()),_e.emit("breakpoint",ot)}function getBreakpoint(_e,_,et){if(_===void 0&&(_="window"),!_e||_==="container"&&!et)return;let tt=!1;const nt=getWindow$1(),rt=_==="window"?nt.innerHeight:et.clientHeight,it=Object.keys(_e).map(st=>{if(typeof st=="string"&&st.indexOf("@")===0){const ot=parseFloat(st.substr(1));return{value:rt*ot,point:st}}return{value:st,point:st}});it.sort((st,ot)=>parseInt(st.value,10)-parseInt(ot.value,10));for(let st=0;st<it.length;st+=1){const{point:ot,value:at}=it[st];_==="window"?nt.matchMedia(`(min-width: ${at}px)`).matches&&(tt=ot):at<=et.clientWidth&&(tt=ot)}return tt||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(_e,_){const et=[];return _e.forEach(tt=>{typeof tt=="object"?Object.keys(tt).forEach(nt=>{tt[nt]&&et.push(_+nt)}):typeof tt=="string"&&et.push(_+tt)}),et}function addClasses(){const _e=this,{classNames:_,params:et,rtl:tt,el:nt,device:rt}=_e,it=prepareClasses(["initialized",et.direction,{"free-mode":_e.params.freeMode&&et.freeMode.enabled},{autoheight:et.autoHeight},{rtl:tt},{grid:et.grid&&et.grid.rows>1},{"grid-column":et.grid&&et.grid.rows>1&&et.grid.fill==="column"},{android:rt.android},{ios:rt.ios},{"css-mode":et.cssMode},{centered:et.cssMode&&et.centeredSlides},{"watch-progress":et.watchSlidesProgress}],et.containerModifierClass);_.push(...it),nt.classList.add(..._),_e.emitContainerClasses()}function removeClasses(){const _e=this,{el:_,classNames:et}=_e;_.classList.remove(...et),_e.emitContainerClasses()}var classes={addClasses,removeClasses};function checkOverflow(){const _e=this,{isLocked:_,params:et}=_e,{slidesOffsetBefore:tt}=et;if(tt){const nt=_e.slides.length-1,rt=_e.slidesGrid[nt]+_e.slidesSizesGrid[nt]+tt*2;_e.isLocked=_e.size>rt}else _e.isLocked=_e.snapGrid.length===1;et.allowSlideNext===!0&&(_e.allowSlideNext=!_e.isLocked),et.allowSlidePrev===!0&&(_e.allowSlidePrev=!_e.isLocked),_&&_!==_e.isLocked&&(_e.isEnd=!1),_!==_e.isLocked&&_e.emit(_e.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(_e,_){return function(tt){tt===void 0&&(tt={});const nt=Object.keys(tt)[0],rt=tt[nt];if(typeof rt!="object"||rt===null){extend$4(_,tt);return}if(_e[nt]===!0&&(_e[nt]={enabled:!0}),nt==="navigation"&&_e[nt]&&_e[nt].enabled&&!_e[nt].prevEl&&!_e[nt].nextEl&&(_e[nt].auto=!0),["pagination","scrollbar"].indexOf(nt)>=0&&_e[nt]&&_e[nt].enabled&&!_e[nt].el&&(_e[nt].auto=!0),!(nt in _e&&"enabled"in rt)){extend$4(_,tt);return}typeof _e[nt]=="object"&&!("enabled"in _e[nt])&&(_e[nt].enabled=!0),_e[nt]||(_e[nt]={enabled:!1}),extend$4(_,tt)}}const prototypes={eventsEmitter,update,translate,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class As{constructor(){let _,et;for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];nt.length===1&&nt[0].constructor&&Object.prototype.toString.call(nt[0]).slice(8,-1)==="Object"?et=nt[0]:[_,et]=nt,et||(et={}),et=extend$4({},et),_&&!et.el&&(et.el=_);const it=getDocument();if(et.el&&typeof et.el=="string"&&it.querySelectorAll(et.el).length>1){const lt=[];return it.querySelectorAll(et.el).forEach(ct=>{const ut=extend$4({},et,{el:ct});lt.push(new As(ut))}),lt}const st=this;st.__swiper__=!0,st.support=getSupport(),st.device=getDevice({userAgent:et.userAgent}),st.browser=getBrowser(),st.eventsListeners={},st.eventsAnyListeners=[],st.modules=[...st.__modules__],et.modules&&Array.isArray(et.modules)&&st.modules.push(...et.modules);const ot={};st.modules.forEach(lt=>{lt({params:et,swiper:st,extendParams:moduleExtendParams(et,ot),on:st.on.bind(st),once:st.once.bind(st),off:st.off.bind(st),emit:st.emit.bind(st)})});const at=extend$4({},defaults,ot);return st.params=extend$4({},at,extendedDefaults,et),st.originalParams=extend$4({},st.params),st.passedParams=extend$4({},et),st.params&&st.params.on&&Object.keys(st.params.on).forEach(lt=>{st.on(lt,st.params.on[lt])}),st.params&&st.params.onAny&&st.onAny(st.params.onAny),Object.assign(st,{enabled:st.params.enabled,el:_,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return st.params.direction==="horizontal"},isVertical(){return st.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:st.params.allowSlideNext,allowSlidePrev:st.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:st.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:st.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),st.emit("_swiper"),st.params.init&&st.init(),st}getDirectionLabel(_){return this.isHorizontal()?_:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[_]}getSlideIndex(_){const{slidesEl:et,params:tt}=this,nt=elementChildren(et,`.${tt.slideClass}, swiper-slide`),rt=elementIndex(nt[0]);return elementIndex(_)-rt}getSlideIndexByData(_){return this.getSlideIndex(this.slides.filter(et=>et.getAttribute("data-swiper-slide-index")*1===_)[0])}recalcSlides(){const _=this,{slidesEl:et,params:tt}=_;_.slides=elementChildren(et,`.${tt.slideClass}, swiper-slide`)}enable(){const _=this;_.enabled||(_.enabled=!0,_.params.grabCursor&&_.setGrabCursor(),_.emit("enable"))}disable(){const _=this;_.enabled&&(_.enabled=!1,_.params.grabCursor&&_.unsetGrabCursor(),_.emit("disable"))}setProgress(_,et){const tt=this;_=Math.min(Math.max(_,0),1);const nt=tt.minTranslate(),it=(tt.maxTranslate()-nt)*_+nt;tt.translateTo(it,typeof et>"u"?0:et),tt.updateActiveIndex(),tt.updateSlidesClasses()}emitContainerClasses(){const _=this;if(!_.params._emitClasses||!_.el)return;const et=_.el.className.split(" ").filter(tt=>tt.indexOf("swiper")===0||tt.indexOf(_.params.containerModifierClass)===0);_.emit("_containerClasses",et.join(" "))}getSlideClasses(_){const et=this;return et.destroyed?"":_.className.split(" ").filter(tt=>tt.indexOf("swiper-slide")===0||tt.indexOf(et.params.slideClass)===0).join(" ")}emitSlidesClasses(){const _=this;if(!_.params._emitClasses||!_.el)return;const et=[];_.slides.forEach(tt=>{const nt=_.getSlideClasses(tt);et.push({slideEl:tt,classNames:nt}),_.emit("_slideClass",tt,nt)}),_.emit("_slideClasses",et)}slidesPerViewDynamic(_,et){_===void 0&&(_="current"),et===void 0&&(et=!1);const tt=this,{params:nt,slides:rt,slidesGrid:it,slidesSizesGrid:st,size:ot,activeIndex:at}=tt;let lt=1;if(typeof nt.slidesPerView=="number")return nt.slidesPerView;if(nt.centeredSlides){let ct=rt[at]?rt[at].swiperSlideSize:0,ut;for(let ft=at+1;ft<rt.length;ft+=1)rt[ft]&&!ut&&(ct+=rt[ft].swiperSlideSize,lt+=1,ct>ot&&(ut=!0));for(let ft=at-1;ft>=0;ft-=1)rt[ft]&&!ut&&(ct+=rt[ft].swiperSlideSize,lt+=1,ct>ot&&(ut=!0))}else if(_==="current")for(let ct=at+1;ct<rt.length;ct+=1)(et?it[ct]+st[ct]-it[at]<ot:it[ct]-it[at]<ot)&&(lt+=1);else for(let ct=at-1;ct>=0;ct-=1)it[at]-it[ct]<ot&&(lt+=1);return lt}update(){const _=this;if(!_||_.destroyed)return;const{snapGrid:et,params:tt}=_;tt.breakpoints&&_.setBreakpoint(),[..._.el.querySelectorAll('[loading="lazy"]')].forEach(it=>{it.complete&&processLazyPreloader(_,it)}),_.updateSize(),_.updateSlides(),_.updateProgress(),_.updateSlidesClasses();function nt(){const it=_.rtlTranslate?_.translate*-1:_.translate,st=Math.min(Math.max(it,_.maxTranslate()),_.minTranslate());_.setTranslate(st),_.updateActiveIndex(),_.updateSlidesClasses()}let rt;if(tt.freeMode&&tt.freeMode.enabled&&!tt.cssMode)nt(),tt.autoHeight&&_.updateAutoHeight();else{if((tt.slidesPerView==="auto"||tt.slidesPerView>1)&&_.isEnd&&!tt.centeredSlides){const it=_.virtual&&tt.virtual.enabled?_.virtual.slides:_.slides;rt=_.slideTo(it.length-1,0,!1,!0)}else rt=_.slideTo(_.activeIndex,0,!1,!0);rt||nt()}tt.watchOverflow&&et!==_.snapGrid&&_.checkOverflow(),_.emit("update")}changeDirection(_,et){et===void 0&&(et=!0);const tt=this,nt=tt.params.direction;return _||(_=nt==="horizontal"?"vertical":"horizontal"),_===nt||_!=="horizontal"&&_!=="vertical"||(tt.el.classList.remove(`${tt.params.containerModifierClass}${nt}`),tt.el.classList.add(`${tt.params.containerModifierClass}${_}`),tt.emitContainerClasses(),tt.params.direction=_,tt.slides.forEach(rt=>{_==="vertical"?rt.style.width="":rt.style.height=""}),tt.emit("changeDirection"),et&&tt.update()),tt}changeLanguageDirection(_){const et=this;et.rtl&&_==="rtl"||!et.rtl&&_==="ltr"||(et.rtl=_==="rtl",et.rtlTranslate=et.params.direction==="horizontal"&&et.rtl,et.rtl?(et.el.classList.add(`${et.params.containerModifierClass}rtl`),et.el.dir="rtl"):(et.el.classList.remove(`${et.params.containerModifierClass}rtl`),et.el.dir="ltr"),et.update())}mount(_){const et=this;if(et.mounted)return!0;let tt=_||et.params.el;if(typeof tt=="string"&&(tt=document.querySelector(tt)),!tt)return!1;tt.swiper=et,tt.parentNode&&tt.parentNode.host&&tt.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(et.isElement=!0);const nt=()=>`.${(et.params.wrapperClass||"").trim().split(" ").join(".")}`;let it=tt&&tt.shadowRoot&&tt.shadowRoot.querySelector?tt.shadowRoot.querySelector(nt()):elementChildren(tt,nt())[0];return!it&&et.params.createElements&&(it=createElement("div",et.params.wrapperClass),tt.append(it),elementChildren(tt,`.${et.params.slideClass}`).forEach(st=>{it.append(st)})),Object.assign(et,{el:tt,wrapperEl:it,slidesEl:et.isElement&&!tt.parentNode.host.slideSlots?tt.parentNode.host:it,hostEl:et.isElement?tt.parentNode.host:tt,mounted:!0,rtl:tt.dir.toLowerCase()==="rtl"||elementStyle(tt,"direction")==="rtl",rtlTranslate:et.params.direction==="horizontal"&&(tt.dir.toLowerCase()==="rtl"||elementStyle(tt,"direction")==="rtl"),wrongRTL:elementStyle(it,"display")==="-webkit-box"}),!0}init(_){const et=this;if(et.initialized||et.mount(_)===!1)return et;et.emit("beforeInit"),et.params.breakpoints&&et.setBreakpoint(),et.addClasses(),et.updateSize(),et.updateSlides(),et.params.watchOverflow&&et.checkOverflow(),et.params.grabCursor&&et.enabled&&et.setGrabCursor(),et.params.loop&&et.virtual&&et.params.virtual.enabled?et.slideTo(et.params.initialSlide+et.virtual.slidesBefore,0,et.params.runCallbacksOnInit,!1,!0):et.slideTo(et.params.initialSlide,0,et.params.runCallbacksOnInit,!1,!0),et.params.loop&&et.loopCreate(),et.attachEvents();const nt=[...et.el.querySelectorAll('[loading="lazy"]')];return et.isElement&&nt.push(...et.hostEl.querySelectorAll('[loading="lazy"]')),nt.forEach(rt=>{rt.complete?processLazyPreloader(et,rt):rt.addEventListener("load",it=>{processLazyPreloader(et,it.target)})}),preload$1(et),et.initialized=!0,preload$1(et),et.emit("init"),et.emit("afterInit"),et}destroy(_,et){_===void 0&&(_=!0),et===void 0&&(et=!0);const tt=this,{params:nt,el:rt,wrapperEl:it,slides:st}=tt;return typeof tt.params>"u"||tt.destroyed||(tt.emit("beforeDestroy"),tt.initialized=!1,tt.detachEvents(),nt.loop&&tt.loopDestroy(),et&&(tt.removeClasses(),rt.removeAttribute("style"),it.removeAttribute("style"),st&&st.length&&st.forEach(ot=>{ot.classList.remove(nt.slideVisibleClass,nt.slideFullyVisibleClass,nt.slideActiveClass,nt.slideNextClass,nt.slidePrevClass),ot.removeAttribute("style"),ot.removeAttribute("data-swiper-slide-index")})),tt.emit("destroy"),Object.keys(tt.eventsListeners).forEach(ot=>{tt.off(ot)}),_!==!1&&(tt.el.swiper=null,deleteProps(tt)),tt.destroyed=!0),null}static extendDefaults(_){extend$4(extendedDefaults,_)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults}static installModule(_){As.prototype.__modules__||(As.prototype.__modules__=[]);const et=As.prototype.__modules__;typeof _=="function"&&et.indexOf(_)<0&&et.push(_)}static use(_){return Array.isArray(_)?(_.forEach(et=>As.installModule(et)),As):(As.installModule(_),As)}};Object.keys(prototypes).forEach(_e=>{Object.keys(prototypes[_e]).forEach(_=>{Swiper$1.prototype[_]=prototypes[_e][_]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$9(_e){return typeof _e=="object"&&_e!==null&&_e.constructor&&Object.prototype.toString.call(_e).slice(8,-1)==="Object"&&!_e.__swiper__}function extend$3(_e,_){const et=["__proto__","constructor","prototype"];Object.keys(_).filter(tt=>et.indexOf(tt)<0).forEach(tt=>{typeof _e[tt]>"u"?_e[tt]=_[tt]:isObject$9(_[tt])&&isObject$9(_e[tt])&&Object.keys(_[tt]).length>0?_[tt].__swiper__?_e[tt]=_[tt]:extend$3(_e[tt],_[tt]):_e[tt]=_[tt]})}function needsNavigation(_e){return _e===void 0&&(_e={}),_e.navigation&&typeof _e.navigation.nextEl>"u"&&typeof _e.navigation.prevEl>"u"}function needsPagination(_e){return _e===void 0&&(_e={}),_e.pagination&&typeof _e.pagination.el>"u"}function needsScrollbar(_e){return _e===void 0&&(_e={}),_e.scrollbar&&typeof _e.scrollbar.el>"u"}function uniqueClasses(_e){_e===void 0&&(_e="");const _=_e.split(" ").map(tt=>tt.trim()).filter(tt=>!!tt),et=[];return _.forEach(tt=>{et.indexOf(tt)<0&&et.push(tt)}),et.join(" ")}function wrapperClass(_e){return _e===void 0&&(_e=""),_e?_e.includes("swiper-wrapper")?_e:`swiper-wrapper ${_e}`:"swiper-wrapper"}function updateSwiper(_e){let{swiper:_,slides:et,passedParams:tt,changedParams:nt,nextEl:rt,prevEl:it,scrollbarEl:st,paginationEl:ot}=_e;const at=nt.filter(Tt=>Tt!=="children"&&Tt!=="direction"&&Tt!=="wrapperClass"),{params:lt,pagination:ct,navigation:ut,scrollbar:ft,virtual:ht,thumbs:vt}=_;let mt,pt,yt,_t,St,Et,wt,Mt;nt.includes("thumbs")&&tt.thumbs&&tt.thumbs.swiper&&lt.thumbs&&!lt.thumbs.swiper&&(mt=!0),nt.includes("controller")&&tt.controller&&tt.controller.control&&lt.controller&&!lt.controller.control&&(pt=!0),nt.includes("pagination")&&tt.pagination&&(tt.pagination.el||ot)&&(lt.pagination||lt.pagination===!1)&&ct&&!ct.el&&(yt=!0),nt.includes("scrollbar")&&tt.scrollbar&&(tt.scrollbar.el||st)&&(lt.scrollbar||lt.scrollbar===!1)&&ft&&!ft.el&&(_t=!0),nt.includes("navigation")&&tt.navigation&&(tt.navigation.prevEl||it)&&(tt.navigation.nextEl||rt)&&(lt.navigation||lt.navigation===!1)&&ut&&!ut.prevEl&&!ut.nextEl&&(St=!0);const At=Tt=>{_[Tt]&&(_[Tt].destroy(),Tt==="navigation"?(_.isElement&&(_[Tt].prevEl.remove(),_[Tt].nextEl.remove()),lt[Tt].prevEl=void 0,lt[Tt].nextEl=void 0,_[Tt].prevEl=void 0,_[Tt].nextEl=void 0):(_.isElement&&_[Tt].el.remove(),lt[Tt].el=void 0,_[Tt].el=void 0))};nt.includes("loop")&&_.isElement&&(lt.loop&&!tt.loop?Et=!0:!lt.loop&&tt.loop?wt=!0:Mt=!0),at.forEach(Tt=>{if(isObject$9(lt[Tt])&&isObject$9(tt[Tt]))Object.assign(lt[Tt],tt[Tt]),(Tt==="navigation"||Tt==="pagination"||Tt==="scrollbar")&&"enabled"in tt[Tt]&&!tt[Tt].enabled&&At(Tt);else{const Ct=tt[Tt];(Ct===!0||Ct===!1)&&(Tt==="navigation"||Tt==="pagination"||Tt==="scrollbar")?Ct===!1&&At(Tt):lt[Tt]=tt[Tt]}}),at.includes("controller")&&!pt&&_.controller&&_.controller.control&&lt.controller&&lt.controller.control&&(_.controller.control=lt.controller.control),nt.includes("children")&&et&&ht&&lt.virtual.enabled?(ht.slides=et,ht.update(!0)):nt.includes("virtual")&&ht&&lt.virtual.enabled&&(et&&(ht.slides=et),ht.update(!0)),nt.includes("children")&&et&&lt.loop&&(Mt=!0),mt&&vt.init()&&vt.update(!0),pt&&(_.controller.control=lt.controller.control),yt&&(_.isElement&&(!ot||typeof ot=="string")&&(ot=document.createElement("div"),ot.classList.add("swiper-pagination"),ot.part.add("pagination"),_.el.appendChild(ot)),ot&&(lt.pagination.el=ot),ct.init(),ct.render(),ct.update()),_t&&(_.isElement&&(!st||typeof st=="string")&&(st=document.createElement("div"),st.classList.add("swiper-scrollbar"),st.part.add("scrollbar"),_.el.appendChild(st)),st&&(lt.scrollbar.el=st),ft.init(),ft.updateSize(),ft.setTranslate()),St&&(_.isElement&&((!rt||typeof rt=="string")&&(rt=document.createElement("div"),rt.classList.add("swiper-button-next"),rt.innerHTML=_.hostEl.constructor.nextButtonSvg,rt.part.add("button-next"),_.el.appendChild(rt)),(!it||typeof it=="string")&&(it=document.createElement("div"),it.classList.add("swiper-button-prev"),it.innerHTML=_.hostEl.constructor.prevButtonSvg,it.part.add("button-prev"),_.el.appendChild(it))),rt&&(lt.navigation.nextEl=rt),it&&(lt.navigation.prevEl=it),ut.init(),ut.update()),nt.includes("allowSlideNext")&&(_.allowSlideNext=tt.allowSlideNext),nt.includes("allowSlidePrev")&&(_.allowSlidePrev=tt.allowSlidePrev),nt.includes("direction")&&_.changeDirection(tt.direction,!1),(Et||Mt)&&_.loopDestroy(),(wt||Mt)&&_.loopCreate(),_.update()}function getParams(_e,_){_e===void 0&&(_e={}),_===void 0&&(_=!0);const et={on:{}},tt={},nt={};extend$3(et,defaults),et._emitClasses=!0,et.init=!1;const rt={},it=paramsList.map(ot=>ot.replace(/_/,"")),st=Object.assign({},_e);return Object.keys(st).forEach(ot=>{typeof _e[ot]>"u"||(it.indexOf(ot)>=0?isObject$9(_e[ot])?(et[ot]={},nt[ot]={},extend$3(et[ot],_e[ot]),extend$3(nt[ot],_e[ot])):(et[ot]=_e[ot],nt[ot]=_e[ot]):ot.search(/on[A-Z]/)===0&&typeof _e[ot]=="function"?_?tt[`${ot[2].toLowerCase()}${ot.substr(3)}`]=_e[ot]:et.on[`${ot[2].toLowerCase()}${ot.substr(3)}`]=_e[ot]:rt[ot]=_e[ot])}),["navigation","pagination","scrollbar"].forEach(ot=>{et[ot]===!0&&(et[ot]={}),et[ot]===!1&&delete et[ot]}),{params:et,passedParams:nt,rest:rt,events:tt}}function mountSwiper(_e,_){let{el:et,nextEl:tt,prevEl:nt,paginationEl:rt,scrollbarEl:it,swiper:st}=_e;needsNavigation(_)&&tt&&nt&&(st.params.navigation.nextEl=tt,st.originalParams.navigation.nextEl=tt,st.params.navigation.prevEl=nt,st.originalParams.navigation.prevEl=nt),needsPagination(_)&&rt&&(st.params.pagination.el=rt,st.originalParams.pagination.el=rt),needsScrollbar(_)&&it&&(st.params.scrollbar.el=it,st.originalParams.scrollbar.el=it),st.init(et)}function getChangedParams(_e,_,et,tt,nt){const rt=[];if(!_)return rt;const it=ot=>{rt.indexOf(ot)<0&&rt.push(ot)};if(et&&tt){const ot=tt.map(nt),at=et.map(nt);ot.join("")!==at.join("")&&it("children"),tt.length!==et.length&&it("children")}return paramsList.filter(ot=>ot[0]==="_").map(ot=>ot.replace(/_/,"")).forEach(ot=>{if(ot in _e&&ot in _)if(isObject$9(_e[ot])&&isObject$9(_[ot])){const at=Object.keys(_e[ot]),lt=Object.keys(_[ot]);at.length!==lt.length?it(ot):(at.forEach(ct=>{_e[ot][ct]!==_[ot][ct]&&it(ot)}),lt.forEach(ct=>{_e[ot][ct]!==_[ot][ct]&&it(ot)}))}else _e[ot]!==_[ot]&&it(ot)}),rt}const updateOnVirtualData=_e=>{!_e||_e.destroyed||!_e.params.virtual||_e.params.virtual&&!_e.params.virtual.enabled||(_e.updateSlides(),_e.updateProgress(),_e.updateSlidesClasses(),_e.parallax&&_e.params.parallax&&_e.params.parallax.enabled&&_e.parallax.setTranslate())};function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$2.apply(this,arguments)}function isChildSwiperSlide(_e){return _e.type&&_e.type.displayName&&_e.type.displayName.includes("SwiperSlide")}function processChildren(_e){const _=[];return React.Children.toArray(_e).forEach(et=>{isChildSwiperSlide(et)?_.push(et):et.props&&et.props.children&&processChildren(et.props.children).forEach(tt=>_.push(tt))}),_}function getChildren(_e){const _=[],et={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(_e).forEach(tt=>{if(isChildSwiperSlide(tt))_.push(tt);else if(tt.props&&tt.props.slot&&et[tt.props.slot])et[tt.props.slot].push(tt);else if(tt.props&&tt.props.children){const nt=processChildren(tt.props.children);nt.length>0?nt.forEach(rt=>_.push(rt)):et["container-end"].push(tt)}else et["container-end"].push(tt)}),{slides:_,slots:et}}function renderVirtual(_e,_,et){if(!et)return null;const tt=lt=>{let ct=lt;return lt<0?ct=_.length+lt:ct>=_.length&&(ct=ct-_.length),ct},nt=_e.isHorizontal()?{[_e.rtlTranslate?"right":"left"]:`${et.offset}px`}:{top:`${et.offset}px`},{from:rt,to:it}=et,st=_e.params.loop?-_.length:0,ot=_e.params.loop?_.length*2:_.length,at=[];for(let lt=st;lt<ot;lt+=1)lt>=rt&&lt<=it&&at.push(_[tt(lt)]);return at.map((lt,ct)=>React.cloneElement(lt,{swiper:_e,style:nt,key:`slide-${ct}`}))}function useIsomorphicLayoutEffect$5(_e,_){return typeof window>"u"?reactExports.useEffect(_e,_):reactExports.useLayoutEffect(_e,_)}const SwiperSlideContext=reactExports.createContext(null),SwiperContext=reactExports.createContext(null),Swiper=reactExports.forwardRef(function(_e,_){let{className:et,tag:tt="div",wrapperTag:nt="div",children:rt,onSwiper:it,...st}=_e===void 0?{}:_e,ot=!1;const[at,lt]=reactExports.useState("swiper"),[ct,ut]=reactExports.useState(null),[ft,ht]=reactExports.useState(!1),vt=reactExports.useRef(!1),mt=reactExports.useRef(null),pt=reactExports.useRef(null),yt=reactExports.useRef(null),_t=reactExports.useRef(null),St=reactExports.useRef(null),Et=reactExports.useRef(null),wt=reactExports.useRef(null),Mt=reactExports.useRef(null),{params:At,passedParams:Tt,rest:Ct,events:Dt}=getParams(st),{slides:$t,slots:kt}=getChildren(rt),It=()=>{ht(!ft)};Object.assign(At.on,{_containerClasses(Ot,Ut){lt(Ut)}});const Nt=()=>{Object.assign(At.on,Dt),ot=!0;const Ot={...At};if(delete Ot.wrapperClass,pt.current=new Swiper$1(Ot),pt.current.virtual&&pt.current.params.virtual.enabled){pt.current.virtual.slides=$t;const Ut={cache:!1,slides:$t,renderExternal:ut,renderExternalUpdate:!1};extend$3(pt.current.params.virtual,Ut),extend$3(pt.current.originalParams.virtual,Ut)}};mt.current||Nt(),pt.current&&pt.current.on("_beforeBreakpoint",It);const Gt=()=>{ot||!Dt||!pt.current||Object.keys(Dt).forEach(Ot=>{pt.current.on(Ot,Dt[Ot])})},Bt=()=>{!Dt||!pt.current||Object.keys(Dt).forEach(Ot=>{pt.current.off(Ot,Dt[Ot])})};reactExports.useEffect(()=>()=>{pt.current&&pt.current.off("_beforeBreakpoint",It)}),reactExports.useEffect(()=>{!vt.current&&pt.current&&(pt.current.emitSlidesClasses(),vt.current=!0)}),useIsomorphicLayoutEffect$5(()=>{if(_&&(_.current=mt.current),!!mt.current)return pt.current.destroyed&&Nt(),mountSwiper({el:mt.current,nextEl:St.current,prevEl:Et.current,paginationEl:wt.current,scrollbarEl:Mt.current,swiper:pt.current},At),it&&it(pt.current),()=>{pt.current&&!pt.current.destroyed&&pt.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect$5(()=>{Gt();const Ot=getChangedParams(Tt,yt.current,$t,_t.current,Ut=>Ut.key);return yt.current=Tt,_t.current=$t,Ot.length&&pt.current&&!pt.current.destroyed&&updateSwiper({swiper:pt.current,slides:$t,passedParams:Tt,changedParams:Ot,nextEl:St.current,prevEl:Et.current,scrollbarEl:Mt.current,paginationEl:wt.current}),()=>{Bt()}}),useIsomorphicLayoutEffect$5(()=>{updateOnVirtualData(pt.current)},[ct]);function Rt(){return At.virtual?renderVirtual(pt.current,$t,ct):$t.map((Ot,Ut)=>React.cloneElement(Ot,{swiper:pt.current,swiperSlideIndex:Ut}))}return React.createElement(tt,_extends$2({ref:mt,className:uniqueClasses(`${at}${et?` ${et}`:""}`)},Ct),React.createElement(SwiperContext.Provider,{value:pt.current},kt["container-start"],React.createElement(nt,{className:wrapperClass(At.wrapperClass)},kt["wrapper-start"],Rt(),kt["wrapper-end"]),needsNavigation(At)&&React.createElement(React.Fragment,null,React.createElement("div",{ref:Et,className:"swiper-button-prev"}),React.createElement("div",{ref:St,className:"swiper-button-next"})),needsScrollbar(At)&&React.createElement("div",{ref:Mt,className:"swiper-scrollbar"}),needsPagination(At)&&React.createElement("div",{ref:wt,className:"swiper-pagination"}),kt["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports.forwardRef(function(_e,_){let{tag:et="div",children:tt,className:nt="",swiper:rt,zoom:it,lazy:st,virtualIndex:ot,swiperSlideIndex:at,...lt}=_e===void 0?{}:_e;const ct=reactExports.useRef(null),[ut,ft]=reactExports.useState("swiper-slide"),[ht,vt]=reactExports.useState(!1);function mt(St,Et,wt){Et===ct.current&&ft(wt)}useIsomorphicLayoutEffect$5(()=>{if(typeof at<"u"&&(ct.current.swiperSlideIndex=at),_&&(_.current=ct.current),!(!ct.current||!rt)){if(rt.destroyed){ut!=="swiper-slide"&&ft("swiper-slide");return}return rt.on("_slideClass",mt),()=>{rt&&rt.off("_slideClass",mt)}}}),useIsomorphicLayoutEffect$5(()=>{rt&&ct.current&&!rt.destroyed&&ft(rt.getSlideClasses(ct.current))},[rt]);const pt={isActive:ut.indexOf("swiper-slide-active")>=0,isVisible:ut.indexOf("swiper-slide-visible")>=0,isPrev:ut.indexOf("swiper-slide-prev")>=0,isNext:ut.indexOf("swiper-slide-next")>=0},yt=()=>typeof tt=="function"?tt(pt):tt,_t=()=>{vt(!0)};return React.createElement(et,_extends$2({ref:ct,className:uniqueClasses(`${ut}${nt?` ${nt}`:""}`),"data-swiper-slide-index":ot,onLoad:_t},lt),it&&React.createElement(SwiperSlideContext.Provider,{value:pt},React.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof it=="number"?it:void 0},yt(),st&&!ht&&React.createElement("div",{className:"swiper-lazy-preloader"}))),!it&&React.createElement(SwiperSlideContext.Provider,{value:pt},yt(),st&&!ht&&React.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";function r$4(_e){var _,et,tt="";if(typeof _e=="string"||typeof _e=="number")tt+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(_=0;_<_e.length;_++)_e[_]&&(et=r$4(_e[_]))&&(tt&&(tt+=" "),tt+=et);else for(_ in _e)_e[_]&&(tt&&(tt+=" "),tt+=_);return tt}function clsx(){for(var _e,_,et=0,tt="";et<arguments.length;)(_e=arguments[et++])&&(_=r$4(_e))&&(tt&&(tt+=" "),tt+=_);return tt}const dataNav=window.innerWidth>1024?[{title:"Mission",href:"#mission"},{title:"Matching Engine",section:1},{title:"Ithaca App",section:8},{title:"Architecture",section:9},{title:"Roadmap",section:10}]:[{title:"Mission",href:"#mission"},{title:"Matching Engine",href:"#matching-engine"},{title:"Ithaca App",href:"#app"},{title:"Architecture",href:"#architecture-ithaca"},{title:"Roadmap",href:"#roadmap"}],Logo=()=>jsxRuntimeExports.jsxs("svg",{width:"109",height:"36",viewBox:"0 0 109 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("g",{clipPath:"url(#clip0_1840_1644)",children:jsxRuntimeExports.jsx("path",{d:"M26.6142 16.8571C26.5503 16.8981 26.5209 16.9131 26.4957 16.9331C24.8264 18.2622 23.1567 19.5913 21.4902 20.9241C21.4342 20.9689 21.3927 21.0529 21.3787 21.1252C21.2233 21.9283 21.0758 22.7333 20.9218 23.5369C20.9088 23.6055 20.8784 23.6872 20.828 23.7292C20.388 24.0988 19.9418 24.4609 19.4486 24.8655C19.7668 23.2009 20.0725 21.5942 20.3856 19.9889C20.4029 19.9016 20.4659 19.8036 20.5368 19.749C22.0199 18.6108 23.5034 17.4731 24.9963 16.3475C25.5362 15.9405 26.0384 15.5093 26.3767 14.9092C26.982 13.8354 27.1542 12.6851 27.002 11.4769C26.9638 11.174 26.8947 10.8753 26.8378 10.5655C26.7869 10.5883 26.7729 10.5916 26.7631 10.6C25.0033 12.0009 23.2435 13.4014 21.487 14.8056C21.4352 14.8467 21.3936 14.9237 21.3829 14.9895C21.2928 15.5369 21.2107 16.0857 21.1276 16.634C20.9755 17.6392 20.9279 17.7437 20.2022 18.3107C19.3991 18.9389 18.4947 19.2417 17.4699 19.0677C16.5926 18.9183 15.8739 18.4573 15.2257 17.8711C15.138 17.7918 15.0507 17.7115 14.9564 17.6252C15.0213 17.5701 15.0554 17.5379 15.0927 17.5095C18.364 15.0296 21.6424 12.5595 24.9034 10.0666C26.2843 9.01101 26.9843 7.60074 26.8947 5.84047C26.8714 5.38267 26.7724 4.93561 26.5895 4.49414C26.5358 4.53007 26.4962 4.55294 26.4602 4.58141C24.7826 5.90021 23.1072 7.22134 21.4254 8.53501C21.2746 8.65307 21.1976 8.77954 21.1766 8.96667C21.0982 9.66621 21.0058 10.3643 20.9246 11.0634C20.9083 11.202 20.849 11.2925 20.7352 11.3756C19.428 12.3304 18.1251 13.2908 16.8203 14.2493C16.517 14.4724 16.2127 14.6941 15.8706 14.9437C15.8706 14.94 15.8706 14.9358 15.8706 14.9321L15.8202 14.9764H15.0008L15.011 14.0785L16.1222 12.4942L14.0586 8.50654H13.8126L11.749 12.4942L12.8602 14.0785L12.8574 14.9764H12.1368L11.9693 14.8271C10.3747 13.6557 8.77963 12.4844 7.18783 11.3093C7.14163 11.2753 7.1057 11.2043 7.09776 11.146C6.99976 10.4147 6.90316 9.68347 6.81916 8.95034C6.80003 8.78327 6.74543 8.66754 6.6101 8.56161C4.92403 7.24281 3.24216 5.91841 1.5589 4.59587C1.51456 4.56134 1.46463 4.53381 1.4063 4.49554C1.2215 4.97574 1.11603 5.45081 1.0997 5.93894C1.0437 7.64274 1.7297 9.01661 3.06296 10.0386C6.23443 12.4699 9.42923 14.8709 12.6147 17.285C12.7542 17.3905 12.891 17.4997 13.052 17.6247C12.8107 17.8324 12.5942 18.0363 12.3599 18.2169C11.7154 18.7149 11.0033 19.0695 10.1759 19.1069C8.92243 19.1633 7.94616 18.6015 7.15096 17.6784C7.0679 17.5823 7.00723 17.446 6.98623 17.3205C6.8635 16.5864 6.75243 15.8505 6.6451 15.1141C6.62036 14.9447 6.55176 14.8224 6.41456 14.7137C5.08596 13.6632 3.7625 12.6062 2.43763 11.5515C2.02556 11.2235 1.6135 10.8963 1.1879 10.558C1.16876 10.6107 1.15476 10.6401 1.1473 10.6709C0.92563 11.5842 0.86543 12.5054 1.06563 13.428C1.28823 14.4528 1.73016 15.3628 2.58323 16.018C4.20023 17.2598 5.82563 18.4904 7.44263 19.7322C7.52896 19.7985 7.6041 19.9184 7.6251 20.0248C7.8743 21.2853 8.11183 22.5476 8.35216 23.8099C8.4147 24.1394 8.4749 24.4693 8.54443 24.8445C8.45763 24.7806 8.40863 24.7475 8.3629 24.7101C8.00636 24.4185 7.6545 24.1207 7.29236 23.8365C7.15516 23.7292 7.0861 23.6069 7.05576 23.4361C6.9223 22.6764 6.7809 21.9185 6.63016 21.1621C6.6101 21.0613 6.54243 20.9488 6.46263 20.8844C4.9399 19.6645 3.4125 18.4512 1.88556 17.236C1.73343 17.1151 1.5813 16.9943 1.41703 16.8631C1.3965 16.9145 1.3811 16.9439 1.3727 16.9751C1.1361 17.831 1.0801 18.699 1.25696 19.5689C1.4679 20.6081 1.9005 21.534 2.74143 22.227C5.24556 24.2906 7.74923 26.3547 10.2529 28.4183C11.5012 29.4473 12.7491 30.4767 13.9956 31.5043C14.0133 31.4941 14.0259 31.4889 14.0362 31.4805C17.6267 28.5195 21.2177 25.5595 24.805 22.5952C25.133 22.3241 25.483 22.0623 25.7467 21.7351C26.666 20.5941 26.968 19.2688 26.7939 17.8277C26.7575 17.5113 26.6791 17.1982 26.6142 16.8571ZM13.8332 24.3559L13.4122 24.257L13.2531 21.317L12.3548 20.6949V20.2297L13.8425 20.2955L13.8332 24.3559ZM15.8216 20.6945L14.9233 21.3165L14.7642 24.2565L14.3432 24.3555L14.3339 20.295L15.8216 20.2292V20.6945Z",fill:"url(#paint0_linear_1840_1644)"})}),jsxRuntimeExports.jsxs("g",{filter:"url(#filter0_dd_1840_1644)",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67.9648 22.9064L75.0139 26.0253L71.2032 10.6988L68.251 21.8508L67.2944 25.4495L66.3417 29.0002L65.1616 28.5843L71.2071 8.21973L76.8135 28.2324L67.9648 22.9064Z",fill:"white"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M91.1513 22.9064L98.1966 26.0253L94.3858 10.6988L91.4336 21.8508L90.477 25.4495L89.5282 29.0002L88.3442 28.5843L94.3936 8.21973L99.9961 28.2324L91.1513 22.9064Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M86.0858 27.0927L85.1488 28.3962L76.2021 17.5562L85.043 7L85.9878 8.28753L77.7468 17.5122L86.0858 27.0927Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M63.0379 11.7627V28.7645H61.9597V20.7914H53.5894V28.7645H52.5112V11.7627H53.5894V19.6718H61.9597V11.7627H63.0379Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M63.0288 7.08496V8.20455H49.2285V28.7651H48.1503V8.20455H42.8105V7.08496H63.0288Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M41.1017 7.06348H40V28.7636H41.1017V7.06348Z",fill:"white"})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("filter",{id:"filter0_dd_1840_1644",x:"34.0732",y:"1.07317",width:"71.8537",height:"33.8537",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"2.96341"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.643137 0 0 0 0 0.956863 0 0 0 0 0.85098 0 0 0 0.5 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1840_1644"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"2.96341"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.643137 0 0 0 0 0.956863 0 0 0 0 0.85098 0 0 0 0.65 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"effect1_dropShadow_1840_1644",result:"effect2_dropShadow_1840_1644"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1840_1644",result:"shape"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"paint0_linear_1840_1644",x1:"14.8879",y1:"46",x2:"14.8887",y2:"2.11415",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{offset:"0.265238",stopColor:"#50595E",stopOpacity:"0.8"}),jsxRuntimeExports.jsx("stop",{offset:"0.85155",stopColor:"white",stopOpacity:"0.8"})]}),jsxRuntimeExports.jsx("clipPath",{id:"clip0_1840_1644",children:jsxRuntimeExports.jsx("rect",{width:"28",height:"28",fill:"white",transform:"translate(0 4)"})}),jsxRuntimeExports.jsx("clipPath",{id:"clip1_1840_1644",children:jsxRuntimeExports.jsx("rect",{width:"60",height:"22",fill:"white",transform:"translate(40 7)"})})]})]}),FlyingParticles=({element:_e})=>{const _=reactExports.useRef(null);return reactExports.useEffect(()=>{if(_e&&_e.current&&_.current){const et=_.current,tt=_e?_e.current.clientHeight:100,nt=_e?_e.current.clientWidth:100;et.height=tt,et.width=nt}},[_e]),reactExports.useEffect(()=>{if(_e&&_e.current&&_.current){const et=_.current,tt=_e?_e.current.clientHeight:100,nt=_e?_e.current.clientWidth:100;et.height=tt,et.width=nt;const rt=et.getContext("2d");if(rt){const it=[],st=()=>{const ct=Math.ceil(Math.random()*nt),ut=Math.ceil(Math.random()*2);it.push({x:ct,y:et.height,speed:ut})},ot=()=>{rt.clearRect(0,0,et.width,et.height),at()},at=()=>{for(let ct=0;ct<it.length;ct++){let ut=it[ct];rt.beginPath(),rt.fillStyle="#00e778",rt.arc(ut.x,ut.y-=ut.speed/4,ut.speed*.3,0,Math.PI*2),rt.fill(),rt.closePath(),ut.y>et.height&&(ut.y=0)}},lt=()=>{ot(),requestAnimationFrame(lt)};lt(),setInterval(()=>st(),20)}}},[]),jsxRuntimeExports.jsx("canvas",{ref:_})};/*!
 * ScrollToPlugin 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$1,_coreInitted,_window,_docEl,_body,_toArray,_config,ScrollTrigger$1,_windowExists=function(){return typeof window<"u"},_getGSAP$1=function(){return gsap$1||_windowExists()&&(gsap$1=window.gsap)&&gsap$1.registerPlugin&&gsap$1},_isString=function(_){return typeof _=="string"},_isFunction=function(_){return typeof _=="function"},_max=function(_,et){var tt=et==="x"?"Width":"Height",nt="scroll"+tt,rt="client"+tt;return _===_window||_===_docEl||_===_body?Math.max(_docEl[nt],_body[nt])-(_window["inner"+tt]||_docEl[rt]||_body[rt]):_[nt]-_["offset"+tt]},_buildGetter=function(_,et){var tt="scroll"+(et==="x"?"Left":"Top");return _===_window&&(_.pageXOffset!=null?tt="page"+et.toUpperCase()+"Offset":_=_docEl[tt]!=null?_docEl:_body),function(){return _[tt]}},_clean=function(_,et,tt,nt){if(_isFunction(_)&&(_=_(et,tt,nt)),typeof _!="object")return _isString(_)&&_!=="max"&&_.charAt(1)!=="="?{x:_,y:_}:{y:_};if(_.nodeType)return{y:_,x:_};var rt={},it;for(it in _)rt[it]=it!=="onAutoKill"&&_isFunction(_[it])?_[it](et,tt,nt):_[it];return rt},_getOffset=function(_,et){if(_=_toArray(_)[0],!_||!_.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var tt=_.getBoundingClientRect(),nt=!et||et===_window||et===_body,rt=nt?{top:_docEl.clientTop-(_window.pageYOffset||_docEl.scrollTop||_body.scrollTop||0),left:_docEl.clientLeft-(_window.pageXOffset||_docEl.scrollLeft||_body.scrollLeft||0)}:et.getBoundingClientRect(),it={x:tt.left-rt.left,y:tt.top-rt.top};return!nt&&et&&(it.x+=_buildGetter(et,"x")(),it.y+=_buildGetter(et,"y")()),it},_parseVal=function(_,et,tt,nt,rt){return!isNaN(_)&&typeof _!="object"?parseFloat(_)-rt:_isString(_)&&_.charAt(1)==="="?parseFloat(_.substr(2))*(_.charAt(0)==="-"?-1:1)+nt-rt:_==="max"?_max(et,tt)-rt:Math.min(_max(et,tt),_getOffset(_,et)[tt]-rt)},_initCore=function(){gsap$1=_getGSAP$1(),_windowExists()&&gsap$1&&typeof document<"u"&&document.body&&(_window=window,_body=document.body,_docEl=document.documentElement,_toArray=gsap$1.utils.toArray,gsap$1.config({autoKillThreshold:7}),_config=gsap$1.config(),_coreInitted=1)},ScrollToPlugin={version:"3.12.2",name:"scrollTo",rawVars:1,register:function(_){gsap$1=_,_initCore()},init:function(_,et,tt,nt,rt){_coreInitted||_initCore();var it=this,st=gsap$1.getProperty(_,"scrollSnapType");it.isWin=_===_window,it.target=_,it.tween=tt,et=_clean(et,nt,_,rt),it.vars=et,it.autoKill=!!et.autoKill,it.getX=_buildGetter(_,"x"),it.getY=_buildGetter(_,"y"),it.x=it.xPrev=it.getX(),it.y=it.yPrev=it.getY(),ScrollTrigger$1||(ScrollTrigger$1=gsap$1.core.globals().ScrollTrigger),gsap$1.getProperty(_,"scrollBehavior")==="smooth"&&gsap$1.set(_,{scrollBehavior:"auto"}),st&&st!=="none"&&(it.snap=1,it.snapInline=_.style.scrollSnapType,_.style.scrollSnapType="none"),et.x!=null?(it.add(it,"x",it.x,_parseVal(et.x,_,"x",it.x,et.offsetX||0),nt,rt),it._props.push("scrollTo_x")):it.skipX=1,et.y!=null?(it.add(it,"y",it.y,_parseVal(et.y,_,"y",it.y,et.offsetY||0),nt,rt),it._props.push("scrollTo_y")):it.skipY=1},render:function(_,et){for(var tt=et._pt,nt=et.target,rt=et.tween,it=et.autoKill,st=et.xPrev,ot=et.yPrev,at=et.isWin,lt=et.snap,ct=et.snapInline,ut,ft,ht,vt,mt;tt;)tt.r(_,tt.d),tt=tt._next;ut=at||!et.skipX?et.getX():st,ft=at||!et.skipY?et.getY():ot,ht=ft-ot,vt=ut-st,mt=_config.autoKillThreshold,et.x<0&&(et.x=0),et.y<0&&(et.y=0),it&&(!et.skipX&&(vt>mt||vt<-mt)&&ut<_max(nt,"x")&&(et.skipX=1),!et.skipY&&(ht>mt||ht<-mt)&&ft<_max(nt,"y")&&(et.skipY=1),et.skipX&&et.skipY&&(rt.kill(),et.vars.onAutoKill&&et.vars.onAutoKill.apply(rt,et.vars.onAutoKillParams||[]))),at?_window.scrollTo(et.skipX?ut:et.x,et.skipY?ft:et.y):(et.skipY||(nt.scrollTop=et.y),et.skipX||(nt.scrollLeft=et.x)),lt&&(_===1||_===0)&&(ft=nt.scrollTop,ut=nt.scrollLeft,ct?nt.style.scrollSnapType=ct:nt.style.removeProperty("scroll-snap-type"),nt.scrollTop=ft+1,nt.scrollLeft=ut+1,nt.scrollTop=ft,nt.scrollLeft=ut),et.xPrev=et.x,et.yPrev=et.y,ScrollTrigger$1&&ScrollTrigger$1.update()},kill:function(_){var et=_==="scrollTo";(et||_==="scrollTo_x")&&(this.skipX=1),(et||_==="scrollTo_y")&&(this.skipY=1)}};ScrollToPlugin.max=_max;ScrollToPlugin.getOffset=_getOffset;ScrollToPlugin.buildGetter=_buildGetter;_getGSAP$1()&&gsap$1.registerPlugin(ScrollToPlugin);gsapWithCSS.registerPlugin(ScrollToPlugin);const scrollTo=(_e,_,et,tt)=>{var rt;_e(.75),_(.5);let nt=null;if(et?nt=document.querySelector(et):nt=tt==null?void 0:tt.swiper.current.hostEl,tt&&tt.swiper.current.slideTo(tt.section-1,0),nt){const it=window.getComputedStyle(nt),st=new DOMMatrixReadOnly(it.transform);Number(it.height.replace("px","")),st.m42;const ot=nt.getBoundingClientRect().y;let at=0,lt=et&&document.querySelector(et);lt&&lt.id=="mission"?(at+=350,lt.parentElement&&(at+=window.scrollY+((rt=lt.parentElement)==null?void 0:rt.getBoundingClientRect().y)),gsapWithCSS.set(window,{scrollTo:0}),gsapWithCSS.to(window,{scrollTo:at,duration:2,delay:.1}),gsapWithCSS.set(tt==null?void 0:tt.swiper.current.hostEl.parentElement.current,{pointerEvents:"none"})):(at+=window.scrollY+ot,gsapWithCSS.set(window,{scrollTo:at}))}},header="_header_vr7u6_1",shared="_shared_vr7u6_20",headerNav="_headerNav_vr7u6_20",headerBurger="_headerBurger_vr7u6_20",headerLinks="_headerLinks_vr7u6_30",headerLink="_headerLink_vr7u6_30",headerMobileButton="_headerMobileButton_vr7u6_40",active$1="_active_vr7u6_43",headerLogo="_headerLogo_vr7u6_46",hidden$1="_hidden_vr7u6_52",gradient="_gradient_vr7u6_186",header_button_launch="_header_button_launch_vr7u6_209",header_button_launch_FlyingParticles="_header_button_launch_FlyingParticles_vr7u6_222",styles$d={header,shared,headerNav,headerBurger,headerLinks,headerLink,headerMobileButton,active:active$1,headerLogo,hidden:hidden$1,gradient,header_button_launch,header_button_launch_FlyingParticles},MainContext=reactExports.createContext({}),ScrollContext=reactExports.createContext({}),Header=()=>{const{menuActive:_e,setMenuActive:_,refSwiper:et}=reactExports.useContext(MainContext),[tt,nt]=reactExports.useState(!1),rt=reactExports.useRef(null),it=reactExports.useRef(null),{setWheelMultiplayer:st,setTouchMultiplier:ot}=reactExports.useContext(ScrollContext),at=(lt,ct)=>{lt?scrollTo(st,ot,lt,{swiper:et,section:ct||0}):ct&&scrollTo(st,ot,null,{swiper:et,section:ct})};return reactExports.useLayoutEffect(()=>{const lt=gsapWithCSS.context(()=>{window.innerWidth>1024&&ScrollTrigger.create({trigger:"#hero",start:"top top+=25%",end:"bottom bottom-=50%",onLeave:()=>{var ct;return(ct=rt.current)==null?void 0:ct.classList.remove(`${styles$d.shared}`)},onEnterBack:()=>{var ct;return(ct=rt.current)==null?void 0:ct.classList.add(`${styles$d.shared}`)},onLeaveBack:()=>{var ct;return(ct=rt.current)==null?void 0:ct.classList.remove(`${styles$d.shared}`)}})});return()=>lt.revert()},[]),jsxRuntimeExports.jsxs("header",{ref:rt,className:clsx(styles$d.header,window.innerWidth>1024&&styles$d.shared),children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$d.headerLogo,"reveal opacity-0 scale-[0.5]",_e&&`${styles$d.hidden} opacity-0 pointer-events-none`),children:jsxRuntimeExports.jsx(Logo,{})}),window.innerWidth<=1024&&jsxRuntimeExports.jsx("div",{className:clsx(styles$d.headerMobileButton,_e&&styles$d.active),children:jsxRuntimeExports.jsxs("button",{className:clsx("btn","primary-btn",styles$d.header_button_launch),ref:it,onClick:()=>window.location.href="https://app.ithacaprotocol.io/",children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$d.header_button_launch_FlyingParticles),children:jsxRuntimeExports.jsx(FlyingParticles,{element:it})}),"Launch app",jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M14.1667 5.83333L5.83337 14.1667M14.1667 5.83333H6.66671M14.1667 5.83333V13.3333",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),jsxRuntimeExports.jsxs("div",{"data-delay":"0.5",className:clsx(styles$d.headerNav,tt&&styles$d.active,"reveal opacity-0 scale-[0.5]"),children:[jsxRuntimeExports.jsxs("div",{onClick:()=>{nt(!0),window.innerWidth<=1024&&_(!_e)},className:clsx(styles$d.headerBurger,_e&&styles$d.active),children:[jsxRuntimeExports.jsxs("svg",{width:"26",height:"8",viewBox:"0 0 26 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M1 1.5L15 1.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M1 6.5L25 6.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]}),jsxRuntimeExports.jsx("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M14.1667 6.3333L5.83337 14.6666M14.1667 14.6665L5.83337 6.33325",stroke:"#F9F9F9",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),jsxRuntimeExports.jsx("ul",{className:styles$d.headerLinks,children:dataNav.map((lt,ct)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("a",{style:{transitionDelay:`${ct*.075+.5}s`},onClick:()=>{lt.href?at(lt.href):lt.section&&at(null,lt.section)},className:styles$d.headerLink,children:lt.title}),jsxRuntimeExports.jsxs("svg",{className:styles$d.gradient,width:"200",height:"90",viewBox:"0 0 200 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("g",{filter:"url(#filter0_f_478_1048)",children:jsxRuntimeExports.jsx("rect",{x:"30",y:"30",width:"140",height:"140",rx:"70",fill:"url(#paint0_linear_478_1048)",fillOpacity:"0.15"})}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("filter",{id:"filter0_f_478_1048",x:"0",y:"0",width:"200",height:"200",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"15",result:"effect1_foregroundBlur_478_1048"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"paint0_linear_478_1048",x1:"100",y1:"46.6667",x2:"101.377",y2:"83.8379",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{stopColor:"#5EE192",stopOpacity:"0"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#5EE192"})]})]})]})]},`${ct}-${lt.href}`))}),jsxRuntimeExports.jsxs("button",{className:clsx("btn","primary-btn",styles$d.header_button_launch),ref:it,onClick:()=>window.location.href="https://app.ithacaprotocol.io/",children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$d.header_button_launch_FlyingParticles),children:jsxRuntimeExports.jsx(FlyingParticles,{element:it})}),"Launch app",jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M14.1667 5.83333L5.83337 14.1667M14.1667 5.83333H6.66671M14.1667 5.83333V13.3333",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})},IconDiscord=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"26",viewBox:"0 0 33 26",fill:"none",children:[jsxRuntimeExports.jsx("g",{clipPath:"url(#clip0_641_2554)",children:jsxRuntimeExports.jsx("path",{d:"M27.4914 2.66793C25.4518 1.71873 23.2647 1.0194 20.978 0.618868C20.9363 0.611137 20.8947 0.630456 20.8733 0.669093C20.592 1.17652 20.2804 1.8385 20.0622 2.35882C17.6027 1.98533 15.1558 1.98533 12.7466 2.35882C12.5284 1.82694 12.2055 1.17652 11.923 0.669093C11.9015 0.631745 11.8599 0.612427 11.8183 0.618868C9.53279 1.01812 7.34568 1.71745 5.30487 2.66793C5.2872 2.67566 5.27206 2.68855 5.26201 2.70528C1.11352 8.99157 -0.0229185 15.1233 0.534582 21.1791C0.537105 21.2087 0.553502 21.2371 0.576206 21.2551C3.31326 23.2938 5.96456 24.5315 8.56662 25.3519C8.60827 25.3648 8.65239 25.3493 8.67889 25.3145C9.29441 24.462 9.84309 23.563 10.3135 22.6177C10.3413 22.5623 10.3148 22.4966 10.2581 22.4747C9.38775 22.1399 8.55905 21.7316 7.7619 21.268C7.69885 21.2306 7.6938 21.1391 7.75181 21.0953C7.91956 20.9678 8.08735 20.8352 8.24753 20.7012C8.27651 20.6768 8.31689 20.6716 8.35096 20.6871C13.5879 23.1122 19.2575 23.1122 24.4327 20.6871C24.4668 20.6703 24.5071 20.6755 24.5374 20.7C24.6976 20.8339 24.8653 20.9678 25.0344 21.0953C25.0924 21.1391 25.0886 21.2306 25.0255 21.268C24.2284 21.7406 23.3997 22.1399 22.5281 22.4734C22.4714 22.4953 22.4461 22.5623 22.4739 22.6177C22.9544 23.5617 23.5031 24.4607 24.1073 25.3133C24.1325 25.3493 24.1779 25.3648 24.2195 25.3519C26.8342 24.5315 29.4855 23.2938 32.2226 21.2551C32.2465 21.2371 32.2617 21.21 32.2642 21.1804C32.9314 14.1793 31.1467 8.09777 27.533 2.70656C27.5242 2.68855 27.5091 2.67566 27.4914 2.66793ZM11.0956 17.4918C9.51891 17.4918 8.21977 16.0236 8.21977 14.2205C8.21977 12.4174 9.49371 10.9492 11.0956 10.9492C12.71 10.9492 13.9966 12.4303 13.9714 14.2205C13.9714 16.0236 12.6974 17.4918 11.0956 17.4918ZM21.7284 17.4918C20.1518 17.4918 18.8527 16.0236 18.8527 14.2205C18.8527 12.4174 20.1266 10.9492 21.7284 10.9492C23.3429 10.9492 24.6295 12.4303 24.6043 14.2205C24.6043 16.0236 23.3429 17.4918 21.7284 17.4918Z",fill:"#DCDCDC"})}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_641_2554",children:jsxRuntimeExports.jsx("rect",{width:"31.9996",height:"25.1426",fill:"white",transform:"translate(0.402344 0.429688)"})})})]}),IconTelegram=()=>jsxRuntimeExports.jsx("svg",{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M17.6406 3.13334C17.3695 2.90344 16.9437 2.87055 16.5034 3.04731H16.5027C16.0396 3.23311 3.39501 8.65678 2.88026 8.87837C2.78664 8.9109 1.96897 9.21599 2.0532 9.89558C2.12838 10.5083 2.78556 10.762 2.86581 10.7913L6.08046 11.892C6.29373 12.602 7.07996 15.2213 7.25383 15.7809C7.36227 16.1297 7.53904 16.588 7.84883 16.6824C8.12066 16.7872 8.39105 16.6914 8.56601 16.5541L10.5314 14.7311L13.7041 17.2055L13.7797 17.2506C13.9951 17.3461 14.2015 17.3938 14.3985 17.3938C14.5507 17.3938 14.6967 17.3652 14.8363 17.3081C15.3116 17.1129 15.5018 16.66 15.5216 16.6087L17.8915 4.29044C18.0361 3.63255 17.8351 3.29782 17.6406 3.13334ZM8.91556 12.3323L7.83112 15.2242L6.74667 11.6094L15.0607 5.46417L8.91556 12.3323Z",fill:"#FAFAFA"})}),IconX=()=>jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M1.29209 1.9043L8.0486 10.9403L1.25 18.2871H2.78054L8.73329 11.8552L13.5425 18.2871H18.75L11.6137 8.74289L17.9421 1.9043H16.4116L10.93 7.828L6.50062 1.9043H1.29311H1.29209ZM3.5422 3.03174H5.93398L16.4978 17.1597H14.1061L3.5422 3.03174Z",fill:"white"})}),dataSocials=[{title:"twitter",href:"https://twitter.com/ithacaprotocol",Icon:IconX},{title:"discord",href:"http://dc.gg/ithacaprotocol",Icon:IconDiscord},{title:"telegram",href:"https://t.me/+E7KmlGwmxmtkOWU1",Icon:IconTelegram}],Policy$1="_Policy_nrirh_1",styles$c={Policy:Policy$1};/*!
 * @gsap/react
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/const useIsomorphicLayoutEffect$4=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,isConfig=_e=>_e&&!Array.isArray(_e)&&typeof _e=="object",emptyArray=[],defaultConfig={},useGSAP=(_e,_=emptyArray)=>{let et=defaultConfig;isConfig(_e)?(et=_e,_e=null,_="dependencies"in et?et.dependencies:emptyArray):isConfig(_)&&(et=_,_="dependencies"in et?et.dependencies:emptyArray);let{scope:tt,revertOnUpdate:nt}=et,[rt,it]=reactExports.useState(!1);_e&&typeof _e!="function"&&console.warn("First parameter must be a function or config object");const st=gsapWithCSS.context(()=>{},tt),ot=ct=>st.add(null,ct),at=()=>st.revert(),lt=_&&_.length&&!nt;return useIsomorphicLayoutEffect$4(()=>{if(_e&&st.add(_e,tt),!lt||!rt)return at},_),lt&&useIsomorphicLayoutEffect$4(()=>(it(!0),at),emptyArray),{context:st,contextSafe:ot}},PolicyItem$1="_PolicyItem_1a5yk_1",PolicyItem_inner="_PolicyItem_inner_1a5yk_27",PolicyItem_LineRight="_PolicyItem_LineRight_1a5yk_31",PolicyItem_LineLeft="_PolicyItem_LineLeft_1a5yk_32",styles$b={PolicyItem:PolicyItem$1,PolicyItem_inner,PolicyItem_LineRight,PolicyItem_LineLeft},PolicyItem=({title:_e,href:_})=>{const[et,tt]=reactExports.useState(!1),nt=reactExports.useRef(null),rt=reactExports.useRef(null),it=reactExports.useRef(null),st=reactExports.useRef(null);reactExports.useEffect(()=>{lt(!et)},[et]);const ot=reactExports.useRef(),{contextSafe:at}=useGSAP(()=>{ot.current=gsapWithCSS.timeline({defaults:{duration:.5,ease:"power2.inOut"}}).fromTo(rt.current,{color:"#fff"},{color:"#5EE192"}).fromTo(it.current,{width:"100%"},{width:"0%"},"<50%").fromTo(st.current,{width:"0%"},{width:"100%"},"<50%")}),lt=at(ct=>{ot.current&&ot.current.reversed(ct)});return jsxRuntimeExports.jsx("a",{href:_,target:"_blank",className:clsx(styles$b.PolicyItem),onMouseEnter:()=>{tt(!0)},onMouseLeave:()=>{tt(!1)},ref:nt,children:jsxRuntimeExports.jsxs("div",{className:clsx(styles$b.PolicyItem_inner),ref:rt,children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$b.PolicyItem_LineRight),ref:it}),jsxRuntimeExports.jsx("div",{className:clsx(styles$b.PolicyItem_LineLeft),ref:st}),_e]})})},dataPolicy=[{title:"Privacy Policy",href:"https://app.ithacaprotocol.io/privacy"},{title:"Terms & Conditions",href:"https://app.ithacaprotocol.io/terms"}],Policy=()=>jsxRuntimeExports.jsx("div",{className:clsx(styles$c.Policy),children:dataPolicy.map((_e,_)=>reactExports.createElement(PolicyItem,{..._e,key:_}))}),SocialItem$1="_SocialItem_rzwx2_1",SocialItem_icon="_SocialItem_icon_rzwx2_6",SocialItem_info_title="_SocialItem_info_title_rzwx2_7",disabled="_disabled_rzwx2_11",SocialItem_info="_SocialItem_info_rzwx2_7",SocialItem_info_header="_SocialItem_info_header_rzwx2_69",styles$a={SocialItem:SocialItem$1,SocialItem_icon,SocialItem_info_title,disabled,SocialItem_info,SocialItem_info_header},SocialItem=({Icon:_e,href:_,title:et,isSmall:tt,disabled:nt,onlyIcon:rt,iconClassName:it})=>jsxRuntimeExports.jsxs("a",{className:clsx(styles$a.SocialItem,{[styles$a.small]:tt},nt&&styles$a.disabled),href:_==="#"?void 0:_,target:"_blank",children:[_e&&jsxRuntimeExports.jsx("div",{className:clsx(styles$a.SocialItem_icon,it),children:jsxRuntimeExports.jsx(_e,{})}),!rt&&jsxRuntimeExports.jsx("div",{className:clsx(styles$a.SocialItem_info),children:jsxRuntimeExports.jsx("div",{className:clsx(styles$a.SocialItem_info_title),children:et})})]}),menu="_menu_7dte6_1",active="_active_7dte6_17",menu_wrapper="_menu_wrapper_7dte6_23",menu_wrapper_header="_menu_wrapper_header_7dte6_41",menu_label="_menu_label_7dte6_51",menu_list="_menu_list_7dte6_71",menu_link="_menu_link_7dte6_81",arrow$5="_arrow_7dte6_108",underline="_underline_7dte6_123",menu_link_header="_menu_link_header_7dte6_128",menu_link_header_num="_menu_link_header_num_7dte6_140",menu_wrapper_footer="_menu_wrapper_footer_7dte6_154",menu_wrapper_footer_socials="_menu_wrapper_footer_socials_7dte6_160",styles$9={menu,active,menu_wrapper,menu_wrapper_header,menu_label,menu_list,menu_link,arrow:arrow$5,underline,menu_link_header,menu_link_header_num,menu_wrapper_footer,menu_wrapper_footer_socials},Menu=()=>{const{setWheelMultiplayer:_e,setTouchMultiplier:_}=reactExports.useContext(ScrollContext),{menuActive:et,setMenuActive:tt}=reactExports.useContext(MainContext),nt=rt=>{tt(!1),scrollTo(_e,_,rt)};return jsxRuntimeExports.jsx("menu",{className:clsx(styles$9.menu,et&&styles$9.active),children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:styles$9.menu_wrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.menu_wrapper_header,children:[jsxRuntimeExports.jsx("span",{className:clsx(styles$9.menu_label),children:"menu"}),jsxRuntimeExports.jsx("ul",{className:styles$9.menu_list,children:dataNav.map((rt,it)=>jsxRuntimeExports.jsxs("li",{className:styles$9.menu_link,children:[jsxRuntimeExports.jsxs("a",{onClick:()=>{rt.href&&nt(rt.href)},children:[jsxRuntimeExports.jsxs("div",{className:styles$9.menu_link_header,children:[jsxRuntimeExports.jsxs("span",{className:clsx("dalek-font",styles$9.menu_link_header_num),children:["/ 00",it+1]}),rt.title]}),jsxRuntimeExports.jsx("svg",{className:styles$9.arrow,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 8.80597V6C4 4.89543 4.89543 4 6 4H21.309C22.3664 4 23.3808 4.41869 24.1304 5.16453L26.5752 7.59719C27.3609 8.37904 27.3609 9.65081 26.5752 10.4327L21.16 15.8209L26.4614 21.0959C27.2158 21.8466 27.64 22.867 27.64 23.9314V26C27.64 27.1046 26.7446 28 25.64 28H22.8C21.6954 28 20.8 27.1046 20.8 26V16.0597L10.2107 26.5963C9.43045 27.3727 8.16955 27.3727 7.38932 26.5963L5.42482 24.6416C4.63907 23.8598 4.63907 22.588 5.42483 21.8061L15.6213 11.6604C15.9375 11.3458 15.7147 10.806 15.2686 10.806H6C4.89543 10.806 4 9.91054 4 8.80597Z",fill:"white"})})]}),jsxRuntimeExports.jsxs("svg",{className:styles$9.underline,preserveAspectRatio:"none",width:"355",height:"6",viewBox:"0 0 355 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M1 3H354",stroke:"#3F3F3F",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{cx:"13",cy:"3",r:"2.5",fill:"#222222",stroke:"#5E5E5E"})]})]},it))})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.menu_wrapper_footer,children:[jsxRuntimeExports.jsx("div",{className:styles$9.menu_wrapper_footer_socials,children:dataSocials.map((rt,it)=>reactExports.createElement(SocialItem,{...rt,isSmall:!0,key:it}))}),jsxRuntimeExports.jsx(Policy,{})]})]})})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(_e,_){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(et[nt]=tt[nt])})(_e,_)};function __extends(_e,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function et(){this.constructor=_e}extendStatics(_e,_),_e.prototype=_===null?Object.create(_):(et.prototype=_.prototype,new et)}var __assign=function(){return(__assign=Object.assign||function(_e){for(var _,et=1,tt=arguments.length;et<tt;et++)for(var nt in _=arguments[et])Object.prototype.hasOwnProperty.call(_,nt)&&(_e[nt]=_[nt]);return _e}).apply(this,arguments)};function __awaiter$1(_e,_,et,tt){return new(et||(et=Promise))(function(nt,rt){function it(at){try{ot(tt.next(at))}catch(lt){rt(lt)}}function st(at){try{ot(tt.throw(at))}catch(lt){rt(lt)}}function ot(at){var lt;at.done?nt(at.value):(lt=at.value,lt instanceof et?lt:new et(function(ct){ct(lt)})).then(it,st)}ot((tt=tt.apply(_e,[])).next())})}function __generator$1(_e,_){var et,tt,nt,rt,it={label:0,sent:function(){if(1&nt[0])throw nt[1];return nt[1]},trys:[],ops:[]};return rt={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function st(ot){return function(at){return function(lt){if(et)throw new TypeError("Generator is already executing.");for(;it;)try{if(et=1,tt&&(nt=2&lt[0]?tt.return:lt[0]?tt.throw||((nt=tt.return)&&nt.call(tt),0):tt.next)&&!(nt=nt.call(tt,lt[1])).done)return nt;switch(tt=0,nt&&(lt=[2&lt[0],nt.value]),lt[0]){case 0:case 1:nt=lt;break;case 4:return it.label++,{value:lt[1],done:!1};case 5:it.label++,tt=lt[1],lt=[0];continue;case 7:lt=it.ops.pop(),it.trys.pop();continue;default:if(nt=it.trys,!((nt=nt.length>0&&nt[nt.length-1])||lt[0]!==6&&lt[0]!==2)){it=0;continue}if(lt[0]===3&&(!nt||lt[1]>nt[0]&&lt[1]<nt[3])){it.label=lt[1];break}if(lt[0]===6&&it.label<nt[1]){it.label=nt[1],nt=lt;break}if(nt&&it.label<nt[2]){it.label=nt[2],it.ops.push(lt);break}nt[2]&&it.ops.pop(),it.trys.pop();continue}lt=_.call(_e,it)}catch(ct){lt=[6,ct],tt=0}finally{et=nt=0}if(5&lt[0])throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}([ot,at])}}}function createCommonjsModule(_e,_){return _e(_={exports:{}},_.exports),_.exports}var lottie=createCommonjsModule(function(module,exports){typeof navigator<"u"&&function(_e,_){module.exports=_()}(0,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(_e){_useWebWorker=!!_e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(_e){locationHref=_e},getLocationHref=function(){return locationHref};function createTag(_e){return document.createElement(_e)}function extendPrototype(_e,_){var et,tt,nt=_e.length;for(et=0;et<nt;et+=1)for(var rt in tt=_e[et].prototype)Object.prototype.hasOwnProperty.call(tt,rt)&&(_.prototype[rt]=tt[rt])}function getDescriptor(_e,_){return Object.getOwnPropertyDescriptor(_e,_)}function createProxyFunction(_e){function _(){}return _.prototype=_e,_}var audioControllerFactory=function(){function _e(_){this.audios=[],this.audioFactory=_,this._volume=1,this._isMuted=!1}return _e.prototype={addAudio:function(_){this.audios.push(_)},pause:function(){var _,et=this.audios.length;for(_=0;_<et;_+=1)this.audios[_].pause()},resume:function(){var _,et=this.audios.length;for(_=0;_<et;_+=1)this.audios[_].resume()},setRate:function(_){var et,tt=this.audios.length;for(et=0;et<tt;et+=1)this.audios[et].setRate(_)},createAudio:function(_){return this.audioFactory?this.audioFactory(_):window.Howl?new window.Howl({src:[_]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_){this.audioFactory=_},setVolume:function(_){this._volume=_,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _,et=this.audios.length;for(_=0;_<et;_+=1)this.audios[_].volume(this._volume*(this._isMuted?0:1))}},function(){return new _e}}(),createTypedArray=function(){function _e(_,et){var tt,nt=0,rt=[];switch(_){case"int16":case"uint8c":tt=1;break;default:tt=1.1}for(nt=0;nt<et;nt+=1)rt.push(tt);return rt}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(_,et){return _==="float32"?new Float32Array(et):_==="int16"?new Int16Array(et):_==="uint8c"?new Uint8ClampedArray(et):_e(_,et)}:_e}();function createSizedArray(_e){return Array.apply(null,{length:_e})}function _typeof$6(_e){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(_e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var _e,_=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],et=_.length;for(_e=0;_e<et;_e+=1)BMMath[_[_e]]=Math[_[_e]]})(),BMMath.random=Math.random,BMMath.abs=function(_e){if(_typeof$6(_e)==="object"&&_e.length){var _,et=createSizedArray(_e.length),tt=_e.length;for(_=0;_<tt;_+=1)et[_]=Math.abs(_e[_]);return et}return Math.abs(_e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(_e){_e.style.position="absolute",_e.style.top=0,_e.style.left=0,_e.style.display="block",_e.style.transformOrigin="0 0",_e.style.webkitTransformOrigin="0 0",_e.style.backfaceVisibility="visible",_e.style.webkitBackfaceVisibility="visible",_e.style.transformStyle="preserve-3d",_e.style.webkitTransformStyle="preserve-3d",_e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(_e,_,et,tt){this.type=_e,this.currentTime=_,this.totalTime=et,this.direction=tt<0?-1:1}function BMCompleteEvent(_e,_){this.type=_e,this.direction=_<0?-1:1}function BMCompleteLoopEvent(_e,_,et,tt){this.type=_e,this.currentLoop=et,this.totalLoops=_,this.direction=tt<0?-1:1}function BMSegmentStartEvent(_e,_,et){this.type=_e,this.firstFrame=_,this.totalFrames=et}function BMDestroyEvent(_e,_){this.type=_e,this.target=_}function BMRenderFrameErrorEvent(_e,_){this.type="renderFrameError",this.nativeError=_e,this.currentTime=_}function BMConfigErrorEvent(_e){this.type="configError",this.nativeError=_e}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(_e,_,et){var tt,nt,rt,it,st,ot,at,lt;switch(ot=et*(1-_),at=et*(1-(st=6*_e-(it=Math.floor(6*_e)))*_),lt=et*(1-(1-st)*_),it%6){case 0:tt=et,nt=lt,rt=ot;break;case 1:tt=at,nt=et,rt=ot;break;case 2:tt=ot,nt=et,rt=lt;break;case 3:tt=ot,nt=at,rt=et;break;case 4:tt=lt,nt=ot,rt=et;break;case 5:tt=et,nt=ot,rt=at}return[tt,nt,rt]}function RGBtoHSV(_e,_,et){var tt,nt=Math.max(_e,_,et),rt=Math.min(_e,_,et),it=nt-rt,st=nt===0?0:it/nt,ot=nt/255;switch(nt){case rt:tt=0;break;case _e:tt=_-et+it*(_<et?6:0),tt/=6*it;break;case _:tt=et-_e+2*it,tt/=6*it;break;case et:tt=_e-_+4*it,tt/=6*it}return[tt,st,ot]}function addSaturationToRGB(_e,_){var et=RGBtoHSV(255*_e[0],255*_e[1],255*_e[2]);return et[1]+=_,et[1]>1?et[1]=1:et[1]<=0&&(et[1]=0),HSVtoRGB(et[0],et[1],et[2])}function addBrightnessToRGB(_e,_){var et=RGBtoHSV(255*_e[0],255*_e[1],255*_e[2]);return et[2]+=_,et[2]>1?et[2]=1:et[2]<0&&(et[2]=0),HSVtoRGB(et[0],et[1],et[2])}function addHueToRGB(_e,_){var et=RGBtoHSV(255*_e[0],255*_e[1],255*_e[2]);return et[0]+=_/360,et[0]>1?et[0]-=1:et[0]<0&&(et[0]+=1),HSVtoRGB(et[0],et[1],et[2])}var rgbToHex=function(){var _e,_,et=[];for(_e=0;_e<256;_e+=1)_=_e.toString(16),et[_e]=_.length===1?"0"+_:_;return function(tt,nt,rt){return tt<0&&(tt=0),nt<0&&(nt=0),rt<0&&(rt=0),"#"+et[tt]+et[nt]+et[rt]}}(),setSubframeEnabled=function(_e){subframeEnabled=!!_e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(_e){expressionsPlugin=_e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(_e){expressionsInterfaces=_e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(_e){defaultCurveSegments=_e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(_e){idPrefix$1=_e};function createNS(_e){return document.createElementNS(svgNS,_e)}function _typeof$5(_e){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(_e)}var dataManager=function(){var _e,_,et=1,tt=[],nt={onmessage:function(){},postMessage:function(ot){_e({data:ot})}},rt={postMessage:function(ot){nt.onmessage({data:ot})}};function it(){_||((_=function(ot){if(window.Worker&&window.Blob&&getWebWorker()){var at=new Blob(["var _workerSelf = self; self.onmessage = ",ot.toString()],{type:"text/javascript"}),lt=URL.createObjectURL(at);return new Worker(lt)}return _e=ot,nt}(function(ot){if(rt.dataManager||(rt.dataManager=function(){function lt(Mt,At){var Tt,Ct,Dt,$t,kt,It,Nt=Mt.length;for(Ct=0;Ct<Nt;Ct+=1)if("ks"in(Tt=Mt[Ct])&&!Tt.completed){if(Tt.completed=!0,Tt.hasMask){var Gt=Tt.masksProperties;for($t=Gt.length,Dt=0;Dt<$t;Dt+=1)if(Gt[Dt].pt.k.i)ft(Gt[Dt].pt.k);else for(It=Gt[Dt].pt.k.length,kt=0;kt<It;kt+=1)Gt[Dt].pt.k[kt].s&&ft(Gt[Dt].pt.k[kt].s[0]),Gt[Dt].pt.k[kt].e&&ft(Gt[Dt].pt.k[kt].e[0])}Tt.ty===0?(Tt.layers=ct(Tt.refId,At),lt(Tt.layers,At)):Tt.ty===4?ut(Tt.shapes):Tt.ty===5&&Et(Tt)}}function ct(Mt,At){var Tt=function(Ct,Dt){for(var $t=0,kt=Dt.length;$t<kt;){if(Dt[$t].id===Ct)return Dt[$t];$t+=1}return null}(Mt,At);return Tt?Tt.layers.__used?JSON.parse(JSON.stringify(Tt.layers)):(Tt.layers.__used=!0,Tt.layers):null}function ut(Mt){var At,Tt,Ct;for(At=Mt.length-1;At>=0;At-=1)if(Mt[At].ty==="sh")if(Mt[At].ks.k.i)ft(Mt[At].ks.k);else for(Ct=Mt[At].ks.k.length,Tt=0;Tt<Ct;Tt+=1)Mt[At].ks.k[Tt].s&&ft(Mt[At].ks.k[Tt].s[0]),Mt[At].ks.k[Tt].e&&ft(Mt[At].ks.k[Tt].e[0]);else Mt[At].ty==="gr"&&ut(Mt[At].it)}function ft(Mt){var At,Tt=Mt.i.length;for(At=0;At<Tt;At+=1)Mt.i[At][0]+=Mt.v[At][0],Mt.i[At][1]+=Mt.v[At][1],Mt.o[At][0]+=Mt.v[At][0],Mt.o[At][1]+=Mt.v[At][1]}function ht(Mt,At){var Tt=At?At.split("."):[100,100,100];return Mt[0]>Tt[0]||!(Tt[0]>Mt[0])&&(Mt[1]>Tt[1]||!(Tt[1]>Mt[1])&&(Mt[2]>Tt[2]||!(Tt[2]>Mt[2])&&null))}var vt,mt=function(){var Mt=[4,4,14];function At(Tt){var Ct,Dt,$t,kt=Tt.length;for(Ct=0;Ct<kt;Ct+=1)Tt[Ct].ty===5&&(Dt=Tt[Ct],$t=void 0,$t=Dt.t.d,Dt.t.d={k:[{s:$t,t:0}]})}return function(Tt){if(ht(Mt,Tt.v)&&(At(Tt.layers),Tt.assets)){var Ct,Dt=Tt.assets.length;for(Ct=0;Ct<Dt;Ct+=1)Tt.assets[Ct].layers&&At(Tt.assets[Ct].layers)}}}(),pt=(vt=[4,7,99],function(Mt){if(Mt.chars&&!ht(vt,Mt.v)){var At,Tt=Mt.chars.length;for(At=0;At<Tt;At+=1){var Ct=Mt.chars[At];Ct.data&&Ct.data.shapes&&(ut(Ct.data.shapes),Ct.data.ip=0,Ct.data.op=99999,Ct.data.st=0,Ct.data.sr=1,Ct.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Mt.chars[At].t||(Ct.data.shapes.push({ty:"no"}),Ct.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),yt=function(){var Mt=[5,7,15];function At(Tt){var Ct,Dt,$t,kt=Tt.length;for(Ct=0;Ct<kt;Ct+=1)Tt[Ct].ty===5&&(Dt=Tt[Ct],$t=void 0,typeof($t=Dt.t.p).a=="number"&&($t.a={a:0,k:$t.a}),typeof $t.p=="number"&&($t.p={a:0,k:$t.p}),typeof $t.r=="number"&&($t.r={a:0,k:$t.r}))}return function(Tt){if(ht(Mt,Tt.v)&&(At(Tt.layers),Tt.assets)){var Ct,Dt=Tt.assets.length;for(Ct=0;Ct<Dt;Ct+=1)Tt.assets[Ct].layers&&At(Tt.assets[Ct].layers)}}}(),_t=function(){var Mt=[4,1,9];function At(Ct){var Dt,$t,kt,It=Ct.length;for(Dt=0;Dt<It;Dt+=1)if(Ct[Dt].ty==="gr")At(Ct[Dt].it);else if(Ct[Dt].ty==="fl"||Ct[Dt].ty==="st")if(Ct[Dt].c.k&&Ct[Dt].c.k[0].i)for(kt=Ct[Dt].c.k.length,$t=0;$t<kt;$t+=1)Ct[Dt].c.k[$t].s&&(Ct[Dt].c.k[$t].s[0]/=255,Ct[Dt].c.k[$t].s[1]/=255,Ct[Dt].c.k[$t].s[2]/=255,Ct[Dt].c.k[$t].s[3]/=255),Ct[Dt].c.k[$t].e&&(Ct[Dt].c.k[$t].e[0]/=255,Ct[Dt].c.k[$t].e[1]/=255,Ct[Dt].c.k[$t].e[2]/=255,Ct[Dt].c.k[$t].e[3]/=255);else Ct[Dt].c.k[0]/=255,Ct[Dt].c.k[1]/=255,Ct[Dt].c.k[2]/=255,Ct[Dt].c.k[3]/=255}function Tt(Ct){var Dt,$t=Ct.length;for(Dt=0;Dt<$t;Dt+=1)Ct[Dt].ty===4&&At(Ct[Dt].shapes)}return function(Ct){if(ht(Mt,Ct.v)&&(Tt(Ct.layers),Ct.assets)){var Dt,$t=Ct.assets.length;for(Dt=0;Dt<$t;Dt+=1)Ct.assets[Dt].layers&&Tt(Ct.assets[Dt].layers)}}}(),St=function(){var Mt=[4,4,18];function At(Ct){var Dt,$t,kt;for(Dt=Ct.length-1;Dt>=0;Dt-=1)if(Ct[Dt].ty==="sh")if(Ct[Dt].ks.k.i)Ct[Dt].ks.k.c=Ct[Dt].closed;else for(kt=Ct[Dt].ks.k.length,$t=0;$t<kt;$t+=1)Ct[Dt].ks.k[$t].s&&(Ct[Dt].ks.k[$t].s[0].c=Ct[Dt].closed),Ct[Dt].ks.k[$t].e&&(Ct[Dt].ks.k[$t].e[0].c=Ct[Dt].closed);else Ct[Dt].ty==="gr"&&At(Ct[Dt].it)}function Tt(Ct){var Dt,$t,kt,It,Nt,Gt,Bt=Ct.length;for($t=0;$t<Bt;$t+=1){if((Dt=Ct[$t]).hasMask){var Rt=Dt.masksProperties;for(It=Rt.length,kt=0;kt<It;kt+=1)if(Rt[kt].pt.k.i)Rt[kt].pt.k.c=Rt[kt].cl;else for(Gt=Rt[kt].pt.k.length,Nt=0;Nt<Gt;Nt+=1)Rt[kt].pt.k[Nt].s&&(Rt[kt].pt.k[Nt].s[0].c=Rt[kt].cl),Rt[kt].pt.k[Nt].e&&(Rt[kt].pt.k[Nt].e[0].c=Rt[kt].cl)}Dt.ty===4&&At(Dt.shapes)}}return function(Ct){if(ht(Mt,Ct.v)&&(Tt(Ct.layers),Ct.assets)){var Dt,$t=Ct.assets.length;for(Dt=0;Dt<$t;Dt+=1)Ct.assets[Dt].layers&&Tt(Ct.assets[Dt].layers)}}}();function Et(Mt){Mt.t.a.length===0&&Mt.t.p}var wt={completeData:function(Mt){Mt.__complete||(_t(Mt),mt(Mt),pt(Mt),yt(Mt),St(Mt),lt(Mt.layers,Mt.assets),function(At,Tt){if(At){var Ct=0,Dt=At.length;for(Ct=0;Ct<Dt;Ct+=1)At[Ct].t===1&&(At[Ct].data.layers=ct(At[Ct].data.refId,Tt),lt(At[Ct].data.layers,Tt))}}(Mt.chars,Mt.assets),Mt.__complete=!0)}};return wt.checkColors=_t,wt.checkChars=pt,wt.checkPathProperties=yt,wt.checkShapes=St,wt.completeLayers=lt,wt}()),rt.assetLoader||(rt.assetLoader=function(){function lt(ct){var ut=ct.getResponseHeader("content-type");return ut&&ct.responseType==="json"&&ut.indexOf("json")!==-1||ct.response&&_typeof$5(ct.response)==="object"?ct.response:ct.response&&typeof ct.response=="string"?JSON.parse(ct.response):ct.responseText?JSON.parse(ct.responseText):null}return{load:function(ct,ut,ft,ht){var vt,mt=new XMLHttpRequest;try{mt.responseType="json"}catch{}mt.onreadystatechange=function(){if(mt.readyState===4)if(mt.status===200)vt=lt(mt),ft(vt);else try{vt=lt(mt),ft(vt)}catch(pt){ht&&ht(pt)}};try{mt.open(["G","E","T"].join(""),ct,!0)}catch{mt.open(["G","E","T"].join(""),ut+"/"+ct,!0)}mt.send()}}}()),ot.data.type==="loadAnimation")rt.assetLoader.load(ot.data.path,ot.data.fullPath,function(lt){rt.dataManager.completeData(lt),rt.postMessage({id:ot.data.id,payload:lt,status:"success"})},function(){rt.postMessage({id:ot.data.id,status:"error"})});else if(ot.data.type==="complete"){var at=ot.data.animation;rt.dataManager.completeData(at),rt.postMessage({id:ot.data.id,payload:at,status:"success"})}else ot.data.type==="loadData"&&rt.assetLoader.load(ot.data.path,ot.data.fullPath,function(lt){rt.postMessage({id:ot.data.id,payload:lt,status:"success"})},function(){rt.postMessage({id:ot.data.id,status:"error"})})})).onmessage=function(ot){var at=ot.data,lt=at.id,ct=tt[lt];tt[lt]=null,at.status==="success"?ct.onComplete(at.payload):ct.onError&&ct.onError()})}function st(ot,at){var lt="processId_"+(et+=1);return tt[lt]={onComplete:ot,onError:at},lt}return{loadAnimation:function(ot,at,lt){it();var ct=st(at,lt);_.postMessage({type:"loadAnimation",path:ot,fullPath:window.location.origin+window.location.pathname,id:ct})},loadData:function(ot,at,lt){it();var ct=st(at,lt);_.postMessage({type:"loadData",path:ot,fullPath:window.location.origin+window.location.pathname,id:ct})},completeAnimation:function(ot,at,lt){it();var ct=st(at,lt);_.postMessage({type:"complete",animation:ot,id:ct})}}}(),ImagePreloader=function(){var _e=function(){var st=createTag("canvas");st.width=1,st.height=1;var ot=st.getContext("2d");return ot.fillStyle="rgba(0,0,0,0)",ot.fillRect(0,0,1,1),st}();function _(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function et(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function tt(st,ot,at){var lt="";if(st.e)lt=st.p;else if(ot){var ct=st.p;ct.indexOf("images/")!==-1&&(ct=ct.split("/")[1]),lt=ot+ct}else lt=at,lt+=st.u?st.u:"",lt+=st.p;return lt}function nt(st){var ot=0,at=setInterval((function(){(st.getBBox().width||ot>500)&&(this._imageLoaded(),clearInterval(at)),ot+=1}).bind(this),50)}function rt(st){var ot={assetData:st},at=tt(st,this.assetsPath,this.path);return dataManager.loadData(at,(function(lt){ot.img=lt,this._footageLoaded()}).bind(this),(function(){ot.img={},this._footageLoaded()}).bind(this)),ot}function it(){this._imageLoaded=_.bind(this),this._footageLoaded=et.bind(this),this.testImageLoaded=nt.bind(this),this.createFootageData=rt.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return it.prototype={loadAssets:function(st,ot){var at;this.imagesLoadedCb=ot;var lt=st.length;for(at=0;at<lt;at+=1)st[at].layers||(st[at].t&&st[at].t!=="seq"?st[at].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(st[at]))):(this.totalImages+=1,this.images.push(this._createImageData(st[at]))))},setAssetsPath:function(st){this.assetsPath=st||""},setPath:function(st){this.path=st||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(st){for(var ot=0,at=this.images.length;ot<at;){if(this.images[ot].assetData===st)return this.images[ot].img;ot+=1}return null},createImgData:function(st){var ot=tt(st,this.assetsPath,this.path),at=createTag("img");at.crossOrigin="anonymous",at.addEventListener("load",this._imageLoaded,!1),at.addEventListener("error",(function(){lt.img=_e,this._imageLoaded()}).bind(this),!1),at.src=ot;var lt={img:at,assetData:st};return lt},createImageData:function(st){var ot=tt(st,this.assetsPath,this.path),at=createNS("image");isSafari?this.testImageLoaded(at):at.addEventListener("load",this._imageLoaded,!1),at.addEventListener("error",(function(){lt.img=_e,this._imageLoaded()}).bind(this),!1),at.setAttributeNS("http://www.w3.org/1999/xlink","href",ot),this._elementHelper.append?this._elementHelper.append(at):this._elementHelper.appendChild(at);var lt={img:at,assetData:st};return lt},imageLoaded:_,footageLoaded:et,setCacheType:function(st,ot){st==="svg"?(this._elementHelper=ot,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},it}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(_e,_){if(this._cbs[_e])for(var et=this._cbs[_e],tt=0;tt<et.length;tt+=1)et[tt](_)},addEventListener:function(_e,_){return this._cbs[_e]||(this._cbs[_e]=[]),this._cbs[_e].push(_),(function(){this.removeEventListener(_e,_)}).bind(this)},removeEventListener:function(_e,_){if(_){if(this._cbs[_e]){for(var et=0,tt=this._cbs[_e].length;et<tt;)this._cbs[_e][et]===_&&(this._cbs[_e].splice(et,1),et-=1,tt-=1),et+=1;this._cbs[_e].length||(this._cbs[_e]=null)}}else this._cbs[_e]=null}};var markerParser=function(){function _e(_){for(var et,tt=_.split(`\r
`),nt={},rt=0,it=0;it<tt.length;it+=1)(et=tt[it].split(":")).length===2&&(nt[et[0]]=et[1].trim(),rt+=1);if(rt===0)throw new Error;return nt}return function(_){for(var et=[],tt=0;tt<_.length;tt+=1){var nt=_[tt],rt={time:nt.tm,duration:nt.dr};try{rt.payload=JSON.parse(_[tt].cm)}catch{try{rt.payload=_e(_[tt].cm)}catch{rt.payload={name:_[tt].cm}}}et.push(rt)}return et}}(),ProjectInterface=function(){function _e(_){this.compositions.push(_)}return function(){function _(et){for(var tt=0,nt=this.compositions.length;tt<nt;){if(this.compositions[tt].data&&this.compositions[tt].data.nm===et)return this.compositions[tt].prepareFrame&&this.compositions[tt].data.xt&&this.compositions[tt].prepareFrame(this.currentFrame),this.compositions[tt].compInterface;tt+=1}return null}return _.compositions=[],_.currentFrame=0,_.registerComposition=_e,_}}(),renderers={},registerRenderer=function(_e,_){renderers[_e]=_};function getRenderer(_e){return renderers[_e]}function _typeof$4(_e){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(_e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(_e){(_e.wrapper||_e.container)&&(this.wrapper=_e.wrapper||_e.container);var _="svg";_e.animType?_=_e.animType:_e.renderer&&(_=_e.renderer);var et=getRenderer(_);this.renderer=new et(this,_e.rendererSettings),this.imagePreloader.setCacheType(_,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=_,_e.loop===""||_e.loop===null||_e.loop===void 0||_e.loop===!0?this.loop=!0:_e.loop===!1?this.loop=!1:this.loop=parseInt(_e.loop,10),this.autoplay=!("autoplay"in _e)||_e.autoplay,this.name=_e.name?_e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(_e,"autoloadSegments")||_e.autoloadSegments,this.assetsPath=_e.assetsPath,this.initialSegment=_e.initialSegment,_e.audioFactory&&this.audioController.setAudioFactory(_e.audioFactory),_e.animationData?this.setupAnimation(_e.animationData):_e.path&&(_e.path.lastIndexOf("\\")!==-1?this.path=_e.path.substr(0,_e.path.lastIndexOf("\\")+1):this.path=_e.path.substr(0,_e.path.lastIndexOf("/")+1),this.fileName=_e.path.substr(_e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(_e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(_e){dataManager.completeAnimation(_e,this.configAnimation)},AnimationItem.prototype.setData=function(_e,_){_&&_typeof$4(_)!=="object"&&(_=JSON.parse(_));var et={wrapper:_e,animationData:_},tt=_e.attributes;et.path=tt.getNamedItem("data-animation-path")?tt.getNamedItem("data-animation-path").value:tt.getNamedItem("data-bm-path")?tt.getNamedItem("data-bm-path").value:tt.getNamedItem("bm-path")?tt.getNamedItem("bm-path").value:"",et.animType=tt.getNamedItem("data-anim-type")?tt.getNamedItem("data-anim-type").value:tt.getNamedItem("data-bm-type")?tt.getNamedItem("data-bm-type").value:tt.getNamedItem("bm-type")?tt.getNamedItem("bm-type").value:tt.getNamedItem("data-bm-renderer")?tt.getNamedItem("data-bm-renderer").value:tt.getNamedItem("bm-renderer")?tt.getNamedItem("bm-renderer").value:"canvas";var nt=tt.getNamedItem("data-anim-loop")?tt.getNamedItem("data-anim-loop").value:tt.getNamedItem("data-bm-loop")?tt.getNamedItem("data-bm-loop").value:tt.getNamedItem("bm-loop")?tt.getNamedItem("bm-loop").value:"";nt==="false"?et.loop=!1:nt==="true"?et.loop=!0:nt!==""&&(et.loop=parseInt(nt,10));var rt=tt.getNamedItem("data-anim-autoplay")?tt.getNamedItem("data-anim-autoplay").value:tt.getNamedItem("data-bm-autoplay")?tt.getNamedItem("data-bm-autoplay").value:!tt.getNamedItem("bm-autoplay")||tt.getNamedItem("bm-autoplay").value;et.autoplay=rt!=="false",et.name=tt.getNamedItem("data-name")?tt.getNamedItem("data-name").value:tt.getNamedItem("data-bm-name")?tt.getNamedItem("data-bm-name").value:tt.getNamedItem("bm-name")?tt.getNamedItem("bm-name").value:"",(tt.getNamedItem("data-anim-prerender")?tt.getNamedItem("data-anim-prerender").value:tt.getNamedItem("data-bm-prerender")?tt.getNamedItem("data-bm-prerender").value:tt.getNamedItem("bm-prerender")?tt.getNamedItem("bm-prerender").value:"")==="false"&&(et.prerender=!1),this.setParams(et)},AnimationItem.prototype.includeLayers=function(_e){_e.op>this.animationData.op&&(this.animationData.op=_e.op,this.totalFrames=Math.floor(_e.op-this.animationData.ip));var _,et,tt=this.animationData.layers,nt=tt.length,rt=_e.layers,it=rt.length;for(et=0;et<it;et+=1)for(_=0;_<nt;){if(tt[_].id===rt[et].id){tt[_]=rt[et];break}_+=1}if((_e.chars||_e.fonts)&&(this.renderer.globalData.fontManager.addChars(_e.chars),this.renderer.globalData.fontManager.addFonts(_e.fonts,this.renderer.globalData.defs)),_e.assets)for(nt=_e.assets.length,_=0;_<nt;_+=1)this.animationData.assets.push(_e.assets[_]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(_e){this.animationData=_e;var _=getExpressionsPlugin();_&&_.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var _e=this.animationData.segments;if(!_e||_e.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var _=_e.shift();this.timeCompleted=_.time*this.frameRate;var et=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(et,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(_e){if(this.renderer)try{this.animationData=_e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(_e),_e.assets||(_e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(_e.assets),this.markers=markerParser(_e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(_){this.triggerConfigError(_)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(_e,_){var et=typeof _e=="number"?_e:void 0,tt=typeof _=="number"?_:void 0;this.renderer.updateContainerSize(et,tt)},AnimationItem.prototype.setSubframe=function(_e){this.isSubframeEnabled=!!_e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(_e){this.triggerRenderFrameError(_e)}},AnimationItem.prototype.play=function(_e){_e&&this.name!==_e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(_e){_e&&this.name!==_e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(_e){_e&&this.name!==_e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(_e){_e&&this.name!==_e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(_e){for(var _,et=0;et<this.markers.length;et+=1)if((_=this.markers[et]).payload&&_.payload.name===_e)return _;return null},AnimationItem.prototype.goToAndStop=function(_e,_,et){if(!et||this.name===et){var tt=Number(_e);if(isNaN(tt)){var nt=this.getMarkerData(_e);nt&&this.goToAndStop(nt.time,!0)}else _?this.setCurrentRawFrameValue(_e):this.setCurrentRawFrameValue(_e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(_e,_,et){if(!et||this.name===et){var tt=Number(_e);if(isNaN(tt)){var nt=this.getMarkerData(_e);nt&&(nt.duration?this.playSegments([nt.time,nt.time+nt.duration],!0):this.goToAndStop(nt.time,!0))}else this.goToAndStop(tt,_,et);this.play()}},AnimationItem.prototype.advanceTime=function(_e){if(this.isPaused!==!0&&this.isLoaded!==!1){var _=this.currentRawFrame+_e*this.frameModifier,et=!1;_>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?_>=this.totalFrames?(this.playCount+=1,this.checkSegments(_%this.totalFrames)||(this.setCurrentRawFrameValue(_%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(_):this.checkSegments(_>this.totalFrames?_%this.totalFrames:0)||(et=!0,_=this.totalFrames-1):_<0?this.checkSegments(_%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(et=!0,_=0):(this.setCurrentRawFrameValue(this.totalFrames+_%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(_),et&&(this.setCurrentRawFrameValue(_),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(_e,_){this.playCount=0,_e[1]<_e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=_e[0]-_e[1],this.timeCompleted=this.totalFrames,this.firstFrame=_e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-_)):_e[1]>_e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=_e[1]-_e[0],this.timeCompleted=this.totalFrames,this.firstFrame=_e[0],this.setCurrentRawFrameValue(.001+_)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(_e,_){var et=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<_e?et=_e:this.currentRawFrame+this.firstFrame>_&&(et=_-_e)),this.firstFrame=_e,this.totalFrames=_-_e,this.timeCompleted=this.totalFrames,et!==-1&&this.goToAndStop(et,!0)},AnimationItem.prototype.playSegments=function(_e,_){if(_&&(this.segments.length=0),_typeof$4(_e[0])==="object"){var et,tt=_e.length;for(et=0;et<tt;et+=1)this.segments.push(_e[et])}else this.segments.push(_e);this.segments.length&&_&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(_e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),_e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(_e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),_e),!0)},AnimationItem.prototype.destroy=function(_e){_e&&this.name!==_e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(_e){this.currentRawFrame=_e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(_e){this.playSpeed=_e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(_e){this.playDirection=_e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(_e){this.loop=_e},AnimationItem.prototype.setVolume=function(_e,_){_&&this.name!==_||this.audioController.setVolume(_e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(_e){_e&&this.name!==_e||this.audioController.mute()},AnimationItem.prototype.unmute=function(_e){_e&&this.name!==_e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(_e){var _="";if(_e.e)_=_e.p;else if(this.assetsPath){var et=_e.p;et.indexOf("images/")!==-1&&(et=et.split("/")[1]),_=this.assetsPath+et}else _=this.path,_+=_e.u?_e.u:"",_+=_e.p;return _},AnimationItem.prototype.getAssetData=function(_e){for(var _=0,et=this.assets.length;_<et;){if(_e===this.assets[_].id)return this.assets[_];_+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(_e){return _e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(_e,_,et){try{this.renderer.getElementByPath(_e).updateDocumentData(_,et)}catch{}},AnimationItem.prototype.trigger=function(_e){if(this._cbs&&this._cbs[_e])switch(_e){case"enterFrame":this.triggerEvent(_e,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(_e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(_e,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(_e,new BMCompleteEvent(_e,this.frameMult));break;case"segmentStart":this.triggerEvent(_e,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(_e,new BMDestroyEvent(_e,this));break;default:this.triggerEvent(_e)}_e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(_e,this.currentFrame,this.totalFrames,this.frameMult)),_e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(_e,this.loop,this.playCount,this.frameMult)),_e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(_e,this.frameMult)),_e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(_e,this.firstFrame,this.totalFrames)),_e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(_e,this))},AnimationItem.prototype.triggerRenderFrameError=function(_e){var _=new BMRenderFrameErrorEvent(_e,this.currentFrame);this.triggerEvent("error",_),this.onError&&this.onError.call(this,_)},AnimationItem.prototype.triggerConfigError=function(_e){var _=new BMConfigErrorEvent(_e,this.currentFrame);this.triggerEvent("error",_),this.onError&&this.onError.call(this,_)};var animationManager=function(){var _e={},_=[],et=0,tt=0,nt=0,rt=!0,it=!1;function st(vt){for(var mt=0,pt=vt.target;mt<tt;)_[mt].animation===pt&&(_.splice(mt,1),mt-=1,tt-=1,pt.isPaused||lt()),mt+=1}function ot(vt,mt){if(!vt)return null;for(var pt=0;pt<tt;){if(_[pt].elem===vt&&_[pt].elem!==null)return _[pt].animation;pt+=1}var yt=new AnimationItem;return ct(yt,vt),yt.setData(vt,mt),yt}function at(){nt+=1,ht()}function lt(){nt-=1}function ct(vt,mt){vt.addEventListener("destroy",st),vt.addEventListener("_active",at),vt.addEventListener("_idle",lt),_.push({elem:mt,animation:vt}),tt+=1}function ut(vt){var mt,pt=vt-et;for(mt=0;mt<tt;mt+=1)_[mt].animation.advanceTime(pt);et=vt,nt&&!it?window.requestAnimationFrame(ut):rt=!0}function ft(vt){et=vt,window.requestAnimationFrame(ut)}function ht(){!it&&nt&&rt&&(window.requestAnimationFrame(ft),rt=!1)}return _e.registerAnimation=ot,_e.loadAnimation=function(vt){var mt=new AnimationItem;return ct(mt,null),mt.setParams(vt),mt},_e.setSpeed=function(vt,mt){var pt;for(pt=0;pt<tt;pt+=1)_[pt].animation.setSpeed(vt,mt)},_e.setDirection=function(vt,mt){var pt;for(pt=0;pt<tt;pt+=1)_[pt].animation.setDirection(vt,mt)},_e.play=function(vt){var mt;for(mt=0;mt<tt;mt+=1)_[mt].animation.play(vt)},_e.pause=function(vt){var mt;for(mt=0;mt<tt;mt+=1)_[mt].animation.pause(vt)},_e.stop=function(vt){var mt;for(mt=0;mt<tt;mt+=1)_[mt].animation.stop(vt)},_e.togglePause=function(vt){var mt;for(mt=0;mt<tt;mt+=1)_[mt].animation.togglePause(vt)},_e.searchAnimations=function(vt,mt,pt){var yt,_t=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),St=_t.length;for(yt=0;yt<St;yt+=1)pt&&_t[yt].setAttribute("data-bm-type",pt),ot(_t[yt],vt);if(mt&&St===0){pt||(pt="svg");var Et=document.getElementsByTagName("body")[0];Et.innerText="";var wt=createTag("div");wt.style.width="100%",wt.style.height="100%",wt.setAttribute("data-bm-type",pt),Et.appendChild(wt),ot(wt,vt)}},_e.resize=function(){var vt;for(vt=0;vt<tt;vt+=1)_[vt].animation.resize()},_e.goToAndStop=function(vt,mt,pt){var yt;for(yt=0;yt<tt;yt+=1)_[yt].animation.goToAndStop(vt,mt,pt)},_e.destroy=function(vt){var mt;for(mt=tt-1;mt>=0;mt-=1)_[mt].animation.destroy(vt)},_e.freeze=function(){it=!0},_e.unfreeze=function(){it=!1,ht()},_e.setVolume=function(vt,mt){var pt;for(pt=0;pt<tt;pt+=1)_[pt].animation.setVolume(vt,mt)},_e.mute=function(vt){var mt;for(mt=0;mt<tt;mt+=1)_[mt].animation.mute(vt)},_e.unmute=function(vt){var mt;for(mt=0;mt<tt;mt+=1)_[mt].animation.unmute(vt)},_e.getRegisteredAnimations=function(){var vt,mt=_.length,pt=[];for(vt=0;vt<mt;vt+=1)pt.push(_[vt].animation);return pt},_e}(),BezierFactory=function(){var _e={getBezierEasing:function(at,lt,ct,ut,ft){var ht=ft||("bez_"+at+"_"+lt+"_"+ct+"_"+ut).replace(/\./g,"p");if(_[ht])return _[ht];var vt=new ot([at,lt,ct,ut]);return _[ht]=vt,vt}},_={},et=typeof Float32Array=="function";function tt(at,lt){return 1-3*lt+3*at}function nt(at,lt){return 3*lt-6*at}function rt(at){return 3*at}function it(at,lt,ct){return((tt(lt,ct)*at+nt(lt,ct))*at+rt(lt))*at}function st(at,lt,ct){return 3*tt(lt,ct)*at*at+2*nt(lt,ct)*at+rt(lt)}function ot(at){this._p=at,this._mSampleValues=et?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return ot.prototype={get:function(at){var lt=this._p[0],ct=this._p[1],ut=this._p[2],ft=this._p[3];return this._precomputed||this._precompute(),lt===ct&&ut===ft?at:at===0?0:at===1?1:it(this._getTForX(at),ct,ft)},_precompute:function(){var at=this._p[0],lt=this._p[1],ct=this._p[2],ut=this._p[3];this._precomputed=!0,at===lt&&ct===ut||this._calcSampleValues()},_calcSampleValues:function(){for(var at=this._p[0],lt=this._p[2],ct=0;ct<11;++ct)this._mSampleValues[ct]=it(.1*ct,at,lt)},_getTForX:function(at){for(var lt=this._p[0],ct=this._p[2],ut=this._mSampleValues,ft=0,ht=1;ht!==10&&ut[ht]<=at;++ht)ft+=.1;var vt=ft+.1*((at-ut[--ht])/(ut[ht+1]-ut[ht])),mt=st(vt,lt,ct);return mt>=.001?function(pt,yt,_t,St){for(var Et=0;Et<4;++Et){var wt=st(yt,_t,St);if(wt===0)return yt;yt-=(it(yt,_t,St)-pt)/wt}return yt}(at,vt,lt,ct):mt===0?vt:function(pt,yt,_t,St,Et){var wt,Mt,At=0;do(wt=it(Mt=yt+(_t-yt)/2,St,Et)-pt)>0?_t=Mt:yt=Mt;while(Math.abs(wt)>1e-7&&++At<10);return Mt}(at,ft,ft+.1,lt,ct)}},_e}(),pooling={double:function(_e){return _e.concat(createSizedArray(_e.length))}},poolFactory=function(_e,_,et){var tt=0,nt=_e,rt=createSizedArray(nt);return{newElement:function(){return tt?rt[tt-=1]:_()},release:function(it){tt===nt&&(rt=pooling.double(rt),nt*=2),et&&et(it),rt[tt]=it,tt+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(_e){var _,et=_e.lengths.length;for(_=0;_<et;_+=1)bezierLengthPool.release(_e.lengths[_]);_e.lengths.length=0});function bezFunction(){var _e=Math;function _(at,lt,ct,ut,ft,ht){var vt=at*ut+lt*ft+ct*ht-ft*ut-ht*at-ct*lt;return vt>-.001&&vt<.001}var et=function(at,lt,ct,ut){var ft,ht,vt,mt,pt,yt,_t=getDefaultCurveSegments(),St=0,Et=[],wt=[],Mt=bezierLengthPool.newElement();for(vt=ct.length,ft=0;ft<_t;ft+=1){for(pt=ft/(_t-1),yt=0,ht=0;ht<vt;ht+=1)mt=bmPow(1-pt,3)*at[ht]+3*bmPow(1-pt,2)*pt*ct[ht]+3*(1-pt)*bmPow(pt,2)*ut[ht]+bmPow(pt,3)*lt[ht],Et[ht]=mt,wt[ht]!==null&&(yt+=bmPow(Et[ht]-wt[ht],2)),wt[ht]=Et[ht];yt&&(St+=yt=bmSqrt(yt)),Mt.percents[ft]=pt,Mt.lengths[ft]=St}return Mt.addedLength=St,Mt};function tt(at){this.segmentLength=0,this.points=new Array(at)}function nt(at,lt){this.partialLength=at,this.point=lt}var rt,it=(rt={},function(at,lt,ct,ut){var ft=(at[0]+"_"+at[1]+"_"+lt[0]+"_"+lt[1]+"_"+ct[0]+"_"+ct[1]+"_"+ut[0]+"_"+ut[1]).replace(/\./g,"p");if(!rt[ft]){var ht,vt,mt,pt,yt,_t,St,Et=getDefaultCurveSegments(),wt=0,Mt=null;at.length===2&&(at[0]!==lt[0]||at[1]!==lt[1])&&_(at[0],at[1],lt[0],lt[1],at[0]+ct[0],at[1]+ct[1])&&_(at[0],at[1],lt[0],lt[1],lt[0]+ut[0],lt[1]+ut[1])&&(Et=2);var At=new tt(Et);for(mt=ct.length,ht=0;ht<Et;ht+=1){for(St=createSizedArray(mt),yt=ht/(Et-1),_t=0,vt=0;vt<mt;vt+=1)pt=bmPow(1-yt,3)*at[vt]+3*bmPow(1-yt,2)*yt*(at[vt]+ct[vt])+3*(1-yt)*bmPow(yt,2)*(lt[vt]+ut[vt])+bmPow(yt,3)*lt[vt],St[vt]=pt,Mt!==null&&(_t+=bmPow(St[vt]-Mt[vt],2));wt+=_t=bmSqrt(_t),At.points[ht]=new nt(_t,St),Mt=St}At.segmentLength=wt,rt[ft]=At}return rt[ft]});function st(at,lt){var ct=lt.percents,ut=lt.lengths,ft=ct.length,ht=bmFloor((ft-1)*at),vt=at*lt.addedLength,mt=0;if(ht===ft-1||ht===0||vt===ut[ht])return ct[ht];for(var pt=ut[ht]>vt?-1:1,yt=!0;yt;)if(ut[ht]<=vt&&ut[ht+1]>vt?(mt=(vt-ut[ht])/(ut[ht+1]-ut[ht]),yt=!1):ht+=pt,ht<0||ht>=ft-1){if(ht===ft-1)return ct[ht];yt=!1}return ct[ht]+(ct[ht+1]-ct[ht])*mt}var ot=createTypedArray("float32",8);return{getSegmentsLength:function(at){var lt,ct=segmentsLengthPool.newElement(),ut=at.c,ft=at.v,ht=at.o,vt=at.i,mt=at._length,pt=ct.lengths,yt=0;for(lt=0;lt<mt-1;lt+=1)pt[lt]=et(ft[lt],ft[lt+1],ht[lt],vt[lt+1]),yt+=pt[lt].addedLength;return ut&&mt&&(pt[lt]=et(ft[lt],ft[0],ht[lt],vt[0]),yt+=pt[lt].addedLength),ct.totalLength=yt,ct},getNewSegment:function(at,lt,ct,ut,ft,ht,vt){ft<0?ft=0:ft>1&&(ft=1);var mt,pt=st(ft,vt),yt=st(ht=ht>1?1:ht,vt),_t=at.length,St=1-pt,Et=1-yt,wt=St*St*St,Mt=pt*St*St*3,At=pt*pt*St*3,Tt=pt*pt*pt,Ct=St*St*Et,Dt=pt*St*Et+St*pt*Et+St*St*yt,$t=pt*pt*Et+St*pt*yt+pt*St*yt,kt=pt*pt*yt,It=St*Et*Et,Nt=pt*Et*Et+St*yt*Et+St*Et*yt,Gt=pt*yt*Et+St*yt*yt+pt*Et*yt,Bt=pt*yt*yt,Rt=Et*Et*Et,Ot=yt*Et*Et+Et*yt*Et+Et*Et*yt,Ut=yt*yt*Et+Et*yt*yt+yt*Et*yt,jt=yt*yt*yt;for(mt=0;mt<_t;mt+=1)ot[4*mt]=_e.round(1e3*(wt*at[mt]+Mt*ct[mt]+At*ut[mt]+Tt*lt[mt]))/1e3,ot[4*mt+1]=_e.round(1e3*(Ct*at[mt]+Dt*ct[mt]+$t*ut[mt]+kt*lt[mt]))/1e3,ot[4*mt+2]=_e.round(1e3*(It*at[mt]+Nt*ct[mt]+Gt*ut[mt]+Bt*lt[mt]))/1e3,ot[4*mt+3]=_e.round(1e3*(Rt*at[mt]+Ot*ct[mt]+Ut*ut[mt]+jt*lt[mt]))/1e3;return ot},getPointInSegment:function(at,lt,ct,ut,ft,ht){var vt=st(ft,ht),mt=1-vt;return[_e.round(1e3*(mt*mt*mt*at[0]+(vt*mt*mt+mt*vt*mt+mt*mt*vt)*ct[0]+(vt*vt*mt+mt*vt*vt+vt*mt*vt)*ut[0]+vt*vt*vt*lt[0]))/1e3,_e.round(1e3*(mt*mt*mt*at[1]+(vt*mt*mt+mt*vt*mt+mt*mt*vt)*ct[1]+(vt*vt*mt+mt*vt*vt+vt*mt*vt)*ut[1]+vt*vt*vt*lt[1]))/1e3]},buildBezierData:it,pointOnLine2D:_,pointOnLine3D:function(at,lt,ct,ut,ft,ht,vt,mt,pt){if(ct===0&&ht===0&&pt===0)return _(at,lt,ut,ft,vt,mt);var yt,_t=_e.sqrt(_e.pow(ut-at,2)+_e.pow(ft-lt,2)+_e.pow(ht-ct,2)),St=_e.sqrt(_e.pow(vt-at,2)+_e.pow(mt-lt,2)+_e.pow(pt-ct,2)),Et=_e.sqrt(_e.pow(vt-ut,2)+_e.pow(mt-ft,2)+_e.pow(pt-ht,2));return(yt=_t>St?_t>Et?_t-St-Et:Et-St-_t:Et>St?Et-St-_t:St-_t-Et)>-1e-4&&yt<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var _e=initialDefaultFrame,_=Math.abs;function et(ut,ft){var ht,vt=this.offsetTime;this.propType==="multidimensional"&&(ht=createTypedArray("float32",this.pv.length));for(var mt,pt,yt,_t,St,Et,wt,Mt,At,Tt=ft.lastIndex,Ct=Tt,Dt=this.keyframes.length-1,$t=!0;$t;){if(mt=this.keyframes[Ct],pt=this.keyframes[Ct+1],Ct===Dt-1&&ut>=pt.t-vt){mt.h&&(mt=pt),Tt=0;break}if(pt.t-vt>ut){Tt=Ct;break}Ct<Dt-1?Ct+=1:(Tt=0,$t=!1)}yt=this.keyframesMetadata[Ct]||{};var kt,It=pt.t-vt,Nt=mt.t-vt;if(mt.to){yt.bezierData||(yt.bezierData=bez.buildBezierData(mt.s,pt.s||mt.e,mt.to,mt.ti));var Gt=yt.bezierData;if(ut>=It||ut<Nt){var Bt=ut>=It?Gt.points.length-1:0;for(St=Gt.points[Bt].point.length,_t=0;_t<St;_t+=1)ht[_t]=Gt.points[Bt].point[_t]}else{yt.__fnct?At=yt.__fnct:(At=BezierFactory.getBezierEasing(mt.o.x,mt.o.y,mt.i.x,mt.i.y,mt.n).get,yt.__fnct=At),Et=At((ut-Nt)/(It-Nt));var Rt,Ot=Gt.segmentLength*Et,Ut=ft.lastFrame<ut&&ft._lastKeyframeIndex===Ct?ft._lastAddedLength:0;for(Mt=ft.lastFrame<ut&&ft._lastKeyframeIndex===Ct?ft._lastPoint:0,$t=!0,wt=Gt.points.length;$t;){if(Ut+=Gt.points[Mt].partialLength,Ot===0||Et===0||Mt===Gt.points.length-1){for(St=Gt.points[Mt].point.length,_t=0;_t<St;_t+=1)ht[_t]=Gt.points[Mt].point[_t];break}if(Ot>=Ut&&Ot<Ut+Gt.points[Mt+1].partialLength){for(Rt=(Ot-Ut)/Gt.points[Mt+1].partialLength,St=Gt.points[Mt].point.length,_t=0;_t<St;_t+=1)ht[_t]=Gt.points[Mt].point[_t]+(Gt.points[Mt+1].point[_t]-Gt.points[Mt].point[_t])*Rt;break}Mt<wt-1?Mt+=1:$t=!1}ft._lastPoint=Mt,ft._lastAddedLength=Ut-Gt.points[Mt].partialLength,ft._lastKeyframeIndex=Ct}}else{var jt,Jt,Xt,Qt,rn;if(Dt=mt.s.length,kt=pt.s||mt.e,this.sh&&mt.h!==1)ut>=It?(ht[0]=kt[0],ht[1]=kt[1],ht[2]=kt[2]):ut<=Nt?(ht[0]=mt.s[0],ht[1]=mt.s[1],ht[2]=mt.s[2]):function(pn,fn){var _n=fn[0],Pn=fn[1],Sn=fn[2],Cn=fn[3],Wt=Math.atan2(2*Pn*Cn-2*_n*Sn,1-2*Pn*Pn-2*Sn*Sn),tn=Math.asin(2*_n*Pn+2*Sn*Cn),an=Math.atan2(2*_n*Cn-2*Pn*Sn,1-2*_n*_n-2*Sn*Sn);pn[0]=Wt/degToRads,pn[1]=tn/degToRads,pn[2]=an/degToRads}(ht,function(pn,fn,_n){var Pn,Sn,Cn,Wt,tn,an=[],vn=pn[0],hn=pn[1],$n=pn[2],En=pn[3],Mn=fn[0],Rn=fn[1],Vn=fn[2],sr=fn[3];return(Sn=vn*Mn+hn*Rn+$n*Vn+En*sr)<0&&(Sn=-Sn,Mn=-Mn,Rn=-Rn,Vn=-Vn,sr=-sr),1-Sn>1e-6?(Pn=Math.acos(Sn),Cn=Math.sin(Pn),Wt=Math.sin((1-_n)*Pn)/Cn,tn=Math.sin(_n*Pn)/Cn):(Wt=1-_n,tn=_n),an[0]=Wt*vn+tn*Mn,an[1]=Wt*hn+tn*Rn,an[2]=Wt*$n+tn*Vn,an[3]=Wt*En+tn*sr,an}(tt(mt.s),tt(kt),(ut-Nt)/(It-Nt)));else for(Ct=0;Ct<Dt;Ct+=1)mt.h!==1&&(ut>=It?Et=1:ut<Nt?Et=0:(mt.o.x.constructor===Array?(yt.__fnct||(yt.__fnct=[]),yt.__fnct[Ct]?At=yt.__fnct[Ct]:(jt=mt.o.x[Ct]===void 0?mt.o.x[0]:mt.o.x[Ct],Jt=mt.o.y[Ct]===void 0?mt.o.y[0]:mt.o.y[Ct],Xt=mt.i.x[Ct]===void 0?mt.i.x[0]:mt.i.x[Ct],Qt=mt.i.y[Ct]===void 0?mt.i.y[0]:mt.i.y[Ct],At=BezierFactory.getBezierEasing(jt,Jt,Xt,Qt).get,yt.__fnct[Ct]=At)):yt.__fnct?At=yt.__fnct:(jt=mt.o.x,Jt=mt.o.y,Xt=mt.i.x,Qt=mt.i.y,At=BezierFactory.getBezierEasing(jt,Jt,Xt,Qt).get,mt.keyframeMetadata=At),Et=At((ut-Nt)/(It-Nt)))),kt=pt.s||mt.e,rn=mt.h===1?mt.s[Ct]:mt.s[Ct]+(kt[Ct]-mt.s[Ct])*Et,this.propType==="multidimensional"?ht[Ct]=rn:ht=rn}return ft.lastIndex=Tt,ht}function tt(ut){var ft=ut[0]*degToRads,ht=ut[1]*degToRads,vt=ut[2]*degToRads,mt=Math.cos(ft/2),pt=Math.cos(ht/2),yt=Math.cos(vt/2),_t=Math.sin(ft/2),St=Math.sin(ht/2),Et=Math.sin(vt/2);return[_t*St*yt+mt*pt*Et,_t*pt*yt+mt*St*Et,mt*St*yt-_t*pt*Et,mt*pt*yt-_t*St*Et]}function nt(){var ut=this.comp.renderedFrame-this.offsetTime,ft=this.keyframes[0].t-this.offsetTime,ht=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(ut===this._caching.lastFrame||this._caching.lastFrame!==_e&&(this._caching.lastFrame>=ht&&ut>=ht||this._caching.lastFrame<ft&&ut<ft))){this._caching.lastFrame>=ut&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var vt=this.interpolateValue(ut,this._caching);this.pv=vt}return this._caching.lastFrame=ut,this.pv}function rt(ut){var ft;if(this.propType==="unidimensional")ft=ut*this.mult,_(this.v-ft)>1e-5&&(this.v=ft,this._mdf=!0);else for(var ht=0,vt=this.v.length;ht<vt;)ft=ut[ht]*this.mult,_(this.v[ht]-ft)>1e-5&&(this.v[ht]=ft,this._mdf=!0),ht+=1}function it(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var ut;this.lock=!0,this._mdf=this._isFirstFrame;var ft=this.effectsSequence.length,ht=this.kf?this.pv:this.data.k;for(ut=0;ut<ft;ut+=1)ht=this.effectsSequence[ut](ht);this.setVValue(ht),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function st(ut){this.effectsSequence.push(ut),this.container.addDynamicProperty(this)}function ot(ut,ft,ht,vt){this.propType="unidimensional",this.mult=ht||1,this.data=ft,this.v=ht?ft.k*ht:ft.k,this.pv=ft.k,this._mdf=!1,this.elem=ut,this.container=vt,this.comp=ut.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=it,this.setVValue=rt,this.addEffect=st}function at(ut,ft,ht,vt){var mt;this.propType="multidimensional",this.mult=ht||1,this.data=ft,this._mdf=!1,this.elem=ut,this.container=vt,this.comp=ut.comp,this.k=!1,this.kf=!1,this.frameId=-1;var pt=ft.k.length;for(this.v=createTypedArray("float32",pt),this.pv=createTypedArray("float32",pt),this.vel=createTypedArray("float32",pt),mt=0;mt<pt;mt+=1)this.v[mt]=ft.k[mt]*this.mult,this.pv[mt]=ft.k[mt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=it,this.setVValue=rt,this.addEffect=st}function lt(ut,ft,ht,vt){this.propType="unidimensional",this.keyframes=ft.k,this.keyframesMetadata=[],this.offsetTime=ut.data.st,this.frameId=-1,this._caching={lastFrame:_e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=ft,this.mult=ht||1,this.elem=ut,this.container=vt,this.comp=ut.comp,this.v=_e,this.pv=_e,this._isFirstFrame=!0,this.getValue=it,this.setVValue=rt,this.interpolateValue=et,this.effectsSequence=[nt.bind(this)],this.addEffect=st}function ct(ut,ft,ht,vt){var mt;this.propType="multidimensional";var pt,yt,_t,St,Et=ft.k.length;for(mt=0;mt<Et-1;mt+=1)ft.k[mt].to&&ft.k[mt].s&&ft.k[mt+1]&&ft.k[mt+1].s&&(pt=ft.k[mt].s,yt=ft.k[mt+1].s,_t=ft.k[mt].to,St=ft.k[mt].ti,(pt.length===2&&(pt[0]!==yt[0]||pt[1]!==yt[1])&&bez.pointOnLine2D(pt[0],pt[1],yt[0],yt[1],pt[0]+_t[0],pt[1]+_t[1])&&bez.pointOnLine2D(pt[0],pt[1],yt[0],yt[1],yt[0]+St[0],yt[1]+St[1])||pt.length===3&&(pt[0]!==yt[0]||pt[1]!==yt[1]||pt[2]!==yt[2])&&bez.pointOnLine3D(pt[0],pt[1],pt[2],yt[0],yt[1],yt[2],pt[0]+_t[0],pt[1]+_t[1],pt[2]+_t[2])&&bez.pointOnLine3D(pt[0],pt[1],pt[2],yt[0],yt[1],yt[2],yt[0]+St[0],yt[1]+St[1],yt[2]+St[2]))&&(ft.k[mt].to=null,ft.k[mt].ti=null),pt[0]===yt[0]&&pt[1]===yt[1]&&_t[0]===0&&_t[1]===0&&St[0]===0&&St[1]===0&&(pt.length===2||pt[2]===yt[2]&&_t[2]===0&&St[2]===0)&&(ft.k[mt].to=null,ft.k[mt].ti=null));this.effectsSequence=[nt.bind(this)],this.data=ft,this.keyframes=ft.k,this.keyframesMetadata=[],this.offsetTime=ut.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=ht||1,this.elem=ut,this.container=vt,this.comp=ut.comp,this.getValue=it,this.setVValue=rt,this.interpolateValue=et,this.frameId=-1;var wt=ft.k[0].s.length;for(this.v=createTypedArray("float32",wt),this.pv=createTypedArray("float32",wt),mt=0;mt<wt;mt+=1)this.v[mt]=_e,this.pv[mt]=_e;this._caching={lastFrame:_e,lastIndex:0,value:createTypedArray("float32",wt)},this.addEffect=st}return{getProp:function(ut,ft,ht,vt,mt){var pt;if(ft.k.length)if(typeof ft.k[0]=="number")pt=new at(ut,ft,vt,mt);else switch(ht){case 0:pt=new lt(ut,ft,vt,mt);break;case 1:pt=new ct(ut,ft,vt,mt)}else pt=new ot(ut,ft,vt,mt);return pt.effectsSequence.length&&mt.addDynamicProperty(pt),pt}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&(this.dynamicProperties.push(_e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var _e;this._mdf=!1;var _=this.dynamicProperties.length;for(_e=0;_e<_;_e+=1)this.dynamicProperties[_e].getValue(),this.dynamicProperties[_e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(_e){this.container=_e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(_e,_){this.c=_e,this.setLength(_);for(var et=0;et<_;)this.v[et]=pointPool.newElement(),this.o[et]=pointPool.newElement(),this.i[et]=pointPool.newElement(),et+=1},ShapePath.prototype.setLength=function(_e){for(;this._maxLength<_e;)this.doubleArrayLength();this._length=_e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(_e,_,et,tt,nt){var rt;switch(this._length=Math.max(this._length,tt+1),this._length>=this._maxLength&&this.doubleArrayLength(),et){case"v":rt=this.v;break;case"i":rt=this.i;break;case"o":rt=this.o;break;default:rt=[]}(!rt[tt]||rt[tt]&&!nt)&&(rt[tt]=pointPool.newElement()),rt[tt][0]=_e,rt[tt][1]=_},ShapePath.prototype.setTripleAt=function(_e,_,et,tt,nt,rt,it,st){this.setXYAt(_e,_,"v",it,st),this.setXYAt(et,tt,"o",it,st),this.setXYAt(nt,rt,"i",it,st)},ShapePath.prototype.reverse=function(){var _e=new ShapePath;_e.setPathData(this.c,this._length);var _=this.v,et=this.o,tt=this.i,nt=0;this.c&&(_e.setTripleAt(_[0][0],_[0][1],tt[0][0],tt[0][1],et[0][0],et[0][1],0,!1),nt=1);var rt,it=this._length-1,st=this._length;for(rt=nt;rt<st;rt+=1)_e.setTripleAt(_[it][0],_[it][1],tt[it][0],tt[it][1],et[it][0],et[it][1],rt,!1),it-=1;return _e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(_e){var _,et=_e._length;for(_=0;_<et;_+=1)pointPool.release(_e.v[_]),pointPool.release(_e.i[_]),pointPool.release(_e.o[_]),_e.v[_]=null,_e.i[_]=null,_e.o[_]=null;_e._length=0,_e.c=!1}),factory.clone=function(_e){var _,et=factory.newElement(),tt=_e._length===void 0?_e.v.length:_e._length;for(et.setLength(tt),et.c=_e.c,_=0;_<tt;_+=1)et.setTripleAt(_e.v[_][0],_e.v[_][1],_e.o[_][0],_e.o[_][1],_e.i[_][0],_e.i[_][1],_);return et},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(_e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=_e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var _e;for(_e=0;_e<this._length;_e+=1)shapePool.release(this.shapes[_e]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(_e){var _,et=_e._length;for(_=0;_<et;_+=1)shapePool.release(_e.shapes[_]);_e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=_e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function _e(ut,ft,ht){var vt,mt,pt,yt,_t,St,Et,wt,Mt,At=ht.lastIndex,Tt=this.keyframes;if(ut<Tt[0].t-this.offsetTime)vt=Tt[0].s[0],pt=!0,At=0;else if(ut>=Tt[Tt.length-1].t-this.offsetTime)vt=Tt[Tt.length-1].s?Tt[Tt.length-1].s[0]:Tt[Tt.length-2].e[0],pt=!0;else{for(var Ct,Dt,$t,kt=At,It=Tt.length-1,Nt=!0;Nt&&(Ct=Tt[kt],!((Dt=Tt[kt+1]).t-this.offsetTime>ut));)kt<It-1?kt+=1:Nt=!1;if($t=this.keyframesMetadata[kt]||{},At=kt,!(pt=Ct.h===1)){if(ut>=Dt.t-this.offsetTime)wt=1;else if(ut<Ct.t-this.offsetTime)wt=0;else{var Gt;$t.__fnct?Gt=$t.__fnct:(Gt=BezierFactory.getBezierEasing(Ct.o.x,Ct.o.y,Ct.i.x,Ct.i.y).get,$t.__fnct=Gt),wt=Gt((ut-(Ct.t-this.offsetTime))/(Dt.t-this.offsetTime-(Ct.t-this.offsetTime)))}mt=Dt.s?Dt.s[0]:Ct.e[0]}vt=Ct.s[0]}for(St=ft._length,Et=vt.i[0].length,ht.lastIndex=At,yt=0;yt<St;yt+=1)for(_t=0;_t<Et;_t+=1)Mt=pt?vt.i[yt][_t]:vt.i[yt][_t]+(mt.i[yt][_t]-vt.i[yt][_t])*wt,ft.i[yt][_t]=Mt,Mt=pt?vt.o[yt][_t]:vt.o[yt][_t]+(mt.o[yt][_t]-vt.o[yt][_t])*wt,ft.o[yt][_t]=Mt,Mt=pt?vt.v[yt][_t]:vt.v[yt][_t]+(mt.v[yt][_t]-vt.v[yt][_t])*wt,ft.v[yt][_t]=Mt}function _(){var ut=this.comp.renderedFrame-this.offsetTime,ft=this.keyframes[0].t-this.offsetTime,ht=this.keyframes[this.keyframes.length-1].t-this.offsetTime,vt=this._caching.lastFrame;return vt!==-999999&&(vt<ft&&ut<ft||vt>ht&&ut>ht)||(this._caching.lastIndex=vt<ut?this._caching.lastIndex:0,this.interpolateShape(ut,this.pv,this._caching)),this._caching.lastFrame=ut,this.pv}function et(){this.paths=this.localShapeCollection}function tt(ut){(function(ft,ht){if(ft._length!==ht._length||ft.c!==ht.c)return!1;var vt,mt=ft._length;for(vt=0;vt<mt;vt+=1)if(ft.v[vt][0]!==ht.v[vt][0]||ft.v[vt][1]!==ht.v[vt][1]||ft.o[vt][0]!==ht.o[vt][0]||ft.o[vt][1]!==ht.o[vt][1]||ft.i[vt][0]!==ht.i[vt][0]||ft.i[vt][1]!==ht.i[vt][1])return!1;return!0})(this.v,ut)||(this.v=shapePool.clone(ut),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function nt(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var ut,ft;this.lock=!0,this._mdf=!1,ut=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var ht=this.effectsSequence.length;for(ft=0;ft<ht;ft+=1)ut=this.effectsSequence[ft](ut);this.setVValue(ut),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function rt(ut,ft,ht){this.propType="shape",this.comp=ut.comp,this.container=ut,this.elem=ut,this.data=ft,this.k=!1,this.kf=!1,this._mdf=!1;var vt=ht===3?ft.pt.k:ft.ks.k;this.v=shapePool.clone(vt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=et,this.effectsSequence=[]}function it(ut){this.effectsSequence.push(ut),this.container.addDynamicProperty(this)}function st(ut,ft,ht){this.propType="shape",this.comp=ut.comp,this.elem=ut,this.container=ut,this.offsetTime=ut.data.st,this.keyframes=ht===3?ft.pt.k:ft.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var vt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,vt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=et,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[_.bind(this)]}rt.prototype.interpolateShape=_e,rt.prototype.getValue=nt,rt.prototype.setVValue=tt,rt.prototype.addEffect=it,st.prototype.getValue=nt,st.prototype.interpolateShape=_e,st.prototype.setVValue=tt,st.prototype.addEffect=it;var ot=function(){var ut=roundCorner;function ft(ht,vt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=vt.d,this.elem=ht,this.comp=ht.comp,this.frameId=-1,this.initDynamicPropertyContainer(ht),this.p=PropertyFactory.getProp(ht,vt.p,1,0,this),this.s=PropertyFactory.getProp(ht,vt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return ft.prototype={reset:et,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var ht=this.p.v[0],vt=this.p.v[1],mt=this.s.v[0]/2,pt=this.s.v[1]/2,yt=this.d!==3,_t=this.v;_t.v[0][0]=ht,_t.v[0][1]=vt-pt,_t.v[1][0]=yt?ht+mt:ht-mt,_t.v[1][1]=vt,_t.v[2][0]=ht,_t.v[2][1]=vt+pt,_t.v[3][0]=yt?ht-mt:ht+mt,_t.v[3][1]=vt,_t.i[0][0]=yt?ht-mt*ut:ht+mt*ut,_t.i[0][1]=vt-pt,_t.i[1][0]=yt?ht+mt:ht-mt,_t.i[1][1]=vt-pt*ut,_t.i[2][0]=yt?ht+mt*ut:ht-mt*ut,_t.i[2][1]=vt+pt,_t.i[3][0]=yt?ht-mt:ht+mt,_t.i[3][1]=vt+pt*ut,_t.o[0][0]=yt?ht+mt*ut:ht-mt*ut,_t.o[0][1]=vt-pt,_t.o[1][0]=yt?ht+mt:ht-mt,_t.o[1][1]=vt+pt*ut,_t.o[2][0]=yt?ht-mt*ut:ht+mt*ut,_t.o[2][1]=vt+pt,_t.o[3][0]=yt?ht-mt:ht+mt,_t.o[3][1]=vt-pt*ut}},extendPrototype([DynamicPropertyContainer],ft),ft}(),at=function(){function ut(ft,ht){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=ft,this.comp=ft.comp,this.data=ht,this.frameId=-1,this.d=ht.d,this.initDynamicPropertyContainer(ft),ht.sy===1?(this.ir=PropertyFactory.getProp(ft,ht.ir,0,0,this),this.is=PropertyFactory.getProp(ft,ht.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(ft,ht.pt,0,0,this),this.p=PropertyFactory.getProp(ft,ht.p,1,0,this),this.r=PropertyFactory.getProp(ft,ht.r,0,degToRads,this),this.or=PropertyFactory.getProp(ft,ht.or,0,0,this),this.os=PropertyFactory.getProp(ft,ht.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ut.prototype={reset:et,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ft,ht,vt,mt,pt=2*Math.floor(this.pt.v),yt=2*Math.PI/pt,_t=!0,St=this.or.v,Et=this.ir.v,wt=this.os.v,Mt=this.is.v,At=2*Math.PI*St/(2*pt),Tt=2*Math.PI*Et/(2*pt),Ct=-Math.PI/2;Ct+=this.r.v;var Dt=this.data.d===3?-1:1;for(this.v._length=0,ft=0;ft<pt;ft+=1){vt=_t?wt:Mt,mt=_t?At:Tt;var $t=(ht=_t?St:Et)*Math.cos(Ct),kt=ht*Math.sin(Ct),It=$t===0&&kt===0?0:kt/Math.sqrt($t*$t+kt*kt),Nt=$t===0&&kt===0?0:-$t/Math.sqrt($t*$t+kt*kt);$t+=+this.p.v[0],kt+=+this.p.v[1],this.v.setTripleAt($t,kt,$t-It*mt*vt*Dt,kt-Nt*mt*vt*Dt,$t+It*mt*vt*Dt,kt+Nt*mt*vt*Dt,ft,!0),_t=!_t,Ct+=yt*Dt}},convertPolygonToPath:function(){var ft,ht=Math.floor(this.pt.v),vt=2*Math.PI/ht,mt=this.or.v,pt=this.os.v,yt=2*Math.PI*mt/(4*ht),_t=.5*-Math.PI,St=this.data.d===3?-1:1;for(_t+=this.r.v,this.v._length=0,ft=0;ft<ht;ft+=1){var Et=mt*Math.cos(_t),wt=mt*Math.sin(_t),Mt=Et===0&&wt===0?0:wt/Math.sqrt(Et*Et+wt*wt),At=Et===0&&wt===0?0:-Et/Math.sqrt(Et*Et+wt*wt);Et+=+this.p.v[0],wt+=+this.p.v[1],this.v.setTripleAt(Et,wt,Et-Mt*yt*pt*St,wt-At*yt*pt*St,Et+Mt*yt*pt*St,wt+At*yt*pt*St,ft,!0),_t+=vt*St}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ut),ut}(),lt=function(){function ut(ft,ht){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=ft,this.comp=ft.comp,this.frameId=-1,this.d=ht.d,this.initDynamicPropertyContainer(ft),this.p=PropertyFactory.getProp(ft,ht.p,1,0,this),this.s=PropertyFactory.getProp(ft,ht.s,1,0,this),this.r=PropertyFactory.getProp(ft,ht.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ut.prototype={convertRectToPath:function(){var ft=this.p.v[0],ht=this.p.v[1],vt=this.s.v[0]/2,mt=this.s.v[1]/2,pt=bmMin(vt,mt,this.r.v),yt=pt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ft+vt,ht-mt+pt,ft+vt,ht-mt+pt,ft+vt,ht-mt+yt,0,!0),this.v.setTripleAt(ft+vt,ht+mt-pt,ft+vt,ht+mt-yt,ft+vt,ht+mt-pt,1,!0),pt!==0?(this.v.setTripleAt(ft+vt-pt,ht+mt,ft+vt-pt,ht+mt,ft+vt-yt,ht+mt,2,!0),this.v.setTripleAt(ft-vt+pt,ht+mt,ft-vt+yt,ht+mt,ft-vt+pt,ht+mt,3,!0),this.v.setTripleAt(ft-vt,ht+mt-pt,ft-vt,ht+mt-pt,ft-vt,ht+mt-yt,4,!0),this.v.setTripleAt(ft-vt,ht-mt+pt,ft-vt,ht-mt+yt,ft-vt,ht-mt+pt,5,!0),this.v.setTripleAt(ft-vt+pt,ht-mt,ft-vt+pt,ht-mt,ft-vt+yt,ht-mt,6,!0),this.v.setTripleAt(ft+vt-pt,ht-mt,ft+vt-yt,ht-mt,ft+vt-pt,ht-mt,7,!0)):(this.v.setTripleAt(ft-vt,ht+mt,ft-vt+yt,ht+mt,ft-vt,ht+mt,2),this.v.setTripleAt(ft-vt,ht-mt,ft-vt,ht-mt+yt,ft-vt,ht-mt,3))):(this.v.setTripleAt(ft+vt,ht-mt+pt,ft+vt,ht-mt+yt,ft+vt,ht-mt+pt,0,!0),pt!==0?(this.v.setTripleAt(ft+vt-pt,ht-mt,ft+vt-pt,ht-mt,ft+vt-yt,ht-mt,1,!0),this.v.setTripleAt(ft-vt+pt,ht-mt,ft-vt+yt,ht-mt,ft-vt+pt,ht-mt,2,!0),this.v.setTripleAt(ft-vt,ht-mt+pt,ft-vt,ht-mt+pt,ft-vt,ht-mt+yt,3,!0),this.v.setTripleAt(ft-vt,ht+mt-pt,ft-vt,ht+mt-yt,ft-vt,ht+mt-pt,4,!0),this.v.setTripleAt(ft-vt+pt,ht+mt,ft-vt+pt,ht+mt,ft-vt+yt,ht+mt,5,!0),this.v.setTripleAt(ft+vt-pt,ht+mt,ft+vt-yt,ht+mt,ft+vt-pt,ht+mt,6,!0),this.v.setTripleAt(ft+vt,ht+mt-pt,ft+vt,ht+mt-pt,ft+vt,ht+mt-yt,7,!0)):(this.v.setTripleAt(ft-vt,ht-mt,ft-vt+yt,ht-mt,ft-vt,ht-mt,1,!0),this.v.setTripleAt(ft-vt,ht+mt,ft-vt,ht+mt-yt,ft-vt,ht+mt,2,!0),this.v.setTripleAt(ft+vt,ht+mt,ft+vt-yt,ht+mt,ft+vt,ht+mt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:et},extendPrototype([DynamicPropertyContainer],ut),ut}(),ct={getShapeProp:function(ut,ft,ht){var vt;return ht===3||ht===4?vt=(ht===3?ft.pt:ft.ks).k.length?new st(ut,ft,ht):new rt(ut,ft,ht):ht===5?vt=new lt(ut,ft):ht===6?vt=new ot(ut,ft):ht===7&&(vt=new at(ut,ft)),vt.k&&ut.addDynamicProperty(vt),vt},getConstructorFunction:function(){return rt},getKeyframedConstructorFunction:function(){return st}};return ct}(),Matrix=function(){var _e=Math.cos,_=Math.sin,et=Math.tan,tt=Math.round;function nt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function rt(Bt){if(Bt===0)return this;var Rt=_e(Bt),Ot=_(Bt);return this._t(Rt,-Ot,0,0,Ot,Rt,0,0,0,0,1,0,0,0,0,1)}function it(Bt){if(Bt===0)return this;var Rt=_e(Bt),Ot=_(Bt);return this._t(1,0,0,0,0,Rt,-Ot,0,0,Ot,Rt,0,0,0,0,1)}function st(Bt){if(Bt===0)return this;var Rt=_e(Bt),Ot=_(Bt);return this._t(Rt,0,Ot,0,0,1,0,0,-Ot,0,Rt,0,0,0,0,1)}function ot(Bt){if(Bt===0)return this;var Rt=_e(Bt),Ot=_(Bt);return this._t(Rt,-Ot,0,0,Ot,Rt,0,0,0,0,1,0,0,0,0,1)}function at(Bt,Rt){return this._t(1,Rt,Bt,1,0,0)}function lt(Bt,Rt){return this.shear(et(Bt),et(Rt))}function ct(Bt,Rt){var Ot=_e(Rt),Ut=_(Rt);return this._t(Ot,Ut,0,0,-Ut,Ot,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,et(Bt),1,0,0,0,0,1,0,0,0,0,1)._t(Ot,-Ut,0,0,Ut,Ot,0,0,0,0,1,0,0,0,0,1)}function ut(Bt,Rt,Ot){return Ot||Ot===0||(Ot=1),Bt===1&&Rt===1&&Ot===1?this:this._t(Bt,0,0,0,0,Rt,0,0,0,0,Ot,0,0,0,0,1)}function ft(Bt,Rt,Ot,Ut,jt,Jt,Xt,Qt,rn,pn,fn,_n,Pn,Sn,Cn,Wt){return this.props[0]=Bt,this.props[1]=Rt,this.props[2]=Ot,this.props[3]=Ut,this.props[4]=jt,this.props[5]=Jt,this.props[6]=Xt,this.props[7]=Qt,this.props[8]=rn,this.props[9]=pn,this.props[10]=fn,this.props[11]=_n,this.props[12]=Pn,this.props[13]=Sn,this.props[14]=Cn,this.props[15]=Wt,this}function ht(Bt,Rt,Ot){return Ot=Ot||0,Bt!==0||Rt!==0||Ot!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Bt,Rt,Ot,1):this}function vt(Bt,Rt,Ot,Ut,jt,Jt,Xt,Qt,rn,pn,fn,_n,Pn,Sn,Cn,Wt){var tn=this.props;if(Bt===1&&Rt===0&&Ot===0&&Ut===0&&jt===0&&Jt===1&&Xt===0&&Qt===0&&rn===0&&pn===0&&fn===1&&_n===0)return tn[12]=tn[12]*Bt+tn[15]*Pn,tn[13]=tn[13]*Jt+tn[15]*Sn,tn[14]=tn[14]*fn+tn[15]*Cn,tn[15]*=Wt,this._identityCalculated=!1,this;var an=tn[0],vn=tn[1],hn=tn[2],$n=tn[3],En=tn[4],Mn=tn[5],Rn=tn[6],Vn=tn[7],sr=tn[8],zt=tn[9],Ft=tn[10],Zt=tn[11],gn=tn[12],mn=tn[13],yn=tn[14],Fn=tn[15];return tn[0]=an*Bt+vn*jt+hn*rn+$n*Pn,tn[1]=an*Rt+vn*Jt+hn*pn+$n*Sn,tn[2]=an*Ot+vn*Xt+hn*fn+$n*Cn,tn[3]=an*Ut+vn*Qt+hn*_n+$n*Wt,tn[4]=En*Bt+Mn*jt+Rn*rn+Vn*Pn,tn[5]=En*Rt+Mn*Jt+Rn*pn+Vn*Sn,tn[6]=En*Ot+Mn*Xt+Rn*fn+Vn*Cn,tn[7]=En*Ut+Mn*Qt+Rn*_n+Vn*Wt,tn[8]=sr*Bt+zt*jt+Ft*rn+Zt*Pn,tn[9]=sr*Rt+zt*Jt+Ft*pn+Zt*Sn,tn[10]=sr*Ot+zt*Xt+Ft*fn+Zt*Cn,tn[11]=sr*Ut+zt*Qt+Ft*_n+Zt*Wt,tn[12]=gn*Bt+mn*jt+yn*rn+Fn*Pn,tn[13]=gn*Rt+mn*Jt+yn*pn+Fn*Sn,tn[14]=gn*Ot+mn*Xt+yn*fn+Fn*Cn,tn[15]=gn*Ut+mn*Qt+yn*_n+Fn*Wt,this._identityCalculated=!1,this}function mt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function pt(Bt){for(var Rt=0;Rt<16;){if(Bt.props[Rt]!==this.props[Rt])return!1;Rt+=1}return!0}function yt(Bt){var Rt;for(Rt=0;Rt<16;Rt+=1)Bt.props[Rt]=this.props[Rt];return Bt}function _t(Bt){var Rt;for(Rt=0;Rt<16;Rt+=1)this.props[Rt]=Bt[Rt]}function St(Bt,Rt,Ot){return{x:Bt*this.props[0]+Rt*this.props[4]+Ot*this.props[8]+this.props[12],y:Bt*this.props[1]+Rt*this.props[5]+Ot*this.props[9]+this.props[13],z:Bt*this.props[2]+Rt*this.props[6]+Ot*this.props[10]+this.props[14]}}function Et(Bt,Rt,Ot){return Bt*this.props[0]+Rt*this.props[4]+Ot*this.props[8]+this.props[12]}function wt(Bt,Rt,Ot){return Bt*this.props[1]+Rt*this.props[5]+Ot*this.props[9]+this.props[13]}function Mt(Bt,Rt,Ot){return Bt*this.props[2]+Rt*this.props[6]+Ot*this.props[10]+this.props[14]}function At(){var Bt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Rt=this.props[5]/Bt,Ot=-this.props[1]/Bt,Ut=-this.props[4]/Bt,jt=this.props[0]/Bt,Jt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Bt,Xt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Bt,Qt=new Matrix;return Qt.props[0]=Rt,Qt.props[1]=Ot,Qt.props[4]=Ut,Qt.props[5]=jt,Qt.props[12]=Jt,Qt.props[13]=Xt,Qt}function Tt(Bt){return this.getInverseMatrix().applyToPointArray(Bt[0],Bt[1],Bt[2]||0)}function Ct(Bt){var Rt,Ot=Bt.length,Ut=[];for(Rt=0;Rt<Ot;Rt+=1)Ut[Rt]=Tt(Bt[Rt]);return Ut}function Dt(Bt,Rt,Ot){var Ut=createTypedArray("float32",6);if(this.isIdentity())Ut[0]=Bt[0],Ut[1]=Bt[1],Ut[2]=Rt[0],Ut[3]=Rt[1],Ut[4]=Ot[0],Ut[5]=Ot[1];else{var jt=this.props[0],Jt=this.props[1],Xt=this.props[4],Qt=this.props[5],rn=this.props[12],pn=this.props[13];Ut[0]=Bt[0]*jt+Bt[1]*Xt+rn,Ut[1]=Bt[0]*Jt+Bt[1]*Qt+pn,Ut[2]=Rt[0]*jt+Rt[1]*Xt+rn,Ut[3]=Rt[0]*Jt+Rt[1]*Qt+pn,Ut[4]=Ot[0]*jt+Ot[1]*Xt+rn,Ut[5]=Ot[0]*Jt+Ot[1]*Qt+pn}return Ut}function $t(Bt,Rt,Ot){return this.isIdentity()?[Bt,Rt,Ot]:[Bt*this.props[0]+Rt*this.props[4]+Ot*this.props[8]+this.props[12],Bt*this.props[1]+Rt*this.props[5]+Ot*this.props[9]+this.props[13],Bt*this.props[2]+Rt*this.props[6]+Ot*this.props[10]+this.props[14]]}function kt(Bt,Rt){if(this.isIdentity())return Bt+","+Rt;var Ot=this.props;return Math.round(100*(Bt*Ot[0]+Rt*Ot[4]+Ot[12]))/100+","+Math.round(100*(Bt*Ot[1]+Rt*Ot[5]+Ot[13]))/100}function It(){for(var Bt=0,Rt=this.props,Ot="matrix3d(";Bt<16;)Ot+=tt(1e4*Rt[Bt])/1e4,Ot+=Bt===15?")":",",Bt+=1;return Ot}function Nt(Bt){return Bt<1e-6&&Bt>0||Bt>-1e-6&&Bt<0?tt(1e4*Bt)/1e4:Bt}function Gt(){var Bt=this.props;return"matrix("+Nt(Bt[0])+","+Nt(Bt[1])+","+Nt(Bt[4])+","+Nt(Bt[5])+","+Nt(Bt[12])+","+Nt(Bt[13])+")"}return function(){this.reset=nt,this.rotate=rt,this.rotateX=it,this.rotateY=st,this.rotateZ=ot,this.skew=lt,this.skewFromAxis=ct,this.shear=at,this.scale=ut,this.setTransform=ft,this.translate=ht,this.transform=vt,this.applyToPoint=St,this.applyToX=Et,this.applyToY=wt,this.applyToZ=Mt,this.applyToPointArray=$t,this.applyToTriplePoints=Dt,this.applyToPointStringified=kt,this.toCSS=It,this.to2dCSS=Gt,this.clone=yt,this.cloneFromProps=_t,this.equals=pt,this.inversePoints=Ct,this.inversePoint=Tt,this.getInverseMatrix=At,this._t=this.transform,this.isIdentity=mt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(_e){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(_e)}var lottie={};function setLocation(_e){setLocationHref(_e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(_e){setSubframeEnabled(_e)}function setPrefix(_e){setIdPrefix(_e)}function loadAnimation(_e){return animationManager.loadAnimation(_e)}function setQuality(_e){if(typeof _e=="string")switch(_e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(_e)&&_e>1&&setDefaultCurveSegments(_e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(_e,_){_e==="expressions"&&setExpressionsPlugin(_)}function getFactory(_e){switch(_e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(_e){for(var _=queryString.split("&"),et=0;et<_.length;et+=1){var tt=_[et].split("=");if(decodeURIComponent(tt[0])==_e)return decodeURIComponent(tt[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.10.2";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(_e){}var ShapeModifiers=function(){var _e={},_={};return _e.registerModifier=function(et,tt){_[et]||(_[et]=tt)},_e.getModifier=function(et,tt,nt){return new _[et](tt,nt)},_e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(_e){if(!this.closed){_e.sh.container.addDynamicProperty(_e.sh);var _={shape:_e.sh,data:_e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(_),this.addShapeToModifier(_),this._isAnimated&&_e.setAsAnimated()}},ShapeModifier.prototype.init=function(_e,_){this.shapes=[],this.elem=_e,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,_),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(_e,_){this.s=PropertyFactory.getProp(_e,_.s,0,.01,this),this.e=PropertyFactory.getProp(_e,_.e,0,.01,this),this.o=PropertyFactory.getProp(_e,_.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=_.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(_e){_e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(_e,_,et,tt,nt){var rt=[];_<=1?rt.push({s:_e,e:_}):_e>=1?rt.push({s:_e-1,e:_-1}):(rt.push({s:_e,e:1}),rt.push({s:0,e:_-1}));var it,st,ot=[],at=rt.length;for(it=0;it<at;it+=1){var lt,ct;(st=rt[it]).e*nt<tt||st.s*nt>tt+et||(lt=st.s*nt<=tt?0:(st.s*nt-tt)/et,ct=st.e*nt>=tt+et?1:(st.e*nt-tt)/et,ot.push([lt,ct]))}return ot.length||ot.push([0,0]),ot},TrimModifier.prototype.releasePathsData=function(_e){var _,et=_e.length;for(_=0;_<et;_+=1)segmentsLengthPool.release(_e[_]);return _e.length=0,_e},TrimModifier.prototype.processShapes=function(_e){var _,et,tt,nt;if(this._mdf||_e){var rt=this.o.v%360/360;if(rt<0&&(rt+=1),(_=this.s.v>1?1+rt:this.s.v<0?0+rt:this.s.v+rt)>(et=this.e.v>1?1+rt:this.e.v<0?0+rt:this.e.v+rt)){var it=_;_=et,et=it}_=1e-4*Math.round(1e4*_),et=1e-4*Math.round(1e4*et),this.sValue=_,this.eValue=et}else _=this.sValue,et=this.eValue;var st,ot,at,lt,ct,ut=this.shapes.length,ft=0;if(et===_)for(nt=0;nt<ut;nt+=1)this.shapes[nt].localShapeCollection.releaseShapes(),this.shapes[nt].shape._mdf=!0,this.shapes[nt].shape.paths=this.shapes[nt].localShapeCollection,this._mdf&&(this.shapes[nt].pathsData.length=0);else if(et===1&&_===0||et===0&&_===1){if(this._mdf)for(nt=0;nt<ut;nt+=1)this.shapes[nt].pathsData.length=0,this.shapes[nt].shape._mdf=!0}else{var ht,vt,mt=[];for(nt=0;nt<ut;nt+=1)if((ht=this.shapes[nt]).shape._mdf||this._mdf||_e||this.m===2){if(ot=(tt=ht.shape.paths)._length,ct=0,!ht.shape._mdf&&ht.pathsData.length)ct=ht.totalShapeLength;else{for(at=this.releasePathsData(ht.pathsData),st=0;st<ot;st+=1)lt=bez.getSegmentsLength(tt.shapes[st]),at.push(lt),ct+=lt.totalLength;ht.totalShapeLength=ct,ht.pathsData=at}ft+=ct,ht.shape._mdf=!0}else ht.shape.paths=ht.localShapeCollection;var pt,yt=_,_t=et,St=0;for(nt=ut-1;nt>=0;nt-=1)if((ht=this.shapes[nt]).shape._mdf){for((vt=ht.localShapeCollection).releaseShapes(),this.m===2&&ut>1?(pt=this.calculateShapeEdges(_,et,ht.totalShapeLength,St,ft),St+=ht.totalShapeLength):pt=[[yt,_t]],ot=pt.length,st=0;st<ot;st+=1){yt=pt[st][0],_t=pt[st][1],mt.length=0,_t<=1?mt.push({s:ht.totalShapeLength*yt,e:ht.totalShapeLength*_t}):yt>=1?mt.push({s:ht.totalShapeLength*(yt-1),e:ht.totalShapeLength*(_t-1)}):(mt.push({s:ht.totalShapeLength*yt,e:ht.totalShapeLength}),mt.push({s:0,e:ht.totalShapeLength*(_t-1)}));var Et=this.addShapes(ht,mt[0]);if(mt[0].s!==mt[0].e){if(mt.length>1)if(ht.shape.paths.shapes[ht.shape.paths._length-1].c){var wt=Et.pop();this.addPaths(Et,vt),Et=this.addShapes(ht,mt[1],wt)}else this.addPaths(Et,vt),Et=this.addShapes(ht,mt[1]);this.addPaths(Et,vt)}}ht.shape.paths=vt}}},TrimModifier.prototype.addPaths=function(_e,_){var et,tt=_e.length;for(et=0;et<tt;et+=1)_.addShape(_e[et])},TrimModifier.prototype.addSegment=function(_e,_,et,tt,nt,rt,it){nt.setXYAt(_[0],_[1],"o",rt),nt.setXYAt(et[0],et[1],"i",rt+1),it&&nt.setXYAt(_e[0],_e[1],"v",rt),nt.setXYAt(tt[0],tt[1],"v",rt+1)},TrimModifier.prototype.addSegmentFromArray=function(_e,_,et,tt){_.setXYAt(_e[1],_e[5],"o",et),_.setXYAt(_e[2],_e[6],"i",et+1),tt&&_.setXYAt(_e[0],_e[4],"v",et),_.setXYAt(_e[3],_e[7],"v",et+1)},TrimModifier.prototype.addShapes=function(_e,_,et){var tt,nt,rt,it,st,ot,at,lt,ct=_e.pathsData,ut=_e.shape.paths.shapes,ft=_e.shape.paths._length,ht=0,vt=[],mt=!0;for(et?(st=et._length,lt=et._length):(et=shapePool.newElement(),st=0,lt=0),vt.push(et),tt=0;tt<ft;tt+=1){for(ot=ct[tt].lengths,et.c=ut[tt].c,rt=ut[tt].c?ot.length:ot.length+1,nt=1;nt<rt;nt+=1)if(ht+(it=ot[nt-1]).addedLength<_.s)ht+=it.addedLength,et.c=!1;else{if(ht>_.e){et.c=!1;break}_.s<=ht&&_.e>=ht+it.addedLength?(this.addSegment(ut[tt].v[nt-1],ut[tt].o[nt-1],ut[tt].i[nt],ut[tt].v[nt],et,st,mt),mt=!1):(at=bez.getNewSegment(ut[tt].v[nt-1],ut[tt].v[nt],ut[tt].o[nt-1],ut[tt].i[nt],(_.s-ht)/it.addedLength,(_.e-ht)/it.addedLength,ot[nt-1]),this.addSegmentFromArray(at,et,st,mt),mt=!1,et.c=!1),ht+=it.addedLength,st+=1}if(ut[tt].c&&ot.length){if(it=ot[nt-1],ht<=_.e){var pt=ot[nt-1].addedLength;_.s<=ht&&_.e>=ht+pt?(this.addSegment(ut[tt].v[nt-1],ut[tt].o[nt-1],ut[tt].i[0],ut[tt].v[0],et,st,mt),mt=!1):(at=bez.getNewSegment(ut[tt].v[nt-1],ut[tt].v[0],ut[tt].o[nt-1],ut[tt].i[0],(_.s-ht)/pt,(_.e-ht)/pt,ot[nt-1]),this.addSegmentFromArray(at,et,st,mt),mt=!1,et.c=!1)}else et.c=!1;ht+=it.addedLength,st+=1}if(et._length&&(et.setXYAt(et.v[lt][0],et.v[lt][1],"i",lt),et.setXYAt(et.v[et._length-1][0],et.v[et._length-1][1],"o",et._length-1)),ht>_.e)break;tt<ft-1&&(et=shapePool.newElement(),mt=!0,vt.push(et),st=0)}return vt},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(_e,_){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(_e,_.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(_e,_){var et=_/100,tt=[0,0],nt=_e._length,rt=0;for(rt=0;rt<nt;rt+=1)tt[0]+=_e.v[rt][0],tt[1]+=_e.v[rt][1];tt[0]/=nt,tt[1]/=nt;var it,st,ot,at,lt,ct,ut=shapePool.newElement();for(ut.c=_e.c,rt=0;rt<nt;rt+=1)it=_e.v[rt][0]+(tt[0]-_e.v[rt][0])*et,st=_e.v[rt][1]+(tt[1]-_e.v[rt][1])*et,ot=_e.o[rt][0]+(tt[0]-_e.o[rt][0])*-et,at=_e.o[rt][1]+(tt[1]-_e.o[rt][1])*-et,lt=_e.i[rt][0]+(tt[0]-_e.i[rt][0])*-et,ct=_e.i[rt][1]+(tt[1]-_e.i[rt][1])*-et,ut.setTripleAt(it,st,ot,at,lt,ct,rt);return ut},PuckerAndBloatModifier.prototype.processShapes=function(_e){var _,et,tt,nt,rt,it,st=this.shapes.length,ot=this.amount.v;if(ot!==0)for(et=0;et<st;et+=1){if(it=(rt=this.shapes[et]).localShapeCollection,rt.shape._mdf||this._mdf||_e)for(it.releaseShapes(),rt.shape._mdf=!0,_=rt.shape.paths.shapes,nt=rt.shape.paths._length,tt=0;tt<nt;tt+=1)it.addShape(this.processPath(_[tt],ot));rt.shape.paths=rt.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var _e=[0,0];function _(et,tt,nt){if(this.elem=et,this.frameId=-1,this.propType="transform",this.data=tt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(nt||et),tt.p&&tt.p.s?(this.px=PropertyFactory.getProp(et,tt.p.x,0,0,this),this.py=PropertyFactory.getProp(et,tt.p.y,0,0,this),tt.p.z&&(this.pz=PropertyFactory.getProp(et,tt.p.z,0,0,this))):this.p=PropertyFactory.getProp(et,tt.p||{k:[0,0,0]},1,0,this),tt.rx){if(this.rx=PropertyFactory.getProp(et,tt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(et,tt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(et,tt.rz,0,degToRads,this),tt.or.k[0].ti){var rt,it=tt.or.k.length;for(rt=0;rt<it;rt+=1)tt.or.k[rt].to=null,tt.or.k[rt].ti=null}this.or=PropertyFactory.getProp(et,tt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(et,tt.r||{k:0},0,degToRads,this);tt.sk&&(this.sk=PropertyFactory.getProp(et,tt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(et,tt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(et,tt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(et,tt.s||{k:[100,100,100]},1,.01,this),tt.o?this.o=PropertyFactory.getProp(et,tt.o,0,.01,et):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return _.prototype={applyToMatrix:function(et){var tt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||tt,this.a&&et.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&et.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&et.skewFromAxis(-this.sk.v,this.sa.v),this.r?et.rotate(-this.r.v):et.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?et.translate(this.px.v,this.py.v,-this.pz.v):et.translate(this.px.v,this.py.v,0):et.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(et){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||et){var tt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var nt,rt;if(tt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(nt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/tt,0),rt=this.p.getValueAtTime(this.p.keyframes[0].t/tt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(nt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/tt,0),rt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/tt,0)):(nt=this.p.pv,rt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/tt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){nt=[],rt=[];var it=this.px,st=this.py;it._caching.lastFrame+it.offsetTime<=it.keyframes[0].t?(nt[0]=it.getValueAtTime((it.keyframes[0].t+.01)/tt,0),nt[1]=st.getValueAtTime((st.keyframes[0].t+.01)/tt,0),rt[0]=it.getValueAtTime(it.keyframes[0].t/tt,0),rt[1]=st.getValueAtTime(st.keyframes[0].t/tt,0)):it._caching.lastFrame+it.offsetTime>=it.keyframes[it.keyframes.length-1].t?(nt[0]=it.getValueAtTime(it.keyframes[it.keyframes.length-1].t/tt,0),nt[1]=st.getValueAtTime(st.keyframes[st.keyframes.length-1].t/tt,0),rt[0]=it.getValueAtTime((it.keyframes[it.keyframes.length-1].t-.01)/tt,0),rt[1]=st.getValueAtTime((st.keyframes[st.keyframes.length-1].t-.01)/tt,0)):(nt=[it.pv,st.pv],rt[0]=it.getValueAtTime((it._caching.lastFrame+it.offsetTime-.01)/tt,it.offsetTime),rt[1]=st.getValueAtTime((st._caching.lastFrame+st.offsetTime-.01)/tt,st.offsetTime))}else nt=rt=_e;this.v.rotate(-Math.atan2(nt[1]-rt[1],nt[0]-rt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],_),_.prototype.addDynamicProperty=function(et){this._addDynamicProperty(et),this.elem.addDynamicProperty(et),this._isDirty=!0},_.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(et,tt,nt){return new _(et,tt,nt)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(_e,_){return 1e5*Math.abs(_e-_)<=Math.min(Math.abs(_e),Math.abs(_))}function floatZero(_e){return Math.abs(_e)<=1e-5}function lerp(_e,_,et){return _e*(1-et)+_*et}function lerpPoint(_e,_,et){return[lerp(_e[0],_[0],et),lerp(_e[1],_[1],et)]}function quadRoots(_e,_,et){if(_e===0)return[];var tt=_*_-4*_e*et;if(tt<0)return[];var nt=-_/(2*_e);if(tt===0)return[nt];var rt=Math.sqrt(tt)/(2*_e);return[nt-rt,nt+rt]}function polynomialCoefficients(_e,_,et,tt){return[3*_-_e-3*et+tt,3*_e-6*_+3*et,-3*_e+3*_,_e]}function singlePoint(_e){return new PolynomialBezier(_e,_e,_e,_e,!1)}function PolynomialBezier(_e,_,et,tt,nt){nt&&pointEqual(_e,_)&&(_=lerpPoint(_e,tt,1/3)),nt&&pointEqual(et,tt)&&(et=lerpPoint(_e,tt,2/3));var rt=polynomialCoefficients(_e[0],_[0],et[0],tt[0]),it=polynomialCoefficients(_e[1],_[1],et[1],tt[1]);this.a=[rt[0],it[0]],this.b=[rt[1],it[1]],this.c=[rt[2],it[2]],this.d=[rt[3],it[3]],this.points=[_e,_,et,tt]}function extrema(_e,_){var et=_e.points[0][_],tt=_e.points[_e.points.length-1][_];if(et>tt){var nt=tt;tt=et,et=nt}for(var rt=quadRoots(3*_e.a[_],2*_e.b[_],_e.c[_]),it=0;it<rt.length;it+=1)if(rt[it]>0&&rt[it]<1){var st=_e.point(rt[it])[_];st<et?et=st:st>tt&&(tt=st)}return{min:et,max:tt}}function intersectData(_e,_,et){var tt=_e.boundingBox();return{cx:tt.cx,cy:tt.cy,width:tt.width,height:tt.height,bez:_e,t:(_+et)/2,t1:_,t2:et}}function splitData(_e){var _=_e.bez.split(.5);return[intersectData(_[0],_e.t1,_e.t),intersectData(_[1],_e.t,_e.t2)]}function boxIntersect(_e,_){return 2*Math.abs(_e.cx-_.cx)<_e.width+_.width&&2*Math.abs(_e.cy-_.cy)<_e.height+_.height}function intersectsImpl(_e,_,et,tt,nt,rt){if(boxIntersect(_e,_))if(et>=rt||_e.width<=tt&&_e.height<=tt&&_.width<=tt&&_.height<=tt)nt.push([_e.t,_.t]);else{var it=splitData(_e),st=splitData(_);intersectsImpl(it[0],st[0],et+1,tt,nt,rt),intersectsImpl(it[0],st[1],et+1,tt,nt,rt),intersectsImpl(it[1],st[0],et+1,tt,nt,rt),intersectsImpl(it[1],st[1],et+1,tt,nt,rt)}}function crossProduct(_e,_){return[_e[1]*_[2]-_e[2]*_[1],_e[2]*_[0]-_e[0]*_[2],_e[0]*_[1]-_e[1]*_[0]]}function lineIntersection(_e,_,et,tt){var nt=[_e[0],_e[1],1],rt=[_[0],_[1],1],it=[et[0],et[1],1],st=[tt[0],tt[1],1],ot=crossProduct(crossProduct(nt,rt),crossProduct(it,st));return floatZero(ot[2])?null:[ot[0]/ot[2],ot[1]/ot[2]]}function polarOffset(_e,_,et){return[_e[0]+Math.cos(_)*et,_e[1]-Math.sin(_)*et]}function pointDistance(_e,_){return Math.hypot(_e[0]-_[0],_e[1]-_[1])}function pointEqual(_e,_){return floatEqual(_e[0],_[0])&&floatEqual(_e[1],_[1])}function ZigZagModifier(){}function setPoint(_e,_,et,tt,nt,rt,it){var st=et-Math.PI/2,ot=et+Math.PI/2,at=_[0]+Math.cos(et)*tt*nt,lt=_[1]-Math.sin(et)*tt*nt;_e.setTripleAt(at,lt,at+Math.cos(st)*rt,lt-Math.sin(st)*rt,at+Math.cos(ot)*it,lt-Math.sin(ot)*it,_e.length())}function getPerpendicularVector(_e,_){var et=[_[0]-_e[0],_[1]-_e[1]],tt=.5*-Math.PI;return[Math.cos(tt)*et[0]-Math.sin(tt)*et[1],Math.sin(tt)*et[0]+Math.cos(tt)*et[1]]}function getProjectingAngle(_e,_){var et=_===0?_e.length()-1:_-1,tt=(_+1)%_e.length(),nt=getPerpendicularVector(_e.v[et],_e.v[tt]);return Math.atan2(0,1)-Math.atan2(nt[1],nt[0])}function zigZagCorner(_e,_,et,tt,nt,rt,it){var st=getProjectingAngle(_,et),ot=_.v[et%_._length],at=_.v[et===0?_._length-1:et-1],lt=_.v[(et+1)%_._length],ct=rt===2?Math.sqrt(Math.pow(ot[0]-at[0],2)+Math.pow(ot[1]-at[1],2)):0,ut=rt===2?Math.sqrt(Math.pow(ot[0]-lt[0],2)+Math.pow(ot[1]-lt[1],2)):0;setPoint(_e,_.v[et%_._length],st,it,tt,ut/(2*(nt+1)),ct/(2*(nt+1)))}function zigZagSegment(_e,_,et,tt,nt,rt){for(var it=0;it<tt;it+=1){var st=(it+1)/(tt+1),ot=nt===2?Math.sqrt(Math.pow(_.points[3][0]-_.points[0][0],2)+Math.pow(_.points[3][1]-_.points[0][1],2)):0,at=_.normalAngle(st);setPoint(_e,_.point(st),at,rt,et,ot/(2*(tt+1)),ot/(2*(tt+1))),rt=-rt}return rt}function linearOffset(_e,_,et){var tt=Math.atan2(_[0]-_e[0],_[1]-_e[1]);return[polarOffset(_e,tt,et),polarOffset(_,tt,et)]}function offsetSegment(_e,_){var et,tt,nt,rt,it,st,ot;et=(ot=linearOffset(_e.points[0],_e.points[1],_))[0],tt=ot[1],nt=(ot=linearOffset(_e.points[1],_e.points[2],_))[0],rt=ot[1],it=(ot=linearOffset(_e.points[2],_e.points[3],_))[0],st=ot[1];var at=lineIntersection(et,tt,nt,rt);at===null&&(at=tt);var lt=lineIntersection(it,st,nt,rt);return lt===null&&(lt=it),new PolynomialBezier(et,at,lt,st)}function joinLines(_e,_,et,tt,nt){var rt=_.points[3],it=et.points[0];if(tt===3||pointEqual(rt,it))return rt;if(tt===2){var st=-_.tangentAngle(1),ot=-et.tangentAngle(0)+Math.PI,at=lineIntersection(rt,polarOffset(rt,st+Math.PI/2,100),it,polarOffset(it,st+Math.PI/2,100)),lt=at?pointDistance(at,rt):pointDistance(rt,it)/2,ct=polarOffset(rt,st,2*lt*roundCorner);return _e.setXYAt(ct[0],ct[1],"o",_e.length()-1),ct=polarOffset(it,ot,2*lt*roundCorner),_e.setTripleAt(it[0],it[1],it[0],it[1],ct[0],ct[1],_e.length()),it}var ut=lineIntersection(pointEqual(rt,_.points[2])?_.points[0]:_.points[2],rt,it,pointEqual(it,et.points[1])?et.points[3]:et.points[1]);return ut&&pointDistance(ut,rt)<nt?(_e.setTripleAt(ut[0],ut[1],ut[0],ut[1],ut[0],ut[1],_e.length()),ut):rt}function getIntersection(_e,_){var et=_e.intersections(_);return et.length&&floatEqual(et[0][0],1)&&et.shift(),et.length?et[0]:null}function pruneSegmentIntersection(_e,_){var et=_e.slice(),tt=_.slice(),nt=getIntersection(_e[_e.length-1],_[0]);return nt&&(et[_e.length-1]=_e[_e.length-1].split(nt[0])[0],tt[0]=_[0].split(nt[1])[1]),_e.length>1&&_.length>1&&(nt=getIntersection(_e[0],_[_.length-1]))?[[_e[0].split(nt[0])[0]],[_[_.length-1].split(nt[1])[1]]]:[et,tt]}function pruneIntersections(_e){for(var _,et=1;et<_e.length;et+=1)_=pruneSegmentIntersection(_e[et-1],_e[et]),_e[et-1]=_[0],_e[et]=_[1];return _e.length>1&&(_=pruneSegmentIntersection(_e[_e.length-1],_e[0]),_e[_e.length-1]=_[0],_e[0]=_[1]),_e}function offsetSegmentSplit(_e,_){var et,tt,nt,rt,it=_e.inflectionPoints();if(it.length===0)return[offsetSegment(_e,_)];if(it.length===1||floatEqual(it[1],1))return et=(nt=_e.split(it[0]))[0],tt=nt[1],[offsetSegment(et,_),offsetSegment(tt,_)];et=(nt=_e.split(it[0]))[0];var st=(it[1]-it[0])/(1-it[0]);return rt=(nt=nt[1].split(st))[0],tt=nt[1],[offsetSegment(et,_),offsetSegment(rt,_),offsetSegment(tt,_)]}function OffsetPathModifier(){}function getFontProperties(_e){for(var _=_e.fStyle?_e.fStyle.split(" "):[],et="normal",tt="normal",nt=_.length,rt=0;rt<nt;rt+=1)switch(_[rt].toLowerCase()){case"italic":tt="italic";break;case"bold":et="700";break;case"black":et="900";break;case"medium":et="500";break;case"regular":case"normal":et="400";break;case"light":case"thin":et="200"}return{style:tt,weight:_e.fWeight||et}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(_e,_){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(_e,_.c,0,null,this),this.o=PropertyFactory.getProp(_e,_.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(_e,_.tr,this),this.so=PropertyFactory.getProp(_e,_.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(_e,_.tr.eo,0,.01,this),this.data=_,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(_e,_,et,tt,nt,rt){var it=rt?-1:1,st=tt.s.v[0]+(1-tt.s.v[0])*(1-nt),ot=tt.s.v[1]+(1-tt.s.v[1])*(1-nt);_e.translate(tt.p.v[0]*it*nt,tt.p.v[1]*it*nt,tt.p.v[2]),_.translate(-tt.a.v[0],-tt.a.v[1],tt.a.v[2]),_.rotate(-tt.r.v*it*nt),_.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2]),et.translate(-tt.a.v[0],-tt.a.v[1],tt.a.v[2]),et.scale(rt?1/st:st,rt?1/ot:ot),et.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2])},RepeaterModifier.prototype.init=function(_e,_,et,tt){for(this.elem=_e,this.arr=_,this.pos=et,this.elemsData=tt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(_e),this.initModifierProperties(_e,_[et]);et>0;)et-=1,this._elements.unshift(_[et]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(_e){var _,et=_e.length;for(_=0;_<et;_+=1)_e[_]._processed=!1,_e[_].ty==="gr"&&this.resetElements(_e[_].it)},RepeaterModifier.prototype.cloneElements=function(_e){var _=JSON.parse(JSON.stringify(_e));return this.resetElements(_),_},RepeaterModifier.prototype.changeGroupRender=function(_e,_){var et,tt=_e.length;for(et=0;et<tt;et+=1)_e[et]._render=_,_e[et].ty==="gr"&&this.changeGroupRender(_e[et].it,_)},RepeaterModifier.prototype.processShapes=function(_e){var _,et,tt,nt,rt,it=!1;if(this._mdf||_e){var st,ot=Math.ceil(this.c.v);if(this._groups.length<ot){for(;this._groups.length<ot;){var at={it:this.cloneElements(this._elements),ty:"gr"};at.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,at),this._groups.splice(0,0,at),this._currentCopies+=1}this.elem.reloadShapes(),it=!0}for(rt=0,tt=0;tt<=this._groups.length-1;tt+=1){if(st=rt<ot,this._groups[tt]._render=st,this.changeGroupRender(this._groups[tt].it,st),!st){var lt=this.elemsData[tt].it,ct=lt[lt.length-1];ct.transform.op.v!==0?(ct.transform.op._mdf=!0,ct.transform.op.v=0):ct.transform.op._mdf=!1}rt+=1}this._currentCopies=ot;var ut=this.o.v,ft=ut%1,ht=ut>0?Math.floor(ut):Math.ceil(ut),vt=this.pMatrix.props,mt=this.rMatrix.props,pt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var yt,_t,St=0;if(ut>0){for(;St<ht;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),St+=1;ft&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ft,!1),St+=ft)}else if(ut<0){for(;St>ht;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),St-=1;ft&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ft,!0),St-=ft)}for(tt=this.data.m===1?0:this._currentCopies-1,nt=this.data.m===1?1:-1,rt=this._currentCopies;rt;){if(_t=(et=(_=this.elemsData[tt].it)[_.length-1].transform.mProps.v.props).length,_[_.length-1].transform.mProps._mdf=!0,_[_.length-1].transform.op._mdf=!0,_[_.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(tt/(this._currentCopies-1)),St!==0){for((tt!==0&&nt===1||tt!==this._currentCopies-1&&nt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],mt[8],mt[9],mt[10],mt[11],mt[12],mt[13],mt[14],mt[15]),this.matrix.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8],pt[9],pt[10],pt[11],pt[12],pt[13],pt[14],pt[15]),this.matrix.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15]),yt=0;yt<_t;yt+=1)et[yt]=this.matrix.props[yt];this.matrix.reset()}else for(this.matrix.reset(),yt=0;yt<_t;yt+=1)et[yt]=this.matrix.props[yt];St+=1,rt-=1,tt+=nt}}else for(rt=this._currentCopies,tt=0,nt=1;rt;)et=(_=this.elemsData[tt].it)[_.length-1].transform.mProps.v.props,_[_.length-1].transform.mProps._mdf=!1,_[_.length-1].transform.op._mdf=!1,rt-=1,tt+=nt;return it},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(_e,_){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(_e,_.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(_e,_){var et,tt=shapePool.newElement();tt.c=_e.c;var nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,vt,mt=_e._length,pt=0;for(et=0;et<mt;et+=1)nt=_e.v[et],it=_e.o[et],rt=_e.i[et],nt[0]===it[0]&&nt[1]===it[1]&&nt[0]===rt[0]&&nt[1]===rt[1]?et!==0&&et!==mt-1||_e.c?(st=et===0?_e.v[mt-1]:_e.v[et-1],at=(ot=Math.sqrt(Math.pow(nt[0]-st[0],2)+Math.pow(nt[1]-st[1],2)))?Math.min(ot/2,_)/ot:0,lt=ht=nt[0]+(st[0]-nt[0])*at,ct=vt=nt[1]-(nt[1]-st[1])*at,ut=lt-(lt-nt[0])*roundCorner,ft=ct-(ct-nt[1])*roundCorner,tt.setTripleAt(lt,ct,ut,ft,ht,vt,pt),pt+=1,st=et===mt-1?_e.v[0]:_e.v[et+1],at=(ot=Math.sqrt(Math.pow(nt[0]-st[0],2)+Math.pow(nt[1]-st[1],2)))?Math.min(ot/2,_)/ot:0,lt=ut=nt[0]+(st[0]-nt[0])*at,ct=ft=nt[1]+(st[1]-nt[1])*at,ht=lt-(lt-nt[0])*roundCorner,vt=ct-(ct-nt[1])*roundCorner,tt.setTripleAt(lt,ct,ut,ft,ht,vt,pt),pt+=1):(tt.setTripleAt(nt[0],nt[1],it[0],it[1],rt[0],rt[1],pt),pt+=1):(tt.setTripleAt(_e.v[et][0],_e.v[et][1],_e.o[et][0],_e.o[et][1],_e.i[et][0],_e.i[et][1],pt),pt+=1);return tt},RoundCornersModifier.prototype.processShapes=function(_e){var _,et,tt,nt,rt,it,st=this.shapes.length,ot=this.rd.v;if(ot!==0)for(et=0;et<st;et+=1){if(it=(rt=this.shapes[et]).localShapeCollection,rt.shape._mdf||this._mdf||_e)for(it.releaseShapes(),rt.shape._mdf=!0,_=rt.shape.paths.shapes,nt=rt.shape.paths._length,tt=0;tt<nt;tt+=1)it.addShape(this.processPath(_[tt],ot));rt.shape.paths=rt.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(_e){return[((this.a[0]*_e+this.b[0])*_e+this.c[0])*_e+this.d[0],((this.a[1]*_e+this.b[1])*_e+this.c[1])*_e+this.d[1]]},PolynomialBezier.prototype.derivative=function(_e){return[(3*_e*this.a[0]+2*this.b[0])*_e+this.c[0],(3*_e*this.a[1]+2*this.b[1])*_e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(_e){var _=this.derivative(_e);return Math.atan2(_[1],_[0])},PolynomialBezier.prototype.normalAngle=function(_e){var _=this.derivative(_e);return Math.atan2(_[0],_[1])},PolynomialBezier.prototype.inflectionPoints=function(){var _e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(_e))return[];var _=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/_e,et=_*_-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/_e;if(et<0)return[];var tt=Math.sqrt(et);return floatZero(tt)?tt>0&&tt<1?[_]:[]:[_-tt,_+tt].filter(function(nt){return nt>0&&nt<1})},PolynomialBezier.prototype.split=function(_e){if(_e<=0)return[singlePoint(this.points[0]),this];if(_e>=1)return[this,singlePoint(this.points[this.points.length-1])];var _=lerpPoint(this.points[0],this.points[1],_e),et=lerpPoint(this.points[1],this.points[2],_e),tt=lerpPoint(this.points[2],this.points[3],_e),nt=lerpPoint(_,et,_e),rt=lerpPoint(et,tt,_e),it=lerpPoint(nt,rt,_e);return[new PolynomialBezier(this.points[0],_,nt,it,!0),new PolynomialBezier(it,rt,tt,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var _e=this.bounds();return{left:_e.x.min,right:_e.x.max,top:_e.y.min,bottom:_e.y.max,width:_e.x.max-_e.x.min,height:_e.y.max-_e.y.min,cx:(_e.x.max+_e.x.min)/2,cy:(_e.y.max+_e.y.min)/2}},PolynomialBezier.prototype.intersections=function(_e,_,et){_===void 0&&(_=2),et===void 0&&(et=7);var tt=[];return intersectsImpl(intersectData(this,0,1),intersectData(_e,0,1),0,_,tt,et),tt},PolynomialBezier.shapeSegment=function(_e,_){var et=(_+1)%_e.length();return new PolynomialBezier(_e.v[_],_e.o[_],_e.i[et],_e.v[et],!0)},PolynomialBezier.shapeSegmentInverted=function(_e,_){var et=(_+1)%_e.length();return new PolynomialBezier(_e.v[et],_e.i[et],_e.o[_],_e.v[_],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(_e,_){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(_e,_.s,0,null,this),this.frequency=PropertyFactory.getProp(_e,_.r,0,null,this),this.pointsType=PropertyFactory.getProp(_e,_.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(_e,_,et,tt){var nt=_e._length,rt=shapePool.newElement();if(rt.c=_e.c,_e.c||(nt-=1),nt===0)return rt;var it=-1,st=PolynomialBezier.shapeSegment(_e,0);zigZagCorner(rt,_e,0,_,et,tt,it);for(var ot=0;ot<nt;ot+=1)it=zigZagSegment(rt,st,_,et,tt,-it),st=ot!==nt-1||_e.c?PolynomialBezier.shapeSegment(_e,(ot+1)%nt):null,zigZagCorner(rt,_e,ot+1,_,et,tt,it);return rt},ZigZagModifier.prototype.processShapes=function(_e){var _,et,tt,nt,rt,it,st=this.shapes.length,ot=this.amplitude.v,at=Math.max(0,Math.round(this.frequency.v)),lt=this.pointsType.v;if(ot!==0)for(et=0;et<st;et+=1){if(it=(rt=this.shapes[et]).localShapeCollection,rt.shape._mdf||this._mdf||_e)for(it.releaseShapes(),rt.shape._mdf=!0,_=rt.shape.paths.shapes,nt=rt.shape.paths._length,tt=0;tt<nt;tt+=1)it.addShape(this.processPath(_[tt],ot,at,lt));rt.shape.paths=rt.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(_e,_){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(_e,_.a,0,null,this),this.miterLimit=PropertyFactory.getProp(_e,_.ml,0,null,this),this.lineJoin=_.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(_e,_,et,tt){var nt=shapePool.newElement();nt.c=_e.c;var rt,it,st,ot=_e.length();_e.c||(ot-=1);var at=[];for(rt=0;rt<ot;rt+=1)st=PolynomialBezier.shapeSegment(_e,rt),at.push(offsetSegmentSplit(st,_));if(!_e.c)for(rt=ot-1;rt>=0;rt-=1)st=PolynomialBezier.shapeSegmentInverted(_e,rt),at.push(offsetSegmentSplit(st,_));at=pruneIntersections(at);var lt=null,ct=null;for(rt=0;rt<at.length;rt+=1){var ut=at[rt];for(ct&&(lt=joinLines(nt,ct,ut[0],et,tt)),ct=ut[ut.length-1],it=0;it<ut.length;it+=1)st=ut[it],lt&&pointEqual(st.points[0],lt)?nt.setXYAt(st.points[1][0],st.points[1][1],"o",nt.length()-1):nt.setTripleAt(st.points[0][0],st.points[0][1],st.points[1][0],st.points[1][1],st.points[0][0],st.points[0][1],nt.length()),nt.setTripleAt(st.points[3][0],st.points[3][1],st.points[3][0],st.points[3][1],st.points[2][0],st.points[2][1],nt.length()),lt=st.points[3]}return at.length&&joinLines(nt,ct,at[0][0],et,tt),nt},OffsetPathModifier.prototype.processShapes=function(_e){var _,et,tt,nt,rt,it,st=this.shapes.length,ot=this.amount.v,at=this.miterLimit.v,lt=this.lineJoin;if(ot!==0)for(et=0;et<st;et+=1){if(it=(rt=this.shapes[et]).localShapeCollection,rt.shape._mdf||this._mdf||_e)for(it.releaseShapes(),rt.shape._mdf=!0,_=rt.shape.paths.shapes,nt=rt.shape.paths._length,tt=0;tt<nt;tt+=1)it.addShape(this.processPath(_[tt],ot,lt,at));rt.shape.paths=rt.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var _e={w:0,size:0,shapes:[],data:{shapes:[]}},_=[];_=_.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var et=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],tt=[65039,8205];function nt(st,ot){var at=createTag("span");at.setAttribute("aria-hidden",!0),at.style.fontFamily=ot;var lt=createTag("span");lt.innerText="giItT1WQy@!-/#",at.style.position="absolute",at.style.left="-10000px",at.style.top="-10000px",at.style.fontSize="300px",at.style.fontVariant="normal",at.style.fontStyle="normal",at.style.fontWeight="normal",at.style.letterSpacing="0",at.appendChild(lt),document.body.appendChild(at);var ct=lt.offsetWidth;return lt.style.fontFamily=function(ut){var ft,ht=ut.split(","),vt=ht.length,mt=[];for(ft=0;ft<vt;ft+=1)ht[ft]!=="sans-serif"&&ht[ft]!=="monospace"&&mt.push(ht[ft]);return mt.join(",")}(st)+", "+ot,{node:lt,w:ct,parent:at}}function rt(st,ot){var at,lt=document.body&&ot?"svg":"canvas",ct=getFontProperties(st);if(lt==="svg"){var ut=createNS("text");ut.style.fontSize="100px",ut.setAttribute("font-family",st.fFamily),ut.setAttribute("font-style",ct.style),ut.setAttribute("font-weight",ct.weight),ut.textContent="1",st.fClass?(ut.style.fontFamily="inherit",ut.setAttribute("class",st.fClass)):ut.style.fontFamily=st.fFamily,ot.appendChild(ut),at=ut}else{var ft=new OffscreenCanvas(500,500).getContext("2d");ft.font=ct.style+" "+ct.weight+" 100px "+st.fFamily,at=ft}return{measureText:function(ht){return lt==="svg"?(at.textContent=ht,at.getComputedTextLength()):at.measureText(ht).width}}}var it=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return it.isModifier=function(st,ot){var at=st.toString(16)+ot.toString(16);return et.indexOf(at)!==-1},it.isZeroWidthJoiner=function(st,ot){return ot?st===tt[0]&&ot===tt[1]:st===tt[1]},it.isCombinedCharacter=function(st){return _.indexOf(st)!==-1},it.prototype={addChars:function(st){if(st){var ot;this.chars||(this.chars=[]);var at,lt,ct=st.length,ut=this.chars.length;for(ot=0;ot<ct;ot+=1){for(at=0,lt=!1;at<ut;)this.chars[at].style===st[ot].style&&this.chars[at].fFamily===st[ot].fFamily&&this.chars[at].ch===st[ot].ch&&(lt=!0),at+=1;lt||(this.chars.push(st[ot]),ut+=1)}}},addFonts:function(st,ot){if(st){if(this.chars)return this.isLoaded=!0,void(this.fonts=st.list);if(!document.body)return this.isLoaded=!0,st.list.forEach(function(_t){_t.helper=rt(_t),_t.cache={}}),void(this.fonts=st.list);var at,lt=st.list,ct=lt.length,ut=ct;for(at=0;at<ct;at+=1){var ft,ht,vt=!0;if(lt[at].loaded=!1,lt[at].monoCase=nt(lt[at].fFamily,"monospace"),lt[at].sansCase=nt(lt[at].fFamily,"sans-serif"),lt[at].fPath){if(lt[at].fOrigin==="p"||lt[at].origin===3){if((ft=document.querySelectorAll('style[f-forigin="p"][f-family="'+lt[at].fFamily+'"], style[f-origin="3"][f-family="'+lt[at].fFamily+'"]')).length>0&&(vt=!1),vt){var mt=createTag("style");mt.setAttribute("f-forigin",lt[at].fOrigin),mt.setAttribute("f-origin",lt[at].origin),mt.setAttribute("f-family",lt[at].fFamily),mt.type="text/css",mt.innerText="@font-face {font-family: "+lt[at].fFamily+"; font-style: normal; src: url('"+lt[at].fPath+"');}",ot.appendChild(mt)}}else if(lt[at].fOrigin==="g"||lt[at].origin===1){for(ft=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ht=0;ht<ft.length;ht+=1)ft[ht].href.indexOf(lt[at].fPath)!==-1&&(vt=!1);if(vt){var pt=createTag("link");pt.setAttribute("f-forigin",lt[at].fOrigin),pt.setAttribute("f-origin",lt[at].origin),pt.type="text/css",pt.rel="stylesheet",pt.href=lt[at].fPath,document.body.appendChild(pt)}}else if(lt[at].fOrigin==="t"||lt[at].origin===2){for(ft=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ht=0;ht<ft.length;ht+=1)lt[at].fPath===ft[ht].src&&(vt=!1);if(vt){var yt=createTag("link");yt.setAttribute("f-forigin",lt[at].fOrigin),yt.setAttribute("f-origin",lt[at].origin),yt.setAttribute("rel","stylesheet"),yt.setAttribute("href",lt[at].fPath),ot.appendChild(yt)}}}else lt[at].loaded=!0,ut-=1;lt[at].helper=rt(lt[at],ot),lt[at].cache={},this.fonts.push(lt[at])}ut===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(st,ot,at){for(var lt=0,ct=this.chars.length;lt<ct;){if(this.chars[lt].ch===st&&this.chars[lt].style===ot&&this.chars[lt].fFamily===at)return this.chars[lt];lt+=1}return(typeof st=="string"&&st.charCodeAt(0)!==13||!st)&&console&&console.warn&&!this._warned&&(this._warned=!0),_e},getFontByName:function(st){for(var ot=0,at=this.fonts.length;ot<at;){if(this.fonts[ot].fName===st)return this.fonts[ot];ot+=1}return this.fonts[0]},measureText:function(st,ot,at){var lt=this.getFontByName(ot),ct=st.charCodeAt(0);if(!lt.cache[ct+1]){var ut=lt.helper;if(st===" "){var ft=ut.measureText("|"+st+"|"),ht=ut.measureText("||");lt.cache[ct+1]=(ft-ht)/100}else lt.cache[ct+1]=ut.measureText(st)/100}return lt.cache[ct+1]*at},checkLoadedFonts:function(){var st,ot,at,lt=this.fonts.length,ct=lt;for(st=0;st<lt;st+=1)this.fonts[st].loaded?ct-=1:this.fonts[st].fOrigin==="n"||this.fonts[st].origin===0?this.fonts[st].loaded=!0:(ot=this.fonts[st].monoCase.node,at=this.fonts[st].monoCase.w,ot.offsetWidth!==at?(ct-=1,this.fonts[st].loaded=!0):(ot=this.fonts[st].sansCase.node,at=this.fonts[st].sansCase.w,ot.offsetWidth!==at&&(ct-=1,this.fonts[st].loaded=!0)),this.fonts[st].loaded&&(this.fonts[st].sansCase.parent.parentNode.removeChild(this.fonts[st].sansCase.parent),this.fonts[st].monoCase.parent.parentNode.removeChild(this.fonts[st].monoCase.parent)));ct!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},it}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)===-1&&this.renderableComponents.push(_e)},removeRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(_e),1)},prepareRenderableFrame:function(_e){this.checkLayerLimits(_e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(_e){this.data.ip-this.data.st<=_e&&this.data.op-this.data.st>_e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var _e,_=this.renderableComponents.length;for(_e=0;_e<_;_e+=1)this.renderableComponents[_e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(_e){return blendModeEnums[_e]||""}),blendModeEnums;function SliderEffect(_e,_,et){this.p=PropertyFactory.getProp(_,_e.v,0,0,et)}function AngleEffect(_e,_,et){this.p=PropertyFactory.getProp(_,_e.v,0,0,et)}function ColorEffect(_e,_,et){this.p=PropertyFactory.getProp(_,_e.v,1,0,et)}function PointEffect(_e,_,et){this.p=PropertyFactory.getProp(_,_e.v,1,0,et)}function LayerIndexEffect(_e,_,et){this.p=PropertyFactory.getProp(_,_e.v,0,0,et)}function MaskIndexEffect(_e,_,et){this.p=PropertyFactory.getProp(_,_e.v,0,0,et)}function CheckboxEffect(_e,_,et){this.p=PropertyFactory.getProp(_,_e.v,0,0,et)}function NoValueEffect(){this.p={}}function EffectsManager(_e,_){var et,tt=_e.ef||[];this.effectElements=[];var nt,rt=tt.length;for(et=0;et<rt;et+=1)nt=new GroupEffect(tt[et],_),this.effectElements.push(nt)}function GroupEffect(_e,_){this.init(_e,_)}function BaseElement(){}function FrameElement(){}function FootageElement(_e,_,et){this.initFrame(),this.initRenderable(),this.assetData=_.getAssetData(_e.refId),this.footageData=_.imageLoader.getAsset(this.assetData),this.initBaseData(_e,_,et)}function AudioElement(_e,_,et){this.initFrame(),this.initRenderable(),this.assetData=_.getAssetData(_e.refId),this.initBaseData(_e,_,et),this._isPlaying=!1,this._canPlay=!1;var tt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(tt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,_.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,_e.au&&_e.au.lv?_e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(_e,_,et){this.data=_e,this.element=_,this.globalData=et,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var tt,nt,rt=this.globalData.defs,it=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(it),this.solidPath="";var st,ot,at,lt,ct,ut,ft=this.masksProperties,ht=0,vt=[],mt=createElementID(),pt="clipPath",yt="clip-path";for(tt=0;tt<it;tt+=1)if((ft[tt].mode!=="a"&&ft[tt].mode!=="n"||ft[tt].inv||ft[tt].o.k!==100||ft[tt].o.x)&&(pt="mask",yt="mask"),ft[tt].mode!=="s"&&ft[tt].mode!=="i"||ht!==0?at=null:((at=createNS("rect")).setAttribute("fill","#ffffff"),at.setAttribute("width",this.element.comp.data.w||0),at.setAttribute("height",this.element.comp.data.h||0),vt.push(at)),nt=createNS("path"),ft[tt].mode==="n")this.viewData[tt]={op:PropertyFactory.getProp(this.element,ft[tt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[tt],3),elem:nt,lastPath:""},rt.appendChild(nt);else{var _t;if(ht+=1,nt.setAttribute("fill",ft[tt].mode==="s"?"#000000":"#ffffff"),nt.setAttribute("clip-rule","nonzero"),ft[tt].x.k!==0?(pt="mask",yt="mask",ut=PropertyFactory.getProp(this.element,ft[tt].x,0,null,this.element),_t=createElementID(),(lt=createNS("filter")).setAttribute("id",_t),(ct=createNS("feMorphology")).setAttribute("operator","erode"),ct.setAttribute("in","SourceGraphic"),ct.setAttribute("radius","0"),lt.appendChild(ct),rt.appendChild(lt),nt.setAttribute("stroke",ft[tt].mode==="s"?"#000000":"#ffffff")):(ct=null,ut=null),this.storedData[tt]={elem:nt,x:ut,expan:ct,lastPath:"",lastOperator:"",filterId:_t,lastRadius:0},ft[tt].mode==="i"){ot=vt.length;var St=createNS("g");for(st=0;st<ot;st+=1)St.appendChild(vt[st]);var Et=createNS("mask");Et.setAttribute("mask-type","alpha"),Et.setAttribute("id",mt+"_"+ht),Et.appendChild(nt),rt.appendChild(Et),St.setAttribute("mask","url("+getLocationHref()+"#"+mt+"_"+ht+")"),vt.length=0,vt.push(St)}else vt.push(nt);ft[tt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[tt]={elem:nt,lastPath:"",op:PropertyFactory.getProp(this.element,ft[tt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[tt],3),invRect:at},this.viewData[tt].prop.k||this.drawPath(ft[tt],this.viewData[tt].prop.v,this.viewData[tt])}for(this.maskElement=createNS(pt),it=vt.length,tt=0;tt<it;tt+=1)this.maskElement.appendChild(vt[tt]);ht>0&&(this.maskElement.setAttribute("id",mt),this.element.maskedElement.setAttribute(yt,"url("+getLocationHref()+"#"+mt+")"),rt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(_e,_){var et;this.data=_e,this.effectElements=[],this.initDynamicPropertyContainer(_);var tt,nt=this.data.ef.length,rt=this.data.ef;for(et=0;et<nt;et+=1){switch(tt=null,rt[et].ty){case 0:tt=new SliderEffect(rt[et],_,this);break;case 1:tt=new AngleEffect(rt[et],_,this);break;case 2:tt=new ColorEffect(rt[et],_,this);break;case 3:tt=new PointEffect(rt[et],_,this);break;case 4:case 7:tt=new CheckboxEffect(rt[et],_,this);break;case 10:tt=new LayerIndexEffect(rt[et],_,this);break;case 11:tt=new MaskIndexEffect(rt[et],_,this);break;case 5:tt=new EffectsManager(rt[et],_);break;default:tt=new NoValueEffect(rt[et])}tt&&this.effectElements.push(tt)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var _e=0,_=this.data.masksProperties.length;_e<_;){if(this.data.masksProperties[_e].mode!=="n"&&this.data.masksProperties[_e].cl!==!1)return!0;_e+=1}return!1},initExpressions:function(){var _e=getExpressionInterfaces();if(_e){var _=_e("layer"),et=_e("effects"),tt=_e("shape"),nt=_e("text"),rt=_e("comp");this.layerInterface=_(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var it=et.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(it),this.data.ty===0||this.data.xt?this.compInterface=rt(this):this.data.ty===4?(this.layerInterface.shapeInterface=tt(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=nt(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var _e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=_e},initBaseData:function(_e,_,et){this.globalData=_,this.comp=et,this.data=_e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(_e,_){var et,tt=this.dynamicProperties.length;for(et=0;et<tt;et+=1)(_||this._isParent&&this.dynamicProperties[et].propType==="transform")&&(this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&this.dynamicProperties.push(_e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var _e=getExpressionInterfaces();if(_e){var _=_e("footage");this.layerInterface=_(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(_e){if(this.prepareRenderableFrame(_e,!0),this.prepareProperties(_e,!0),this.tm._placeholder)this._currentTime=_e/this.data.sr;else{var _=this.tm.v;this._currentTime=_}this._volume=this.lv.v[0];var et=this._volume*this._volumeMultiplier;this._previousVolume!==et&&(this._previousVolume=et,this.audio.volume(et))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(_e){this.audio.rate(_e)},AudioElement.prototype.volume=function(_e){this._volumeMultiplier=_e,this._previousVolume=_e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(_e){var _,et,tt=this.layers.length;for(this.completeLayers=!0,_=tt-1;_>=0;_-=1)this.elements[_]||(et=this.layers[_]).ip-et.st<=_e-this.layers[_].st&&et.op-et.st>_e-this.layers[_].st&&this.buildItem(_),this.completeLayers=!!this.elements[_]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(_e){switch(_e.ty){case 2:return this.createImage(_e);case 0:return this.createComp(_e);case 1:return this.createSolid(_e);case 3:return this.createNull(_e);case 4:return this.createShape(_e);case 5:return this.createText(_e);case 6:return this.createAudio(_e);case 13:return this.createCamera(_e);case 15:return this.createFootage(_e);default:return this.createNull(_e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(_e){return new AudioElement(_e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(_e){return new FootageElement(_e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var _e,_=this.layers.length;for(_e=0;_e<_;_e+=1)this.buildItem(_e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(_e){var _;this.completeLayers=!1;var et,tt=_e.length,nt=this.layers.length;for(_=0;_<tt;_+=1)for(et=0;et<nt;){if(this.layers[et].id===_e[_].id){this.layers[et]=_e[_];break}et+=1}},BaseRenderer.prototype.setProjectInterface=function(_e){this.globalData.projectInterface=_e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(_e,_,et){for(var tt=this.elements,nt=this.layers,rt=0,it=nt.length;rt<it;)nt[rt].ind==_&&(tt[rt]&&tt[rt]!==!0?(et.push(tt[rt]),tt[rt].setAsParent(),nt[rt].parent!==void 0?this.buildElementParenting(_e,nt[rt].parent,et):_e.setHierarchy(et)):(this.buildItem(rt),this.addPendingElement(_e))),rt+=1},BaseRenderer.prototype.addPendingElement=function(_e){this.pendingElements.push(_e)},BaseRenderer.prototype.searchExtraCompositions=function(_e){var _,et=_e.length;for(_=0;_<et;_+=1)if(_e[_].xt){var tt=this.createComp(_e[_]);tt.initExpressions(),this.globalData.projectInterface.registerComposition(tt)}},BaseRenderer.prototype.getElementById=function(_e){var _,et=this.elements.length;for(_=0;_<et;_+=1)if(this.elements[_].data.ind===_e)return this.elements[_];return null},BaseRenderer.prototype.getElementByPath=function(_e){var _,et=_e.shift();if(typeof et=="number")_=this.elements[et];else{var tt,nt=this.elements.length;for(tt=0;tt<nt;tt+=1)if(this.elements[tt].data.nm===et){_=this.elements[tt];break}}return _e.length===0?_:_.getElementByPath(_e)},BaseRenderer.prototype.setupGlobalData=function(_e,_){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(_e.chars),this.globalData.fontManager.addFonts(_e.fonts,_),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=_e.fr,this.globalData.nm=_e.nm,this.globalData.compSize={w:_e.w,h:_e.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var _e,_=this.finalTransform.mat,et=0,tt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;et<tt;){if(this.hierarchy[et].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}et+=1}if(this.finalTransform._matMdf)for(_e=this.finalTransform.mProp.v.props,_.cloneFromProps(_e),et=0;et<tt;et+=1)_e=this.hierarchy[et].finalTransform.mProp.v.props,_.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7],_e[8],_e[9],_e[10],_e[11],_e[12],_e[13],_e[14],_e[15])}},globalToLocal:function(_e){var _=[];_.push(this.finalTransform);for(var et,tt=!0,nt=this.comp;tt;)nt.finalTransform?(nt.data.hasMask&&_.splice(0,0,nt.finalTransform),nt=nt.comp):tt=!1;var rt,it=_.length;for(et=0;et<it;et+=1)rt=_[et].mat.applyToPointArray(0,0,0),_e=[_e[0]-rt[0],_e[1]-rt[1],0];return _e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(_e){return this.viewData[_e].prop},MaskElement.prototype.renderFrame=function(_e){var _,et=this.element.finalTransform.mat,tt=this.masksProperties.length;for(_=0;_<tt;_+=1)if((this.viewData[_].prop._mdf||_e)&&this.drawPath(this.masksProperties[_],this.viewData[_].prop.v,this.viewData[_]),(this.viewData[_].op._mdf||_e)&&this.viewData[_].elem.setAttribute("fill-opacity",this.viewData[_].op.v),this.masksProperties[_].mode!=="n"&&(this.viewData[_].invRect&&(this.element.finalTransform.mProp._mdf||_e)&&this.viewData[_].invRect.setAttribute("transform",et.getInverseMatrix().to2dCSS()),this.storedData[_].x&&(this.storedData[_].x._mdf||_e))){var nt=this.storedData[_].expan;this.storedData[_].x.v<0?(this.storedData[_].lastOperator!=="erode"&&(this.storedData[_].lastOperator="erode",this.storedData[_].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[_].filterId+")")),nt.setAttribute("radius",-this.storedData[_].x.v)):(this.storedData[_].lastOperator!=="dilate"&&(this.storedData[_].lastOperator="dilate",this.storedData[_].elem.setAttribute("filter",null)),this.storedData[_].elem.setAttribute("stroke-width",2*this.storedData[_].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var _e="M0,0 ";return _e+=" h"+this.globalData.compSize.w,_e+=" v"+this.globalData.compSize.h,_e+=" h-"+this.globalData.compSize.w,_e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(_e,_,et){var tt,nt,rt=" M"+_.v[0][0]+","+_.v[0][1];for(nt=_._length,tt=1;tt<nt;tt+=1)rt+=" C"+_.o[tt-1][0]+","+_.o[tt-1][1]+" "+_.i[tt][0]+","+_.i[tt][1]+" "+_.v[tt][0]+","+_.v[tt][1];if(_.c&&nt>1&&(rt+=" C"+_.o[tt-1][0]+","+_.o[tt-1][1]+" "+_.i[0][0]+","+_.i[0][1]+" "+_.v[0][0]+","+_.v[0][1]),et.lastPath!==rt){var it="";et.elem&&(_.c&&(it=_e.inv?this.solidPath+rt:rt),et.elem.setAttribute("d",it)),et.lastPath=rt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var _e={};return _e.createFilter=function(_,et){var tt=createNS("filter");return tt.setAttribute("id",_),et!==!0&&(tt.setAttribute("filterUnits","objectBoundingBox"),tt.setAttribute("x","0%"),tt.setAttribute("y","0%"),tt.setAttribute("width","100%"),tt.setAttribute("height","100%")),tt},_e.createAlphaToLuminanceFilter=function(){var _=createNS("feColorMatrix");return _.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_},_e}(),featureSupport=function(){var _e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(_e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(_e.svgLumaHidden=!1),_e}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(_e){var _,et,tt="SourceGraphic",nt=_e.data.ef?_e.data.ef.length:0,rt=createElementID(),it=filtersFactory.createFilter(rt,!0),st=0;for(this.filters=[],_=0;_<nt;_+=1){et=null;var ot=_e.data.ef[_].ty;registeredEffects[ot]&&(et=new registeredEffects[ot].effect(it,_e.effectsManager.effectElements[_],_e,idPrefix+st,tt),tt=idPrefix+st,registeredEffects[ot].countsAsEffect&&(st+=1)),et&&this.filters.push(et)}st&&(_e.globalData.defs.appendChild(it),_e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+rt+")")),this.filters.length&&_e.addRenderableComponent(this)}function registerEffect(_e,_,et){registeredEffects[_e]={effect:_,countsAsEffect:et}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(_e,_,et){this.assetData=_.getAssetData(_e.refId),this.initElement(_e,_,et),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(_e,_){this.elem=_e,this.pos=_}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(_e){var _,et=this.filters.length;for(_=0;_<et;_+=1)this.filters[_].renderFrame(_e)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var _e=null;if(this.data.td){this.matteMasks={};var _=createNS("g");_.setAttribute("id",this.layerId),_.appendChild(this.layerElement),_e=_,this.globalData.defs.appendChild(_)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var et=createNS("clipPath"),tt=createNS("path");tt.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var nt=createElementID();if(et.setAttribute("id",nt),et.appendChild(tt),this.globalData.defs.appendChild(et),this.checkMasks()){var rt=createNS("g");rt.setAttribute("clip-path","url("+getLocationHref()+"#"+nt+")"),rt.appendChild(this.layerElement),this.transformedElement=rt,_e?_e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+nt+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(_e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[_e]){var _,et,tt,nt,rt=this.layerId+"_"+_e;if(_e===1||_e===3){var it=createNS("mask");it.setAttribute("id",rt),it.setAttribute("mask-type",_e===3?"luminance":"alpha"),(tt=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),it.appendChild(tt),this.globalData.defs.appendChild(it),featureSupport.maskType||_e!==1||(it.setAttribute("mask-type","luminance"),_=createElementID(),et=filtersFactory.createFilter(_),this.globalData.defs.appendChild(et),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(nt=createNS("g")).appendChild(tt),it.appendChild(nt),nt.setAttribute("filter","url("+getLocationHref()+"#"+_+")"))}else if(_e===2){var st=createNS("mask");st.setAttribute("id",rt),st.setAttribute("mask-type","alpha");var ot=createNS("g");st.appendChild(ot),_=createElementID(),et=filtersFactory.createFilter(_);var at=createNS("feComponentTransfer");at.setAttribute("in","SourceGraphic"),et.appendChild(at);var lt=createNS("feFuncA");lt.setAttribute("type","table"),lt.setAttribute("tableValues","1.0 0.0"),at.appendChild(lt),this.globalData.defs.appendChild(et);var ct=createNS("rect");ct.setAttribute("width",this.comp.data.w),ct.setAttribute("height",this.comp.data.h),ct.setAttribute("x","0"),ct.setAttribute("y","0"),ct.setAttribute("fill","#ffffff"),ct.setAttribute("opacity","0"),ot.setAttribute("filter","url("+getLocationHref()+"#"+_+")"),ot.appendChild(ct),(tt=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ot.appendChild(tt),featureSupport.maskType||(st.setAttribute("mask-type","luminance"),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),nt=createNS("g"),ot.appendChild(ct),nt.appendChild(this.layerElement),ot.appendChild(nt)),this.globalData.defs.appendChild(st)}this.matteMasks[_e]=rt}return this.matteMasks[_e]},setMatte:function(_e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+_e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(_e){this.hierarchy=_e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(_e,_,et){this.initFrame(),this.initBaseData(_e,_,et),this.initTransform(_e,_,et),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(_e){this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(_e){var _,et=this.shapeModifiers.length;for(_=0;_<et;_+=1)this.shapeModifiers[_].addShape(_e)},isShapeInAnimatedModifiers:function(_e){for(var _=this.shapeModifiers.length;0<_;)if(this.shapeModifiers[0].isAnimatedWithShape(_e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var _e,_=this.shapes.length;for(_e=0;_e<_;_e+=1)this.shapes[_e].sh.reset();for(_e=(_=this.shapeModifiers.length)-1;_e>=0&&!this.shapeModifiers[_e].processShapes(this._isFirstFrame);_e-=1);}},searchProcessedElement:function(_e){for(var _=this.processedElements,et=0,tt=_.length;et<tt;){if(_[et].elem===_e)return _[et].pos;et+=1}return 0},addProcessedElement:function(_e,_){for(var et=this.processedElements,tt=et.length;tt;)if(et[tt-=1].elem===_e)return void(et[tt].pos=_);et.push(new ProcessedElement(_e,_))},prepareFrame:function(_e){this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(_e,_,et){this.caches=[],this.styles=[],this.transformers=_e,this.lStr="",this.sh=et,this.lvl=_,this._isAnimated=!!et.k;for(var tt=0,nt=_e.length;tt<nt;){if(_e[tt].mProps.dynamicProperties.length){this._isAnimated=!0;break}tt+=1}}function SVGStyleData(_e,_){this.data=_e,this.type=_e.ty,this.d="",this.lvl=_,this._mdf=!1,this.closed=_e.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(_e,_,et,tt){var nt;this.elem=_e,this.frameId=-1,this.dataProps=createSizedArray(_.length),this.renderer=et,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",_.length?_.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(tt);var rt,it=_.length||0;for(nt=0;nt<it;nt+=1)rt=PropertyFactory.getProp(_e,_[nt].v,0,0,this),this.k=rt.k||this.k,this.dataProps[nt]={n:_[nt].n,p:rt};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(_e,_,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,_.o,0,.01,this),this.w=PropertyFactory.getProp(_e,_.w,0,null,this),this.d=new DashProperty(_e,_.d||{},"svg",this),this.c=PropertyFactory.getProp(_e,_.c,1,255,this),this.style=et,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(_e,_,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(_e,_.o,0,.01,this),this.c=PropertyFactory.getProp(_e,_.c,1,255,this),this.style=et}function SVGNoStyleData(_e,_,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.style=et}function GradientProperty(_e,_,et){this.data=_,this.c=createTypedArray("uint8c",4*_.p);var tt=_.k.k[0].s?_.k.k[0].s.length-4*_.p:_.k.k.length-4*_.p;this.o=createTypedArray("float32",tt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=tt,this.initDynamicPropertyContainer(et),this.prop=PropertyFactory.getProp(_e,_.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(_e,_,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.initGradientData(_e,_,et)}function SVGGradientStrokeStyleData(_e,_,et){this.initDynamicPropertyContainer(_e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(_e,_.w,0,null,this),this.d=new DashProperty(_e,_.d||{},"svg",this),this.initGradientData(_e,_,et),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(_e,_,et){this.transform={mProps:_e,op:_,container:et},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(_e){if((this.elem.globalData.frameId!==this.frameId||_e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||_e,this._mdf)){var _=0,et=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),_=0;_<et;_+=1)this.dataProps[_].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[_].p.v:this.dashArray[_]=this.dataProps[_].p.v:this.dashoffset[0]=this.dataProps[_].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(_e,_){for(var et=0,tt=this.o.length/2;et<tt;){if(Math.abs(_e[4*et]-_e[4*_+2*et])>.01)return!1;et+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var _e=0,_=this.data.k.k.length;_e<_;){if(!this.comparePoints(this.data.k.k[_e].s,this.data.p))return!1;_e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(_e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||_e){var _,et,tt,nt=4*this.data.p;for(_=0;_<nt;_+=1)et=_%4==0?100:255,tt=Math.round(this.prop.v[_]*et),this.c[_]!==tt&&(this.c[_]=tt,this._cmdf=!_e);if(this.o.length)for(nt=this.prop.v.length,_=4*this.data.p;_<nt;_+=1)et=_%2==0?100:1,tt=_%2==0?Math.round(100*this.prop.v[_]):this.prop.v[_],this.o[_-4*this.data.p]!==tt&&(this.o[_-4*this.data.p]=tt,this._omdf=!_e);this._mdf=!_e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(_e,_,et){this.o=PropertyFactory.getProp(_e,_.o,0,.01,this),this.s=PropertyFactory.getProp(_e,_.s,1,null,this),this.e=PropertyFactory.getProp(_e,_.e,1,null,this),this.h=PropertyFactory.getProp(_e,_.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(_e,_.a||{k:0},0,degToRads,this),this.g=new GradientProperty(_e,_.g,this),this.style=et,this.stops=[],this.setGradientData(et.pElem,_),this.setGradientOpacity(_,et),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(_e,_){var et=createElementID(),tt=createNS(_.t===1?"linearGradient":"radialGradient");tt.setAttribute("id",et),tt.setAttribute("spreadMethod","pad"),tt.setAttribute("gradientUnits","userSpaceOnUse");var nt,rt,it,st=[];for(it=4*_.g.p,rt=0;rt<it;rt+=4)nt=createNS("stop"),tt.appendChild(nt),st.push(nt);_e.setAttribute(_.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+et+")"),this.gf=tt,this.cst=st},SVGGradientFillStyleData.prototype.setGradientOpacity=function(_e,_){if(this.g._hasOpacity&&!this.g._collapsable){var et,tt,nt,rt=createNS("mask"),it=createNS("path");rt.appendChild(it);var st=createElementID(),ot=createElementID();rt.setAttribute("id",ot);var at=createNS(_e.t===1?"linearGradient":"radialGradient");at.setAttribute("id",st),at.setAttribute("spreadMethod","pad"),at.setAttribute("gradientUnits","userSpaceOnUse"),nt=_e.g.k.k[0].s?_e.g.k.k[0].s.length:_e.g.k.k.length;var lt=this.stops;for(tt=4*_e.g.p;tt<nt;tt+=2)(et=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),at.appendChild(et),lt.push(et);it.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+st+")"),_e.ty==="gs"&&(it.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),it.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),_e.lj===1&&it.setAttribute("stroke-miterlimit",_e.ml)),this.of=at,this.ms=rt,this.ost=lt,this.maskId=ot,_.msElem=it}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(_e,_,et,tt){if(_===0)return"";var nt,rt=_e.o,it=_e.i,st=_e.v,ot=" M"+tt.applyToPointStringified(st[0][0],st[0][1]);for(nt=1;nt<_;nt+=1)ot+=" C"+tt.applyToPointStringified(rt[nt-1][0],rt[nt-1][1])+" "+tt.applyToPointStringified(it[nt][0],it[nt][1])+" "+tt.applyToPointStringified(st[nt][0],st[nt][1]);return et&&_&&(ot+=" C"+tt.applyToPointStringified(rt[nt-1][0],rt[nt-1][1])+" "+tt.applyToPointStringified(it[0][0],it[0][1])+" "+tt.applyToPointStringified(st[0][0],st[0][1]),ot+="z"),ot},SVGElementsRenderer=function(){var _e=new Matrix,_=new Matrix;function et(at,lt,ct){(ct||lt.transform.op._mdf)&&lt.transform.container.setAttribute("opacity",lt.transform.op.v),(ct||lt.transform.mProps._mdf)&&lt.transform.container.setAttribute("transform",lt.transform.mProps.v.to2dCSS())}function tt(){}function nt(at,lt,ct){var ut,ft,ht,vt,mt,pt,yt,_t,St,Et,wt,Mt=lt.styles.length,At=lt.lvl;for(pt=0;pt<Mt;pt+=1){if(vt=lt.sh._mdf||ct,lt.styles[pt].lvl<At){for(_t=_.reset(),Et=At-lt.styles[pt].lvl,wt=lt.transformers.length-1;!vt&&Et>0;)vt=lt.transformers[wt].mProps._mdf||vt,Et-=1,wt-=1;if(vt)for(Et=At-lt.styles[pt].lvl,wt=lt.transformers.length-1;Et>0;)St=lt.transformers[wt].mProps.v.props,_t.transform(St[0],St[1],St[2],St[3],St[4],St[5],St[6],St[7],St[8],St[9],St[10],St[11],St[12],St[13],St[14],St[15]),Et-=1,wt-=1}else _t=_e;if(ft=(yt=lt.sh.paths)._length,vt){for(ht="",ut=0;ut<ft;ut+=1)(mt=yt.shapes[ut])&&mt._length&&(ht+=buildShapeString(mt,mt._length,mt.c,_t));lt.caches[pt]=ht}else ht=lt.caches[pt];lt.styles[pt].d+=at.hd===!0?"":ht,lt.styles[pt]._mdf=vt||lt.styles[pt]._mdf}}function rt(at,lt,ct){var ut=lt.style;(lt.c._mdf||ct)&&ut.pElem.setAttribute("fill","rgb("+bmFloor(lt.c.v[0])+","+bmFloor(lt.c.v[1])+","+bmFloor(lt.c.v[2])+")"),(lt.o._mdf||ct)&&ut.pElem.setAttribute("fill-opacity",lt.o.v)}function it(at,lt,ct){st(at,lt,ct),ot(at,lt,ct)}function st(at,lt,ct){var ut,ft,ht,vt,mt,pt=lt.gf,yt=lt.g._hasOpacity,_t=lt.s.v,St=lt.e.v;if(lt.o._mdf||ct){var Et=at.ty==="gf"?"fill-opacity":"stroke-opacity";lt.style.pElem.setAttribute(Et,lt.o.v)}if(lt.s._mdf||ct){var wt=at.t===1?"x1":"cx",Mt=wt==="x1"?"y1":"cy";pt.setAttribute(wt,_t[0]),pt.setAttribute(Mt,_t[1]),yt&&!lt.g._collapsable&&(lt.of.setAttribute(wt,_t[0]),lt.of.setAttribute(Mt,_t[1]))}if(lt.g._cmdf||ct){ut=lt.cst;var At=lt.g.c;for(ht=ut.length,ft=0;ft<ht;ft+=1)(vt=ut[ft]).setAttribute("offset",At[4*ft]+"%"),vt.setAttribute("stop-color","rgb("+At[4*ft+1]+","+At[4*ft+2]+","+At[4*ft+3]+")")}if(yt&&(lt.g._omdf||ct)){var Tt=lt.g.o;for(ht=(ut=lt.g._collapsable?lt.cst:lt.ost).length,ft=0;ft<ht;ft+=1)vt=ut[ft],lt.g._collapsable||vt.setAttribute("offset",Tt[2*ft]+"%"),vt.setAttribute("stop-opacity",Tt[2*ft+1])}if(at.t===1)(lt.e._mdf||ct)&&(pt.setAttribute("x2",St[0]),pt.setAttribute("y2",St[1]),yt&&!lt.g._collapsable&&(lt.of.setAttribute("x2",St[0]),lt.of.setAttribute("y2",St[1])));else if((lt.s._mdf||lt.e._mdf||ct)&&(mt=Math.sqrt(Math.pow(_t[0]-St[0],2)+Math.pow(_t[1]-St[1],2)),pt.setAttribute("r",mt),yt&&!lt.g._collapsable&&lt.of.setAttribute("r",mt)),lt.e._mdf||lt.h._mdf||lt.a._mdf||ct){mt||(mt=Math.sqrt(Math.pow(_t[0]-St[0],2)+Math.pow(_t[1]-St[1],2)));var Ct=Math.atan2(St[1]-_t[1],St[0]-_t[0]),Dt=lt.h.v;Dt>=1?Dt=.99:Dt<=-1&&(Dt=-.99);var $t=mt*Dt,kt=Math.cos(Ct+lt.a.v)*$t+_t[0],It=Math.sin(Ct+lt.a.v)*$t+_t[1];pt.setAttribute("fx",kt),pt.setAttribute("fy",It),yt&&!lt.g._collapsable&&(lt.of.setAttribute("fx",kt),lt.of.setAttribute("fy",It))}}function ot(at,lt,ct){var ut=lt.style,ft=lt.d;ft&&(ft._mdf||ct)&&ft.dashStr&&(ut.pElem.setAttribute("stroke-dasharray",ft.dashStr),ut.pElem.setAttribute("stroke-dashoffset",ft.dashoffset[0])),lt.c&&(lt.c._mdf||ct)&&ut.pElem.setAttribute("stroke","rgb("+bmFloor(lt.c.v[0])+","+bmFloor(lt.c.v[1])+","+bmFloor(lt.c.v[2])+")"),(lt.o._mdf||ct)&&ut.pElem.setAttribute("stroke-opacity",lt.o.v),(lt.w._mdf||ct)&&(ut.pElem.setAttribute("stroke-width",lt.w.v),ut.msElem&&ut.msElem.setAttribute("stroke-width",lt.w.v))}return{createRenderFunction:function(at){switch(at.ty){case"fl":return rt;case"gf":return st;case"gs":return it;case"st":return ot;case"sh":case"el":case"rc":case"sr":return nt;case"tr":return et;case"no":return tt;default:return null}}}}();function SVGShapeElement(_e,_,et){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(_e,_,et),this.prevViewData=[]}function LetterProps(_e,_,et,tt,nt,rt){this.o=_e,this.sw=_,this.sc=et,this.fc=tt,this.m=nt,this.p=rt,this._mdf={o:!0,sw:!!_,sc:!!et,fc:!!tt,m:!0,p:!0}}function TextProperty(_e,_){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=_,this.elem=_e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var _e,_,et,tt,nt=this.shapes.length,rt=this.stylesList.length,it=[],st=!1;for(et=0;et<rt;et+=1){for(tt=this.stylesList[et],st=!1,it.length=0,_e=0;_e<nt;_e+=1)(_=this.shapes[_e]).styles.indexOf(tt)!==-1&&(it.push(_),st=_._isAnimated||st);it.length>1&&st&&this.setShapesAsAnimated(it)}},SVGShapeElement.prototype.setShapesAsAnimated=function(_e){var _,et=_e.length;for(_=0;_<et;_+=1)_e[_].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(_e,_){var et,tt=new SVGStyleData(_e,_),nt=tt.pElem;return _e.ty==="st"?et=new SVGStrokeStyleData(this,_e,tt):_e.ty==="fl"?et=new SVGFillStyleData(this,_e,tt):_e.ty==="gf"||_e.ty==="gs"?(et=new(_e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,_e,tt),this.globalData.defs.appendChild(et.gf),et.maskId&&(this.globalData.defs.appendChild(et.ms),this.globalData.defs.appendChild(et.of),nt.setAttribute("mask","url("+getLocationHref()+"#"+et.maskId+")"))):_e.ty==="no"&&(et=new SVGNoStyleData(this,_e,tt)),_e.ty!=="st"&&_e.ty!=="gs"||(nt.setAttribute("stroke-linecap",lineCapEnum[_e.lc||2]),nt.setAttribute("stroke-linejoin",lineJoinEnum[_e.lj||2]),nt.setAttribute("fill-opacity","0"),_e.lj===1&&nt.setAttribute("stroke-miterlimit",_e.ml)),_e.r===2&&nt.setAttribute("fill-rule","evenodd"),_e.ln&&nt.setAttribute("id",_e.ln),_e.cl&&nt.setAttribute("class",_e.cl),_e.bm&&(nt.style["mix-blend-mode"]=getBlendMode(_e.bm)),this.stylesList.push(tt),this.addToAnimatedContents(_e,et),et},SVGShapeElement.prototype.createGroupElement=function(_e){var _=new ShapeGroupData;return _e.ln&&_.gr.setAttribute("id",_e.ln),_e.cl&&_.gr.setAttribute("class",_e.cl),_e.bm&&(_.gr.style["mix-blend-mode"]=getBlendMode(_e.bm)),_},SVGShapeElement.prototype.createTransformElement=function(_e,_){var et=TransformPropertyFactory.getTransformProperty(this,_e,this),tt=new SVGTransformData(et,et.o,_);return this.addToAnimatedContents(_e,tt),tt},SVGShapeElement.prototype.createShapeElement=function(_e,_,et){var tt=4;_e.ty==="rc"?tt=5:_e.ty==="el"?tt=6:_e.ty==="sr"&&(tt=7);var nt=new SVGShapeData(_,et,ShapePropertyFactory.getShapeProp(this,_e,tt,this));return this.shapes.push(nt),this.addShapeToModifiers(nt),this.addToAnimatedContents(_e,nt),nt},SVGShapeElement.prototype.addToAnimatedContents=function(_e,_){for(var et=0,tt=this.animatedContents.length;et<tt;){if(this.animatedContents[et].element===_)return;et+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(_e),element:_,data:_e})},SVGShapeElement.prototype.setElementStyles=function(_e){var _,et=_e.styles,tt=this.stylesList.length;for(_=0;_<tt;_+=1)this.stylesList[_].closed||et.push(this.stylesList[_])},SVGShapeElement.prototype.reloadShapes=function(){var _e;this._isFirstFrame=!0;var _=this.itemsData.length;for(_e=0;_e<_;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_=this.dynamicProperties.length,_e=0;_e<_;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(_e,_,et,tt,nt,rt,it){var st,ot,at,lt,ct,ut,ft=[].concat(rt),ht=_e.length-1,vt=[],mt=[];for(st=ht;st>=0;st-=1){if((ut=this.searchProcessedElement(_e[st]))?_[st]=et[ut-1]:_e[st]._render=it,_e[st].ty==="fl"||_e[st].ty==="st"||_e[st].ty==="gf"||_e[st].ty==="gs"||_e[st].ty==="no")ut?_[st].style.closed=!1:_[st]=this.createStyleElement(_e[st],nt),_e[st]._render&&_[st].style.pElem.parentNode!==tt&&tt.appendChild(_[st].style.pElem),vt.push(_[st].style);else if(_e[st].ty==="gr"){if(ut)for(at=_[st].it.length,ot=0;ot<at;ot+=1)_[st].prevViewData[ot]=_[st].it[ot];else _[st]=this.createGroupElement(_e[st]);this.searchShapes(_e[st].it,_[st].it,_[st].prevViewData,_[st].gr,nt+1,ft,it),_e[st]._render&&_[st].gr.parentNode!==tt&&tt.appendChild(_[st].gr)}else _e[st].ty==="tr"?(ut||(_[st]=this.createTransformElement(_e[st],tt)),lt=_[st].transform,ft.push(lt)):_e[st].ty==="sh"||_e[st].ty==="rc"||_e[st].ty==="el"||_e[st].ty==="sr"?(ut||(_[st]=this.createShapeElement(_e[st],ft,nt)),this.setElementStyles(_[st])):_e[st].ty==="tm"||_e[st].ty==="rd"||_e[st].ty==="ms"||_e[st].ty==="pb"||_e[st].ty==="zz"||_e[st].ty==="op"?(ut?(ct=_[st]).closed=!1:((ct=ShapeModifiers.getModifier(_e[st].ty)).init(this,_e[st]),_[st]=ct,this.shapeModifiers.push(ct)),mt.push(ct)):_e[st].ty==="rp"&&(ut?(ct=_[st]).closed=!0:(ct=ShapeModifiers.getModifier(_e[st].ty),_[st]=ct,ct.init(this,_e,st,_),this.shapeModifiers.push(ct),it=!1),mt.push(ct));this.addProcessedElement(_e[st],st+1)}for(ht=vt.length,st=0;st<ht;st+=1)vt[st].closed=!0;for(ht=mt.length,st=0;st<ht;st+=1)mt[st].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var _e;this.renderModifiers();var _=this.stylesList.length;for(_e=0;_e<_;_e+=1)this.stylesList[_e].reset();for(this.renderShape(),_e=0;_e<_;_e+=1)(this.stylesList[_e]._mdf||this._isFirstFrame)&&(this.stylesList[_e].msElem&&(this.stylesList[_e].msElem.setAttribute("d",this.stylesList[_e].d),this.stylesList[_e].d="M0 0"+this.stylesList[_e].d),this.stylesList[_e].pElem.setAttribute("d",this.stylesList[_e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var _e,_,et=this.animatedContents.length;for(_e=0;_e<et;_e+=1)_=this.animatedContents[_e],(this._isFirstFrame||_.element._isAnimated)&&_.data!==!0&&_.fn(_.data,_.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(_e,_,et,tt,nt,rt){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var it=!1;return this.o!==_e&&(this.o=_e,this._mdf.o=!0,it=!0),this.sw!==_&&(this.sw=_,this._mdf.sw=!0,it=!0),this.sc!==et&&(this.sc=et,this._mdf.sc=!0,it=!0),this.fc!==tt&&(this.fc=tt,this._mdf.fc=!0,it=!0),this.m!==nt&&(this.m=nt,this._mdf.m=!0,it=!0),!rt.length||this.p[0]===rt[0]&&this.p[1]===rt[1]&&this.p[4]===rt[4]&&this.p[5]===rt[5]&&this.p[12]===rt[12]&&this.p[13]===rt[13]||(this.p=rt,this._mdf.p=!0,it=!0),it},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(_e,_){for(var et in _)Object.prototype.hasOwnProperty.call(_,et)&&(_e[et]=_[et]);return _e},TextProperty.prototype.setCurrentData=function(_e){_e.__complete||this.completeTextData(_e),this.currentData=_e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(_e){this.effectsSequence.push(_e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(_e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||_e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var _=this.currentData,et=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var tt;this.lock=!0,this._mdf=!1;var nt=this.effectsSequence.length,rt=_e||this.data.d.k[this.keysIndex].s;for(tt=0;tt<nt;tt+=1)rt=et!==this.keysIndex?this.effectsSequence[tt](rt,rt.t):this.effectsSequence[tt](this.currentData,rt.t);_!==rt&&this.setCurrentData(rt),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var _e=this.data.d.k,_=this.elem.comp.renderedFrame,et=0,tt=_e.length;et<=tt-1&&!(et===tt-1||_e[et+1].t>_);)et+=1;return this.keysIndex!==et&&(this.keysIndex=et),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(_e){for(var _,et,tt=[],nt=0,rt=_e.length,it=!1;nt<rt;)_=_e.charCodeAt(nt),FontManager.isCombinedCharacter(_)?tt[tt.length-1]+=_e.charAt(nt):_>=55296&&_<=56319?(et=_e.charCodeAt(nt+1))>=56320&&et<=57343?(it||FontManager.isModifier(_,et)?(tt[tt.length-1]+=_e.substr(nt,2),it=!1):tt.push(_e.substr(nt,2)),nt+=1):tt.push(_e.charAt(nt)):_>56319?(et=_e.charCodeAt(nt+1),FontManager.isZeroWidthJoiner(_,et)?(it=!0,tt[tt.length-1]+=_e.substr(nt,2),nt+=1):tt.push(_e.charAt(nt))):FontManager.isZeroWidthJoiner(_)?(tt[tt.length-1]+=_e.charAt(nt),it=!0):tt.push(_e.charAt(nt)),nt+=1;return tt},TextProperty.prototype.completeTextData=function(_e){_e.__complete=!0;var _,et,tt,nt,rt,it,st,ot=this.elem.globalData.fontManager,at=this.data,lt=[],ct=0,ut=at.m.g,ft=0,ht=0,vt=0,mt=[],pt=0,yt=0,_t=ot.getFontByName(_e.f),St=0,Et=getFontProperties(_t);_e.fWeight=Et.weight,_e.fStyle=Et.style,_e.finalSize=_e.s,_e.finalText=this.buildFinalText(_e.t),et=_e.finalText.length,_e.finalLineHeight=_e.lh;var wt,Mt=_e.tr/1e3*_e.finalSize;if(_e.sz)for(var At,Tt,Ct=!0,Dt=_e.sz[0],$t=_e.sz[1];Ct;){At=0,pt=0,et=(Tt=this.buildFinalText(_e.t)).length,Mt=_e.tr/1e3*_e.finalSize;var kt=-1;for(_=0;_<et;_+=1)wt=Tt[_].charCodeAt(0),tt=!1,Tt[_]===" "?kt=_:wt!==13&&wt!==3||(pt=0,tt=!0,At+=_e.finalLineHeight||1.2*_e.finalSize),ot.chars?(st=ot.getCharData(Tt[_],_t.fStyle,_t.fFamily),St=tt?0:st.w*_e.finalSize/100):St=ot.measureText(Tt[_],_e.f,_e.finalSize),pt+St>Dt&&Tt[_]!==" "?(kt===-1?et+=1:_=kt,At+=_e.finalLineHeight||1.2*_e.finalSize,Tt.splice(_,kt===_?1:0,"\r"),kt=-1,pt=0):(pt+=St,pt+=Mt);At+=_t.ascent*_e.finalSize/100,this.canResize&&_e.finalSize>this.minimumFontSize&&$t<At?(_e.finalSize-=1,_e.finalLineHeight=_e.finalSize*_e.lh/_e.s):(_e.finalText=Tt,et=_e.finalText.length,Ct=!1)}pt=-Mt,St=0;var It,Nt=0;for(_=0;_<et;_+=1)if(tt=!1,(wt=(It=_e.finalText[_]).charCodeAt(0))===13||wt===3?(Nt=0,mt.push(pt),yt=pt>yt?pt:yt,pt=-2*Mt,nt="",tt=!0,vt+=1):nt=It,ot.chars?(st=ot.getCharData(It,_t.fStyle,ot.getFontByName(_e.f).fFamily),St=tt?0:st.w*_e.finalSize/100):St=ot.measureText(nt,_e.f,_e.finalSize),It===" "?Nt+=St+Mt:(pt+=St+Mt+Nt,Nt=0),lt.push({l:St,an:St,add:ft,n:tt,anIndexes:[],val:nt,line:vt,animatorJustifyOffset:0}),ut==2){if(ft+=St,nt===""||nt===" "||_===et-1){for(nt!==""&&nt!==" "||(ft-=St);ht<=_;)lt[ht].an=ft,lt[ht].ind=ct,lt[ht].extra=St,ht+=1;ct+=1,ft=0}}else if(ut==3){if(ft+=St,nt===""||_===et-1){for(nt===""&&(ft-=St);ht<=_;)lt[ht].an=ft,lt[ht].ind=ct,lt[ht].extra=St,ht+=1;ft=0,ct+=1}}else lt[ct].ind=ct,lt[ct].extra=0,ct+=1;if(_e.l=lt,yt=pt>yt?pt:yt,mt.push(pt),_e.sz)_e.boxWidth=_e.sz[0],_e.justifyOffset=0;else switch(_e.boxWidth=yt,_e.j){case 1:_e.justifyOffset=-_e.boxWidth;break;case 2:_e.justifyOffset=-_e.boxWidth/2;break;default:_e.justifyOffset=0}_e.lineWidths=mt;var Gt,Bt,Rt,Ot,Ut=at.a;it=Ut.length;var jt=[];for(rt=0;rt<it;rt+=1){for((Gt=Ut[rt]).a.sc&&(_e.strokeColorAnim=!0),Gt.a.sw&&(_e.strokeWidthAnim=!0),(Gt.a.fc||Gt.a.fh||Gt.a.fs||Gt.a.fb)&&(_e.fillColorAnim=!0),Ot=0,Rt=Gt.s.b,_=0;_<et;_+=1)(Bt=lt[_]).anIndexes[rt]=Ot,(Rt==1&&Bt.val!==""||Rt==2&&Bt.val!==""&&Bt.val!==" "||Rt==3&&(Bt.n||Bt.val==" "||_==et-1)||Rt==4&&(Bt.n||_==et-1))&&(Gt.s.rn===1&&jt.push(Ot),Ot+=1);at.a[rt].s.totalChars=Ot;var Jt,Xt=-1;if(Gt.s.rn===1)for(_=0;_<et;_+=1)Xt!=(Bt=lt[_]).anIndexes[rt]&&(Xt=Bt.anIndexes[rt],Jt=jt.splice(Math.floor(Math.random()*jt.length),1)[0]),Bt.anIndexes[rt]=Jt}_e.yOffset=_e.finalLineHeight||1.2*_e.finalSize,_e.ls=_e.ls||0,_e.ascent=_t.ascent*_e.finalSize/100},TextProperty.prototype.updateDocumentData=function(_e,_){_=_===void 0?this.keysIndex:_;var et=this.copyData({},this.data.d.k[_].s);et=this.copyData(et,_e),this.data.d.k[_].s=et,this.recalculate(_),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(_e){var _=this.data.d.k[_e].s;_.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(_)},TextProperty.prototype.canResizeFont=function(_e){this.canResize=_e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(_e){this.minimumFontSize=Math.floor(_e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var _e=Math.max,_=Math.min,et=Math.floor;function tt(nt,rt){this._currentTextLength=-1,this.k=!1,this.data=rt,this.elem=nt,this.comp=nt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(nt),this.s=PropertyFactory.getProp(nt,rt.s||{k:0},0,0,this),this.e="e"in rt?PropertyFactory.getProp(nt,rt.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(nt,rt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(nt,rt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(nt,rt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(nt,rt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(nt,rt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return tt.prototype={getMult:function(nt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var rt=0,it=0,st=1,ot=1;this.ne.v>0?rt=this.ne.v/100:it=-this.ne.v/100,this.xe.v>0?st=1-this.xe.v/100:ot=1+this.xe.v/100;var at=BezierFactory.getBezierEasing(rt,it,st,ot).get,lt=0,ct=this.finalS,ut=this.finalE,ft=this.data.sh;if(ft===2)lt=at(lt=ut===ct?nt>=ut?1:0:_e(0,_(.5/(ut-ct)+(nt-ct)/(ut-ct),1)));else if(ft===3)lt=at(lt=ut===ct?nt>=ut?0:1:1-_e(0,_(.5/(ut-ct)+(nt-ct)/(ut-ct),1)));else if(ft===4)ut===ct?lt=0:(lt=_e(0,_(.5/(ut-ct)+(nt-ct)/(ut-ct),1)))<.5?lt*=2:lt=1-2*(lt-.5),lt=at(lt);else if(ft===5){if(ut===ct)lt=0;else{var ht=ut-ct,vt=-ht/2+(nt=_(_e(0,nt+.5-ct),ut-ct)),mt=ht/2;lt=Math.sqrt(1-vt*vt/(mt*mt))}lt=at(lt)}else ft===6?(ut===ct?lt=0:(nt=_(_e(0,nt+.5-ct),ut-ct),lt=(1+Math.cos(Math.PI+2*Math.PI*nt/(ut-ct)))/2),lt=at(lt)):(nt>=et(ct)&&(lt=_e(0,_(nt-ct<0?_(ut,1)-(ct-nt):ut-nt,1))),lt=at(lt));if(this.sm.v!==100){var pt=.01*this.sm.v;pt===0&&(pt=1e-8);var yt=.5-.5*pt;lt<yt?lt=0:(lt=(lt-yt)/pt)>1&&(lt=1)}return lt*this.a.v},getValue:function(nt){this.iterateDynamicProperties(),this._mdf=nt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,nt&&this.data.r===2&&(this.e.v=this._currentTextLength);var rt=this.data.r===2?1:100/this.data.totalChars,it=this.o.v/rt,st=this.s.v/rt+it,ot=this.e.v/rt+it;if(st>ot){var at=st;st=ot,ot=at}this.finalS=st,this.finalE=ot}},extendPrototype([DynamicPropertyContainer],tt),{getTextSelectorProp:function(nt,rt,it){return new tt(nt,rt)}}}();function TextAnimatorDataProperty(_e,_,et){var tt={propType:!1},nt=PropertyFactory.getProp,rt=_.a;this.a={r:rt.r?nt(_e,rt.r,0,degToRads,et):tt,rx:rt.rx?nt(_e,rt.rx,0,degToRads,et):tt,ry:rt.ry?nt(_e,rt.ry,0,degToRads,et):tt,sk:rt.sk?nt(_e,rt.sk,0,degToRads,et):tt,sa:rt.sa?nt(_e,rt.sa,0,degToRads,et):tt,s:rt.s?nt(_e,rt.s,1,.01,et):tt,a:rt.a?nt(_e,rt.a,1,0,et):tt,o:rt.o?nt(_e,rt.o,0,.01,et):tt,p:rt.p?nt(_e,rt.p,1,0,et):tt,sw:rt.sw?nt(_e,rt.sw,0,0,et):tt,sc:rt.sc?nt(_e,rt.sc,1,0,et):tt,fc:rt.fc?nt(_e,rt.fc,1,0,et):tt,fh:rt.fh?nt(_e,rt.fh,0,0,et):tt,fs:rt.fs?nt(_e,rt.fs,0,.01,et):tt,fb:rt.fb?nt(_e,rt.fb,0,.01,et):tt,t:rt.t?nt(_e,rt.t,0,0,et):tt},this.s=TextSelectorProp.getTextSelectorProp(_e,_.s,et),this.s.t=_.s.t}function TextAnimatorProperty(_e,_,et){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=_e,this._renderType=_,this._elem=et,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(et)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var _e,_,et=this._textData.a.length,tt=PropertyFactory.getProp;for(_e=0;_e<et;_e+=1)_=this._textData.a[_e],this._animatorsData[_e]=new TextAnimatorDataProperty(this._elem,_,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:tt(this._elem,this._textData.p.a,0,0,this),f:tt(this._elem,this._textData.p.f,0,0,this),l:tt(this._elem,this._textData.p.l,0,0,this),r:tt(this._elem,this._textData.p.r,0,0,this),p:tt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=tt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(_e,_){if(this.lettersChangedFlag=_,this._mdf||this._isFirstFrame||_||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var et,tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,vt,mt,pt,yt,_t,St,Et=this._moreOptions.alignment.v,wt=this._animatorsData,Mt=this._textData,At=this.mHelper,Tt=this._renderType,Ct=this.renderedLetters.length,Dt=_e.l;if(this._hasMaskedPath){if(St=this._pathData.m,!this._pathData.n||this._pathData._mdf){var $t,kt=St.v;for(this._pathData.r.v&&(kt=kt.reverse()),it={tLength:0,segments:[]},rt=kt._length-1,pt=0,nt=0;nt<rt;nt+=1)$t=bez.buildBezierData(kt.v[nt],kt.v[nt+1],[kt.o[nt][0]-kt.v[nt][0],kt.o[nt][1]-kt.v[nt][1]],[kt.i[nt+1][0]-kt.v[nt+1][0],kt.i[nt+1][1]-kt.v[nt+1][1]]),it.tLength+=$t.segmentLength,it.segments.push($t),pt+=$t.segmentLength;nt=rt,St.v.c&&($t=bez.buildBezierData(kt.v[nt],kt.v[0],[kt.o[nt][0]-kt.v[nt][0],kt.o[nt][1]-kt.v[nt][1]],[kt.i[0][0]-kt.v[0][0],kt.i[0][1]-kt.v[0][1]]),it.tLength+=$t.segmentLength,it.segments.push($t),pt+=$t.segmentLength),this._pathData.pi=it}if(it=this._pathData.pi,st=this._pathData.f.v,ut=0,ct=1,at=0,lt=!0,vt=it.segments,st<0&&St.v.c)for(it.tLength<Math.abs(st)&&(st=-Math.abs(st)%it.tLength),ct=(ht=vt[ut=vt.length-1].points).length-1;st<0;)st+=ht[ct].partialLength,(ct-=1)<0&&(ct=(ht=vt[ut-=1].points).length-1);ft=(ht=vt[ut].points)[ct-1],mt=(ot=ht[ct]).partialLength}rt=Dt.length,et=0,tt=0;var It,Nt,Gt,Bt,Rt,Ot=1.2*_e.finalSize*.714,Ut=!0;Gt=wt.length;var jt,Jt,Xt,Qt,rn,pn,fn,_n,Pn,Sn,Cn,Wt,tn=-1,an=st,vn=ut,hn=ct,$n=-1,En="",Mn=this.defaultPropsArray;if(_e.j===2||_e.j===1){var Rn=0,Vn=0,sr=_e.j===2?-.5:-1,zt=0,Ft=!0;for(nt=0;nt<rt;nt+=1)if(Dt[nt].n){for(Rn&&(Rn+=Vn);zt<nt;)Dt[zt].animatorJustifyOffset=Rn,zt+=1;Rn=0,Ft=!0}else{for(Nt=0;Nt<Gt;Nt+=1)(It=wt[Nt].a).t.propType&&(Ft&&_e.j===2&&(Vn+=It.t.v*sr),(Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars)).length?Rn+=It.t.v*Rt[0]*sr:Rn+=It.t.v*Rt*sr);Ft=!1}for(Rn&&(Rn+=Vn);zt<nt;)Dt[zt].animatorJustifyOffset=Rn,zt+=1}for(nt=0;nt<rt;nt+=1){if(At.reset(),Qt=1,Dt[nt].n)et=0,tt+=_e.yOffset,tt+=Ut?1:0,st=an,Ut=!1,this._hasMaskedPath&&(ct=hn,ft=(ht=vt[ut=vn].points)[ct-1],mt=(ot=ht[ct]).partialLength,at=0),En="",Cn="",Pn="",Wt="",Mn=this.defaultPropsArray;else{if(this._hasMaskedPath){if($n!==Dt[nt].line){switch(_e.j){case 1:st+=pt-_e.lineWidths[Dt[nt].line];break;case 2:st+=(pt-_e.lineWidths[Dt[nt].line])/2}$n=Dt[nt].line}tn!==Dt[nt].ind&&(Dt[tn]&&(st+=Dt[tn].extra),st+=Dt[nt].an/2,tn=Dt[nt].ind),st+=Et[0]*Dt[nt].an*.005;var Zt=0;for(Nt=0;Nt<Gt;Nt+=1)(It=wt[Nt].a).p.propType&&((Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars)).length?Zt+=It.p.v[0]*Rt[0]:Zt+=It.p.v[0]*Rt),It.a.propType&&((Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars)).length?Zt+=It.a.v[0]*Rt[0]:Zt+=It.a.v[0]*Rt);for(lt=!0,this._pathData.a.v&&(st=.5*Dt[0].an+(pt-this._pathData.f.v-.5*Dt[0].an-.5*Dt[Dt.length-1].an)*tn/(rt-1),st+=this._pathData.f.v);lt;)at+mt>=st+Zt||!ht?(yt=(st+Zt-at)/ot.partialLength,Jt=ft.point[0]+(ot.point[0]-ft.point[0])*yt,Xt=ft.point[1]+(ot.point[1]-ft.point[1])*yt,At.translate(-Et[0]*Dt[nt].an*.005,-Et[1]*Ot*.01),lt=!1):ht&&(at+=ot.partialLength,(ct+=1)>=ht.length&&(ct=0,vt[ut+=1]?ht=vt[ut].points:St.v.c?(ct=0,ht=vt[ut=0].points):(at-=ot.partialLength,ht=null)),ht&&(ft=ot,mt=(ot=ht[ct]).partialLength));jt=Dt[nt].an/2-Dt[nt].add,At.translate(-jt,0,0)}else jt=Dt[nt].an/2-Dt[nt].add,At.translate(-jt,0,0),At.translate(-Et[0]*Dt[nt].an*.005,-Et[1]*Ot*.01,0);for(Nt=0;Nt<Gt;Nt+=1)(It=wt[Nt].a).t.propType&&(Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars),et===0&&_e.j===0||(this._hasMaskedPath?Rt.length?st+=It.t.v*Rt[0]:st+=It.t.v*Rt:Rt.length?et+=It.t.v*Rt[0]:et+=It.t.v*Rt));for(_e.strokeWidthAnim&&(pn=_e.sw||0),_e.strokeColorAnim&&(rn=_e.sc?[_e.sc[0],_e.sc[1],_e.sc[2]]:[0,0,0]),_e.fillColorAnim&&_e.fc&&(fn=[_e.fc[0],_e.fc[1],_e.fc[2]]),Nt=0;Nt<Gt;Nt+=1)(It=wt[Nt].a).a.propType&&((Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars)).length?At.translate(-It.a.v[0]*Rt[0],-It.a.v[1]*Rt[1],It.a.v[2]*Rt[2]):At.translate(-It.a.v[0]*Rt,-It.a.v[1]*Rt,It.a.v[2]*Rt));for(Nt=0;Nt<Gt;Nt+=1)(It=wt[Nt].a).s.propType&&((Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars)).length?At.scale(1+(It.s.v[0]-1)*Rt[0],1+(It.s.v[1]-1)*Rt[1],1):At.scale(1+(It.s.v[0]-1)*Rt,1+(It.s.v[1]-1)*Rt,1));for(Nt=0;Nt<Gt;Nt+=1){if(It=wt[Nt].a,Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars),It.sk.propType&&(Rt.length?At.skewFromAxis(-It.sk.v*Rt[0],It.sa.v*Rt[1]):At.skewFromAxis(-It.sk.v*Rt,It.sa.v*Rt)),It.r.propType&&(Rt.length?At.rotateZ(-It.r.v*Rt[2]):At.rotateZ(-It.r.v*Rt)),It.ry.propType&&(Rt.length?At.rotateY(It.ry.v*Rt[1]):At.rotateY(It.ry.v*Rt)),It.rx.propType&&(Rt.length?At.rotateX(It.rx.v*Rt[0]):At.rotateX(It.rx.v*Rt)),It.o.propType&&(Rt.length?Qt+=(It.o.v*Rt[0]-Qt)*Rt[0]:Qt+=(It.o.v*Rt-Qt)*Rt),_e.strokeWidthAnim&&It.sw.propType&&(Rt.length?pn+=It.sw.v*Rt[0]:pn+=It.sw.v*Rt),_e.strokeColorAnim&&It.sc.propType)for(_n=0;_n<3;_n+=1)Rt.length?rn[_n]+=(It.sc.v[_n]-rn[_n])*Rt[0]:rn[_n]+=(It.sc.v[_n]-rn[_n])*Rt;if(_e.fillColorAnim&&_e.fc){if(It.fc.propType)for(_n=0;_n<3;_n+=1)Rt.length?fn[_n]+=(It.fc.v[_n]-fn[_n])*Rt[0]:fn[_n]+=(It.fc.v[_n]-fn[_n])*Rt;It.fh.propType&&(fn=Rt.length?addHueToRGB(fn,It.fh.v*Rt[0]):addHueToRGB(fn,It.fh.v*Rt)),It.fs.propType&&(fn=Rt.length?addSaturationToRGB(fn,It.fs.v*Rt[0]):addSaturationToRGB(fn,It.fs.v*Rt)),It.fb.propType&&(fn=Rt.length?addBrightnessToRGB(fn,It.fb.v*Rt[0]):addBrightnessToRGB(fn,It.fb.v*Rt))}}for(Nt=0;Nt<Gt;Nt+=1)(It=wt[Nt].a).p.propType&&(Rt=wt[Nt].s.getMult(Dt[nt].anIndexes[Nt],Mt.a[Nt].s.totalChars),this._hasMaskedPath?Rt.length?At.translate(0,It.p.v[1]*Rt[0],-It.p.v[2]*Rt[1]):At.translate(0,It.p.v[1]*Rt,-It.p.v[2]*Rt):Rt.length?At.translate(It.p.v[0]*Rt[0],It.p.v[1]*Rt[1],-It.p.v[2]*Rt[2]):At.translate(It.p.v[0]*Rt,It.p.v[1]*Rt,-It.p.v[2]*Rt));if(_e.strokeWidthAnim&&(Pn=pn<0?0:pn),_e.strokeColorAnim&&(Sn="rgb("+Math.round(255*rn[0])+","+Math.round(255*rn[1])+","+Math.round(255*rn[2])+")"),_e.fillColorAnim&&_e.fc&&(Cn="rgb("+Math.round(255*fn[0])+","+Math.round(255*fn[1])+","+Math.round(255*fn[2])+")"),this._hasMaskedPath){if(At.translate(0,-_e.ls),At.translate(0,Et[1]*Ot*.01+tt,0),this._pathData.p.v){_t=(ot.point[1]-ft.point[1])/(ot.point[0]-ft.point[0]);var gn=180*Math.atan(_t)/Math.PI;ot.point[0]<ft.point[0]&&(gn+=180),At.rotate(-gn*Math.PI/180)}At.translate(Jt,Xt,0),st-=Et[0]*Dt[nt].an*.005,Dt[nt+1]&&tn!==Dt[nt+1].ind&&(st+=Dt[nt].an/2,st+=.001*_e.tr*_e.finalSize)}else{switch(At.translate(et,tt,0),_e.ps&&At.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),_e.j){case 1:At.translate(Dt[nt].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[Dt[nt].line]),0,0);break;case 2:At.translate(Dt[nt].animatorJustifyOffset+_e.justifyOffset+(_e.boxWidth-_e.lineWidths[Dt[nt].line])/2,0,0)}At.translate(0,-_e.ls),At.translate(jt,0,0),At.translate(Et[0]*Dt[nt].an*.005,Et[1]*Ot*.01,0),et+=Dt[nt].l+.001*_e.tr*_e.finalSize}Tt==="html"?En=At.toCSS():Tt==="svg"?En=At.to2dCSS():Mn=[At.props[0],At.props[1],At.props[2],At.props[3],At.props[4],At.props[5],At.props[6],At.props[7],At.props[8],At.props[9],At.props[10],At.props[11],At.props[12],At.props[13],At.props[14],At.props[15]],Wt=Qt}Ct<=nt?(Bt=new LetterProps(Wt,Pn,Sn,Cn,En,Mn),this.renderedLetters.push(Bt),Ct+=1,this.lettersChangedFlag=!0):(Bt=this.renderedLetters[nt],this.lettersChangedFlag=Bt.update(Wt,Pn,Sn,Cn,En,Mn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(_e,_,et){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(_e,_,et),this.textProperty=new TextProperty(this,_e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(_e.t,this.renderType,this),this.initTransform(_e,_,et),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(_e){this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(_e,_){var et,tt,nt=_.length,rt="";for(et=0;et<nt;et+=1)_[et].ty==="sh"&&(tt=_[et].ks.k,rt+=buildShapeString(tt,tt.i.length,!0,_e));return rt},ITextElement.prototype.updateDocumentData=function(_e,_){this.textProperty.updateDocumentData(_e,_)},ITextElement.prototype.canResizeFont=function(_e){this.textProperty.canResizeFont(_e)},ITextElement.prototype.setMinimumFontSize=function(_e){this.textProperty.setMinimumFontSize(_e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(_e,_,et,tt,nt){switch(_e.ps&&_.translate(_e.ps[0],_e.ps[1]+_e.ascent,0),_.translate(0,-_e.ls,0),_e.j){case 1:_.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[et]),0,0);break;case 2:_.translate(_e.justifyOffset+(_e.boxWidth-_e.lineWidths[et])/2,0,0)}_.translate(tt,nt,0)},ITextElement.prototype.buildColor=function(_e){return"rgb("+Math.round(255*_e[0])+","+Math.round(255*_e[1])+","+Math.round(255*_e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(_e,_,et){this.textSpans=[],this.renderType="svg",this.initElement(_e,_,et)}function ISolidElement(_e,_,et){this.initElement(_e,_,et)}function NullElement(_e,_,et){this.initFrame(),this.initBaseData(_e,_,et),this.initFrame(),this.initTransform(_e,_,et),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(_e,_,et){this.layers=_e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,_,et),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,_.frameRate,this):{_placeholder:!0}}function SVGRenderer(_e,_){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var et="";if(_&&_.title){var tt=createNS("title"),nt=createElementID();tt.setAttribute("id",nt),tt.textContent=_.title,this.svgElement.appendChild(tt),et+=nt}if(_&&_.description){var rt=createNS("desc"),it=createElementID();rt.setAttribute("id",it),rt.textContent=_.description,this.svgElement.appendChild(rt),et+=" "+it}et&&this.svgElement.setAttribute("aria-labelledby",et);var st=createNS("defs");this.svgElement.appendChild(st);var ot=createNS("g");this.svgElement.appendChild(ot),this.layerElement=ot,this.renderConfig={preserveAspectRatio:_&&_.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_&&_.contentVisibility||"visible",progressiveLoad:_&&_.progressiveLoad||!1,hideOnTransparent:!(_&&_.hideOnTransparent===!1),viewBoxOnly:_&&_.viewBoxOnly||!1,viewBoxSize:_&&_.viewBoxSize||!1,className:_&&_.className||"",id:_&&_.id||"",focusable:_&&_.focusable,filterSize:{width:_&&_.filterSize&&_.filterSize.width||"100%",height:_&&_.filterSize&&_.filterSize.height||"100%",x:_&&_.filterSize&&_.filterSize.x||"0%",y:_&&_.filterSize&&_.filterSize.y||"0%"},width:_&&_.width,height:_&&_.height,runExpressions:!_||_.runExpressions===void 0||_.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:st,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var _e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),_e=0;_e<15;_e+=1)this.saved[_e]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(_e){for(var _=0,et=_e.length,tt=[],nt="";_<et;)_e[_]==="\r"||_e[_]===""?(tt.push(nt),nt=""):nt+=_e[_],_+=1;return tt.push(nt),tt},SVGTextLottieElement.prototype.buildShapeData=function(_e,_){if(_e.shapes&&_e.shapes.length){var et=_e.shapes[0];if(et.it){var tt=et.it[et.it.length-1];tt.s&&(tt.s.k[0]=_,tt.s.k[1]=_)}}return _e},SVGTextLottieElement.prototype.buildNewText=function(){var _e,_;this.addDynamicProperty(this);var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et?et.l.length:0),et.fc?this.layerElement.setAttribute("fill",this.buildColor(et.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),et.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(et.sc)),this.layerElement.setAttribute("stroke-width",et.sw)),this.layerElement.setAttribute("font-size",et.finalSize);var tt=this.globalData.fontManager.getFontByName(et.f);if(tt.fClass)this.layerElement.setAttribute("class",tt.fClass);else{this.layerElement.setAttribute("font-family",tt.fFamily);var nt=et.fWeight,rt=et.fStyle;this.layerElement.setAttribute("font-style",rt),this.layerElement.setAttribute("font-weight",nt)}this.layerElement.setAttribute("aria-label",et.t);var it,st=et.l||[],ot=!!this.globalData.fontManager.chars;_=st.length;var at=this.mHelper,lt=this.data.singleShape,ct=0,ut=0,ft=!0,ht=.001*et.tr*et.finalSize;if(!lt||ot||et.sz){var vt,mt=this.textSpans.length;for(_e=0;_e<_;_e+=1){if(this.textSpans[_e]||(this.textSpans[_e]={span:null,childSpan:null,glyph:null}),!ot||!lt||_e===0){if(it=mt>_e?this.textSpans[_e].span:createNS(ot?"g":"text"),mt<=_e){if(it.setAttribute("stroke-linecap","butt"),it.setAttribute("stroke-linejoin","round"),it.setAttribute("stroke-miterlimit","4"),this.textSpans[_e].span=it,ot){var pt=createNS("g");it.appendChild(pt),this.textSpans[_e].childSpan=pt}this.textSpans[_e].span=it,this.layerElement.appendChild(it)}it.style.display="inherit"}if(at.reset(),lt&&(st[_e].n&&(ct=-ht,ut+=et.yOffset,ut+=ft?1:0,ft=!1),this.applyTextPropertiesToMatrix(et,at,st[_e].line,ct,ut),ct+=st[_e].l||0,ct+=ht),ot){var yt;if((vt=this.globalData.fontManager.getCharData(et.finalText[_e],tt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily)).t===1)yt=new SVGCompElement(vt.data,this.globalData,this);else{var _t=emptyShapeData;vt.data&&vt.data.shapes&&(_t=this.buildShapeData(vt.data,et.finalSize)),yt=new SVGShapeElement(_t,this.globalData,this)}if(this.textSpans[_e].glyph){var St=this.textSpans[_e].glyph;this.textSpans[_e].childSpan.removeChild(St.layerElement),St.destroy()}this.textSpans[_e].glyph=yt,yt._debug=!0,yt.prepareFrame(0),yt.renderFrame(),this.textSpans[_e].childSpan.appendChild(yt.layerElement),vt.t===1&&this.textSpans[_e].childSpan.setAttribute("transform","scale("+et.finalSize/100+","+et.finalSize/100+")")}else lt&&it.setAttribute("transform","translate("+at.props[12]+","+at.props[13]+")"),it.textContent=st[_e].val,it.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}lt&&it&&it.setAttribute("d","")}else{var Et=this.textContainer,wt="start";switch(et.j){case 1:wt="end";break;case 2:wt="middle";break;default:wt="start"}Et.setAttribute("text-anchor",wt),Et.setAttribute("letter-spacing",ht);var Mt=this.buildTextContents(et.finalText);for(_=Mt.length,ut=et.ps?et.ps[1]+et.ascent:0,_e=0;_e<_;_e+=1)(it=this.textSpans[_e].span||createNS("tspan")).textContent=Mt[_e],it.setAttribute("x",0),it.setAttribute("y",ut),it.style.display="inherit",Et.appendChild(it),this.textSpans[_e]||(this.textSpans[_e]={span:null,glyph:null}),this.textSpans[_e].span=it,ut+=et.finalLineHeight;this.layerElement.appendChild(Et)}for(;_e<this.textSpans.length;)this.textSpans[_e].span.style.display="none",_e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var _e=this.layerElement.getBBox();this.bbox={top:_e.y,left:_e.x,width:_e.width,height:_e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var _e,_,et=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,_e=0;_e<et;_e+=1)(_=this.textSpans[_e].glyph)&&(_.prepareFrame(this.comp.renderedFrame-this.data.st),_._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var _e,_;this._sizeChanged=!0;var et,tt,nt,rt=this.textAnimator.renderedLetters,it=this.textProperty.currentData.l;for(_=it.length,_e=0;_e<_;_e+=1)it[_e].n||(et=rt[_e],tt=this.textSpans[_e].span,(nt=this.textSpans[_e].glyph)&&nt.renderFrame(),et._mdf.m&&tt.setAttribute("transform",et.m),et._mdf.o&&tt.setAttribute("opacity",et.o),et._mdf.sw&&tt.setAttribute("stroke-width",et.sw),et._mdf.sc&&tt.setAttribute("stroke",et.sc),et._mdf.fc&&tt.setAttribute("fill",et.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var _e=createNS("rect");_e.setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(_e)},NullElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(_e){return new NullElement(_e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(_e){return new SVGShapeElement(_e,this.globalData,this)},SVGRendererBase.prototype.createText=function(_e){return new SVGTextLottieElement(_e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(_e){return new IImageElement(_e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(_e){return new ISolidElement(_e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(_e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+_e.w+" "+_e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",_e.w),this.svgElement.setAttribute("height",_e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var _=this.globalData.defs;this.setupGlobalData(_e,_),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=_e;var et=createNS("clipPath"),tt=createNS("rect");tt.setAttribute("width",_e.w),tt.setAttribute("height",_e.h),tt.setAttribute("x",0),tt.setAttribute("y",0);var nt=createElementID();et.setAttribute("id",nt),et.appendChild(tt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+nt+")"),_.appendChild(et),this.layers=_e.layers,this.elements=createSizedArray(_e.layers.length)},SVGRendererBase.prototype.destroy=function(){var _e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var _=this.layers?this.layers.length:0;for(_e=0;_e<_;_e+=1)this.elements[_e]&&this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(_e){var _=0,et=this.layers.length;for(_=0;_<et;_+=1)if(this.layers[_].ind===_e)return _;return-1},SVGRendererBase.prototype.buildItem=function(_e){var _=this.elements;if(!_[_e]&&this.layers[_e].ty!==99){_[_e]=!0;var et=this.createItem(this.layers[_e]);if(_[_e]=et,getExpressionsPlugin()&&(this.layers[_e].ty===0&&this.globalData.projectInterface.registerComposition(et),et.initExpressions()),this.appendElementInPos(et,_e),this.layers[_e].tt){var tt="tp"in this.layers[_e]?this.findIndexByInd(this.layers[_e].tp):_e-1;if(tt===-1)return;if(this.elements[tt]&&this.elements[tt]!==!0){var nt=_[tt].getMatte(this.layers[_e].tt);et.setMatte(nt)}else this.buildItem(tt),this.addPendingElement(et)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var _e=this.pendingElements.pop();if(_e.checkParenting(),_e.data.tt)for(var _=0,et=this.elements.length;_<et;){if(this.elements[_]===_e){var tt="tp"in _e.data?this.findIndexByInd(_e.data.tp):_-1,nt=this.elements[tt].getMatte(this.layers[_].tt);_e.setMatte(nt);break}_+=1}}},SVGRendererBase.prototype.renderFrame=function(_e){if(this.renderedFrame!==_e&&!this.destroyed){var _;_e===null?_e=this.renderedFrame:this.renderedFrame=_e,this.globalData.frameNum=_e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=_e,this.globalData._mdf=!1;var et=this.layers.length;for(this.completeLayers||this.checkLayers(_e),_=et-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].prepareFrame(_e-this.layers[_].st);if(this.globalData._mdf)for(_=0;_<et;_+=1)(this.completeLayers||this.elements[_])&&this.elements[_].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(_e,_){var et=_e.getBaseElement();if(et){for(var tt,nt=0;nt<_;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement()&&(tt=this.elements[nt].getBaseElement()),nt+=1;tt?this.layerElement.insertBefore(et,tt):this.layerElement.appendChild(et)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(_e,_,et){this.initFrame(),this.initBaseData(_e,_,et),this.initTransform(_e,_,et),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&_.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(_e){if(this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=_e/this.data.sr;else{var _=this.tm.v;_===this.data.op&&(_=this.data.op-1),this.renderedFrame=_}var et,tt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&(this.elements[et].prepareFrame(this.renderedFrame-this.layers[et].st),this.elements[et]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var _e,_=this.layers.length;for(_e=0;_e<_;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},ICompElement.prototype.setElements=function(_e){this.elements=_e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var _e,_=this.layers.length;for(_e=0;_e<_;_e+=1)this.elements[_e]&&this.elements[_e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(_e){return new SVGCompElement(_e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(_e){return new SVGCompElement(_e,this.globalData,this)},CVContextData.prototype.duplicate=function(){var _e=2*this._length,_=this.savedOp;this.savedOp=createTypedArray("float32",_e),this.savedOp.set(_);var et=0;for(et=this._length;et<_e;et+=1)this.saved[et]=createTypedArray("float32",16);this._length=_e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var _e,_=this.saved[this.cArrPos],et=this.cTr.props;for(_e=0;_e<16;_e+=1)et[_e]=_[_e];return _},CVContextData.prototype.popOpacity=function(){var _e=this.savedOp[this.cArrPos];return this.cO=_e,_e},CVContextData.prototype.pop=function(){return this.cArrPos-=1,{transform:this.popTransform(),opacity:this.popOpacity()}},CVContextData.prototype.push=function(){var _e,_=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var et=this.saved[this.cArrPos];for(_e=0;_e<16;_e+=1)et[_e]=_[_e];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(_e){this.cO=_e},ShapeTransformManager.prototype={addTransformSequence:function(_e){var _,et=_e.length,tt="_";for(_=0;_<et;_+=1)tt+=_e[_].transform.key+"_";var nt=this.sequences[tt];return nt||(nt={transforms:[].concat(_e),finalTransform:new Matrix,_mdf:!1},this.sequences[tt]=nt,this.sequenceList.push(nt)),nt},processSequence:function(_e,_){for(var et,tt=0,nt=_e.transforms.length,rt=_;tt<nt&&!_;){if(_e.transforms[tt].transform.mProps._mdf){rt=!0;break}tt+=1}if(rt)for(_e.finalTransform.reset(),tt=nt-1;tt>=0;tt-=1)et=_e.transforms[tt].transform.mProps.v.props,_e.finalTransform.transform(et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],et[8],et[9],et[10],et[11],et[12],et[13],et[14],et[15]);_e._mdf=rt},processSequences:function(_e){var _,et=this.sequenceList.length;for(_=0;_<et;_+=1)this.processSequence(this.sequenceList[_],_e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var _e="__lottie_element_luma_buffer",_=null,et=null,tt=null;function nt(){var rt,it,st;_||(rt=createNS("svg"),it=createNS("filter"),st=createNS("feColorMatrix"),it.setAttribute("id",_e),st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),it.appendChild(st),rt.appendChild(it),rt.setAttribute("id",_e+"_svg"),featureSupport.svgLumaHidden&&(rt.style.display="none"),tt=rt,document.body.appendChild(tt),_=createTag("canvas"),(et=_.getContext("2d")).filter="url(#"+_e+")",et.fillStyle="rgba(0,0,0,0)",et.fillRect(0,0,1,1))}return{load:nt,get:function(rt){return _||nt(),_.width=rt.width,_.height=rt.height,et.filter="url(#"+_e+")",_}}};function createCanvas(_e,_){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(_e,_);var et=createTag("canvas");return et.width=_e,et.height=_,et}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas};function CVEffects(){}function CVMaskElement(_e,_){var et;this.data=_e,this.element=_,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var tt=this.masksProperties.length,nt=!1;for(et=0;et<tt;et+=1)this.masksProperties[et].mode!=="n"&&(nt=!0),this.viewData[et]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[et],3);this.hasMasks=nt,nt&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var _e,_,et,tt,nt=this.element.finalTransform.mat,rt=this.element.canvasContext,it=this.masksProperties.length;for(rt.beginPath(),_e=0;_e<it;_e+=1)if(this.masksProperties[_e].mode!=="n"){var st;this.masksProperties[_e].inv&&(rt.moveTo(0,0),rt.lineTo(this.element.globalData.compSize.w,0),rt.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),rt.lineTo(0,this.element.globalData.compSize.h),rt.lineTo(0,0)),tt=this.viewData[_e].v,_=nt.applyToPointArray(tt.v[0][0],tt.v[0][1],0),rt.moveTo(_[0],_[1]);var ot=tt._length;for(st=1;st<ot;st+=1)et=nt.applyToTriplePoints(tt.o[st-1],tt.i[st],tt.v[st]),rt.bezierCurveTo(et[0],et[1],et[2],et[3],et[4],et[5]);et=nt.applyToTriplePoints(tt.o[st-1],tt.i[0],tt.v[0]),rt.bezierCurveTo(et[0],et[1],et[2],et[3],et[4],et[5])}this.element.globalData.renderer.save(!0),rt.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(_e,_,et,tt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var nt,rt=4;_.ty==="rc"?rt=5:_.ty==="el"?rt=6:_.ty==="sr"&&(rt=7),this.sh=ShapePropertyFactory.getShapeProp(_e,_,rt,_e);var it,st=et.length;for(nt=0;nt<st;nt+=1)et[nt].closed||(it={transforms:tt.addTransformSequence(et[nt].transforms),trNodes:[]},this.styledShapes.push(it),et[nt].elements.push(it))}function CVShapeElement(_e,_,et){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(_e,_,et)}function CVTextElement(_e,_,et){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(_e,_,et)}function CVImageElement(_e,_,et){this.assetData=_.getAssetData(_e.refId),this.img=_.imageLoader.getAsset(this.assetData),this.initElement(_e,_,et)}function CVSolidElement(_e,_,et){this.initElement(_e,_,et)}function CanvasRendererBase(_e,_){this.animationItem=_e,this.renderConfig={clearCanvas:!_||_.clearCanvas===void 0||_.clearCanvas,context:_&&_.context||null,progressiveLoad:_&&_.progressiveLoad||!1,preserveAspectRatio:_&&_.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_&&_.contentVisibility||"visible",className:_&&_.className||"",id:_&&_.id||""},this.renderConfig.dpr=_&&_.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_&&_.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(_e,_,et){this.completeLayers=!1,this.layers=_e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(_e,_,et),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,_.frameRate,this):{_placeholder:!0}}function CanvasRenderer(_e,_){this.animationItem=_e,this.renderConfig={clearCanvas:!_||_.clearCanvas===void 0||_.clearCanvas,context:_&&_.context||null,progressiveLoad:_&&_.progressiveLoad||!1,preserveAspectRatio:_&&_.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_&&_.contentVisibility||"visible",className:_&&_.className||"",id:_&&_.id||"",runExpressions:!_||_.runExpressions===void 0||_.runExpressions},this.renderConfig.dpr=_&&_.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_&&_.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(_e,_,et){this.initElement(_e,_,et)}function HShapeElement(_e,_,et){this.shapes=[],this.shapesData=_e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(_e,_,et),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(_e,_,et){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(_e,_,et)}function HCameraElement(_e,_,et){this.initFrame(),this.initBaseData(_e,_,et),this.initHierarchy();var tt=PropertyFactory.getProp;if(this.pe=tt(this,_e.pe,0,0,this),_e.ks.p.s?(this.px=tt(this,_e.ks.p.x,1,0,this),this.py=tt(this,_e.ks.p.y,1,0,this),this.pz=tt(this,_e.ks.p.z,1,0,this)):this.p=tt(this,_e.ks.p,1,0,this),_e.ks.a&&(this.a=tt(this,_e.ks.a,1,0,this)),_e.ks.or.k.length&&_e.ks.or.k[0].to){var nt,rt=_e.ks.or.k.length;for(nt=0;nt<rt;nt+=1)_e.ks.or.k[nt].to=null,_e.ks.or.k[nt].ti=null}this.or=tt(this,_e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=tt(this,_e.ks.rx,0,degToRads,this),this.ry=tt(this,_e.ks.ry,0,degToRads,this),this.rz=tt(this,_e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(_e,_,et){this.assetData=_.getAssetData(_e.refId),this.initElement(_e,_,et)}function HybridRendererBase(_e,_){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_&&_.className||"",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_&&_.hideOnTransparent===!1),filterSize:{width:_&&_.filterSize&&_.filterSize.width||"400%",height:_&&_.filterSize&&_.filterSize.height||"400%",x:_&&_.filterSize&&_.filterSize.x||"-100%",y:_&&_.filterSize&&_.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(_e,_,et){this.layers=_e.layers,this.supports3d=!_e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(_e,_,et),this.tm=_e.tm?PropertyFactory.getProp(this,_e.tm,0,_.frameRate,this):{_placeholder:!0}}function HybridRenderer(_e,_){this.animationItem=_e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_&&_.className||"",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_&&_.hideOnTransparent===!1),filterSize:{width:_&&_.filterSize&&_.filterSize.width||"400%",height:_&&_.filterSize&&_.filterSize.height||"400%",x:_&&_.filterSize&&_.filterSize.x||"-100%",y:_&&_.filterSize&&_.filterSize.y||"-100%"},runExpressions:!_||_.runExpressions===void 0||_.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var _e=this.globalData.canvasContext,_=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(_);var et=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(et),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var _e=this.globalData;if(_e.blendMode!==this.data.bm){_e.blendMode=this.data.bm;var _=getBlendMode(this.data.bm);_e.canvasContext.globalCompositeOperation=_}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(_e){_e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var _e=this.buffers[0].getContext("2d");this.clearCanvas(_e),_e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var _e=this.buffers[1],_=_e.getContext("2d");if(this.clearCanvas(_),_.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var et=assetLoader.getLumaCanvas(this.canvasContext.canvas);et.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(et,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(_e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(_e){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||_e)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var _=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(_),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(_),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(_e,_){var et={data:_e,type:_e.ty,preTransforms:this.transformsManager.addTransformSequence(_),transforms:[],elements:[],closed:_e.hd===!0},tt={};if(_e.ty==="fl"||_e.ty==="st"?(tt.c=PropertyFactory.getProp(this,_e.c,1,255,this),tt.c.k||(et.co="rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")")):_e.ty!=="gf"&&_e.ty!=="gs"||(tt.s=PropertyFactory.getProp(this,_e.s,1,null,this),tt.e=PropertyFactory.getProp(this,_e.e,1,null,this),tt.h=PropertyFactory.getProp(this,_e.h||{k:0},0,.01,this),tt.a=PropertyFactory.getProp(this,_e.a||{k:0},0,degToRads,this),tt.g=new GradientProperty(this,_e.g,this)),tt.o=PropertyFactory.getProp(this,_e.o,0,.01,this),_e.ty==="st"||_e.ty==="gs"){if(et.lc=lineCapEnum[_e.lc||2],et.lj=lineJoinEnum[_e.lj||2],_e.lj==1&&(et.ml=_e.ml),tt.w=PropertyFactory.getProp(this,_e.w,0,null,this),tt.w.k||(et.wi=tt.w.v),_e.d){var nt=new DashProperty(this,_e.d,"canvas",this);tt.d=nt,tt.d.k||(et.da=tt.d.dashArray,et.do=tt.d.dashoffset[0])}}else et.r=_e.r===2?"evenodd":"nonzero";return this.stylesList.push(et),tt.style=et,tt},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(_e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,_e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,_e,this)}}},CVShapeElement.prototype.createShapeElement=function(_e){var _=new CVShapeData(this,_e,this.stylesList,this.transformsManager);return this.shapes.push(_),this.addShapeToModifiers(_),_},CVShapeElement.prototype.reloadShapes=function(){var _e;this._isFirstFrame=!0;var _=this.itemsData.length;for(_e=0;_e<_;_e+=1)this.prevViewData[_e]=this.itemsData[_e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_=this.dynamicProperties.length,_e=0;_e<_;_e+=1)this.dynamicProperties[_e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(_e){var _,et=this.stylesList.length;for(_=0;_<et;_+=1)this.stylesList[_].closed||this.stylesList[_].transforms.push(_e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var _e,_=this.stylesList.length;for(_e=0;_e<_;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(_e){var _,et=_e.length;for(_=0;_<et;_+=1)_e[_].closed=!0},CVShapeElement.prototype.searchShapes=function(_e,_,et,tt,nt){var rt,it,st,ot,at,lt,ct=_e.length-1,ut=[],ft=[],ht=[].concat(nt);for(rt=ct;rt>=0;rt-=1){if((ot=this.searchProcessedElement(_e[rt]))?_[rt]=et[ot-1]:_e[rt]._shouldRender=tt,_e[rt].ty==="fl"||_e[rt].ty==="st"||_e[rt].ty==="gf"||_e[rt].ty==="gs")ot?_[rt].style.closed=!1:_[rt]=this.createStyleElement(_e[rt],ht),ut.push(_[rt].style);else if(_e[rt].ty==="gr"){if(ot)for(st=_[rt].it.length,it=0;it<st;it+=1)_[rt].prevViewData[it]=_[rt].it[it];else _[rt]=this.createGroupElement(_e[rt]);this.searchShapes(_e[rt].it,_[rt].it,_[rt].prevViewData,tt,ht)}else _e[rt].ty==="tr"?(ot||(lt=this.createTransformElement(_e[rt]),_[rt]=lt),ht.push(_[rt]),this.addTransformToStyleList(_[rt])):_e[rt].ty==="sh"||_e[rt].ty==="rc"||_e[rt].ty==="el"||_e[rt].ty==="sr"?ot||(_[rt]=this.createShapeElement(_e[rt])):_e[rt].ty==="tm"||_e[rt].ty==="rd"||_e[rt].ty==="pb"||_e[rt].ty==="zz"||_e[rt].ty==="op"?(ot?(at=_[rt]).closed=!1:((at=ShapeModifiers.getModifier(_e[rt].ty)).init(this,_e[rt]),_[rt]=at,this.shapeModifiers.push(at)),ft.push(at)):_e[rt].ty==="rp"&&(ot?(at=_[rt]).closed=!0:(at=ShapeModifiers.getModifier(_e[rt].ty),_[rt]=at,at.init(this,_e,rt,_),this.shapeModifiers.push(at),tt=!1),ft.push(at));this.addProcessedElement(_e[rt],rt+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ut),ct=ft.length,rt=0;rt<ct;rt+=1)ft[rt].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(_e,_){(_e._opMdf||_.op._mdf||this._isFirstFrame)&&(_.opacity=_e.opacity,_.opacity*=_.op.v,_._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var _e,_,et,tt,nt,rt,it,st,ot,at=this.stylesList.length,lt=this.globalData.renderer,ct=this.globalData.canvasContext;for(_e=0;_e<at;_e+=1)if(((st=(ot=this.stylesList[_e]).type)!=="st"&&st!=="gs"||ot.wi!==0)&&ot.data._shouldRender&&ot.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(lt.save(),rt=ot.elements,st==="st"||st==="gs"?(ct.strokeStyle=st==="st"?ot.co:ot.grd,ct.lineWidth=ot.wi,ct.lineCap=ot.lc,ct.lineJoin=ot.lj,ct.miterLimit=ot.ml||0):ct.fillStyle=st==="fl"?ot.co:ot.grd,lt.ctxOpacity(ot.coOp),st!=="st"&&st!=="gs"&&ct.beginPath(),lt.ctxTransform(ot.preTransforms.finalTransform.props),et=rt.length,_=0;_<et;_+=1){for(st!=="st"&&st!=="gs"||(ct.beginPath(),ot.da&&(ct.setLineDash(ot.da),ct.lineDashOffset=ot.do)),nt=(it=rt[_].trNodes).length,tt=0;tt<nt;tt+=1)it[tt].t==="m"?ct.moveTo(it[tt].p[0],it[tt].p[1]):it[tt].t==="c"?ct.bezierCurveTo(it[tt].pts[0],it[tt].pts[1],it[tt].pts[2],it[tt].pts[3],it[tt].pts[4],it[tt].pts[5]):ct.closePath();st!=="st"&&st!=="gs"||(ct.stroke(),ot.da&&ct.setLineDash(this.dashResetter))}st!=="st"&&st!=="gs"&&ct.fill(ot.r),lt.restore()}},CVShapeElement.prototype.renderShape=function(_e,_,et,tt){var nt,rt;for(rt=_e,nt=_.length-1;nt>=0;nt-=1)_[nt].ty==="tr"?(rt=et[nt].transform,this.renderShapeTransform(_e,rt)):_[nt].ty==="sh"||_[nt].ty==="el"||_[nt].ty==="rc"||_[nt].ty==="sr"?this.renderPath(_[nt],et[nt]):_[nt].ty==="fl"?this.renderFill(_[nt],et[nt],rt):_[nt].ty==="st"?this.renderStroke(_[nt],et[nt],rt):_[nt].ty==="gf"||_[nt].ty==="gs"?this.renderGradientFill(_[nt],et[nt],rt):_[nt].ty==="gr"?this.renderShape(rt,_[nt].it,et[nt].it):_[nt].ty;tt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(_e,_){if(this._isFirstFrame||_._mdf||_e.transforms._mdf){var et,tt,nt,rt=_e.trNodes,it=_.paths,st=it._length;rt.length=0;var ot=_e.transforms.finalTransform;for(nt=0;nt<st;nt+=1){var at=it.shapes[nt];if(at&&at.v){for(tt=at._length,et=1;et<tt;et+=1)et===1&&rt.push({t:"m",p:ot.applyToPointArray(at.v[0][0],at.v[0][1],0)}),rt.push({t:"c",pts:ot.applyToTriplePoints(at.o[et-1],at.i[et],at.v[et])});tt===1&&rt.push({t:"m",p:ot.applyToPointArray(at.v[0][0],at.v[0][1],0)}),at.c&&tt&&(rt.push({t:"c",pts:ot.applyToTriplePoints(at.o[et-1],at.i[0],at.v[0])}),rt.push({t:"z"}))}}_e.trNodes=rt}},CVShapeElement.prototype.renderPath=function(_e,_){if(_e.hd!==!0&&_e._shouldRender){var et,tt=_.styledShapes.length;for(et=0;et<tt;et+=1)this.renderStyledShape(_.styledShapes[et],_.sh)}},CVShapeElement.prototype.renderFill=function(_e,_,et){var tt=_.style;(_.c._mdf||this._isFirstFrame)&&(tt.co="rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")"),(_.o._mdf||et._opMdf||this._isFirstFrame)&&(tt.coOp=_.o.v*et.opacity)},CVShapeElement.prototype.renderGradientFill=function(_e,_,et){var tt,nt=_.style;if(!nt.grd||_.g._mdf||_.s._mdf||_.e._mdf||_e.t!==1&&(_.h._mdf||_.a._mdf)){var rt,it=this.globalData.canvasContext,st=_.s.v,ot=_.e.v;if(_e.t===1)tt=it.createLinearGradient(st[0],st[1],ot[0],ot[1]);else{var at=Math.sqrt(Math.pow(st[0]-ot[0],2)+Math.pow(st[1]-ot[1],2)),lt=Math.atan2(ot[1]-st[1],ot[0]-st[0]),ct=_.h.v;ct>=1?ct=.99:ct<=-1&&(ct=-.99);var ut=at*ct,ft=Math.cos(lt+_.a.v)*ut+st[0],ht=Math.sin(lt+_.a.v)*ut+st[1];tt=it.createRadialGradient(ft,ht,0,st[0],st[1],at)}var vt=_e.g.p,mt=_.g.c,pt=1;for(rt=0;rt<vt;rt+=1)_.g._hasOpacity&&_.g._collapsable&&(pt=_.g.o[2*rt+1]),tt.addColorStop(mt[4*rt]/100,"rgba("+mt[4*rt+1]+","+mt[4*rt+2]+","+mt[4*rt+3]+","+pt+")");nt.grd=tt}nt.coOp=_.o.v*et.opacity},CVShapeElement.prototype.renderStroke=function(_e,_,et){var tt=_.style,nt=_.d;nt&&(nt._mdf||this._isFirstFrame)&&(tt.da=nt.dashArray,tt.do=nt.dashoffset[0]),(_.c._mdf||this._isFirstFrame)&&(tt.co="rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")"),(_.o._mdf||et._opMdf||this._isFirstFrame)&&(tt.coOp=_.o.v*et.opacity),(_.w._mdf||this._isFirstFrame)&&(tt.wi=_.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var _=!1;_e.fc?(_=!0,this.values.fill=this.buildColor(_e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=_;var et=!1;_e.sc&&(et=!0,this.values.stroke=this.buildColor(_e.sc),this.values.sWidth=_e.sw);var tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,vt=this.globalData.fontManager.getFontByName(_e.f),mt=_e.l,pt=this.mHelper;this.stroke=et,this.values.fValue=_e.finalSize+"px "+this.globalData.fontManager.getFontByName(_e.f).fFamily,nt=_e.finalText.length;var yt=this.data.singleShape,_t=.001*_e.tr*_e.finalSize,St=0,Et=0,wt=!0,Mt=0;for(tt=0;tt<nt;tt+=1){it=(rt=this.globalData.fontManager.getCharData(_e.finalText[tt],vt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily))&&rt.data||{},pt.reset(),yt&&mt[tt].n&&(St=-_t,Et+=_e.yOffset,Et+=wt?1:0,wt=!1),ct=(at=it.shapes?it.shapes[0].it:[]).length,pt.scale(_e.finalSize/100,_e.finalSize/100),yt&&this.applyTextPropertiesToMatrix(_e,pt,mt[tt].line,St,Et),ft=createSizedArray(ct-1);var At=0;for(lt=0;lt<ct;lt+=1)if(at[lt].ty==="sh"){for(ot=at[lt].ks.k.i.length,ut=at[lt].ks.k,ht=[],st=1;st<ot;st+=1)st===1&&ht.push(pt.applyToX(ut.v[0][0],ut.v[0][1],0),pt.applyToY(ut.v[0][0],ut.v[0][1],0)),ht.push(pt.applyToX(ut.o[st-1][0],ut.o[st-1][1],0),pt.applyToY(ut.o[st-1][0],ut.o[st-1][1],0),pt.applyToX(ut.i[st][0],ut.i[st][1],0),pt.applyToY(ut.i[st][0],ut.i[st][1],0),pt.applyToX(ut.v[st][0],ut.v[st][1],0),pt.applyToY(ut.v[st][0],ut.v[st][1],0));ht.push(pt.applyToX(ut.o[st-1][0],ut.o[st-1][1],0),pt.applyToY(ut.o[st-1][0],ut.o[st-1][1],0),pt.applyToX(ut.i[0][0],ut.i[0][1],0),pt.applyToY(ut.i[0][0],ut.i[0][1],0),pt.applyToX(ut.v[0][0],ut.v[0][1],0),pt.applyToY(ut.v[0][0],ut.v[0][1],0)),ft[At]=ht,At+=1}yt&&(St+=mt[tt].l,St+=_t),this.textSpans[Mt]?this.textSpans[Mt].elem=ft:this.textSpans[Mt]={elem:ft},Mt+=1}},CVTextElement.prototype.renderInnerContent=function(){var _e,_,et,tt,nt,rt,it=this.canvasContext;it.font=this.values.fValue,it.lineCap="butt",it.lineJoin="miter",it.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var st,ot=this.textAnimator.renderedLetters,at=this.textProperty.currentData.l;_=at.length;var lt,ct,ut=null,ft=null,ht=null;for(_e=0;_e<_;_e+=1)if(!at[_e].n){if((st=ot[_e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(st.p),this.globalData.renderer.ctxOpacity(st.o)),this.fill){for(st&&st.fc?ut!==st.fc&&(ut=st.fc,it.fillStyle=st.fc):ut!==this.values.fill&&(ut=this.values.fill,it.fillStyle=this.values.fill),tt=(lt=this.textSpans[_e].elem).length,this.globalData.canvasContext.beginPath(),et=0;et<tt;et+=1)for(rt=(ct=lt[et]).length,this.globalData.canvasContext.moveTo(ct[0],ct[1]),nt=2;nt<rt;nt+=6)this.globalData.canvasContext.bezierCurveTo(ct[nt],ct[nt+1],ct[nt+2],ct[nt+3],ct[nt+4],ct[nt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(st&&st.sw?ht!==st.sw&&(ht=st.sw,it.lineWidth=st.sw):ht!==this.values.sWidth&&(ht=this.values.sWidth,it.lineWidth=this.values.sWidth),st&&st.sc?ft!==st.sc&&(ft=st.sc,it.strokeStyle=st.sc):ft!==this.values.stroke&&(ft=this.values.stroke,it.strokeStyle=this.values.stroke),tt=(lt=this.textSpans[_e].elem).length,this.globalData.canvasContext.beginPath(),et=0;et<tt;et+=1)for(rt=(ct=lt[et]).length,this.globalData.canvasContext.moveTo(ct[0],ct[1]),nt=2;nt<rt;nt+=6)this.globalData.canvasContext.bezierCurveTo(ct[nt],ct[nt+1],ct[nt+2],ct[nt+3],ct[nt+4],ct[nt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}st&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var _e=createTag("canvas");_e.width=this.assetData.w,_e.height=this.assetData.h;var _,et,tt=_e.getContext("2d"),nt=this.img.width,rt=this.img.height,it=nt/rt,st=this.assetData.w/this.assetData.h,ot=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;it>st&&ot==="xMidYMid slice"||it<st&&ot!=="xMidYMid slice"?_=(et=rt)*st:et=(_=nt)/st,tt.drawImage(this.img,(nt-_)/2,(rt-et)/2,_,et,0,0,this.assetData.w,this.assetData.h),this.img=_e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var _e=this.canvasContext;_e.fillStyle=this.data.sc,_e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(_e){return new CVShapeElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(_e){return new CVTextElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(_e){return new CVImageElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(_e){return new CVSolidElement(_e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(_e){if(_e[0]!==1||_e[1]!==0||_e[4]!==0||_e[5]!==1||_e[12]!==0||_e[13]!==0)if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(_e);var _=this.contextData.getTransform(),et=_.props;this.transformMat.transform(et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],et[8],et[9],et[10],et[11],et[12],et[13],et[14],et[15]),_.cloneFromProps(this.transformMat.props);var tt=_.props;this.canvasContext.setTransform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13])}else this.canvasContext.transform(_e[0],_e[1],_e[4],_e[5],_e[12],_e[13])},CanvasRendererBase.prototype.ctxOpacity=function(_e){var _=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=_e<0?0:_e,void(this.globalData.currentGlobalAlpha=_);_*=_e<0?0:_e,this.contextData.setOpacity(_),this.globalData.currentGlobalAlpha!==_&&(this.canvasContext.globalAlpha=_,this.globalData.currentGlobalAlpha=_)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(_e){this.renderConfig.clearCanvas?(_e&&this.canvasContext.save(),this.contextData.push()):this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(_e){if(this.renderConfig.clearCanvas){_e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var _=this.contextData.pop(),et=_.transform,tt=_.opacity;this.canvasContext.setTransform(et[0],et[1],et[4],et[5],et[12],et[13]),this.globalData.currentGlobalAlpha!==tt&&(this.canvasContext.globalAlpha=tt,this.globalData.currentGlobalAlpha=tt)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(_e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var _=this.animationItem.container.style;_.width="100%",_.height="100%";var et="0px 0px 0px";_.transformOrigin=et,_.mozTransformOrigin=et,_.webkitTransformOrigin=et,_["-webkit-transform"]=et,_.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=_e,this.layers=_e.layers,this.transformCanvas={w:_e.w,h:_e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(_e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(_e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(_e,_){var et,tt,nt,rt;if(this.reset(),_e?(et=_e,tt=_,this.canvasContext.canvas.width=et,this.canvasContext.canvas.height=tt):(this.animationItem.wrapper&&this.animationItem.container?(et=this.animationItem.wrapper.offsetWidth,tt=this.animationItem.wrapper.offsetHeight):(et=this.canvasContext.canvas.width,tt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=et*this.renderConfig.dpr,this.canvasContext.canvas.height=tt*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var it=this.renderConfig.preserveAspectRatio.split(" "),st=it[1]||"meet",ot=it[0]||"xMidYMid",at=ot.substr(0,4),lt=ot.substr(4);nt=et/tt,(rt=this.transformCanvas.w/this.transformCanvas.h)>nt&&st==="meet"||rt<nt&&st==="slice"?(this.transformCanvas.sx=et/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=et/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=tt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=tt/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=at==="xMid"&&(rt<nt&&st==="meet"||rt>nt&&st==="slice")?(et-this.transformCanvas.w*(tt/this.transformCanvas.h))/2*this.renderConfig.dpr:at==="xMax"&&(rt<nt&&st==="meet"||rt>nt&&st==="slice")?(et-this.transformCanvas.w*(tt/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=lt==="YMid"&&(rt>nt&&st==="meet"||rt<nt&&st==="slice")?(tt-this.transformCanvas.h*(et/this.transformCanvas.w))/2*this.renderConfig.dpr:lt==="YMax"&&(rt>nt&&st==="meet"||rt<nt&&st==="slice")?(tt-this.transformCanvas.h*(et/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=et/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=tt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var _e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),_e=(this.layers?this.layers.length:0)-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(_e,_){if((this.renderedFrame!==_e||this.renderConfig.clearCanvas!==!0||_)&&!this.destroyed&&_e!==-1){var et;this.renderedFrame=_e,this.globalData.frameNum=_e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||_,this.globalData.projectInterface.currentFrame=_e;var tt=this.layers.length;for(this.completeLayers||this.checkLayers(_e),et=0;et<tt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].prepareFrame(_e-this.layers[et].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),et=tt-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(_e){var _=this.elements;if(!_[_e]&&this.layers[_e].ty!==99){var et=this.createItem(this.layers[_e],this,this.globalData);_[_e]=et,et.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var _e,_=this.canvasContext;for(_.beginPath(),_.moveTo(0,0),_.lineTo(this.data.w,0),_.lineTo(this.data.w,this.data.h),_.lineTo(0,this.data.h),_.lineTo(0,0),_.clip(),_e=this.layers.length-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},CVCompElement.prototype.destroy=function(){var _e;for(_e=this.layers.length-1;_e>=0;_e-=1)this.elements[_e]&&this.elements[_e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(_e){return new CVCompElement(_e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(_e){return new CVCompElement(_e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var _e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var _=this.finalTransform.mat.toCSS();_e.transform=_,_e.webkitTransform=_}this.finalTransform._opMdf&&(_e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var _e;this.data.hasMask?((_e=createNS("rect")).setAttribute("width",this.data.sw),_e.setAttribute("height",this.data.sh),_e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((_e=createTag("div")).style.width=this.data.sw+"px",_e.style.height=this.data.sh+"px",_e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(_e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var _e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),_e=this.svgElement;else{_e=createNS("svg");var _=this.comp.data?this.comp.data:this.globalData.compSize;_e.setAttribute("width",_.w),_e.setAttribute("height",_.h),_e.appendChild(this.shapesContainer),this.layerElement.appendChild(_e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=_e},HShapeElement.prototype.getTransformedPoint=function(_e,_){var et,tt=_e.length;for(et=0;et<tt;et+=1)_=_e[et].mProps.v.applyToPointArray(_[0],_[1],0);return _},HShapeElement.prototype.calculateShapeBoundingBox=function(_e,_){var et,tt,nt,rt,it,st=_e.sh.v,ot=_e.transformers,at=st._length;if(!(at<=1)){for(et=0;et<at-1;et+=1)tt=this.getTransformedPoint(ot,st.v[et]),nt=this.getTransformedPoint(ot,st.o[et]),rt=this.getTransformedPoint(ot,st.i[et+1]),it=this.getTransformedPoint(ot,st.v[et+1]),this.checkBounds(tt,nt,rt,it,_);st.c&&(tt=this.getTransformedPoint(ot,st.v[et]),nt=this.getTransformedPoint(ot,st.o[et]),rt=this.getTransformedPoint(ot,st.i[0]),it=this.getTransformedPoint(ot,st.v[0]),this.checkBounds(tt,nt,rt,it,_))}},HShapeElement.prototype.checkBounds=function(_e,_,et,tt,nt){this.getBoundsOfCurve(_e,_,et,tt);var rt=this.shapeBoundingBox;nt.x=bmMin(rt.left,nt.x),nt.xMax=bmMax(rt.right,nt.xMax),nt.y=bmMin(rt.top,nt.y),nt.yMax=bmMax(rt.bottom,nt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(_e,_,et,tt){for(var nt,rt,it,st,ot,at,lt,ct=[[_e[0],tt[0]],[_e[1],tt[1]]],ut=0;ut<2;++ut)rt=6*_e[ut]-12*_[ut]+6*et[ut],nt=-3*_e[ut]+9*_[ut]-9*et[ut]+3*tt[ut],it=3*_[ut]-3*_e[ut],rt|=0,it|=0,(nt|=0)===0&&rt===0||(nt===0?(st=-it/rt)>0&&st<1&&ct[ut].push(this.calculateF(st,_e,_,et,tt,ut)):(ot=rt*rt-4*it*nt)>=0&&((at=(-rt+bmSqrt(ot))/(2*nt))>0&&at<1&&ct[ut].push(this.calculateF(at,_e,_,et,tt,ut)),(lt=(-rt-bmSqrt(ot))/(2*nt))>0&&lt<1&&ct[ut].push(this.calculateF(lt,_e,_,et,tt,ut))));this.shapeBoundingBox.left=bmMin.apply(null,ct[0]),this.shapeBoundingBox.top=bmMin.apply(null,ct[1]),this.shapeBoundingBox.right=bmMax.apply(null,ct[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ct[1])},HShapeElement.prototype.calculateF=function(_e,_,et,tt,nt,rt){return bmPow(1-_e,3)*_[rt]+3*bmPow(1-_e,2)*_e*et[rt]+3*(1-_e)*bmPow(_e,2)*tt[rt]+bmPow(_e,3)*nt[rt]},HShapeElement.prototype.calculateBoundingBox=function(_e,_){var et,tt=_e.length;for(et=0;et<tt;et+=1)_e[et]&&_e[et].sh?this.calculateShapeBoundingBox(_e[et],_):_e[et]&&_e[et].it?this.calculateBoundingBox(_e[et].it,_):_e[et]&&_e[et].style&&_e[et].w&&this.expandStrokeBoundingBox(_e[et].w,_)},HShapeElement.prototype.expandStrokeBoundingBox=function(_e,_){var et=0;if(_e.keyframes){for(var tt=0;tt<_e.keyframes.length;tt+=1){var nt=_e.keyframes[tt].s;nt>et&&(et=nt)}et*=_e.mult}else et=_e.v*_e.mult;_.x-=et,_.xMax+=et,_.y-=et,_.yMax+=et},HShapeElement.prototype.currentBoxContains=function(_e){return this.currentBBox.x<=_e.x&&this.currentBBox.y<=_e.y&&this.currentBBox.width+this.currentBBox.x>=_e.x+_e.width&&this.currentBBox.height+this.currentBBox.y>=_e.y+_e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var _e=this.tempBoundingBox,_=999999;if(_e.x=_,_e.xMax=-_,_e.y=_,_e.yMax=-_,this.calculateBoundingBox(this.itemsData,_e),_e.width=_e.xMax<_e.x?0:_e.xMax-_e.x,_e.height=_e.yMax<_e.y?0:_e.yMax-_e.y,this.currentBoxContains(_e))return;var et=!1;if(this.currentBBox.w!==_e.width&&(this.currentBBox.w=_e.width,this.shapeCont.setAttribute("width",_e.width),et=!0),this.currentBBox.h!==_e.height&&(this.currentBBox.h=_e.height,this.shapeCont.setAttribute("height",_e.height),et=!0),et||this.currentBBox.x!==_e.x||this.currentBBox.y!==_e.y){this.currentBBox.w=_e.width,this.currentBBox.h=_e.height,this.currentBBox.x=_e.x,this.currentBBox.y=_e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var tt=this.shapeCont.style,nt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";tt.transform=nt,tt.webkitTransform=nt}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var _e=createNS("g");this.maskedElement.appendChild(_e),this.innerElem=_e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var _e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e.l?_e.l.length:0);var _=this.innerElem.style,et=_e.fc?this.buildColor(_e.fc):"rgba(0,0,0,0)";_.fill=et,_.color=et,_e.sc&&(_.stroke=this.buildColor(_e.sc),_.strokeWidth=_e.sw+"px");var tt,nt,rt=this.globalData.fontManager.getFontByName(_e.f);if(!this.globalData.fontManager.chars)if(_.fontSize=_e.finalSize+"px",_.lineHeight=_e.finalSize+"px",rt.fClass)this.innerElem.className=rt.fClass;else{_.fontFamily=rt.fFamily;var it=_e.fWeight,st=_e.fStyle;_.fontStyle=st,_.fontWeight=it}var ot,at,lt,ct=_e.l;nt=ct.length;var ut,ft=this.mHelper,ht="",vt=0;for(tt=0;tt<nt;tt+=1){if(this.globalData.fontManager.chars?(this.textPaths[vt]?ot=this.textPaths[vt]:((ot=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),ot.setAttribute("stroke-linejoin",lineJoinEnum[2]),ot.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[vt]?lt=(at=this.textSpans[vt]).children[0]:((at=createTag("div")).style.lineHeight=0,(lt=createNS("svg")).appendChild(ot),styleDiv(at)))):this.isMasked?ot=this.textPaths[vt]?this.textPaths[vt]:createNS("text"):this.textSpans[vt]?(at=this.textSpans[vt],ot=this.textPaths[vt]):(styleDiv(at=createTag("span")),styleDiv(ot=createTag("span")),at.appendChild(ot)),this.globalData.fontManager.chars){var mt,pt=this.globalData.fontManager.getCharData(_e.finalText[tt],rt.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily);if(mt=pt?pt.data:null,ft.reset(),mt&&mt.shapes&&mt.shapes.length&&(ut=mt.shapes[0].it,ft.scale(_e.finalSize/100,_e.finalSize/100),ht=this.createPathShape(ft,ut),ot.setAttribute("d",ht)),this.isMasked)this.innerElem.appendChild(ot);else{if(this.innerElem.appendChild(at),mt&&mt.shapes){document.body.appendChild(lt);var yt=lt.getBBox();lt.setAttribute("width",yt.width+2),lt.setAttribute("height",yt.height+2),lt.setAttribute("viewBox",yt.x-1+" "+(yt.y-1)+" "+(yt.width+2)+" "+(yt.height+2));var _t=lt.style,St="translate("+(yt.x-1)+"px,"+(yt.y-1)+"px)";_t.transform=St,_t.webkitTransform=St,ct[tt].yOffset=yt.y-1}else lt.setAttribute("width",1),lt.setAttribute("height",1);at.appendChild(lt)}}else if(ot.textContent=ct[tt].val,ot.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ot);else{this.innerElem.appendChild(at);var Et=ot.style,wt="translate3d(0,"+-_e.finalSize/1.2+"px,0)";Et.transform=wt,Et.webkitTransform=wt}this.isMasked?this.textSpans[vt]=ot:this.textSpans[vt]=at,this.textSpans[vt].style.display="block",this.textPaths[vt]=ot,vt+=1}for(;vt<this.textSpans.length;)this.textSpans[vt].style.display="none",vt+=1},HTextElement.prototype.renderInnerContent=function(){var _e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),_e=this.svgElement.style;var _="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";_e.transform=_,_e.webkitTransform=_}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var et,tt,nt,rt,it,st=0,ot=this.textAnimator.renderedLetters,at=this.textProperty.currentData.l;for(tt=at.length,et=0;et<tt;et+=1)at[et].n?st+=1:(rt=this.textSpans[et],it=this.textPaths[et],nt=ot[st],st+=1,nt._mdf.m&&(this.isMasked?rt.setAttribute("transform",nt.m):(rt.style.webkitTransform=nt.m,rt.style.transform=nt.m)),rt.style.opacity=nt.o,nt.sw&&nt._mdf.sw&&it.setAttribute("stroke-width",nt.sw),nt.sc&&nt._mdf.sc&&it.setAttribute("stroke",nt.sc),nt.fc&&nt._mdf.fc&&(it.setAttribute("fill",nt.fc),it.style.color=nt.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var lt=this.innerElem.getBBox();if(this.currentBBox.w!==lt.width&&(this.currentBBox.w=lt.width,this.svgElement.setAttribute("width",lt.width)),this.currentBBox.h!==lt.height&&(this.currentBBox.h=lt.height,this.svgElement.setAttribute("height",lt.height)),this.currentBBox.w!==lt.width+2||this.currentBBox.h!==lt.height+2||this.currentBBox.x!==lt.x-1||this.currentBBox.y!==lt.y-1){this.currentBBox.w=lt.width+2,this.currentBBox.h=lt.height+2,this.currentBBox.x=lt.x-1,this.currentBBox.y=lt.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),_e=this.svgElement.style;var ct="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_e.transform=ct,_e.webkitTransform=ct}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var _e,_,et,tt,nt=this.comp.threeDElements.length;for(_e=0;_e<nt;_e+=1)if((_=this.comp.threeDElements[_e]).type==="3d"){et=_.perspectiveElem.style,tt=_.container.style;var rt=this.pe.v+"px",it="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";et.perspective=rt,et.webkitPerspective=rt,tt.transformOrigin="0px 0px 0px",tt.mozTransformOrigin="0px 0px 0px",tt.webkitTransformOrigin="0px 0px 0px",et.transform=it,et.webkitTransform=it}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var _e,_,et=this._isFirstFrame;if(this.hierarchy)for(_=this.hierarchy.length,_e=0;_e<_;_e+=1)et=this.hierarchy[_e].finalTransform.mProp._mdf||et;if(et||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(_e=_=this.hierarchy.length-1;_e>=0;_e-=1){var tt=this.hierarchy[_e].finalTransform.mProp;this.mat.translate(-tt.p.v[0],-tt.p.v[1],tt.p.v[2]),this.mat.rotateX(-tt.or.v[0]).rotateY(-tt.or.v[1]).rotateZ(tt.or.v[2]),this.mat.rotateX(-tt.rx.v).rotateY(-tt.ry.v).rotateZ(tt.rz.v),this.mat.scale(1/tt.s.v[0],1/tt.s.v[1],1/tt.s.v[2]),this.mat.translate(tt.a.v[0],tt.a.v[1],tt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var nt;nt=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var rt=Math.sqrt(Math.pow(nt[0],2)+Math.pow(nt[1],2)+Math.pow(nt[2],2)),it=[nt[0]/rt,nt[1]/rt,nt[2]/rt],st=Math.sqrt(it[2]*it[2]+it[0]*it[0]),ot=Math.atan2(it[1],st),at=Math.atan2(it[0],-it[2]);this.mat.rotateY(at).rotateX(-ot)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var lt=!this._prevMat.equals(this.mat);if((lt||this.pe._mdf)&&this.comp.threeDElements){var ct,ut,ft;for(_=this.comp.threeDElements.length,_e=0;_e<_;_e+=1)if((ct=this.comp.threeDElements[_e]).type==="3d"){if(lt){var ht=this.mat.toCSS();(ft=ct.container.style).transform=ht,ft.webkitTransform=ht}this.pe._mdf&&((ut=ct.perspectiveElem.style).perspective=this.pe.v+"px",ut.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(_e){this.prepareProperties(_e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var _e=this.globalData.getAssetsPath(this.assetData),_=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",_e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(_),_.crossOrigin="anonymous",_.src=_e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(_e,_){var et=_e.getBaseElement();if(et){var tt=this.layers[_];if(tt.ddd&&this.supports3d)this.addTo3dContainer(et,_);else if(this.threeDElements)this.addTo3dContainer(et,_);else{for(var nt,rt,it=0;it<_;)this.elements[it]&&this.elements[it]!==!0&&this.elements[it].getBaseElement&&(rt=this.elements[it],nt=(this.layers[it].ddd?this.getThreeDContainerByPos(it):rt.getBaseElement())||nt),it+=1;nt?tt.ddd&&this.supports3d||this.layerElement.insertBefore(et,nt):tt.ddd&&this.supports3d||this.layerElement.appendChild(et)}}},HybridRendererBase.prototype.createShape=function(_e){return this.supports3d?new HShapeElement(_e,this.globalData,this):new SVGShapeElement(_e,this.globalData,this)},HybridRendererBase.prototype.createText=function(_e){return this.supports3d?new HTextElement(_e,this.globalData,this):new SVGTextLottieElement(_e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(_e){return this.camera=new HCameraElement(_e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(_e){return this.supports3d?new HImageElement(_e,this.globalData,this):new IImageElement(_e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(_e){return this.supports3d?new HSolidElement(_e,this.globalData,this):new ISolidElement(_e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(_e){for(var _=0,et=this.threeDElements.length;_<et;){if(this.threeDElements[_].startPos<=_e&&this.threeDElements[_].endPos>=_e)return this.threeDElements[_].perspectiveElem;_+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(_e,_){var et,tt,nt=createTag("div");styleDiv(nt);var rt=createTag("div");if(styleDiv(rt),_==="3d"){(et=nt.style).width=this.globalData.compSize.w+"px",et.height=this.globalData.compSize.h+"px",et.webkitTransformOrigin="50% 50%",et.mozTransformOrigin="50% 50%",et.transformOrigin="50% 50%";var it="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(tt=rt.style).transform=it,tt.webkitTransform=it}nt.appendChild(rt);var st={container:rt,perspectiveElem:nt,startPos:_e,endPos:_e,type:_};return this.threeDElements.push(st),st},HybridRendererBase.prototype.build3dContainers=function(){var _e,_,et=this.layers.length,tt="";for(_e=0;_e<et;_e+=1)this.layers[_e].ddd&&this.layers[_e].ty!==3?(tt!=="3d"&&(tt="3d",_=this.createThreeDContainer(_e,"3d")),_.endPos=Math.max(_.endPos,_e)):(tt!=="2d"&&(tt="2d",_=this.createThreeDContainer(_e,"2d")),_.endPos=Math.max(_.endPos,_e));for(_e=(et=this.threeDElements.length)-1;_e>=0;_e-=1)this.resizerElem.appendChild(this.threeDElements[_e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(_e,_){for(var et=0,tt=this.threeDElements.length;et<tt;){if(_<=this.threeDElements[et].endPos){for(var nt,rt=this.threeDElements[et].startPos;rt<_;)this.elements[rt]&&this.elements[rt].getBaseElement&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.threeDElements[et].container.insertBefore(_e,nt):this.threeDElements[et].container.appendChild(_e);break}et+=1}},HybridRendererBase.prototype.configAnimation=function(_e){var _=createTag("div"),et=this.animationItem.wrapper,tt=_.style;tt.width=_e.w+"px",tt.height=_e.h+"px",this.resizerElem=_,styleDiv(_),tt.transformStyle="flat",tt.mozTransformStyle="flat",tt.webkitTransformStyle="flat",this.renderConfig.className&&_.setAttribute("class",this.renderConfig.className),et.appendChild(_),tt.overflow="hidden";var nt=createNS("svg");nt.setAttribute("width","1"),nt.setAttribute("height","1"),styleDiv(nt),this.resizerElem.appendChild(nt);var rt=createNS("defs");nt.appendChild(rt),this.data=_e,this.setupGlobalData(_e,nt),this.globalData.defs=rt,this.layers=_e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var _e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var _=this.layers?this.layers.length:0;for(_e=0;_e<_;_e+=1)this.elements[_e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var _e,_,et,tt,nt=this.animationItem.wrapper.offsetWidth,rt=this.animationItem.wrapper.offsetHeight,it=nt/rt;this.globalData.compSize.w/this.globalData.compSize.h>it?(_e=nt/this.globalData.compSize.w,_=nt/this.globalData.compSize.w,et=0,tt=(rt-this.globalData.compSize.h*(nt/this.globalData.compSize.w))/2):(_e=rt/this.globalData.compSize.h,_=rt/this.globalData.compSize.h,et=(nt-this.globalData.compSize.w*(rt/this.globalData.compSize.h))/2,tt=0);var st=this.resizerElem.style;st.webkitTransform="matrix3d("+_e+",0,0,0,0,"+_+",0,0,0,0,1,0,"+et+","+tt+",0,1)",st.transform=st.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var _e,_=this.globalData.compSize.w,et=this.globalData.compSize.h,tt=this.threeDElements.length;for(_e=0;_e<tt;_e+=1){var nt=this.threeDElements[_e].perspectiveElem.style;nt.webkitPerspective=Math.sqrt(Math.pow(_,2)+Math.pow(et,2))+"px",nt.perspective=nt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(_e){var _,et=_e.length,tt=createTag("div");for(_=0;_<et;_+=1)if(_e[_].xt){var nt=this.createComp(_e[_],tt,this.globalData.comp,null);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(_e,_){for(var et,tt=0;tt<_;)this.elements[tt]&&this.elements[tt].getBaseElement&&(et=this.elements[tt].getBaseElement()),tt+=1;et?this.layerElement.insertBefore(_e,et):this.layerElement.appendChild(_e)},HCompElement.prototype.createComp=function(_e){return this.supports3d?new HCompElement(_e,this.globalData,this):new SVGCompElement(_e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(_e){return this.supports3d?new HCompElement(_e,this.globalData,this):new SVGCompElement(_e,this.globalData,this)};var CompExpressionInterface=function(_e){function _(et){for(var tt=0,nt=_e.layers.length;tt<nt;){if(_e.layers[tt].nm===et||_e.layers[tt].ind===et)return _e.elements[tt].layerInterface;tt+=1}return null}return Object.defineProperty(_,"_name",{value:_e.data.nm}),_.layer=_,_.pixelAspect=1,_.height=_e.data.h||_e.globalData.compSize.h,_.width=_e.data.w||_e.globalData.compSize.w,_.pixelAspect=1,_.frameDuration=1/_e.globalData.frameRate,_.displayStartTime=0,_.numLayers=_e.layers.length,_},Expressions=function(){var _e={};return _e.initExpressions=function(_){var et=0,tt=[];_.renderer.compInterface=CompExpressionInterface(_.renderer),_.renderer.globalData.projectInterface.registerComposition(_.renderer),_.renderer.globalData.pushExpression=function(){et+=1},_.renderer.globalData.popExpression=function(){(et-=1)===0&&function(){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)tt[nt].release();tt.length=0}()},_.renderer.globalData.registerExpressionProperty=function(nt){tt.indexOf(nt)===-1&&tt.push(nt)}},_e}(),MaskManagerInterface=function(){function _e(_,et){this._mask=_,this._data=et}return Object.defineProperty(_e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(_e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(_){var et,tt=createSizedArray(_.viewData.length),nt=_.viewData.length;for(et=0;et<nt;et+=1)tt[et]=new _e(_.viewData[et],_.masksProperties[et]);return function(rt){for(et=0;et<nt;){if(_.masksProperties[et].nm===rt)return tt[et];et+=1}return null}}}(),ExpressionPropertyInterface=function(){var _e={pv:0,v:0,mult:1},_={pv:[0,0,0],v:[0,0,0],mult:1};function et(nt,rt,it){Object.defineProperty(nt,"velocity",{get:function(){return rt.getVelocityAtTime(rt.comp.currentFrame)}}),nt.numKeys=rt.keyframes?rt.keyframes.length:0,nt.key=function(st){if(!nt.numKeys)return 0;var ot="";ot="s"in rt.keyframes[st-1]?rt.keyframes[st-1].s:"e"in rt.keyframes[st-2]?rt.keyframes[st-2].e:rt.keyframes[st-2].s;var at=it==="unidimensional"?new Number(ot):Object.assign({},ot);return at.time=rt.keyframes[st-1].t/rt.elem.comp.globalData.frameRate,at.value=it==="unidimensional"?ot[0]:ot,at},nt.valueAtTime=rt.getValueAtTime,nt.speedAtTime=rt.getSpeedAtTime,nt.velocityAtTime=rt.getVelocityAtTime,nt.propertyGroup=rt.propertyGroup}function tt(){return _e}return function(nt){return nt?nt.propType==="unidimensional"?function(rt){rt&&"pv"in rt||(rt=_e);var it=1/rt.mult,st=rt.pv*it,ot=new Number(st);return ot.value=st,et(ot,rt,"unidimensional"),function(){return rt.k&&rt.getValue(),st=rt.v*it,ot.value!==st&&((ot=new Number(st)).value=st,et(ot,rt,"unidimensional")),ot}}(nt):function(rt){rt&&"pv"in rt||(rt=_);var it=1/rt.mult,st=rt.data&&rt.data.l||rt.pv.length,ot=createTypedArray("float32",st),at=createTypedArray("float32",st);return ot.value=at,et(ot,rt,"multidimensional"),function(){rt.k&&rt.getValue();for(var lt=0;lt<st;lt+=1)at[lt]=rt.v[lt]*it,ot[lt]=at[lt];return ot}}(nt):tt}}(),TransformExpressionInterface=function(_e){function _(it){switch(it){case"scale":case"Scale":case"ADBE Scale":case 6:return _.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _.rotation;case"ADBE Rotate X":return _.xRotation;case"ADBE Rotate Y":return _.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _.position;case"ADBE Position_0":return _.xPosition;case"ADBE Position_1":return _.yPosition;case"ADBE Position_2":return _.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _.anchorPoint;case"opacity":case"Opacity":case 11:return _.opacity;default:return null}}var et,tt,nt,rt;return Object.defineProperty(_,"rotation",{get:ExpressionPropertyInterface(_e.r||_e.rz)}),Object.defineProperty(_,"zRotation",{get:ExpressionPropertyInterface(_e.rz||_e.r)}),Object.defineProperty(_,"xRotation",{get:ExpressionPropertyInterface(_e.rx)}),Object.defineProperty(_,"yRotation",{get:ExpressionPropertyInterface(_e.ry)}),Object.defineProperty(_,"scale",{get:ExpressionPropertyInterface(_e.s)}),_e.p?rt=ExpressionPropertyInterface(_e.p):(et=ExpressionPropertyInterface(_e.px),tt=ExpressionPropertyInterface(_e.py),_e.pz&&(nt=ExpressionPropertyInterface(_e.pz))),Object.defineProperty(_,"position",{get:function(){return _e.p?rt():[et(),tt(),nt?nt():0]}}),Object.defineProperty(_,"xPosition",{get:ExpressionPropertyInterface(_e.px)}),Object.defineProperty(_,"yPosition",{get:ExpressionPropertyInterface(_e.py)}),Object.defineProperty(_,"zPosition",{get:ExpressionPropertyInterface(_e.pz)}),Object.defineProperty(_,"anchorPoint",{get:ExpressionPropertyInterface(_e.a)}),Object.defineProperty(_,"opacity",{get:ExpressionPropertyInterface(_e.o)}),Object.defineProperty(_,"skew",{get:ExpressionPropertyInterface(_e.sk)}),Object.defineProperty(_,"skewAxis",{get:ExpressionPropertyInterface(_e.sa)}),Object.defineProperty(_,"orientation",{get:ExpressionPropertyInterface(_e.or)}),_},LayerExpressionInterface=function(){function _e(at){var lt=new Matrix;return at!==void 0?this._elem.finalTransform.mProp.getValueAtTime(at).clone(lt):this._elem.finalTransform.mProp.applyToMatrix(lt),lt}function _(at,lt){var ct=this.getMatrix(lt);return ct.props[12]=0,ct.props[13]=0,ct.props[14]=0,this.applyPoint(ct,at)}function et(at,lt){var ct=this.getMatrix(lt);return this.applyPoint(ct,at)}function tt(at,lt){var ct=this.getMatrix(lt);return ct.props[12]=0,ct.props[13]=0,ct.props[14]=0,this.invertPoint(ct,at)}function nt(at,lt){var ct=this.getMatrix(lt);return this.invertPoint(ct,at)}function rt(at,lt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ct,ut=this._elem.hierarchy.length;for(ct=0;ct<ut;ct+=1)this._elem.hierarchy[ct].finalTransform.mProp.applyToMatrix(at)}return at.applyToPointArray(lt[0],lt[1],lt[2]||0)}function it(at,lt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ct,ut=this._elem.hierarchy.length;for(ct=0;ct<ut;ct+=1)this._elem.hierarchy[ct].finalTransform.mProp.applyToMatrix(at)}return at.inversePoint(lt)}function st(at){var lt=new Matrix;if(lt.reset(),this._elem.finalTransform.mProp.applyToMatrix(lt),this._elem.hierarchy&&this._elem.hierarchy.length){var ct,ut=this._elem.hierarchy.length;for(ct=0;ct<ut;ct+=1)this._elem.hierarchy[ct].finalTransform.mProp.applyToMatrix(lt);return lt.inversePoint(at)}return lt.inversePoint(at)}function ot(){return[1,1,1,1]}return function(at){var lt;function ct(ft){switch(ft){case"ADBE Root Vectors Group":case"Contents":case 2:return ct.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return lt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ct.effect;case"ADBE Text Properties":return ct.textInterface;default:return null}}ct.getMatrix=_e,ct.invertPoint=it,ct.applyPoint=rt,ct.toWorld=et,ct.toWorldVec=_,ct.fromWorld=nt,ct.fromWorldVec=tt,ct.toComp=et,ct.fromComp=st,ct.sampleImage=ot,ct.sourceRectAtTime=at.sourceRectAtTime.bind(at),ct._elem=at;var ut=getDescriptor(lt=TransformExpressionInterface(at.finalTransform.mProp),"anchorPoint");return Object.defineProperties(ct,{hasParent:{get:function(){return at.hierarchy.length}},parent:{get:function(){return at.hierarchy[0].layerInterface}},rotation:getDescriptor(lt,"rotation"),scale:getDescriptor(lt,"scale"),position:getDescriptor(lt,"position"),opacity:getDescriptor(lt,"opacity"),anchorPoint:ut,anchor_point:ut,transform:{get:function(){return lt}},active:{get:function(){return at.isInRange}}}),ct.startTime=at.data.st,ct.index=at.data.ind,ct.source=at.data.refId,ct.height=at.data.ty===0?at.data.h:100,ct.width=at.data.ty===0?at.data.w:100,ct.inPoint=at.data.ip/at.comp.globalData.frameRate,ct.outPoint=at.data.op/at.comp.globalData.frameRate,ct._name=at.data.nm,ct.registerMaskInterface=function(ft){ct.mask=new MaskManagerInterface(ft,at)},ct.registerEffectsInterface=function(ft){ct.effect=ft},ct}}(),propertyGroupFactory=function(_e,_){return function(et){return(et=et===void 0?1:et)<=0?_e:_(et-1)}},PropertyInterface=function(_e,_){var et={_name:_e};return function(tt){return(tt=tt===void 0?1:tt)<=0?et:_(tt-1)}},EffectsExpressionInterface=function(){function _e(et,tt,nt,rt){function it(ct){for(var ut=et.ef,ft=0,ht=ut.length;ft<ht;){if(ct===ut[ft].nm||ct===ut[ft].mn||ct===ut[ft].ix)return ut[ft].ty===5?at[ft]:at[ft]();ft+=1}throw new Error}var st,ot=propertyGroupFactory(it,nt),at=[],lt=et.ef.length;for(st=0;st<lt;st+=1)et.ef[st].ty===5?at.push(_e(et.ef[st],tt.effectElements[st],tt.effectElements[st].propertyGroup,rt)):at.push(_(tt.effectElements[st],et.ef[st].ty,rt,ot));return et.mn==="ADBE Color Control"&&Object.defineProperty(it,"color",{get:function(){return at[0]()}}),Object.defineProperties(it,{numProperties:{get:function(){return et.np}},_name:{value:et.nm},propertyGroup:{value:ot}}),it.enabled=et.en!==0,it.active=it.enabled,it}function _(et,tt,nt,rt){var it=ExpressionPropertyInterface(et.p);return et.p.setGroupProperty&&et.p.setGroupProperty(PropertyInterface("",rt)),function(){return tt===10?nt.comp.compInterface(et.p.v):it()}}return{createEffectsInterface:function(et,tt){if(et.effectsManager){var nt,rt=[],it=et.data.ef,st=et.effectsManager.effectElements.length;for(nt=0;nt<st;nt+=1)rt.push(_e(it[nt],et.effectsManager.effectElements[nt],tt,et));var ot=et.data.ef||[],at=function(lt){for(nt=0,st=ot.length;nt<st;){if(lt===ot[nt].nm||lt===ot[nt].mn||lt===ot[nt].ix)return rt[nt];nt+=1}return null};return Object.defineProperty(at,"numProperties",{get:function(){return ot.length}}),at}return null}}}(),ShapePathInterface=function(_e,_,et){var tt=_.sh;function nt(it){return it==="Shape"||it==="shape"||it==="Path"||it==="path"||it==="ADBE Vector Shape"||it===2?nt.path:null}var rt=propertyGroupFactory(nt,et);return tt.setGroupProperty(PropertyInterface("Path",rt)),Object.defineProperties(nt,{path:{get:function(){return tt.k&&tt.getValue(),tt}},shape:{get:function(){return tt.k&&tt.getValue(),tt}},_name:{value:_e.nm},ix:{value:_e.ix},propertyIndex:{value:_e.ix},mn:{value:_e.mn},propertyGroup:{value:et}}),nt},ShapeExpressionInterface=function(){function _e(ft,ht,vt){var mt,pt=[],yt=ft?ft.length:0;for(mt=0;mt<yt;mt+=1)ft[mt].ty==="gr"?pt.push(_(ft[mt],ht[mt],vt)):ft[mt].ty==="fl"?pt.push(et(ft[mt],ht[mt],vt)):ft[mt].ty==="st"?pt.push(rt(ft[mt],ht[mt],vt)):ft[mt].ty==="tm"?pt.push(it(ft[mt],ht[mt],vt)):ft[mt].ty==="tr"||(ft[mt].ty==="el"?pt.push(ot(ft[mt],ht[mt],vt)):ft[mt].ty==="sr"?pt.push(at(ft[mt],ht[mt],vt)):ft[mt].ty==="sh"?pt.push(ShapePathInterface(ft[mt],ht[mt],vt)):ft[mt].ty==="rc"?pt.push(lt(ft[mt],ht[mt],vt)):ft[mt].ty==="rd"?pt.push(ct(ft[mt],ht[mt],vt)):ft[mt].ty==="rp"?pt.push(ut(ft[mt],ht[mt],vt)):ft[mt].ty==="gf"?pt.push(tt(ft[mt],ht[mt],vt)):pt.push(nt(ft[mt],ht[mt])));return pt}function _(ft,ht,vt){var mt=function(_t){switch(_t){case"ADBE Vectors Group":case"Contents":case 2:return mt.content;default:return mt.transform}};mt.propertyGroup=propertyGroupFactory(mt,vt);var pt=function(_t,St,Et){var wt,Mt=function(Tt){for(var Ct=0,Dt=wt.length;Ct<Dt;){if(wt[Ct]._name===Tt||wt[Ct].mn===Tt||wt[Ct].propertyIndex===Tt||wt[Ct].ix===Tt||wt[Ct].ind===Tt)return wt[Ct];Ct+=1}return typeof Tt=="number"?wt[Tt-1]:null};Mt.propertyGroup=propertyGroupFactory(Mt,Et),wt=_e(_t.it,St.it,Mt.propertyGroup),Mt.numProperties=wt.length;var At=st(_t.it[_t.it.length-1],St.it[St.it.length-1],Mt.propertyGroup);return Mt.transform=At,Mt.propertyIndex=_t.cix,Mt._name=_t.nm,Mt}(ft,ht,mt.propertyGroup),yt=st(ft.it[ft.it.length-1],ht.it[ht.it.length-1],mt.propertyGroup);return mt.content=pt,mt.transform=yt,Object.defineProperty(mt,"_name",{get:function(){return ft.nm}}),mt.numProperties=ft.np,mt.propertyIndex=ft.ix,mt.nm=ft.nm,mt.mn=ft.mn,mt}function et(ft,ht,vt){function mt(pt){return pt==="Color"||pt==="color"?mt.color:pt==="Opacity"||pt==="opacity"?mt.opacity:null}return Object.defineProperties(mt,{color:{get:ExpressionPropertyInterface(ht.c)},opacity:{get:ExpressionPropertyInterface(ht.o)},_name:{value:ft.nm},mn:{value:ft.mn}}),ht.c.setGroupProperty(PropertyInterface("Color",vt)),ht.o.setGroupProperty(PropertyInterface("Opacity",vt)),mt}function tt(ft,ht,vt){function mt(pt){return pt==="Start Point"||pt==="start point"?mt.startPoint:pt==="End Point"||pt==="end point"?mt.endPoint:pt==="Opacity"||pt==="opacity"?mt.opacity:null}return Object.defineProperties(mt,{startPoint:{get:ExpressionPropertyInterface(ht.s)},endPoint:{get:ExpressionPropertyInterface(ht.e)},opacity:{get:ExpressionPropertyInterface(ht.o)},type:{get:function(){return"a"}},_name:{value:ft.nm},mn:{value:ft.mn}}),ht.s.setGroupProperty(PropertyInterface("Start Point",vt)),ht.e.setGroupProperty(PropertyInterface("End Point",vt)),ht.o.setGroupProperty(PropertyInterface("Opacity",vt)),mt}function nt(){return function(){return null}}function rt(ft,ht,vt){var mt,pt=propertyGroupFactory(wt,vt),yt=propertyGroupFactory(Et,pt);function _t(Mt){Object.defineProperty(Et,ft.d[Mt].nm,{get:ExpressionPropertyInterface(ht.d.dataProps[Mt].p)})}var St=ft.d?ft.d.length:0,Et={};for(mt=0;mt<St;mt+=1)_t(mt),ht.d.dataProps[mt].p.setGroupProperty(yt);function wt(Mt){return Mt==="Color"||Mt==="color"?wt.color:Mt==="Opacity"||Mt==="opacity"?wt.opacity:Mt==="Stroke Width"||Mt==="stroke width"?wt.strokeWidth:null}return Object.defineProperties(wt,{color:{get:ExpressionPropertyInterface(ht.c)},opacity:{get:ExpressionPropertyInterface(ht.o)},strokeWidth:{get:ExpressionPropertyInterface(ht.w)},dash:{get:function(){return Et}},_name:{value:ft.nm},mn:{value:ft.mn}}),ht.c.setGroupProperty(PropertyInterface("Color",pt)),ht.o.setGroupProperty(PropertyInterface("Opacity",pt)),ht.w.setGroupProperty(PropertyInterface("Stroke Width",pt)),wt}function it(ft,ht,vt){function mt(yt){return yt===ft.e.ix||yt==="End"||yt==="end"?mt.end:yt===ft.s.ix?mt.start:yt===ft.o.ix?mt.offset:null}var pt=propertyGroupFactory(mt,vt);return mt.propertyIndex=ft.ix,ht.s.setGroupProperty(PropertyInterface("Start",pt)),ht.e.setGroupProperty(PropertyInterface("End",pt)),ht.o.setGroupProperty(PropertyInterface("Offset",pt)),mt.propertyIndex=ft.ix,mt.propertyGroup=vt,Object.defineProperties(mt,{start:{get:ExpressionPropertyInterface(ht.s)},end:{get:ExpressionPropertyInterface(ht.e)},offset:{get:ExpressionPropertyInterface(ht.o)},_name:{value:ft.nm}}),mt.mn=ft.mn,mt}function st(ft,ht,vt){function mt(yt){return ft.a.ix===yt||yt==="Anchor Point"?mt.anchorPoint:ft.o.ix===yt||yt==="Opacity"?mt.opacity:ft.p.ix===yt||yt==="Position"?mt.position:ft.r.ix===yt||yt==="Rotation"||yt==="ADBE Vector Rotation"?mt.rotation:ft.s.ix===yt||yt==="Scale"?mt.scale:ft.sk&&ft.sk.ix===yt||yt==="Skew"?mt.skew:ft.sa&&ft.sa.ix===yt||yt==="Skew Axis"?mt.skewAxis:null}var pt=propertyGroupFactory(mt,vt);return ht.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",pt)),ht.transform.mProps.p.setGroupProperty(PropertyInterface("Position",pt)),ht.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",pt)),ht.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",pt)),ht.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",pt)),ht.transform.mProps.sk&&(ht.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",pt)),ht.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",pt))),ht.transform.op.setGroupProperty(PropertyInterface("Opacity",pt)),Object.defineProperties(mt,{opacity:{get:ExpressionPropertyInterface(ht.transform.mProps.o)},position:{get:ExpressionPropertyInterface(ht.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(ht.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(ht.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(ht.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(ht.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(ht.transform.mProps.sa)},_name:{value:ft.nm}}),mt.ty="tr",mt.mn=ft.mn,mt.propertyGroup=vt,mt}function ot(ft,ht,vt){function mt(_t){return ft.p.ix===_t?mt.position:ft.s.ix===_t?mt.size:null}var pt=propertyGroupFactory(mt,vt);mt.propertyIndex=ft.ix;var yt=ht.sh.ty==="tm"?ht.sh.prop:ht.sh;return yt.s.setGroupProperty(PropertyInterface("Size",pt)),yt.p.setGroupProperty(PropertyInterface("Position",pt)),Object.defineProperties(mt,{size:{get:ExpressionPropertyInterface(yt.s)},position:{get:ExpressionPropertyInterface(yt.p)},_name:{value:ft.nm}}),mt.mn=ft.mn,mt}function at(ft,ht,vt){function mt(_t){return ft.p.ix===_t?mt.position:ft.r.ix===_t?mt.rotation:ft.pt.ix===_t?mt.points:ft.or.ix===_t||_t==="ADBE Vector Star Outer Radius"?mt.outerRadius:ft.os.ix===_t?mt.outerRoundness:!ft.ir||ft.ir.ix!==_t&&_t!=="ADBE Vector Star Inner Radius"?ft.is&&ft.is.ix===_t?mt.innerRoundness:null:mt.innerRadius}var pt=propertyGroupFactory(mt,vt),yt=ht.sh.ty==="tm"?ht.sh.prop:ht.sh;return mt.propertyIndex=ft.ix,yt.or.setGroupProperty(PropertyInterface("Outer Radius",pt)),yt.os.setGroupProperty(PropertyInterface("Outer Roundness",pt)),yt.pt.setGroupProperty(PropertyInterface("Points",pt)),yt.p.setGroupProperty(PropertyInterface("Position",pt)),yt.r.setGroupProperty(PropertyInterface("Rotation",pt)),ft.ir&&(yt.ir.setGroupProperty(PropertyInterface("Inner Radius",pt)),yt.is.setGroupProperty(PropertyInterface("Inner Roundness",pt))),Object.defineProperties(mt,{position:{get:ExpressionPropertyInterface(yt.p)},rotation:{get:ExpressionPropertyInterface(yt.r)},points:{get:ExpressionPropertyInterface(yt.pt)},outerRadius:{get:ExpressionPropertyInterface(yt.or)},outerRoundness:{get:ExpressionPropertyInterface(yt.os)},innerRadius:{get:ExpressionPropertyInterface(yt.ir)},innerRoundness:{get:ExpressionPropertyInterface(yt.is)},_name:{value:ft.nm}}),mt.mn=ft.mn,mt}function lt(ft,ht,vt){function mt(_t){return ft.p.ix===_t?mt.position:ft.r.ix===_t?mt.roundness:ft.s.ix===_t||_t==="Size"||_t==="ADBE Vector Rect Size"?mt.size:null}var pt=propertyGroupFactory(mt,vt),yt=ht.sh.ty==="tm"?ht.sh.prop:ht.sh;return mt.propertyIndex=ft.ix,yt.p.setGroupProperty(PropertyInterface("Position",pt)),yt.s.setGroupProperty(PropertyInterface("Size",pt)),yt.r.setGroupProperty(PropertyInterface("Rotation",pt)),Object.defineProperties(mt,{position:{get:ExpressionPropertyInterface(yt.p)},roundness:{get:ExpressionPropertyInterface(yt.r)},size:{get:ExpressionPropertyInterface(yt.s)},_name:{value:ft.nm}}),mt.mn=ft.mn,mt}function ct(ft,ht,vt){function mt(_t){return ft.r.ix===_t||_t==="Round Corners 1"?mt.radius:null}var pt=propertyGroupFactory(mt,vt),yt=ht;return mt.propertyIndex=ft.ix,yt.rd.setGroupProperty(PropertyInterface("Radius",pt)),Object.defineProperties(mt,{radius:{get:ExpressionPropertyInterface(yt.rd)},_name:{value:ft.nm}}),mt.mn=ft.mn,mt}function ut(ft,ht,vt){function mt(_t){return ft.c.ix===_t||_t==="Copies"?mt.copies:ft.o.ix===_t||_t==="Offset"?mt.offset:null}var pt=propertyGroupFactory(mt,vt),yt=ht;return mt.propertyIndex=ft.ix,yt.c.setGroupProperty(PropertyInterface("Copies",pt)),yt.o.setGroupProperty(PropertyInterface("Offset",pt)),Object.defineProperties(mt,{copies:{get:ExpressionPropertyInterface(yt.c)},offset:{get:ExpressionPropertyInterface(yt.o)},_name:{value:ft.nm}}),mt.mn=ft.mn,mt}return function(ft,ht,vt){var mt;function pt(yt){if(typeof yt=="number")return(yt=yt===void 0?1:yt)===0?vt:mt[yt-1];for(var _t=0,St=mt.length;_t<St;){if(mt[_t]._name===yt)return mt[_t];_t+=1}return null}return pt.propertyGroup=propertyGroupFactory(pt,function(){return vt}),mt=_e(ft,ht,pt.propertyGroup),pt.numProperties=mt.length,pt._name="Contents",pt}}(),TextExpressionInterface=function(_e){var _,et;function tt(nt){switch(nt){case"ADBE Text Document":return tt.sourceText;default:return null}}return Object.defineProperty(tt,"sourceText",{get:function(){_e.textProperty.getValue();var nt=_e.textProperty.currentData.t;return nt!==_&&(_=_e.textProperty.currentData.t,(et=new String(nt)).value=nt||new String(nt),Object.defineProperty(et,"style",{get:function(){return{fillColor:_e.textProperty.currentData.fc}}})),et}}),tt};function _typeof$2(_e){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(_e)}var FootageInterface=(dataInterfaceFactory=function(_e){function _(et){return et==="Outline"?_.outlineInterface():null}return _._name="Outline",_.outlineInterface=function(et){var tt="",nt=et.getFootageData();function rt(it){if(nt[it])return tt=it,_typeof$2(nt=nt[it])==="object"?rt:nt;var st=it.indexOf(tt);if(st!==-1){var ot=parseInt(it.substr(st+tt.length),10);return _typeof$2(nt=nt[ot])==="object"?rt:nt}return""}return function(){return tt="",nt=et.getFootageData(),rt}}(_e),_},function(_e){function _(et){return et==="Data"?_.dataInterface:null}return _._name="Data",_.dataInterface=dataInterfaceFactory(_e),_}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(_e){return interfaces[_e]||null}function _typeof$1(_e){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(_e)}function seedRandom(_e,_){var et=this,tt=_.pow(256,6),nt=_.pow(2,52),rt=2*nt;function it(lt){var ct,ut=lt.length,ft=this,ht=0,vt=ft.i=ft.j=0,mt=ft.S=[];for(ut||(lt=[ut++]);ht<256;)mt[ht]=ht++;for(ht=0;ht<256;ht++)mt[ht]=mt[vt=255&vt+lt[ht%ut]+(ct=mt[ht])],mt[vt]=ct;ft.g=function(pt){for(var yt,_t=0,St=ft.i,Et=ft.j,wt=ft.S;pt--;)yt=wt[St=255&St+1],_t=256*_t+wt[255&(wt[St]=wt[Et=255&Et+yt])+(wt[Et]=yt)];return ft.i=St,ft.j=Et,_t}}function st(lt,ct){return ct.i=lt.i,ct.j=lt.j,ct.S=lt.S.slice(),ct}function ot(lt,ct){for(var ut,ft=lt+"",ht=0;ht<ft.length;)ct[255&ht]=255&(ut^=19*ct[255&ht])+ft.charCodeAt(ht++);return at(ct)}function at(lt){return String.fromCharCode.apply(0,lt)}_.seedrandom=function(lt,ct,ut){var ft=[],ht=ot(function pt(yt,_t){var St,Et=[],wt=_typeof$1(yt);if(_t&&wt=="object")for(St in yt)try{Et.push(pt(yt[St],_t-1))}catch{}return Et.length?Et:wt=="string"?yt:yt+"\0"}((ct=ct===!0?{entropy:!0}:ct||{}).entropy?[lt,at(_e)]:lt===null?function(){try{var pt=new Uint8Array(256);return(et.crypto||et.msCrypto).getRandomValues(pt),at(pt)}catch{var yt=et.navigator,_t=yt&&yt.plugins;return[+new Date,et,_t,et.screen,at(_e)]}}():lt,3),ft),vt=new it(ft),mt=function(){for(var pt=vt.g(6),yt=tt,_t=0;pt<nt;)pt=256*(pt+_t),yt*=256,_t=vt.g(1);for(;pt>=rt;)pt/=2,yt/=2,_t>>>=1;return(pt+_t)/yt};return mt.int32=function(){return 0|vt.g(4)},mt.quick=function(){return vt.g(4)/4294967296},mt.double=mt,ot(at(vt.S),_e),(ct.pass||ut||function(pt,yt,_t,St){return St&&(St.S&&st(St,vt),pt.state=function(){return st(vt,{})}),_t?(_.random=pt,yt):pt})(mt,ht,"global"in ct?ct.global:this==_,ct.state)},ot(_.random(),_e)}function initialize$2(_e){seedRandom([],_e)}var propTypes={SHAPE:"shape"};function _typeof(_e){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(_e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(_e){return _e.constructor===Array||_e.constructor===Float32Array}function isNumerable(_e,_){return _e==="number"||_e==="boolean"||_e==="string"||_ instanceof Number}function $bm_neg(_e){var _=_typeof(_e);if(_==="number"||_==="boolean"||_e instanceof Number)return-_e;if($bm_isInstanceOfArray(_e)){var et,tt=_e.length,nt=[];for(et=0;et<tt;et+=1)nt[et]=-_e[et];return nt}return _e.propType?_e.v:-_e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(_e,_){var et=_typeof(_e),tt=_typeof(_);if(et==="string"||tt==="string"||isNumerable(et,_e)&&isNumerable(tt,_))return _e+_;if($bm_isInstanceOfArray(_e)&&isNumerable(tt,_))return(_e=_e.slice(0))[0]+=_,_e;if(isNumerable(et,_e)&&$bm_isInstanceOfArray(_))return(_=_.slice(0))[0]=_e+_[0],_;if($bm_isInstanceOfArray(_e)&&$bm_isInstanceOfArray(_)){for(var nt=0,rt=_e.length,it=_.length,st=[];nt<rt||nt<it;)(typeof _e[nt]=="number"||_e[nt]instanceof Number)&&(typeof _[nt]=="number"||_[nt]instanceof Number)?st[nt]=_e[nt]+_[nt]:st[nt]=_[nt]===void 0?_e[nt]:_e[nt]||_[nt],nt+=1;return st}return 0}var add=sum;function sub(_e,_){var et=_typeof(_e),tt=_typeof(_);if(isNumerable(et,_e)&&isNumerable(tt,_))return et==="string"&&(_e=parseInt(_e,10)),tt==="string"&&(_=parseInt(_,10)),_e-_;if($bm_isInstanceOfArray(_e)&&isNumerable(tt,_))return(_e=_e.slice(0))[0]-=_,_e;if(isNumerable(et,_e)&&$bm_isInstanceOfArray(_))return(_=_.slice(0))[0]=_e-_[0],_;if($bm_isInstanceOfArray(_e)&&$bm_isInstanceOfArray(_)){for(var nt=0,rt=_e.length,it=_.length,st=[];nt<rt||nt<it;)(typeof _e[nt]=="number"||_e[nt]instanceof Number)&&(typeof _[nt]=="number"||_[nt]instanceof Number)?st[nt]=_e[nt]-_[nt]:st[nt]=_[nt]===void 0?_e[nt]:_e[nt]||_[nt],nt+=1;return st}return 0}function mul(_e,_){var et,tt,nt,rt=_typeof(_e),it=_typeof(_);if(isNumerable(rt,_e)&&isNumerable(it,_))return _e*_;if($bm_isInstanceOfArray(_e)&&isNumerable(it,_)){for(nt=_e.length,et=createTypedArray("float32",nt),tt=0;tt<nt;tt+=1)et[tt]=_e[tt]*_;return et}if(isNumerable(rt,_e)&&$bm_isInstanceOfArray(_)){for(nt=_.length,et=createTypedArray("float32",nt),tt=0;tt<nt;tt+=1)et[tt]=_e*_[tt];return et}return 0}function div(_e,_){var et,tt,nt,rt=_typeof(_e),it=_typeof(_);if(isNumerable(rt,_e)&&isNumerable(it,_))return _e/_;if($bm_isInstanceOfArray(_e)&&isNumerable(it,_)){for(nt=_e.length,et=createTypedArray("float32",nt),tt=0;tt<nt;tt+=1)et[tt]=_e[tt]/_;return et}if(isNumerable(rt,_e)&&$bm_isInstanceOfArray(_)){for(nt=_.length,et=createTypedArray("float32",nt),tt=0;tt<nt;tt+=1)et[tt]=_e/_[tt];return et}return 0}function mod(_e,_){return typeof _e=="string"&&(_e=parseInt(_e,10)),typeof _=="string"&&(_=parseInt(_,10)),_e%_}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(_e,_,et){if(_>et){var tt=et;et=_,_=tt}return Math.min(Math.max(_e,_),et)}function radiansToDegrees(_e){return _e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(_e){return _e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(_e,_){if(typeof _e=="number"||_e instanceof Number)return _=_||0,Math.abs(_e-_);var et;_||(_=helperLengthArray);var tt=Math.min(_e.length,_.length),nt=0;for(et=0;et<tt;et+=1)nt+=Math.pow(_[et]-_e[et],2);return Math.sqrt(nt)}function normalize(_e){return div(_e,length(_e))}function rgbToHsl(_e){var _,et,tt=_e[0],nt=_e[1],rt=_e[2],it=Math.max(tt,nt,rt),st=Math.min(tt,nt,rt),ot=(it+st)/2;if(it===st)_=0,et=0;else{var at=it-st;switch(et=ot>.5?at/(2-it-st):at/(it+st),it){case tt:_=(nt-rt)/at+(nt<rt?6:0);break;case nt:_=(rt-tt)/at+2;break;case rt:_=(tt-nt)/at+4}_/=6}return[_,et,ot,_e[3]]}function hue2rgb(_e,_,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?_e+6*(_-_e)*et:et<.5?_:et<2/3?_e+(_-_e)*(2/3-et)*6:_e}function hslToRgb(_e){var _,et,tt,nt=_e[0],rt=_e[1],it=_e[2];if(rt===0)_=it,tt=it,et=it;else{var st=it<.5?it*(1+rt):it+rt-it*rt,ot=2*it-st;_=hue2rgb(ot,st,nt+1/3),et=hue2rgb(ot,st,nt),tt=hue2rgb(ot,st,nt-1/3)}return[_,et,tt,_e[3]]}function linear(_e,_,et,tt,nt){if(tt!==void 0&&nt!==void 0||(tt=_,nt=et,_=0,et=1),et<_){var rt=et;et=_,_=rt}if(_e<=_)return tt;if(_e>=et)return nt;var it,st=et===_?0:(_e-_)/(et-_);if(!tt.length)return tt+(nt-tt)*st;var ot=tt.length,at=createTypedArray("float32",ot);for(it=0;it<ot;it+=1)at[it]=tt[it]+(nt[it]-tt[it])*st;return at}function random(_e,_){if(_===void 0&&(_e===void 0?(_e=0,_=1):(_=_e,_e=void 0)),_.length){var et,tt=_.length;_e||(_e=createTypedArray("float32",tt));var nt=createTypedArray("float32",tt),rt=BMMath.random();for(et=0;et<tt;et+=1)nt[et]=_e[et]+rt*(_[et]-_e[et]);return nt}return _e===void 0&&(_e=0),_e+BMMath.random()*(_-_e)}function createPath(_e,_,et,tt){var nt,rt=_e.length,it=shapePool.newElement();it.setPathData(!!tt,rt);var st,ot,at=[0,0];for(nt=0;nt<rt;nt+=1)st=_&&_[nt]?_[nt]:at,ot=et&&et[nt]?et[nt]:at,it.setTripleAt(_e[nt][0],_e[nt][1],ot[0]+_e[nt][0],ot[1]+_e[nt][1],st[0]+_e[nt][0],st[1]+_e[nt][1],nt,!0);return it}function initiateExpression(elem,data,property){function noOp(_e){return _e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function(_e,_){var et,tt,nt=this.pv.length?this.pv.length:1,rt=createTypedArray("float32",nt),it=Math.floor(5*time);for(et=0,tt=0;et<it;){for(tt=0;tt<nt;tt+=1)rt[tt]+=-_+2*_*BMMath.random();et+=1}var st=5*time,ot=st-Math.floor(st),at=createTypedArray("float32",nt);if(nt>1){for(tt=0;tt<nt;tt+=1)at[tt]=this.pv[tt]+rt[tt]+(-_+2*_*BMMath.random())*ot;return at}return this.pv+rt[0]+(-_+2*_*BMMath.random())*ot}).bind(this);function loopInDuration(_e,_){return loopIn(_e,_,!0)}function loopOutDuration(_e,_){return loopOut(_e,_,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(_e,_){var et=[_[0]-_e[0],_[1]-_e[1],_[2]-_e[2]],tt=Math.atan2(et[0],Math.sqrt(et[1]*et[1]+et[2]*et[2]))/degToRads;return[-Math.atan2(et[1],et[2])/degToRads,tt,0]}function easeOut(_e,_,et,tt,nt){return applyEase(easeOutBez,_e,_,et,tt,nt)}function easeIn(_e,_,et,tt,nt){return applyEase(easeInBez,_e,_,et,tt,nt)}function ease(_e,_,et,tt,nt){return applyEase(easeInOutBez,_e,_,et,tt,nt)}function applyEase(_e,_,et,tt,nt,rt){nt===void 0?(nt=et,rt=tt):_=(_-et)/(tt-et),_>1?_=1:_<0&&(_=0);var it=_e(_);if($bm_isInstanceOfArray(nt)){var st,ot=nt.length,at=createTypedArray("float32",ot);for(st=0;st<ot;st+=1)at[st]=(rt[st]-nt[st])*it+nt[st];return at}return(rt-nt)*it+nt}function nearestKey(_e){var _,et,tt,nt=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(et=-1,(_e*=elem.comp.globalData.frameRate)<data.k[0].t)et=1,tt=data.k[0].t;else{for(_=0;_<nt-1;_+=1){if(_e===data.k[_].t){et=_+1,tt=data.k[_].t;break}if(_e>data.k[_].t&&_e<data.k[_+1].t){_e-data.k[_].t>data.k[_+1].t-_e?(et=_+2,tt=data.k[_+1].t):(et=_+1,tt=data.k[_].t);break}}et===-1&&(et=_+1,tt=data.k[_].t)}else et=0,tt=0;var rt={};return rt.index=et,rt.time=tt/elem.comp.globalData.frameRate,rt}function key(_e){var _,et,tt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+_e);_e-=1,_={time:data.k[_e].t/elem.comp.globalData.frameRate,value:[]};var nt=Object.prototype.hasOwnProperty.call(data.k[_e],"s")?data.k[_e].s:data.k[_e-1].e;for(tt=nt.length,et=0;et<tt;et+=1)_[et]=nt[et],_.value[et]=nt[et];return _}function framesToTime(_e,_){return _||(_=elem.comp.globalData.frameRate),_e/_}function timeToFrames(_e,_){return _e||_e===0||(_e=time),_||(_=elem.comp.globalData.frameRate),_e*_}function seedRandom(_e){BMMath.seedrandom(randSeed+_e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(_e,_){return typeof value=="string"?_===void 0?value.substring(_e):value.substring(_e,_):""}function substr(_e,_){return typeof value=="string"?_===void 0?value.substr(_e):value.substr(_e,_):""}function posterizeTime(_e){time=_e===0?0:Math.floor(time*_e)/_e,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(_e){return value=_e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function(_e,_,et){_.x&&(et.k=!0,et.x=!0,et.initiateExpression=ExpressionManager.initiateExpression,et.effectsSequence.push(et.initiateExpression(_e,_,et).bind(et)))},getSpeedAtTime:function(_e){var _=this.getValueAtTime(_e),et=this.getValueAtTime(_e+-.01),tt=0;if(_.length){var nt;for(nt=0;nt<_.length;nt+=1)tt+=Math.pow(et[nt]-_[nt],2);tt=100*Math.sqrt(tt)}else tt=0;return tt},getVelocityAtTime:function(_e){if(this.vel!==void 0)return this.vel;var _,et,tt=this.getValueAtTime(_e),nt=this.getValueAtTime(_e+-.001);if(tt.length)for(_=createTypedArray("float32",tt.length),et=0;et<tt.length;et+=1)_[et]=(nt[et]-tt[et])/-.001;else _=(nt-tt)/-.001;return _},getValueAtTime:function(_e){return _e*=this.elem.globalData.frameRate,(_e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<_e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(_e,this._cachingAtTime),this._cachingAtTime.lastFrame=_e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(_e){this.propertyGroup=_e}};function addPropertyDecorator(){function _e(ct,ut,ft){if(!this.k||!this.keyframes)return this.pv;ct=ct?ct.toLowerCase():"";var ht,vt,mt,pt,yt,_t=this.comp.renderedFrame,St=this.keyframes,Et=St[St.length-1].t;if(_t<=Et)return this.pv;if(ft?vt=Et-(ht=ut?Math.abs(Et-this.elem.comp.globalData.frameRate*ut):Math.max(0,Et-this.elem.data.ip)):((!ut||ut>St.length-1)&&(ut=St.length-1),ht=Et-(vt=St[St.length-1-ut].t)),ct==="pingpong"){if(Math.floor((_t-vt)/ht)%2!=0)return this.getValueAtTime((ht-(_t-vt)%ht+vt)/this.comp.globalData.frameRate,0)}else{if(ct==="offset"){var wt=this.getValueAtTime(vt/this.comp.globalData.frameRate,0),Mt=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),At=this.getValueAtTime(((_t-vt)%ht+vt)/this.comp.globalData.frameRate,0),Tt=Math.floor((_t-vt)/ht);if(this.pv.length){for(pt=(yt=new Array(wt.length)).length,mt=0;mt<pt;mt+=1)yt[mt]=(Mt[mt]-wt[mt])*Tt+At[mt];return yt}return(Mt-wt)*Tt+At}if(ct==="continue"){var Ct=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime((Et-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(pt=(yt=new Array(Ct.length)).length,mt=0;mt<pt;mt+=1)yt[mt]=Ct[mt]+(Ct[mt]-Dt[mt])*((_t-Et)/this.comp.globalData.frameRate)/5e-4;return yt}return Ct+(_t-Et)/.001*(Ct-Dt)}}return this.getValueAtTime(((_t-vt)%ht+vt)/this.comp.globalData.frameRate,0)}function _(ct,ut,ft){if(!this.k)return this.pv;ct=ct?ct.toLowerCase():"";var ht,vt,mt,pt,yt,_t=this.comp.renderedFrame,St=this.keyframes,Et=St[0].t;if(_t>=Et)return this.pv;if(ft?vt=Et+(ht=ut?Math.abs(this.elem.comp.globalData.frameRate*ut):Math.max(0,this.elem.data.op-Et)):((!ut||ut>St.length-1)&&(ut=St.length-1),ht=(vt=St[ut].t)-Et),ct==="pingpong"){if(Math.floor((Et-_t)/ht)%2==0)return this.getValueAtTime(((Et-_t)%ht+Et)/this.comp.globalData.frameRate,0)}else{if(ct==="offset"){var wt=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Mt=this.getValueAtTime(vt/this.comp.globalData.frameRate,0),At=this.getValueAtTime((ht-(Et-_t)%ht+Et)/this.comp.globalData.frameRate,0),Tt=Math.floor((Et-_t)/ht)+1;if(this.pv.length){for(pt=(yt=new Array(wt.length)).length,mt=0;mt<pt;mt+=1)yt[mt]=At[mt]-(Mt[mt]-wt[mt])*Tt;return yt}return At-(Mt-wt)*Tt}if(ct==="continue"){var Ct=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Dt=this.getValueAtTime((Et+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(pt=(yt=new Array(Ct.length)).length,mt=0;mt<pt;mt+=1)yt[mt]=Ct[mt]+(Ct[mt]-Dt[mt])*(Et-_t)/.001;return yt}return Ct+(Ct-Dt)*(Et-_t)/.001}}return this.getValueAtTime((ht-((Et-_t)%ht+Et))/this.comp.globalData.frameRate,0)}function et(ct,ut){if(!this.k)return this.pv;if(ct=.5*(ct||.4),(ut=Math.floor(ut||5))<=1)return this.pv;var ft,ht,vt=this.comp.renderedFrame/this.comp.globalData.frameRate,mt=vt-ct,pt=ut>1?(vt+ct-mt)/(ut-1):1,yt=0,_t=0;for(ft=this.pv.length?createTypedArray("float32",this.pv.length):0;yt<ut;){if(ht=this.getValueAtTime(mt+yt*pt),this.pv.length)for(_t=0;_t<this.pv.length;_t+=1)ft[_t]+=ht[_t];else ft+=ht;yt+=1}if(this.pv.length)for(_t=0;_t<this.pv.length;_t+=1)ft[_t]/=ut;else ft/=ut;return ft}function tt(ct){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ut=this._transformCachingAtTime.v;if(ut.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ft=this.a.getValueAtTime(ct);ut.translate(-ft[0]*this.a.mult,-ft[1]*this.a.mult,ft[2]*this.a.mult)}if(this.appliedTransformations<2){var ht=this.s.getValueAtTime(ct);ut.scale(ht[0]*this.s.mult,ht[1]*this.s.mult,ht[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var vt=this.sk.getValueAtTime(ct),mt=this.sa.getValueAtTime(ct);ut.skewFromAxis(-vt*this.sk.mult,mt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var pt=this.r.getValueAtTime(ct);ut.rotate(-pt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var yt=this.rz.getValueAtTime(ct),_t=this.ry.getValueAtTime(ct),St=this.rx.getValueAtTime(ct),Et=this.or.getValueAtTime(ct);ut.rotateZ(-yt*this.rz.mult).rotateY(_t*this.ry.mult).rotateX(St*this.rx.mult).rotateZ(-Et[2]*this.or.mult).rotateY(Et[1]*this.or.mult).rotateX(Et[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var wt=this.px.getValueAtTime(ct),Mt=this.py.getValueAtTime(ct);if(this.data.p.z){var At=this.pz.getValueAtTime(ct);ut.translate(wt*this.px.mult,Mt*this.py.mult,-At*this.pz.mult)}else ut.translate(wt*this.px.mult,Mt*this.py.mult,0)}else{var Tt=this.p.getValueAtTime(ct);ut.translate(Tt[0]*this.p.mult,Tt[1]*this.p.mult,-Tt[2]*this.p.mult)}return ut}function nt(){return this.v.clone(new Matrix)}var rt=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ct,ut,ft){var ht=rt(ct,ut,ft);return ht.dynamicProperties.length?ht.getValueAtTime=tt.bind(ht):ht.getValueAtTime=nt.bind(ht),ht.setGroupProperty=expressionHelpers.setGroupProperty,ht};var it=PropertyFactory.getProp;PropertyFactory.getProp=function(ct,ut,ft,ht,vt){var mt=it(ct,ut,ft,ht,vt);mt.kf?mt.getValueAtTime=expressionHelpers.getValueAtTime.bind(mt):mt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(mt),mt.setGroupProperty=expressionHelpers.setGroupProperty,mt.loopOut=_e,mt.loopIn=_,mt.smooth=et,mt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(mt),mt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(mt),mt.numKeys=ut.a===1?ut.k.length:0,mt.propertyIndex=ut.ix;var pt=0;return ft!==0&&(pt=createTypedArray("float32",ut.a===1?ut.k[0].s.length:ut.k.length)),mt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:pt},expressionHelpers.searchExpressions(ct,ut,mt),mt.k&&vt.addDynamicProperty(mt),mt};var st=ShapePropertyFactory.getConstructorFunction(),ot=ShapePropertyFactory.getKeyframedConstructorFunction();function at(){}at.prototype={vertices:function(ct,ut){this.k&&this.getValue();var ft,ht=this.v;ut!==void 0&&(ht=this.getValueAtTime(ut,0));var vt=ht._length,mt=ht[ct],pt=ht.v,yt=createSizedArray(vt);for(ft=0;ft<vt;ft+=1)yt[ft]=ct==="i"||ct==="o"?[mt[ft][0]-pt[ft][0],mt[ft][1]-pt[ft][1]]:[mt[ft][0],mt[ft][1]];return yt},points:function(ct){return this.vertices("v",ct)},inTangents:function(ct){return this.vertices("i",ct)},outTangents:function(ct){return this.vertices("o",ct)},isClosed:function(){return this.v.c},pointOnPath:function(ct,ut){var ft=this.v;ut!==void 0&&(ft=this.getValueAtTime(ut,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ft));for(var ht,vt=this._segmentsLength,mt=vt.lengths,pt=vt.totalLength*ct,yt=0,_t=mt.length,St=0;yt<_t;){if(St+mt[yt].addedLength>pt){var Et=yt,wt=ft.c&&yt===_t-1?0:yt+1,Mt=(pt-St)/mt[yt].addedLength;ht=bez.getPointInSegment(ft.v[Et],ft.v[wt],ft.o[Et],ft.i[wt],Mt,mt[yt]);break}St+=mt[yt].addedLength,yt+=1}return ht||(ht=ft.c?[ft.v[0][0],ft.v[0][1]]:[ft.v[ft._length-1][0],ft.v[ft._length-1][1]]),ht},vectorOnPath:function(ct,ut,ft){ct==1?ct=this.v.c:ct==0&&(ct=.999);var ht=this.pointOnPath(ct,ut),vt=this.pointOnPath(ct+.001,ut),mt=vt[0]-ht[0],pt=vt[1]-ht[1],yt=Math.sqrt(Math.pow(mt,2)+Math.pow(pt,2));return yt===0?[0,0]:ft==="tangent"?[mt/yt,pt/yt]:[-pt/yt,mt/yt]},tangentOnPath:function(ct,ut){return this.vectorOnPath(ct,ut,"tangent")},normalOnPath:function(ct,ut){return this.vectorOnPath(ct,ut,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([at],st),extendPrototype([at],ot),ot.prototype.getValueAtTime=function(ct){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ct*=this.elem.globalData.frameRate,(ct-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ct?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ct,this.interpolateShape(ct,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},ot.prototype.initiateExpression=ExpressionManager.initiateExpression;var lt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ct,ut,ft,ht,vt){var mt=lt(ct,ut,ft,ht,vt);return mt.propertyIndex=ut.ix,mt.lock=!1,ft===3?expressionHelpers.searchExpressions(ct,ut.pt,mt):ft===4&&expressionHelpers.searchExpressions(ct,ut.ks,mt),mt.k&&ct.addDynamicProperty(mt),mt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(_e,_){var et=this.calculateExpression(_);if(_e.t!==et){var tt={};return this.copyData(tt,_e),tt.t=et.toString(),tt.__complete=!1,tt}return _e},TextProperty.prototype.searchProperty=function(){var _e=this.searchKeyframes(),_=this.searchExpressions();return this.kf=_e||_,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(_e,_){var et,tt,nt=createNS("feMerge");for(nt.setAttribute("result",_e),tt=0;tt<_.length;tt+=1)(et=createNS("feMergeNode")).setAttribute("in",_[tt]),nt.appendChild(et),nt.appendChild(et);return nt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(_e,_,et,tt,nt){this.filterManager=_;var rt=createNS("feColorMatrix");rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","linearRGB"),rt.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=rt,rt.setAttribute("result",tt+"_tint_1"),_e.appendChild(rt),(rt=createNS("feColorMatrix")).setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),rt.setAttribute("result",tt+"_tint_2"),_e.appendChild(rt),this.matrixFilter=rt;var it=this.createMergeNode(tt,[nt,tt+"_tint_1",tt+"_tint_2"]);_e.appendChild(it)}function SVGFillFilter(_e,_,et,tt){this.filterManager=_;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),nt.setAttribute("result",tt),_e.appendChild(nt),this.matrixFilter=nt}function SVGStrokeEffect(_e,_,et){this.initialized=!1,this.filterManager=_,this.elem=et,this.paths=[]}function SVGTritoneFilter(_e,_,et,tt){this.filterManager=_;var nt=createNS("feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","linearRGB"),nt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),_e.appendChild(nt);var rt=createNS("feComponentTransfer");rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("result",tt),this.matrixFilter=rt;var it=createNS("feFuncR");it.setAttribute("type","table"),rt.appendChild(it),this.feFuncR=it;var st=createNS("feFuncG");st.setAttribute("type","table"),rt.appendChild(st),this.feFuncG=st;var ot=createNS("feFuncB");ot.setAttribute("type","table"),rt.appendChild(ot),this.feFuncB=ot,_e.appendChild(rt)}function SVGProLevelsFilter(_e,_,et,tt){this.filterManager=_;var nt=this.filterManager.effectElements,rt=createNS("feComponentTransfer");(nt[10].p.k||nt[10].p.v!==0||nt[11].p.k||nt[11].p.v!==1||nt[12].p.k||nt[12].p.v!==1||nt[13].p.k||nt[13].p.v!==0||nt[14].p.k||nt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",rt)),(nt[17].p.k||nt[17].p.v!==0||nt[18].p.k||nt[18].p.v!==1||nt[19].p.k||nt[19].p.v!==1||nt[20].p.k||nt[20].p.v!==0||nt[21].p.k||nt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",rt)),(nt[24].p.k||nt[24].p.v!==0||nt[25].p.k||nt[25].p.v!==1||nt[26].p.k||nt[26].p.v!==1||nt[27].p.k||nt[27].p.v!==0||nt[28].p.k||nt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",rt)),(nt[31].p.k||nt[31].p.v!==0||nt[32].p.k||nt[32].p.v!==1||nt[33].p.k||nt[33].p.v!==1||nt[34].p.k||nt[34].p.v!==0||nt[35].p.k||nt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",rt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(rt.setAttribute("color-interpolation-filters","sRGB"),_e.appendChild(rt)),(nt[3].p.k||nt[3].p.v!==0||nt[4].p.k||nt[4].p.v!==1||nt[5].p.k||nt[5].p.v!==1||nt[6].p.k||nt[6].p.v!==0||nt[7].p.k||nt[7].p.v!==1)&&((rt=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("result",tt),_e.appendChild(rt),this.feFuncRComposed=this.createFeFunc("feFuncR",rt),this.feFuncGComposed=this.createFeFunc("feFuncG",rt),this.feFuncBComposed=this.createFeFunc("feFuncB",rt))}function SVGDropShadowEffect(_e,_,et,tt,nt){var rt=_.container.globalData.renderConfig.filterSize,it=_.data.fs||rt;_e.setAttribute("x",it.x||rt.x),_e.setAttribute("y",it.y||rt.y),_e.setAttribute("width",it.width||rt.width),_e.setAttribute("height",it.height||rt.height),this.filterManager=_;var st=createNS("feGaussianBlur");st.setAttribute("in","SourceAlpha"),st.setAttribute("result",tt+"_drop_shadow_1"),st.setAttribute("stdDeviation","0"),this.feGaussianBlur=st,_e.appendChild(st);var ot=createNS("feOffset");ot.setAttribute("dx","25"),ot.setAttribute("dy","0"),ot.setAttribute("in",tt+"_drop_shadow_1"),ot.setAttribute("result",tt+"_drop_shadow_2"),this.feOffset=ot,_e.appendChild(ot);var at=createNS("feFlood");at.setAttribute("flood-color","#00ff00"),at.setAttribute("flood-opacity","1"),at.setAttribute("result",tt+"_drop_shadow_3"),this.feFlood=at,_e.appendChild(at);var lt=createNS("feComposite");lt.setAttribute("in",tt+"_drop_shadow_3"),lt.setAttribute("in2",tt+"_drop_shadow_2"),lt.setAttribute("operator","in"),lt.setAttribute("result",tt+"_drop_shadow_4"),_e.appendChild(lt);var ct=this.createMergeNode(tt,[tt+"_drop_shadow_4",nt]);_e.appendChild(ct)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var _=this.filterManager.effectElements[0].p.v,et=this.filterManager.effectElements[1].p.v,tt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+tt+" 0"),this.matrixFilter.setAttribute("values",et[0]-_[0]+" 0 0 0 "+_[0]+" "+(et[1]-_[1])+" 0 0 0 "+_[1]+" "+(et[2]-_[2])+" 0 0 0 "+_[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var _=this.filterManager.effectElements[2].p.v,et=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+_[0]+" 0 0 0 0 "+_[1]+" 0 0 0 0 "+_[2]+" 0 0 0 "+et+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var _e,_,et,tt,nt=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(tt=this.elem.maskManager.masksProperties.length,et=0):tt=(et=this.filterManager.effectElements[0].p.v-1)+1,(_=createNS("g")).setAttribute("fill","none"),_.setAttribute("stroke-linecap","round"),_.setAttribute("stroke-dashoffset",1);et<tt;et+=1)_e=createNS("path"),_.appendChild(_e),this.paths.push({p:_e,m:et});if(this.filterManager.effectElements[10].p.v===3){var rt=createNS("mask"),it=createElementID();rt.setAttribute("id",it),rt.setAttribute("mask-type","alpha"),rt.appendChild(_),this.elem.globalData.defs.appendChild(rt);var st=createNS("g");for(st.setAttribute("mask","url("+getLocationHref()+"#"+it+")");nt[0];)st.appendChild(nt[0]);this.elem.layerElement.appendChild(st),this.masker=rt,_.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(nt=this.elem.layerElement.children||this.elem.layerElement.childNodes;nt.length;)this.elem.layerElement.removeChild(nt[0]);this.elem.layerElement.appendChild(_),this.elem.layerElement.removeAttribute("mask"),_.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=_},SVGStrokeEffect.prototype.renderFrame=function(_e){var _;this.initialized||this.initialize();var et,tt,nt=this.paths.length;for(_=0;_<nt;_+=1)if(this.paths[_].m!==-1&&(et=this.elem.maskManager.viewData[this.paths[_].m],tt=this.paths[_].p,(_e||this.filterManager._mdf||et.prop._mdf)&&tt.setAttribute("d",et.lastPath),_e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||et.prop._mdf)){var rt;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var it=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),st=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),ot=tt.getTotalLength();rt="0 0 0 "+ot*it+" ";var at,lt=ot*(st-it),ct=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,ut=Math.floor(lt/ct);for(at=0;at<ut;at+=1)rt+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";rt+="0 "+10*ot+" 0 0"}else rt="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;tt.setAttribute("stroke-dasharray",rt)}if((_e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(_e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(_e||this.filterManager.effectElements[3].p._mdf)){var ft=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*ft[0])+","+bmFloor(255*ft[1])+","+bmFloor(255*ft[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var _=this.filterManager.effectElements[0].p.v,et=this.filterManager.effectElements[1].p.v,tt=this.filterManager.effectElements[2].p.v,nt=tt[0]+" "+et[0]+" "+_[0],rt=tt[1]+" "+et[1]+" "+_[1],it=tt[2]+" "+et[2]+" "+_[2];this.feFuncR.setAttribute("tableValues",nt),this.feFuncG.setAttribute("tableValues",rt),this.feFuncB.setAttribute("tableValues",it)}},SVGProLevelsFilter.prototype.createFeFunc=function(_e,_){var et=createNS(_e);return et.setAttribute("type","table"),_.appendChild(et),et},SVGProLevelsFilter.prototype.getTableValue=function(_e,_,et,tt,nt){for(var rt,it,st=0,ot=Math.min(_e,_),at=Math.max(_e,_),lt=Array.call(null,{length:256}),ct=0,ut=nt-tt,ft=_-_e;st<=256;)it=(rt=st/256)<=ot?ft<0?nt:tt:rt>=at?ft<0?tt:nt:tt+ut*Math.pow((rt-_e)/ft,1/et),lt[ct]=it,ct+=1,st+=256/255;return lt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var _,et=this.filterManager.effectElements;this.feFuncRComposed&&(_e||et[3].p._mdf||et[4].p._mdf||et[5].p._mdf||et[6].p._mdf||et[7].p._mdf)&&(_=this.getTableValue(et[3].p.v,et[4].p.v,et[5].p.v,et[6].p.v,et[7].p.v),this.feFuncRComposed.setAttribute("tableValues",_),this.feFuncGComposed.setAttribute("tableValues",_),this.feFuncBComposed.setAttribute("tableValues",_)),this.feFuncR&&(_e||et[10].p._mdf||et[11].p._mdf||et[12].p._mdf||et[13].p._mdf||et[14].p._mdf)&&(_=this.getTableValue(et[10].p.v,et[11].p.v,et[12].p.v,et[13].p.v,et[14].p.v),this.feFuncR.setAttribute("tableValues",_)),this.feFuncG&&(_e||et[17].p._mdf||et[18].p._mdf||et[19].p._mdf||et[20].p._mdf||et[21].p._mdf)&&(_=this.getTableValue(et[17].p.v,et[18].p.v,et[19].p.v,et[20].p.v,et[21].p.v),this.feFuncG.setAttribute("tableValues",_)),this.feFuncB&&(_e||et[24].p._mdf||et[25].p._mdf||et[26].p._mdf||et[27].p._mdf||et[28].p._mdf)&&(_=this.getTableValue(et[24].p.v,et[25].p.v,et[26].p.v,et[27].p.v,et[28].p.v),this.feFuncB.setAttribute("tableValues",_)),this.feFuncA&&(_e||et[31].p._mdf||et[32].p._mdf||et[33].p._mdf||et[34].p._mdf||et[35].p._mdf)&&(_=this.getTableValue(et[31].p.v,et[32].p.v,et[33].p.v,et[34].p.v,et[35].p.v),this.feFuncA.setAttribute("tableValues",_))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){if((_e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),_e||this.filterManager.effectElements[0].p._mdf){var _=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*_[0]),Math.round(255*_[1]),Math.round(255*_[2])))}if((_e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),_e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var et=this.filterManager.effectElements[3].p.v,tt=(this.filterManager.effectElements[2].p.v-90)*degToRads,nt=et*Math.cos(tt),rt=et*Math.sin(tt);this.feOffset.setAttribute("dx",nt),this.feOffset.setAttribute("dy",rt)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(_e,_,et){this.initialized=!1,this.filterManager=_,this.filterElem=_e,this.elem=et,et.matteElement=createNS("g"),et.matteElement.appendChild(et.layerElement),et.matteElement.appendChild(et.transformedElement),et.baseElement=et.matteElement}function SVGGaussianBlurEffect(_e,_,et,tt){_e.setAttribute("x","-100%"),_e.setAttribute("y","-100%"),_e.setAttribute("width","300%"),_e.setAttribute("height","300%"),this.filterManager=_;var nt=createNS("feGaussianBlur");nt.setAttribute("result",tt),_e.appendChild(nt),this.feGaussianBlur=nt}return SVGMatte3Effect.prototype.findSymbol=function(_e){for(var _=0,et=_svgMatteSymbols.length;_<et;){if(_svgMatteSymbols[_]===_e)return _svgMatteSymbols[_];_+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(_e,_){var et=_e.layerElement.parentNode;if(et){for(var tt,nt=et.children,rt=0,it=nt.length;rt<it&&nt[rt]!==_e.layerElement;)rt+=1;rt<=it-2&&(tt=nt[rt+1]);var st=createNS("use");st.setAttribute("href","#"+_),tt?et.insertBefore(st,tt):et.appendChild(st)}},SVGMatte3Effect.prototype.setElementAsMask=function(_e,_){if(!this.findSymbol(_)){var et=createElementID(),tt=createNS("mask");tt.setAttribute("id",_.layerId),tt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(_);var nt=_e.globalData.defs;nt.appendChild(tt);var rt=createNS("symbol");rt.setAttribute("id",et),this.replaceInParent(_,et),rt.appendChild(_.layerElement),nt.appendChild(rt);var it=createNS("use");it.setAttribute("href","#"+et),tt.appendChild(it),_.data.hd=!1,_.show()}_e.setMatte(_.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var _e=this.filterManager.effectElements[0].p.v,_=this.elem.comp.elements,et=0,tt=_.length;et<tt;)_[et]&&_[et].data.ind===_e&&this.setElementAsMask(this.elem,_[et]),et+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(_e){if(_e||this.filterManager._mdf){var _=.3*this.filterManager.effectElements[0].p.v,et=this.filterManager.effectElements[1].p.v,tt=et==3?0:_,nt=et==2?0:_;this.feGaussianBlur.setAttribute("stdDeviation",tt+" "+nt);var rt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",rt)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})}),REACT_LOTTIE_PLAYER_VERSION="3.5.3",LOTTIE_WEB_VERSION="^5.10.2",PlayerState,PlayerEvent;function parseSrc(_e){if(typeof _e=="object")return _e;try{return JSON.parse(_e)}catch{}try{return new URL(_e).toString()}catch{}return _e}(function(_e){_e.Loading="loading",_e.Playing="playing",_e.Paused="paused",_e.Stopped="stopped",_e.Frozen="frozen",_e.Error="error"})(PlayerState||(PlayerState={})),function(_e){_e.Load="load",_e.InstanceSaved="instanceSaved",_e.Error="error",_e.Ready="ready",_e.Play="play",_e.Pause="pause",_e.Stop="stop",_e.Freeze="freeze",_e.Loop="loop",_e.Complete="complete",_e.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(_e){function _(et){var tt=_e.call(this,et)||this;return tt.container=null,tt.unmounted=!1,tt.handleBgChange=function(nt){tt.setState({background:nt})},tt.triggerDownload=function(nt,rt){var it=document.createElement("a");it.href=nt,it.download=rt,document.body.appendChild(it),it.click(),document.body.removeChild(it)},tt.snapshot=function(nt){var rt;nt===void 0&&(nt=!0);var it=tt.props.id?tt.props.id:"lottie",st=document.getElementById(it);if(tt.props.renderer==="svg"){if(st){var ot=st.querySelector("svg");if(ot){var at=new XMLSerializer().serializeToString(ot);rt="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(at)}}nt&&tt.triggerDownload(rt,"snapshot.svg")}else if(tt.props.renderer==="canvas"){if(st){var lt=st.querySelector("canvas");lt&&(rt=lt.toDataURL("image/png"))}nt&&tt.triggerDownload(rt,"snapshot.png")}return rt},typeof window<"u"&&(window.lottie=lottie),tt.state={animationData:null,background:"transparent",containerRef:reactExports.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},tt}return __extends(_,_e),_.getDerivedStateFromProps=function(et,tt){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(nt){return et.background!==tt.background?[2,{background:et.background}]:[2,null]})})},_.prototype.getVersions=function(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:REACT_LOTTIE_PLAYER_VERSION}},_.prototype.componentDidMount=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(et){switch(et.label){case 0:return this.unmounted?[3,2]:[4,this.createLottie()];case 1:et.sent(),et.label=2;case 2:return[2]}})})},_.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.instance&&this.state.instance.destroy()},_.prototype.componentDidUpdate=function(et){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(tt){switch(tt.label){case 0:return this.props.src===et.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:tt.sent(),tt.label=2;case 2:return[2]}})})},_.prototype.render=function(){var et=this,tt=this.props,nt=tt.children,rt=tt.loop,it=tt.style,st=tt.onBackgroundChange,ot=tt.className,at=this.state,lt=at.animationData,ct=at.instance,ut=at.playerState,ft=at.seeker,ht=at.debug,vt=at.background;return reactExports.createElement("div",{className:"lf-player-container"},this.state.playerState===PlayerState.Error?reactExports.createElement("div",{className:"lf-error"},reactExports.createElement("span",{"aria-label":"error-symbol",role:"img"},"⚠️")):reactExports.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(mt){return et.container=mt},style:__assign({background:vt,margin:"0 auto",outline:"none",overflow:"hidden"},it),className:ot}),reactExports.Children.map(nt,function(mt){return reactExports.isValidElement(mt)?reactExports.cloneElement(mt,{animationData:lt,background:vt,debug:ht,instance:ct,loop:rt,pause:function(){return et.pause()},play:function(){return et.play()},playerState:ut,seeker:ft,setBackground:function(pt){et.setState({background:pt}),typeof st=="function"&&st(pt)},setSeeker:function(pt,yt){return et.setSeeker(pt,yt)},stop:function(){return et.stop()},toggleDebug:function(){return et.toggleDebug()},setLoop:function(pt){return et.setLoop(pt)},colorChangedEvent:function(pt){et.handleBgChange(pt)},snapshot:function(){et.snapshot()}}):null}))},_.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},_.prototype.createLottie=function(){return __awaiter$1(this,void 0,void 0,function(){var et,tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,vt,mt=this;return __generator$1(this,function(pt){switch(pt.label){case 0:if(et=this.props,tt=et.autoplay,nt=et.direction,rt=et.loop,it=et.lottieRef,st=et.renderer,ot=et.speed,at=et.src,lt=et.background,ct=et.rendererSettings,ut=et.hover,ft=this.state.instance,!at||!this.container)return[2];pt.label=1;case 1:return pt.trys.push([1,5,,6]),typeof(ht=parseSrc(at))!="string"?[3,4]:[4,fetch(ht).catch(function(){throw mt.setState({playerState:PlayerState.Error}),mt.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 2:return[4,pt.sent().json().catch(function(){throw mt.setState({playerState:PlayerState.Error}),mt.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 3:ht=pt.sent(),pt.label=4;case 4:return ft&&ft.destroy(),vt=lottie.loadAnimation({rendererSettings:ct||defaultOptions,animationData:ht,autoplay:tt||!1,container:this.container,loop:rt||!1,renderer:st}),ot&&vt.setSpeed(ot),this.setState({animationData:ht}),this.setState({instance:vt},function(){mt.triggerEvent(PlayerEvent.InstanceSaved),typeof it=="function"&&it(vt),tt&&mt.play()}),vt.addEventListener("enterFrame",function(){mt.triggerEvent(PlayerEvent.Frame),mt.setState({seeker:Math.floor(vt.currentFrame)})}),vt.addEventListener("DOMLoaded",function(){mt.triggerEvent(PlayerEvent.Load)}),vt.addEventListener("data_ready",function(){mt.triggerEvent(PlayerEvent.Ready)}),vt.addEventListener("data_failed",function(){mt.setState({playerState:PlayerState.Error}),mt.triggerEvent(PlayerEvent.Error)}),vt.addEventListener("loopComplete",function(){mt.triggerEvent(PlayerEvent.Loop)}),vt.addEventListener("complete",function(){mt.triggerEvent(PlayerEvent.Complete),mt.setState({playerState:PlayerState.Paused}),mt.props.keepLastFrame&&!mt.props.loop||mt.setSeeker(0)}),this.container&&(this.container.addEventListener("mouseenter",function(){ut&&mt.state.playerState!==PlayerState.Playing&&(mt.props.keepLastFrame&&mt.stop(),mt.play())}),this.container.addEventListener("mouseleave",function(){ut&&mt.state.playerState===PlayerState.Playing&&mt.stop()})),ot&&this.setPlayerSpeed(ot),nt&&this.setPlayerDirection(nt),lt&&this.setState({background:lt}),[3,6];case 5:return pt.sent(),this.setState({playerState:PlayerState.Error}),this.triggerEvent(PlayerEvent.Error),[3,6];case 6:return[2]}})})},_.prototype.play=function(){var et=this.state.instance;et&&(this.triggerEvent(PlayerEvent.Play),et.play(),this.setState({playerState:PlayerState.Playing}))},_.prototype.pause=function(){var et=this.state.instance;et&&(this.triggerEvent(PlayerEvent.Pause),et.pause(),this.setState({playerState:PlayerState.Paused}))},_.prototype.stop=function(){var et=this.state.instance;et&&(this.triggerEvent(PlayerEvent.Stop),et.stop(),this.setState({playerState:PlayerState.Stopped}))},_.prototype.setPlayerSpeed=function(et){var tt=this.state.instance;tt&&tt.setSpeed(et)},_.prototype.setPlayerDirection=function(et){var tt=this.state.instance;tt&&tt.setDirection(et)},_.prototype.setSeeker=function(et,tt){tt===void 0&&(tt=!1);var nt=this.state,rt=nt.instance,it=nt.playerState;rt&&(tt&&it===PlayerState.Playing?rt.goToAndPlay(et,!0):(rt.goToAndStop(et,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},_.prototype.setLoop=function(et){var tt=this.state.instance;tt&&(tt.loop=et,this.setState({instance:tt}))},_.prototype.triggerEvent=function(et){var tt=this.props.onEvent;tt&&tt(et)},_.defaultProps={loop:!1},_}(reactExports.Component);function styleInject(_e,_){_===void 0&&(_={});var et=_.insertAt;if(typeof document<"u"){var tt=document.head||document.getElementsByTagName("head")[0],nt=document.createElement("style");nt.type="text/css",et==="top"&&tt.firstChild?tt.insertBefore(nt,tt.firstChild):tt.appendChild(nt),nt.styleSheet?nt.styleSheet.cssText=_e:nt.appendChild(document.createTextNode(_e))}}var css_248z=`.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '⥼';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
`;styleInject(css_248z);var ColorPicker=function(_e){function _(){var et=_e!==null&&_e.apply(this,arguments)||this;return et.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},et.handleChange=function(tt,nt){if(tt==="r"){var rt="#"+(256|nt).toString(16).slice(1)+(256|et.state.green).toString(16).slice(1)+(256|et.state.blue).toString(16).slice(1);et.setState({hex:rt})}else tt==="g"?(rt="#"+(256|et.state.red).toString(16).slice(1)+(256|nt).toString(16).slice(1)+(256|et.state.blue).toString(16).slice(1),et.setState({hex:rt})):tt==="b"&&(rt="#"+(256|et.state.red).toString(16).slice(1)+(256|et.state.green).toString(16).slice(1)+(256|nt).toString(16).slice(1),et.setState({hex:rt}))},et.parseColor=function(tt){var nt;if(typeof tt=="string"){if(tt[0]==="#"){var rt=tt.length===4?[tt.slice(1,2),tt.slice(2,3),tt.slice(3,4)].map(function(it){return parseInt(""+it+it,16)}):[tt.slice(1,3),tt.slice(3,5),tt.slice(5,7)].map(function(it){return parseInt(it,16)});et.setState({colorComponents:rt})}else tt.startsWith("rgb")&&(rt=(nt=tt.match(/\d+/g))===null||nt===void 0?void 0:nt.map(function(it){return parseInt(it)}))!==void 0&&et.setState({colorComponents:rt});et.state.colorComponents.length&&(et.setState({red:et.state.colorComponents[0]}),et.setState({green:et.state.colorComponents[1]}),et.setState({blue:et.state.colorComponents[2]}))}},et}return __extends(_,_e),_.prototype.componentDidUpdate=function(et,tt){return this.props.colorChangedEvent&&this.state.hex!==tt.hex&&this.props.colorChangedEvent(this.state.hex),!0},_.prototype.render=function(){var et=this;return reactExports.createElement("div",{className:"lf-color-picker"},reactExports.createElement("div",{className:"lf-color-selectors"},reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Red"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(tt){et.setState({red:tt.target.value}),et.handleChange("r",tt.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(tt){et.setState({red:tt.target.value}),et.handleChange("r",tt.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Green"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(tt){et.setState({green:tt.target.value}),et.handleChange("g",tt.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(tt){et.setState({green:tt.target.value}),et.handleChange("g",tt.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Blue"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(tt){et.setState({blue:tt.target.value}),et.handleChange("b",tt.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(tt){et.setState({blue:tt.target.value}),et.handleChange("b",tt.target.value)}}))),reactExports.createElement("div",{className:"lf-color-preview"},reactExports.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),reactExports.createElement("div",null,reactExports.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(tt){et.setState({hex:tt.target.value}),et.parseColor(tt.target.value)}}))))},_}(reactExports.Component),Popover=function(_e){var _=_e.children,et=_e.icon,tt=reactExports.useState(null),nt=tt[0],rt=tt[1],it=reactExports.useState(null),st=it[0],ot=it[1],at=reactExports.useState(null),lt=at[0],ct=at[1],ut=reactExports.useState(!1),ft=ut[0],ht=ut[1];return reactExports.useEffect(function(){if(nt&&st){var vt=nt.getBoundingClientRect(),mt=st.getBoundingClientRect(),pt=vt.left+mt.width>window.innerWidth?-1:0;ct(pt)}},[lt,st,nt]),reactExports.createElement("div",{className:"lf-popover",onMouseOver:function(){ht(!0)},onMouseLeave:function(){ht(!1)},ref:function(vt){rt(vt)}},reactExports.createElement("div",{className:" lf-player-btn"},et),reactExports.createElement("div",{className:"lf-popover-content",ref:function(vt){ot(vt)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:ft?"visible":"hidden"}},_))},Seeker=function(_e){function _(et){var tt=_e.call(this,et)||this;return tt.inputRef=reactExports.createRef(),tt.handleChange=function(){return function(nt){var rt=nt.target.value,it=Math.floor(rt/100*tt.props.max);tt.props.onChange(it)}},tt.state={value:0},tt}return __extends(_,_e),_.prototype.render=function(){var et=this.props.value/this.props.max*100,tt={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+et+"%, rgba(15, 204, 206, 0.4)), color-stop("+et+"%, #DAE1E7))"},nt={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},rt={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return reactExports.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},reactExports.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress","aria-label":"progress",type:"range",min:"0",max:"100",step:"0.1",value:et,onInput:this.handleChange(),onChange:this.handleChange(),style:tt}),this.props.showLabels&&reactExports.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},reactExports.createElement("div",{style:nt},this.props.min),reactExports.createElement("div",{style:rt},this.props.max)))},_}(reactExports.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"};(function(_e){function _(et){var tt=_e.call(this,et)||this;return tt.state={activeFrame:0,mouseDown:!1},tt}return __extends(_,_e),_.prototype.render=function(){var et=this,tt=this.props,nt=tt.instance,rt=tt.playerState,it=tt.seeker,st=tt.setLoop,ot=tt.setSeeker,at=tt.play,lt=tt.pause,ct=tt.stop,ut=tt.visible,ft=tt.buttons;if(!nt||!ut)return null;var ht=!ft||ft.includes("play"),vt=!ft||ft.includes("stop"),mt=!ft||ft.includes("repeat"),pt=!ft||ft.includes("frame"),yt=!ft||ft.includes("background"),_t=!ft||ft.includes("snapshot"),St={width:14,height:14,viewBox:"0 0 24 24"},Et=Math.round(nt.currentFrame);return reactExports.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},ht&&reactExports.createElement("div",{role:"button","aria-label":rt===PlayerState.Playing?PlayerEvent.Pause:PlayerEvent.Play,tabIndex:0,onClick:function(){rt===PlayerState.Playing?typeof lt=="function"&&lt():typeof at=="function"&&at()},onKeyDown:function(){rt===PlayerState.Playing?typeof lt=="function"&&lt():typeof at=="function"&&at()},className:"lf-player-btn",style:ControlButtonStyle},rt===PlayerState.Playing?reactExports.createElement("svg",__assign({},St),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):reactExports.createElement("svg",__assign({},St),reactExports.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),vt&&reactExports.createElement("div",{tabIndex:0,role:"button","aria-label":PlayerEvent.Stop,onClick:function(){return ct&&ct()},onKeyDown:function(){return ct&&ct()},className:rt===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},St),reactExports.createElement("path",{d:`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`}))),reactExports.createElement(Seeker,{min:0,step:1,max:nt?nt.totalFrames:1,value:it||0,onChange:function(wt){ot&&et.setState({activeFrame:wt},function(){ot(wt,!1)})},onChangeEnd:function(wt){ot&&et.setState({activeFrame:wt},function(){ot(wt,!1)})},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),pt&&reactExports.createElement("div",{role:"button",className:"lf-player-btn-container"},reactExports.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:Et,readOnly:!0})),mt&&reactExports.createElement("div",{role:"button","aria-label":PlayerEvent.Loop,tabIndex:0,onClick:function(){nt&&st&&st(!nt.loop)},onKeyDown:function(){nt&&st&&st(!nt.loop)},className:nt.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},St),reactExports.createElement("path",{d:`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`,stroke:"#8795A1",strokeWidth:".26"}),reactExports.createElement("path",{d:`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`,fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),yt&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},St),reactExports.createElement("path",{d:`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`}))},reactExports.createElement("div",{slot:"content",className:"lf-popover popover-background"},reactExports.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),_t&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},St),reactExports.createElement("path",{clipRule:"evenodd",d:`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`,fillRule:"evenodd"}),reactExports.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),reactExports.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),reactExports.createElement("path",{d:`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
              01-.803.804H9.562a1.061 1.061 0 100 2.123z`,stroke:"#8795a1",strokeWidth:".215"}))},reactExports.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(wt){ot&&ot(Et+(wt.deltaY>0?-1:1),!1)}},reactExports.createElement("h5",null,"Frame ",Et),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),reactExports.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},_})(reactExports.Component);const Preloader$1="_Preloader_rwx7t_1",hidden="_hidden_rwx7t_16",Preloader_logo="_Preloader_logo_rwx7t_21",Preloader_planet="_Preloader_planet_rwx7t_27",Preloader_player="_Preloader_player_rwx7t_43",logo="_logo_rwx7t_43",Preloader_progress="_Preloader_progress_rwx7t_48",styles$8={Preloader:Preloader$1,hidden,Preloader_logo,Preloader_planet,Preloader_player,logo,Preloader_progress},preloader=_e=>{const{onChange:_}=_e;let et=[...Array.from(document.images),...Array.from(document.getElementsByTagName("video"))],tt=et.length,nt=0;for(let st of et){let ot=!1,at="";if(st instanceof HTMLImageElement?(ot=st.complete,at="load"):st instanceof HTMLVideoElement&&(ot=!!st.duration,at="canplay"),ot){++nt;const lt=rt(nt);_(lt.percentage,lt.completed);continue}st.addEventListener(at,it)}function rt(st){let ot=st/tt*100;return{percentage:ot,completed:ot===100}}function it(){if(this.getAttribute("data-loaded"))return;this.setAttribute("data-loaded",""),++nt;const st=rt(nt);_(st.percentage,st.completed)}},Preloader=()=>{const{setLoad:_e,timeLoad:_}=reactExports.useContext(MainContext),et=reactExports.useRef(null),tt=reactExports.useRef(null),[nt,rt]=reactExports.useState(0);reactExports.useEffect(()=>{setTimeout(()=>{_e(!0)},1e3)},[nt]),reactExports.useEffect(()=>{preloader({onChange(st,ot){rt(Number(st.toFixed(2)))}})},[]);const it=st=>{let ot=st.indexOf(".");if(ot!==-1){let at=st.substring(0,ot),lt=st.substring(ot);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[at,jsxRuntimeExports.jsxs("span",{children:[lt,"%"]})]})}else return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[st,jsxRuntimeExports.jsx("span",{children:"%"})]})};return jsxRuntimeExports.jsxs("div",{className:clsx(styles$8.Preloader),ref:tt,children:[jsxRuntimeExports.jsx("img",{loading:"lazy",decoding:"async",className:"bg_noise",src:"/images/noise.png",alt:""}),jsxRuntimeExports.jsx("div",{className:clsx(styles$8.Preloader_logo)}),jsxRuntimeExports.jsx("div",{className:clsx(styles$8.Preloader_planet),children:jsxRuntimeExports.jsx(Player,{className:clsx(styles$8.Preloader_player),autoplay:!0,ref:et,keepLastFrame:!0,src:"/lottiAnimations/preloader/preloader-planet.json",children:jsxRuntimeExports.jsx("div",{className:clsx(styles$8.Preloader_progress),children:it(nt.toString())})})})]})},Bg="/images/architecture/bg.png";/*!
 * strings: 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _trimExp=/(?:^\s+|\s+$)/g,emojiExp=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function getText(_e){var _=_e.nodeType,et="";if(_===1||_===9||_===11){if(typeof _e.textContent=="string")return _e.textContent;for(_e=_e.firstChild;_e;_e=_e.nextSibling)et+=getText(_e)}else if(_===3||_===4)return _e.nodeValue;return et}function splitInnerHTML(_e,_,et,tt){for(var nt=_e.firstChild,rt=[],it;nt;)nt.nodeType===3?(it=(nt.nodeValue+"").replace(/^\n+/g,""),tt||(it=it.replace(/\s+/g," ")),rt.push.apply(rt,emojiSafeSplit(it,_,et,tt))):(nt.nodeName+"").toLowerCase()==="br"?rt[rt.length-1]+="<br>":rt.push(nt.outerHTML),nt=nt.nextSibling;for(it=rt.length;it--;)rt[it]==="&"&&rt.splice(it,1,"&amp;");return rt}function emojiSafeSplit(_e,_,et,tt){if(_e+="",et&&(_e=_e.trim?_e.trim():_e.replace(_trimExp,"")),_&&_!=="")return _e.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(_);for(var nt=[],rt=_e.length,it=0,st,ot;it<rt;it++)ot=_e.charAt(it),(ot.charCodeAt(0)>=55296&&ot.charCodeAt(0)<=56319||_e.charCodeAt(it+1)>=65024&&_e.charCodeAt(it+1)<=65039)&&(st=((_e.substr(it,12).split(emojiExp)||[])[1]||"").length||2,ot=_e.substr(it,st),nt.emoji=1,it+=st-1),nt.push(ot===">"?"&gt;":ot==="<"?"&lt;":tt&&ot===" "&&(_e.charAt(it-1)===" "||_e.charAt(it+1)===" ")?"&nbsp;":ot);return nt}/*!
 * TextPlugin 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap,_tempDiv,_getGSAP=function _e(){return gsap||typeof window<"u"&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},TextPlugin={version:"3.12.2",name:"text",init:function _e(_,et,tt){typeof et!="object"&&(et={value:et});var nt=_.nodeName.toUpperCase(),rt=this,it=et,st=it.newClass,ot=it.oldClass,at=it.preserveSpaces,lt=it.rtl,ct=rt.delimiter=et.delimiter||"",ut=rt.fillChar=et.fillChar||(et.padSpace?"&nbsp;":""),ft,ht,vt,mt,pt,yt,_t,St;if(rt.svg=_.getBBox&&(nt==="TEXT"||nt==="TSPAN"),!("innerHTML"in _)&&!rt.svg)return!1;if(rt.target=_,!("value"in et)){rt.text=rt.original=[""];return}for(vt=splitInnerHTML(_,ct,!1,at),_tempDiv||(_tempDiv=document.createElement("div")),_tempDiv.innerHTML=et.value,ht=splitInnerHTML(_tempDiv,ct,!1,at),rt.from=tt._from,(rt.from||lt)&&!(lt&&rt.from)&&(nt=vt,vt=ht,ht=nt),rt.hasClass=!!(st||ot),rt.newClass=lt?ot:st,rt.oldClass=lt?st:ot,nt=vt.length-ht.length,ft=nt<0?vt:ht,nt<0&&(nt=-nt);--nt>-1;)ft.push(ut);if(et.type==="diff"){for(mt=0,pt=[],yt=[],_t="",nt=0;nt<ht.length;nt++)St=ht[nt],St===vt[nt]?_t+=St:(pt[mt]=_t+St,yt[mt++]=_t+vt[nt],_t="");ht=pt,vt=yt,_t&&(ht.push(_t),vt.push(_t))}et.speed&&tt.duration(Math.min(.05/et.speed*ft.length,et.maxDuration||9999)),rt.rtl=lt,rt.original=vt,rt.text=ht,rt._props.push("text")},render:function _e(_,et){_>1?_=1:_<0&&(_=0),et.from&&(_=1-_);var tt=et.text,nt=et.hasClass,rt=et.newClass,it=et.oldClass,st=et.delimiter,ot=et.target,at=et.fillChar,lt=et.original,ct=et.rtl,ut=tt.length,ft=(ct?1-_:_)*ut+.5|0,ht,vt,mt;nt&&_?(ht=rt&&ft,vt=it&&ft!==ut,mt=(ht?"<span class='"+rt+"'>":"")+tt.slice(0,ft).join(st)+(ht?"</span>":"")+(vt?"<span class='"+it+"'>":"")+st+lt.slice(ft).join(st)+(vt?"</span>":"")):mt=tt.slice(0,ft).join(st)+st+lt.slice(ft).join(st),et.svg?ot.textContent=mt:ot.innerHTML=at==="&nbsp;"&&~mt.indexOf("  ")?mt.split("  ").join("&nbsp;&nbsp;"):mt}};TextPlugin.splitInnerHTML=splitInnerHTML;TextPlugin.emojiSafeSplit=emojiSafeSplit;TextPlugin.getText=getText;_getGSAP()&&gsap.registerPlugin(TextPlugin);const SectionTitle$1="_SectionTitle_dw31x_1",styles$7={SectionTitle:SectionTitle$1},SectionTitle=({title:_e,className:_})=>jsxRuntimeExports.jsx("div",{className:clsx(styles$7.SectionTitle,_),children:_e}),sectionAnim=(_e,_,et)=>{const{setScrollDownPos:tt}=reactExports.useContext(MainContext),nt=()=>{if(_e.current&&_e.current.parentElement&&_.current){const rt=_.current.getBoundingClientRect(),it=rt.y;if(it<rt.height/2&&it>-rt.height)if(window.innerWidth>1024)switch(_e.current.id){case"risk-sharing":case"app":tt("left");break;case"footer":tt("none");break;default:tt("right");break}else et&&et.active();else window.innerWidth>1024||et&&et.disable()}};reactExports.useEffect(()=>(document.addEventListener("scroll",()=>{nt()}),()=>document.removeEventListener("scroll",()=>{nt()})),[]),window.innerWidth>1024?reactExports.useEffect(()=>{},[]):reactExports.useEffect(()=>{},[])},architecture="_architecture_1gesh_1",architectureWrapper="_architectureWrapper_1gesh_6",architectureGradient="_architectureGradient_1gesh_14",architectureGrid="_architectureGrid_1gesh_27",architectureList="_architectureList_1gesh_35",architectureListItem="_architectureListItem_1gesh_43",arrow$4="_arrow_1gesh_54",line="_line_1gesh_63",architecture_inner="_architecture_inner_1gesh_115",Architecture_items="_Architecture_items_1gesh_122",styles$6={architecture,architectureWrapper,architectureGradient,architectureGrid,architectureList,architectureListItem,arrow:arrow$4,line,architecture_inner,Architecture_items},dataArchitecture=[{title:"Off-chain pre-match Processing"},{title:"Arbitrum post-match Settlement"},{title:"Axelar cross-chain Bridging"}],IconArrow=()=>jsxRuntimeExports.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 8.80597V6C4 4.89543 4.89543 4 6 4H21.309C22.3664 4 23.3808 4.41869 24.1304 5.16453L26.5752 7.59719C27.3609 8.37904 27.3609 9.65081 26.5752 10.4327L21.16 15.8209L26.4614 21.0959C27.2158 21.8466 27.64 22.867 27.64 23.9314V26C27.64 27.1046 26.7446 28 25.64 28H22.8C21.6954 28 20.8 27.1046 20.8 26V16.0597L10.2107 26.5963C9.43045 27.3727 8.16955 27.3727 7.38932 26.5963L5.42482 24.6416C4.63907 23.8598 4.63907 22.588 5.42483 21.8061L15.6213 11.6604C15.9375 11.3458 15.7147 10.806 15.2686 10.806H6C4.89543 10.806 4 9.91054 4 8.80597Z",fill:"white"})}),ArchitectureItem$1="_ArchitectureItem_h0889_1",ArchitectureItem_arrow="_ArchitectureItem_arrow_h0889_8",ArchitectureItem_title="_ArchitectureItem_title_h0889_17",ArchitectureItem_num="_ArchitectureItem_num_h0889_18",ArchitectureItem_elem_line="_ArchitectureItem_elem_line_h0889_21",ArchitectureItem_elem_ring="_ArchitectureItem_elem_ring_h0889_25",ArchitectureItem_inner="_ArchitectureItem_inner_h0889_30",ArchitectureItem_left="_ArchitectureItem_left_h0889_99",ArchitectureItem_elem="_ArchitectureItem_elem_h0889_21",styles$5={ArchitectureItem:ArchitectureItem$1,ArchitectureItem_arrow,ArchitectureItem_title,ArchitectureItem_num,ArchitectureItem_elem_line,ArchitectureItem_elem_ring,ArchitectureItem_inner,ArchitectureItem_left,ArchitectureItem_elem};gsapWithCSS.registerPlugin(TextPlugin);const ArchitectureItem=({title:_e,num:_})=>{const et=reactExports.useRef(null),tt=reactExports.useRef(null),nt=reactExports.useRef(null),rt=reactExports.useRef(null),it=["$","%","^","&","*",")","(","-","_","=","+","!","@","#","|","~","<",">","?"];function st(vt){return Math.floor(Math.random()*vt)}const ot=vt=>{let mt="";for(let pt=0;pt<vt;pt++)mt+=it[st(it.length)];return mt},at=(vt,mt)=>{let pt=gsapWithCSS.timeline({defaults:{delay:0}});pt.to(mt.current,{innerText:ot(vt.length),duration:0}),pt.to(mt.current,{text:vt,duration:.02*vt.length,delay:.1},"<10%")},lt=(vt,mt)=>{let pt=gsapWithCSS.timeline({defaults:{delay:0}});Array(vt.length).fill(null).map((yt,_t)=>{const St=vt;pt.to(mt.current,{text:`${St.slice(0,vt.length-1-_t)}${ot(_t)}`,duration:.02})}),pt.to(mt.current,{text:vt,duration:0})};reactExports.useLayoutEffect(()=>{const vt=gsapWithCSS.context(()=>{setTimeout(()=>{gsapWithCSS.timeline({defaults:{delay:0,duration:1,ease:"power2.inOut"},scrollTrigger:{trigger:et.current,start:"top 95%",end:"top 70%",scrub:1}}).fromTo(et.current,{opacity:0,yPercent:50},{opacity:1,yPercent:0,onStart:()=>at(_e,rt)}).to(rt.current,{scrambleText:_e}).fromTo(nt.current,{scale:0},{scale:1},"<50%").fromTo(tt.current,{width:"0%"},{width:"100%"})},100)});return()=>vt.revert()},[]);const{setWheelMultiplayer:ct,setTouchMultiplier:ut}=reactExports.useContext(ScrollContext),{refSwiper:ft}=reactExports.useContext(MainContext),ht=(vt,mt)=>{vt?scrollTo(ct,ut,vt):mt&&scrollTo(ct,ut,null,{swiper:ft,section:mt})};return jsxRuntimeExports.jsxs("div",{className:clsx(styles$5.ArchitectureItem),onMouseEnter:()=>at(_e,rt),onMouseLeave:()=>lt(_e,rt),ref:et,onClick:()=>{window.innerWidth>768?ht(null,9):ht("#architecture-ithaca")},children:[jsxRuntimeExports.jsx("div",{className:clsx("dalek-font",styles$5.ArchitectureItem_num),children:_<10?`00${_}`:_<100?`0${_}`:`${_}`}),jsxRuntimeExports.jsxs("div",{className:clsx(styles$5.ArchitectureItem_inner),children:[jsxRuntimeExports.jsxs("div",{className:clsx(styles$5.ArchitectureItem_left),children:[jsxRuntimeExports.jsxs("div",{className:clsx(styles$5.ArchitectureItem_arrow),children:[jsxRuntimeExports.jsx(IconArrow,{}),jsxRuntimeExports.jsx(IconArrow,{})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:clsx(styles$5.ArchitectureItem_title),ref:rt,children:_e})})]}),jsxRuntimeExports.jsxs("div",{className:clsx(styles$5.ArchitectureItem_elem),children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$5.ArchitectureItem_elem_line),ref:tt}),jsxRuntimeExports.jsx("div",{className:clsx(styles$5.ArchitectureItem_elem_ring),ref:nt})]})]})]})};gsapWithCSS.registerPlugin(TextPlugin);const Architecture=reactExports.forwardRef(({},_e)=>{const _=reactExports.useRef(null),et=reactExports.useRef(null),tt=reactExports.useRef(null),nt=reactExports.useRef(null);return sectionAnim(_,et),useGSAP(()=>{nt.current&&ScrollTrigger.create({trigger:nt.current,start:"top top+=80%",end:"top top+=70%",scrub:1,animation:gsapWithCSS.timeline().fromTo(nt.current,{opacity:0},{opacity:1})})},[]),reactExports.useImperativeHandle(_e,()=>_.current),jsxRuntimeExports.jsx("section",{id:"architecture",ref:_,className:clsx("section",styles$6.architecture),children:jsxRuntimeExports.jsxs("div",{className:styles$6.architecture_inner,ref:et,children:[jsxRuntimeExports.jsx("div",{ref:tt,className:styles$6.architectureGradient,children:jsxRuntimeExports.jsx("img",{loading:"lazy",decoding:"async",src:Bg,alt:""})}),jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:styles$6.architectureWrapper,children:[jsxRuntimeExports.jsx(SectionTitle,{title:"Architecture"}),jsxRuntimeExports.jsx("div",{className:styles$6.Architecture_items,children:dataArchitecture.map((rt,it)=>jsxRuntimeExports.jsx(ArchitectureItem,{title:rt.title,num:it+1},it))})]})})]})})});Architecture.displayName="Architecture";const IconLogo=({className:_e})=>jsxRuntimeExports.jsxs("svg",{className:_e,width:"162",height:"68",viewBox:"0 0 162 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{filter:"url(#filter0_dd_1840_1643)",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M75.9456 46.0432L93.451 53.6986L83.9876 16.0792L76.6564 43.4522L74.2808 52.2853L71.9149 61.0007L68.9844 59.98L83.9973 9.99414L97.9198 59.1163L75.9456 46.0432Z",fill:"white"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M133.526 46.0432L151.021 53.6986L141.558 16.0792L134.227 43.4522L131.851 52.2853L129.495 61.0007L126.555 59.98L141.577 9.99414L155.49 59.1163L133.526 46.0432Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M120.947 56.3184L118.62 59.518L96.4023 32.9106L118.357 7L120.703 10.1603L100.238 32.8026L120.947 56.3184Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M63.711 18.6904V60.4222H61.0336V40.8518H40.2472V60.4222H37.5698V18.6904H40.2472V38.1037H61.0336V18.6904H63.711Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M63.6881 7.20801V9.9561H29.4174V60.4228H26.7399V9.9561H13.4795V7.20801H63.6881Z",fill:"white"}),jsxRuntimeExports.jsx("path",{d:"M9.23582 7.15625H6.5V60.4202H9.23582V7.15625Z",fill:"white"})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("filter",{id:"filter0_dd_1840_1643",x:"0.573175",y:"1.07317",width:"160.854",height:"65.8537",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"2.96341"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.643137 0 0 0 0 0.956863 0 0 0 0 0.85098 0 0 0 0.5 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1840_1643"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"2.96341"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.643137 0 0 0 0 0.956863 0 0 0 0 0.85098 0 0 0 0.65 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"effect1_dropShadow_1840_1643",result:"effect2_dropShadow_1840_1643"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_1840_1643",result:"shape"})]}),jsxRuntimeExports.jsx("clipPath",{id:"clip0_1840_1643",children:jsxRuntimeExports.jsx("rect",{width:"149",height:"54",fill:"white",transform:"translate(6.5 7)"})})]})]}),ecosystem="_ecosystem_1rk2w_1",ecosystemPerspectiveText="_ecosystemPerspectiveText_1rk2w_22",ecosystemPerspective="_ecosystemPerspective_1rk2w_22",ecosystemGraph="_ecosystemGraph_1rk2w_58",ecosystemGraphIcon="_ecosystemGraphIcon_1rk2w_65",ecosystemText="_ecosystemText_1rk2w_74",first="_first_1rk2w_78",second="_second_1rk2w_81",side="_side_1rk2w_84",ecosystemList="_ecosystemList_1rk2w_90",ecosystemListWrapper="_ecosystemListWrapper_1rk2w_93",ecosystemProgress="_ecosystemProgress_1rk2w_96",ecosystem_logo="_ecosystem_logo_1rk2w_100",styles$4={ecosystem,ecosystemPerspectiveText,ecosystemPerspective,ecosystemGraph,ecosystemGraphIcon,ecosystemText,first,second,side,ecosystemList,ecosystemListWrapper,ecosystemProgress,ecosystem_logo},Ecosystem=reactExports.forwardRef(({},_e)=>{const _=reactExports.useRef(null);reactExports.useImperativeHandle(_e,()=>_.current);const et=reactExports.useRef(null),tt=reactExports.useRef(null),nt=reactExports.useRef(null),rt=reactExports.useRef(null),it=reactExports.useRef(null);reactExports.useRef(null);const[st,ot]=reactExports.useState(0);return reactExports.useEffect(()=>{const at=gsapWithCSS.context(()=>{ScrollTrigger.create({trigger:"#ecosystem",start:window.innerWidth>1024?"top-=150% top":"top-=100% top",end:window.innerWidth>1024?"bottom bottom-=150%":"bottom+=200% bottom",scrub:.01,onUpdate:lt=>{et.current&&(et.current.style.height=`${lt.progress*100}%`),ot(lt.progress)},animation:window.innerWidth>1024?gsapWithCSS.timeline().to("#ecosystem-perspective",{yPercent:-90,translateZ:-(window.innerWidth/100*100)},0):gsapWithCSS.timeline().to("#ecosystem-perspective",{yPercent:-90,translateZ:-(window.innerWidth/100*100)},0)})});return()=>at.revert()},[]),reactExports.useEffect(()=>{nt.current&&rt.current&&it.current&&(window.innerWidth>1024?(st<=.28&&gsapWithCSS.set(nt.current,{opacity:0}),st<=.35&&gsapWithCSS.set(rt.current,{opacity:0}),st<=.4&&gsapWithCSS.set(it.current,{opacity:0}),st>.28&&st<.45&&gsapWithCSS.set(nt.current,{opacity:1}),st>.35&&st<.49&&gsapWithCSS.set(rt.current,{opacity:1}),st>.4&&st<.57&&gsapWithCSS.set(it.current,{opacity:1}),st>=.45&&gsapWithCSS.set(nt.current,{opacity:0}),st>=.49&&gsapWithCSS.set(rt.current,{opacity:0}),st>=.57&&gsapWithCSS.set(it.current,{opacity:0})):(st<=.15&&gsapWithCSS.set(nt.current,{opacity:0}),st<=.2&&gsapWithCSS.set(rt.current,{opacity:0}),st<=.25&&gsapWithCSS.set(it.current,{opacity:0}),st>.15&&st<.3&&gsapWithCSS.set(nt.current,{opacity:1}),st>.2&&st<.35&&gsapWithCSS.set(rt.current,{opacity:1}),st>.25&&st<.4&&gsapWithCSS.set(it.current,{duration:1,opacity:1}),st>=.3&&gsapWithCSS.set(nt.current,{opacity:0}),st>=.35&&gsapWithCSS.set(rt.current,{opacity:0}),st>=.4&&gsapWithCSS.set(it.current,{opacity:0})))},[st]),jsxRuntimeExports.jsx("section",{ref:_,id:"ecosystem",className:clsx("section",styles$4.ecosystem),children:jsxRuntimeExports.jsxs("div",{ref:tt,id:"ecosystem-perspective",className:styles$4.ecosystemPerspective,children:[jsxRuntimeExports.jsxs("div",{ref:nt,className:styles$4.ecosystemPerspectiveText,children:[jsxRuntimeExports.jsx("h1",{className:clsx(`${window.innerWidth>1024?"scale-[1.2]":"scale-[1.5]"}`),children:"The"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{className:clsx(styles$4.ecosystem_logo),children:jsxRuntimeExports.jsx(IconLogo,{})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:clsx(`${window.innerWidth>1024?"scale-[1.2]":"scale-[1.5]"}`),children:"Ecosystem"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),window.innerWidth>1024?jsxRuntimeExports.jsx("h3",{className:"scale-[0.95]",children:"will encompass"}):jsxRuntimeExports.jsx("h2",{className:"scale-[0.95]",children:"will encompass"})]}),jsxRuntimeExports.jsxs("div",{ref:rt,className:styles$4.ecosystemPerspectiveText,children:[jsxRuntimeExports.jsx("h4",{children:"An Option trading protocol"}),jsxRuntimeExports.jsx("br",{}),window.innerWidth>1024&&jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h4",{children:"An algorithmic market maker"}),jsxRuntimeExports.jsx("br",{}),window.innerWidth>1024&&jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h4",{children:"a collateral optimization engine"})]}),jsxRuntimeExports.jsxs("div",{ref:it,className:clsx(styles$4.ecosystemPerspectiveText,"scale-[0.85]"),children:[jsxRuntimeExports.jsx("p",{className:"body-28 rotate-x-[-125deg] font-light italic",children:"Coming soon"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"body-20 rotate-x-[-125deg] font-light italic capitalize",children:["market cleaning consistent margin lending",window.innerWidth<1024&&jsxRuntimeExports.jsx("br",{}),"& liquidation mechanism ",jsxRuntimeExports.jsx("br",{}),"Decentralized protocol Governance"]})]})]})})});Ecosystem.displayName="Ecosystem";const hero="_hero_1sbul_1",heroGeometry="_heroGeometry_1sbul_4",heroBlur="_heroBlur_1sbul_10",heroGradient="_heroGradient_1sbul_15",left$1="_left_1sbul_25",right$1="_right_1sbul_33",top="_top_1sbul_41",heroWrapper="_heroWrapper_1sbul_70",heroBlurBox="_heroBlurBox_1sbul_117",hero_button_launch="_hero_button_launch_1sbul_121",hero_button_launch_FlyingParticles="_hero_button_launch_FlyingParticles_1sbul_129",hero_logo="_hero_logo_1sbul_144",styles$3={hero,heroGeometry,heroBlur,heroGradient,left:left$1,right:right$1,top,heroWrapper,heroBlurBox,hero_button_launch,hero_button_launch_FlyingParticles,hero_logo},Hero=reactExports.forwardRef(({},_e)=>{const _=reactExports.useRef(null),et=reactExports.useRef(null),tt=reactExports.useRef(null);return reactExports.useImperativeHandle(_e,()=>_.current),reactExports.useLayoutEffect(()=>{const nt=gsapWithCSS.context(()=>{const rt=document.querySelectorAll(".hero-split-text");rt&&rt.forEach(it=>{const st=new SplitText(it,{type:it.dataset.type??"chars"});it.classList.contains("split-text-reveal")&&ScrollTrigger.create({trigger:it,start:it.dataset.start??"top top+=100%",onEnter:()=>gsapWithCSS.to(st.chars,{duration:.95,delay:function(ot){return ot*.0025+1},opacity:1,scale:1,rotateX:0,stagger:.01})}),ScrollTrigger.create({trigger:"#hero",start:"top top+=15%",end:"bottom bottom-=55%",scrub:1,animation:gsapWithCSS.fromTo(st.chars,{pointerEvents:"auto"},{duration:.95,delay:function(ot){return ot*.0025+1},opacity:0,scale:.25,rotateX:75,translateZ:window.innerWidth/100*10*-1,stagger:.01,pointerEvents:"none"})})}),ScrollTrigger.create({trigger:"#hero",start:"top top-=5%",end:"bottom bottom-=15%",scrub:1,animation:gsapWithCSS.to(tt.current,{opacity:0})}),ScrollTrigger.create({trigger:"#hero",start:"top top-=5%",end:"bottom bottom-=25%",scrub:1,animation:gsapWithCSS.fromTo("#hero .hero-hide",{pointerEvents:"auto"},{duration:.55,opacity:0,scale:.5,pointerEvents:"none"})})});return()=>nt.revert()},[]),jsxRuntimeExports.jsxs("section",{id:"hero",ref:_,className:clsx("section",styles$3.hero),children:[jsxRuntimeExports.jsx("div",{ref:tt,className:"bottom-shadow"}),jsxRuntimeExports.jsx("div",{className:clsx(styles$3.heroBlurBox),children:jsxRuntimeExports.jsx("img",{loading:"lazy",decoding:"async","data-delay":"0.5",className:clsx(styles$3.heroBlur,"reveal opacity-0 hero-hide"),src:"/images/hero/stain.png",alt:""})}),jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{id:"hero-wrapper",className:styles$3.heroWrapper,children:[jsxRuntimeExports.jsx("div",{"data-delay":"0.5",className:`neon-logo ${window.innerWidth>768&&"mb-[37vh]"} hero-hide reveal opacity-0 scale-[0.5] ${styles$3.hero_logo}`,children:jsxRuntimeExports.jsx(IconLogo,{})}),jsxRuntimeExports.jsxs("h1",{"data-start":"top top+=100%","data-delay":"0.75",className:"text-center text-[#F6F6F7] reveal opacity-0 scale-[0.95]",children:[jsxRuntimeExports.jsx("span",{className:"heading-3 block text-[#F6F6F7] split-text hero-split-text split-text-reveal",children:"Non-Custodial"})," ",jsxRuntimeExports.jsxs("span",{className:"split-text hero-split-text split-text-reveal",children:["Composable",window.innerWidth<=768&&jsxRuntimeExports.jsx("br",{})," Option Protocol"]})]}),jsxRuntimeExports.jsxs("button",{"data-start":"top top+=100%","data-delay":"1.25",className:clsx("btn secondary-btn hero-hide reveal opacity-0 scale-[0.5]",styles$3.hero_button_launch),ref:et,onClick:()=>window.location.href="https://app.ithacaprotocol.io/",children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$3.hero_button_launch_FlyingParticles),children:jsxRuntimeExports.jsx(FlyingParticles,{element:et})}),jsxRuntimeExports.jsxs("svg",{preserveAspectRatio:"none",className:"button-bg",width:"149",height:"56",viewBox:"0 0 149 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{filter:"url(#filter0_bi_478_1224)",children:[jsxRuntimeExports.jsx("rect",{width:"149",height:"56",rx:"28",fill:"white",fillOpacity:"0.05"}),jsxRuntimeExports.jsx("rect",{width:"149",height:"56",rx:"28",fill:"url(#paint0_radial_478_1224)"}),jsxRuntimeExports.jsx("rect",{x:"0.5",y:"0.5",width:"148",height:"55",rx:"27.5",stroke:"url(#paint1_linear_478_1224)",strokeOpacity:"0.5"})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("filter",{id:"filter0_bi_478_1224",x:"-20",y:"-20",width:"189",height:"96",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"10"}),jsxRuntimeExports.jsx("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_478_1224"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_478_1224",result:"shape"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{dy:"2"}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"8"}),jsxRuntimeExports.jsx("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.368627 0 0 0 0 0.882353 0 0 0 0 0.572549 0 0 0 0.25 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_478_1224"})]}),jsxRuntimeExports.jsxs("radialGradient",{id:"paint0_radial_478_1224",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(74.5 98) rotate(-90) scale(64.4 288.902)",children:[jsxRuntimeExports.jsx("stop",{offset:"0.0439596",stopColor:"white"}),jsxRuntimeExports.jsx("stop",{offset:"0.0896173",stopColor:"#5EE192"}),jsxRuntimeExports.jsx("stop",{offset:"0.187274",stopColor:"white",stopOpacity:"0.873153"}),jsxRuntimeExports.jsx("stop",{offset:"0.284682",stopColor:"#5EE192"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopOpacity:"0"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"paint1_linear_478_1224",x1:"70",y1:"-1.28978e-08",x2:"72.1667",y2:"61.6603",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{stopColor:"white"}),jsxRuntimeExports.jsx("stop",{offset:"0.756956",stopColor:"white",stopOpacity:"0"}),jsxRuntimeExports.jsx("stop",{offset:"1",stopColor:"#54AD7B"})]})]})]}),"Launch App"," ",jsxRuntimeExports.jsx("svg",{width:"20",height:"22",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M14.1668 5.83337L5.8335 14.1667M14.1668 5.83337H6.66683M14.1668 5.83337V13.3334",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})]})});Hero.displayName="Hero";const mission="_mission_1tssa_1",missionAnimation="_missionAnimation_1tssa_4",missionGalaxy="_missionGalaxy_1tssa_7",missionText="_missionText_1tssa_10",styles$2={mission,missionAnimation,missionGalaxy,missionText},SCROLL_ANIMATION_DURATION=1,SCROLL_ANIMATION_DELAY=.0125,Mission=reactExports.forwardRef(({},_e)=>{const _=reactExports.useRef(null);return reactExports.useImperativeHandle(_e,()=>_.current),reactExports.useLayoutEffect(()=>{const et=gsapWithCSS.context(()=>{const tt=new SplitText("#mission-text-1",{type:"words"}),nt=new SplitText("#mission-text-2",{type:"words"}),rt=new SplitText("#mission-text-3",{type:"words"});ScrollTrigger.create({trigger:"#mission",start:"top top",end:"bottom bottom-=500%",pin:!0,scrub:1,animation:gsapWithCSS.timeline().to(tt.words,{opacity:1,yPercent:-125,delay:function(it){return it*SCROLL_ANIMATION_DELAY},duration:SCROLL_ANIMATION_DURATION}).to(tt.words,{opacity:0,yPercent:0,delay:function(it){return it*SCROLL_ANIMATION_DELAY},duration:SCROLL_ANIMATION_DURATION},1).to(nt.words,{opacity:1,yPercent:-100,delay:function(it){return it*SCROLL_ANIMATION_DELAY},duration:SCROLL_ANIMATION_DURATION},2).to(nt.words,{opacity:0,yPercent:50,delay:function(it){return it*SCROLL_ANIMATION_DELAY},duration:SCROLL_ANIMATION_DURATION},3).to(rt.words,{opacity:1,yPercent:-50,delay:function(it){return it*SCROLL_ANIMATION_DELAY},duration:SCROLL_ANIMATION_DURATION},4).to(rt.words,{opacity:0,yPercent:50,delay:function(it){return it*SCROLL_ANIMATION_DELAY},duration:SCROLL_ANIMATION_DURATION},5)})});return()=>et.revert()},[]),jsxRuntimeExports.jsx("section",{id:"mission",ref:_,className:clsx("section",styles$2.mission),children:jsxRuntimeExports.jsxs("div",{className:styles$2.missionAnimation,children:[jsxRuntimeExports.jsx("div",{id:"mission-text-1",className:styles$2.missionText,children:window.innerWidth>768?jsxRuntimeExports.jsx("h3",{className:"text-center font-normal",children:"Mission"}):jsxRuntimeExports.jsx("h2",{className:"text-center font-normal",children:"Mission"})}),jsxRuntimeExports.jsx("div",{id:"mission-text-2",className:styles$2.missionText,children:jsxRuntimeExports.jsx("h4",{className:"text-center",children:window.innerWidth>768?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Build permissionless cross-chain ",jsxRuntimeExports.jsx("br",{}),"infrastructure enabling optimal risk ",jsxRuntimeExports.jsx("br",{}),"sharing across time and event horizons."]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Build permissionless cross-chain infrastructure enabling optimal risk sharing across time and event horizons."})})}),jsxRuntimeExports.jsx("div",{id:"mission-text-3",className:styles$2.missionText,children:jsxRuntimeExports.jsx("h4",{className:"text-center",children:window.innerWidth>768?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Allow for instant deployment of ‘liquidity self- ",jsxRuntimeExports.jsx("br",{})," ","enhancing' complete, composable option, option ",jsxRuntimeExports.jsx("br",{})," strategy, structured product and lending ",jsxRuntimeExports.jsx("br",{})," markets, on any underlying."]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Allow for instant deployment of ‘liquidity self-enhancing' complete, composable option, option strategy, structured product and lending markets, on any underlying."})})})]})})});Mission.displayName="Mission";var defaultInstanceSettings={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},defaultTweenSettings={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},validTransforms=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],cache={CSS:{},springs:{}};function minMax(_e,_,et){return Math.min(Math.max(_e,_),et)}function stringContains(_e,_){return _e.indexOf(_)>-1}function applyArguments(_e,_){return _e.apply(null,_)}var is$1={arr:function(_e){return Array.isArray(_e)},obj:function(_e){return stringContains(Object.prototype.toString.call(_e),"Object")},pth:function(_e){return is$1.obj(_e)&&_e.hasOwnProperty("totalLength")},svg:function(_e){return _e instanceof SVGElement},inp:function(_e){return _e instanceof HTMLInputElement},dom:function(_e){return _e.nodeType||is$1.svg(_e)},str:function(_e){return typeof _e=="string"},fnc:function(_e){return typeof _e=="function"},und:function(_e){return typeof _e>"u"},nil:function(_e){return is$1.und(_e)||_e===null},hex:function(_e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(_e)},rgb:function(_e){return/^rgb/.test(_e)},hsl:function(_e){return/^hsl/.test(_e)},col:function(_e){return is$1.hex(_e)||is$1.rgb(_e)||is$1.hsl(_e)},key:function(_e){return!defaultInstanceSettings.hasOwnProperty(_e)&&!defaultTweenSettings.hasOwnProperty(_e)&&_e!=="targets"&&_e!=="keyframes"}};function parseEasingParameters(_e){var _=/\(([^)]+)\)/.exec(_e);return _?_[1].split(",").map(function(et){return parseFloat(et)}):[]}function spring(_e,_){var et=parseEasingParameters(_e),tt=minMax(is$1.und(et[0])?1:et[0],.1,100),nt=minMax(is$1.und(et[1])?100:et[1],.1,100),rt=minMax(is$1.und(et[2])?10:et[2],.1,100),it=minMax(is$1.und(et[3])?0:et[3],.1,100),st=Math.sqrt(nt/tt),ot=rt/(2*Math.sqrt(nt*tt)),at=ot<1?st*Math.sqrt(1-ot*ot):0,lt=1,ct=ot<1?(ot*st+-it)/at:-it+st;function ut(ht){var vt=_?_*ht/1e3:ht;return ot<1?vt=Math.exp(-vt*ot*st)*(lt*Math.cos(at*vt)+ct*Math.sin(at*vt)):vt=(lt+ct*vt)*Math.exp(-vt*st),ht===0||ht===1?ht:1-vt}function ft(){var ht=cache.springs[_e];if(ht)return ht;for(var vt=1/6,mt=0,pt=0;;)if(mt+=vt,ut(mt)===1){if(pt++,pt>=16)break}else pt=0;var yt=mt*vt*1e3;return cache.springs[_e]=yt,yt}return _?ut:ft}function steps(_e){return _e===void 0&&(_e=10),function(_){return Math.ceil(minMax(_,1e-6,1)*_e)*(1/_e)}}var bezier=function(){var _e=11,_=1/(_e-1);function et(lt,ct){return 1-3*ct+3*lt}function tt(lt,ct){return 3*ct-6*lt}function nt(lt){return 3*lt}function rt(lt,ct,ut){return((et(ct,ut)*lt+tt(ct,ut))*lt+nt(ct))*lt}function it(lt,ct,ut){return 3*et(ct,ut)*lt*lt+2*tt(ct,ut)*lt+nt(ct)}function st(lt,ct,ut,ft,ht){var vt,mt,pt=0;do mt=ct+(ut-ct)/2,vt=rt(mt,ft,ht)-lt,vt>0?ut=mt:ct=mt;while(Math.abs(vt)>1e-7&&++pt<10);return mt}function ot(lt,ct,ut,ft){for(var ht=0;ht<4;++ht){var vt=it(ct,ut,ft);if(vt===0)return ct;var mt=rt(ct,ut,ft)-lt;ct-=mt/vt}return ct}function at(lt,ct,ut,ft){if(!(0<=lt&&lt<=1&&0<=ut&&ut<=1))return;var ht=new Float32Array(_e);if(lt!==ct||ut!==ft)for(var vt=0;vt<_e;++vt)ht[vt]=rt(vt*_,lt,ut);function mt(pt){for(var yt=0,_t=1,St=_e-1;_t!==St&&ht[_t]<=pt;++_t)yt+=_;--_t;var Et=(pt-ht[_t])/(ht[_t+1]-ht[_t]),wt=yt+Et*_,Mt=it(wt,lt,ut);return Mt>=.001?ot(pt,wt,lt,ut):Mt===0?wt:st(pt,yt,yt+_,lt,ut)}return function(pt){return lt===ct&&ut===ft||pt===0||pt===1?pt:rt(mt(pt),ct,ft)}}return at}(),penner=function(){var _e={linear:function(){return function(tt){return tt}}},_={Sine:function(){return function(tt){return 1-Math.cos(tt*Math.PI/2)}},Expo:function(){return function(tt){return tt?Math.pow(2,10*tt-10):0}},Circ:function(){return function(tt){return 1-Math.sqrt(1-tt*tt)}},Back:function(){return function(tt){return tt*tt*(3*tt-2)}},Bounce:function(){return function(tt){for(var nt,rt=4;tt<((nt=Math.pow(2,--rt))-1)/11;);return 1/Math.pow(4,3-rt)-7.5625*Math.pow((nt*3-2)/22-tt,2)}},Elastic:function(tt,nt){tt===void 0&&(tt=1),nt===void 0&&(nt=.5);var rt=minMax(tt,1,10),it=minMax(nt,.1,2);return function(st){return st===0||st===1?st:-rt*Math.pow(2,10*(st-1))*Math.sin((st-1-it/(Math.PI*2)*Math.asin(1/rt))*(Math.PI*2)/it)}}},et=["Quad","Cubic","Quart","Quint"];return et.forEach(function(tt,nt){_[tt]=function(){return function(rt){return Math.pow(rt,nt+2)}}}),Object.keys(_).forEach(function(tt){var nt=_[tt];_e["easeIn"+tt]=nt,_e["easeOut"+tt]=function(rt,it){return function(st){return 1-nt(rt,it)(1-st)}},_e["easeInOut"+tt]=function(rt,it){return function(st){return st<.5?nt(rt,it)(st*2)/2:1-nt(rt,it)(st*-2+2)/2}},_e["easeOutIn"+tt]=function(rt,it){return function(st){return st<.5?(1-nt(rt,it)(1-st*2))/2:(nt(rt,it)(st*2-1)+1)/2}}}),_e}();function parseEasings(_e,_){if(is$1.fnc(_e))return _e;var et=_e.split("(")[0],tt=penner[et],nt=parseEasingParameters(_e);switch(et){case"spring":return spring(_e,_);case"cubicBezier":return applyArguments(bezier,nt);case"steps":return applyArguments(steps,nt);default:return applyArguments(tt,nt)}}function selectString(_e){try{var _=document.querySelectorAll(_e);return _}catch{return}}function filterArray(_e,_){for(var et=_e.length,tt=arguments.length>=2?arguments[1]:void 0,nt=[],rt=0;rt<et;rt++)if(rt in _e){var it=_e[rt];_.call(tt,it,rt,_e)&&nt.push(it)}return nt}function flattenArray(_e){return _e.reduce(function(_,et){return _.concat(is$1.arr(et)?flattenArray(et):et)},[])}function toArray(_e){return is$1.arr(_e)?_e:(is$1.str(_e)&&(_e=selectString(_e)||_e),_e instanceof NodeList||_e instanceof HTMLCollection?[].slice.call(_e):[_e])}function arrayContains(_e,_){return _e.some(function(et){return et===_})}function cloneObject(_e){var _={};for(var et in _e)_[et]=_e[et];return _}function replaceObjectProps(_e,_){var et=cloneObject(_e);for(var tt in _e)et[tt]=_.hasOwnProperty(tt)?_[tt]:_e[tt];return et}function mergeObjects(_e,_){var et=cloneObject(_e);for(var tt in _)et[tt]=is$1.und(_e[tt])?_[tt]:_e[tt];return et}function rgbToRgba(_e){var _=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(_e);return _?"rgba("+_[1]+",1)":_e}function hexToRgba(_e){var _=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,et=_e.replace(_,function(st,ot,at,lt){return ot+ot+at+at+lt+lt}),tt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(et),nt=parseInt(tt[1],16),rt=parseInt(tt[2],16),it=parseInt(tt[3],16);return"rgba("+nt+","+rt+","+it+",1)"}function hslToRgba(_e){var _=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(_e),et=parseInt(_[1],10)/360,tt=parseInt(_[2],10)/100,nt=parseInt(_[3],10)/100,rt=_[4]||1;function it(ut,ft,ht){return ht<0&&(ht+=1),ht>1&&(ht-=1),ht<1/6?ut+(ft-ut)*6*ht:ht<1/2?ft:ht<2/3?ut+(ft-ut)*(2/3-ht)*6:ut}var st,ot,at;if(tt==0)st=ot=at=nt;else{var lt=nt<.5?nt*(1+tt):nt+tt-nt*tt,ct=2*nt-lt;st=it(ct,lt,et+1/3),ot=it(ct,lt,et),at=it(ct,lt,et-1/3)}return"rgba("+st*255+","+ot*255+","+at*255+","+rt+")"}function colorToRgb(_e){if(is$1.rgb(_e))return rgbToRgba(_e);if(is$1.hex(_e))return hexToRgba(_e);if(is$1.hsl(_e))return hslToRgba(_e)}function getUnit(_e){var _=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(_e);if(_)return _[1]}function getTransformUnit(_e){if(stringContains(_e,"translate")||_e==="perspective")return"px";if(stringContains(_e,"rotate")||stringContains(_e,"skew"))return"deg"}function getFunctionValue(_e,_){return is$1.fnc(_e)?_e(_.target,_.id,_.total):_e}function getAttribute(_e,_){return _e.getAttribute(_)}function convertPxToUnit(_e,_,et){var tt=getUnit(_);if(arrayContains([et,"deg","rad","turn"],tt))return _;var nt=cache.CSS[_+et];if(!is$1.und(nt))return nt;var rt=100,it=document.createElement(_e.tagName),st=_e.parentNode&&_e.parentNode!==document?_e.parentNode:document.body;st.appendChild(it),it.style.position="absolute",it.style.width=rt+et;var ot=rt/it.offsetWidth;st.removeChild(it);var at=ot*parseFloat(_);return cache.CSS[_+et]=at,at}function getCSSValue(_e,_,et){if(_ in _e.style){var tt=_.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nt=_e.style[_]||getComputedStyle(_e).getPropertyValue(tt)||"0";return et?convertPxToUnit(_e,nt,et):nt}}function getAnimationType(_e,_){if(is$1.dom(_e)&&!is$1.inp(_e)&&(!is$1.nil(getAttribute(_e,_))||is$1.svg(_e)&&_e[_]))return"attribute";if(is$1.dom(_e)&&arrayContains(validTransforms,_))return"transform";if(is$1.dom(_e)&&_!=="transform"&&getCSSValue(_e,_))return"css";if(_e[_]!=null)return"object"}function getElementTransforms(_e){if(is$1.dom(_e)){for(var _=_e.style.transform||"",et=/(\w+)\(([^)]*)\)/g,tt=new Map,nt;nt=et.exec(_);)tt.set(nt[1],nt[2]);return tt}}function getTransformValue(_e,_,et,tt){var nt=stringContains(_,"scale")?1:0+getTransformUnit(_),rt=getElementTransforms(_e).get(_)||nt;return et&&(et.transforms.list.set(_,rt),et.transforms.last=_),tt?convertPxToUnit(_e,rt,tt):rt}function getOriginalTargetValue(_e,_,et,tt){switch(getAnimationType(_e,_)){case"transform":return getTransformValue(_e,_,tt,et);case"css":return getCSSValue(_e,_,et);case"attribute":return getAttribute(_e,_);default:return _e[_]||0}}function getRelativeValue(_e,_){var et=/^(\*=|\+=|-=)/.exec(_e);if(!et)return _e;var tt=getUnit(_e)||0,nt=parseFloat(_),rt=parseFloat(_e.replace(et[0],""));switch(et[0][0]){case"+":return nt+rt+tt;case"-":return nt-rt+tt;case"*":return nt*rt+tt}}function validateValue(_e,_){if(is$1.col(_e))return colorToRgb(_e);if(/\s/g.test(_e))return _e;var et=getUnit(_e),tt=et?_e.substr(0,_e.length-et.length):_e;return _?tt+_:tt}function getDistance(_e,_){return Math.sqrt(Math.pow(_.x-_e.x,2)+Math.pow(_.y-_e.y,2))}function getCircleLength(_e){return Math.PI*2*getAttribute(_e,"r")}function getRectLength(_e){return getAttribute(_e,"width")*2+getAttribute(_e,"height")*2}function getLineLength(_e){return getDistance({x:getAttribute(_e,"x1"),y:getAttribute(_e,"y1")},{x:getAttribute(_e,"x2"),y:getAttribute(_e,"y2")})}function getPolylineLength(_e){for(var _=_e.points,et=0,tt,nt=0;nt<_.numberOfItems;nt++){var rt=_.getItem(nt);nt>0&&(et+=getDistance(tt,rt)),tt=rt}return et}function getPolygonLength(_e){var _=_e.points;return getPolylineLength(_e)+getDistance(_.getItem(_.numberOfItems-1),_.getItem(0))}function getTotalLength(_e){if(_e.getTotalLength)return _e.getTotalLength();switch(_e.tagName.toLowerCase()){case"circle":return getCircleLength(_e);case"rect":return getRectLength(_e);case"line":return getLineLength(_e);case"polyline":return getPolylineLength(_e);case"polygon":return getPolygonLength(_e)}}function setDashoffset(_e){var _=getTotalLength(_e);return _e.setAttribute("stroke-dasharray",_),_}function getParentSvgEl(_e){for(var _=_e.parentNode;is$1.svg(_)&&is$1.svg(_.parentNode);)_=_.parentNode;return _}function getParentSvg(_e,_){var et=_||{},tt=et.el||getParentSvgEl(_e),nt=tt.getBoundingClientRect(),rt=getAttribute(tt,"viewBox"),it=nt.width,st=nt.height,ot=et.viewBox||(rt?rt.split(" "):[0,0,it,st]);return{el:tt,viewBox:ot,x:ot[0]/1,y:ot[1]/1,w:it,h:st,vW:ot[2],vH:ot[3]}}function getPath(_e,_){var et=is$1.str(_e)?selectString(_e)[0]:_e,tt=_||100;return function(nt){return{property:nt,el:et,svg:getParentSvg(et),totalLength:getTotalLength(et)*(tt/100)}}}function getPathProgress(_e,_,et){function tt(lt){lt===void 0&&(lt=0);var ct=_+lt>=1?_+lt:0;return _e.el.getPointAtLength(ct)}var nt=getParentSvg(_e.el,_e.svg),rt=tt(),it=tt(-1),st=tt(1),ot=et?1:nt.w/nt.vW,at=et?1:nt.h/nt.vH;switch(_e.property){case"x":return(rt.x-nt.x)*ot;case"y":return(rt.y-nt.y)*at;case"angle":return Math.atan2(st.y-it.y,st.x-it.x)*180/Math.PI}}function decomposeValue(_e,_){var et=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,tt=validateValue(is$1.pth(_e)?_e.totalLength:_e,_)+"";return{original:tt,numbers:tt.match(et)?tt.match(et).map(Number):[0],strings:is$1.str(_e)||_?tt.split(et):[]}}function parseTargets(_e){var _=_e?flattenArray(is$1.arr(_e)?_e.map(toArray):toArray(_e)):[];return filterArray(_,function(et,tt,nt){return nt.indexOf(et)===tt})}function getAnimatables(_e){var _=parseTargets(_e);return _.map(function(et,tt){return{target:et,id:tt,total:_.length,transforms:{list:getElementTransforms(et)}}})}function normalizePropertyTweens(_e,_){var et=cloneObject(_);if(/^spring/.test(et.easing)&&(et.duration=spring(et.easing)),is$1.arr(_e)){var tt=_e.length,nt=tt===2&&!is$1.obj(_e[0]);nt?_e={value:_e}:is$1.fnc(_.duration)||(et.duration=_.duration/tt)}var rt=is$1.arr(_e)?_e:[_e];return rt.map(function(it,st){var ot=is$1.obj(it)&&!is$1.pth(it)?it:{value:it};return is$1.und(ot.delay)&&(ot.delay=st?0:_.delay),is$1.und(ot.endDelay)&&(ot.endDelay=st===rt.length-1?_.endDelay:0),ot}).map(function(it){return mergeObjects(it,et)})}function flattenKeyframes(_e){for(var _=filterArray(flattenArray(_e.map(function(rt){return Object.keys(rt)})),function(rt){return is$1.key(rt)}).reduce(function(rt,it){return rt.indexOf(it)<0&&rt.push(it),rt},[]),et={},tt=function(rt){var it=_[rt];et[it]=_e.map(function(st){var ot={};for(var at in st)is$1.key(at)?at==it&&(ot.value=st[at]):ot[at]=st[at];return ot})},nt=0;nt<_.length;nt++)tt(nt);return et}function getProperties(_e,_){var et=[],tt=_.keyframes;tt&&(_=mergeObjects(flattenKeyframes(tt),_));for(var nt in _)is$1.key(nt)&&et.push({name:nt,tweens:normalizePropertyTweens(_[nt],_e)});return et}function normalizeTweenValues(_e,_){var et={};for(var tt in _e){var nt=getFunctionValue(_e[tt],_);is$1.arr(nt)&&(nt=nt.map(function(rt){return getFunctionValue(rt,_)}),nt.length===1&&(nt=nt[0])),et[tt]=nt}return et.duration=parseFloat(et.duration),et.delay=parseFloat(et.delay),et}function normalizeTweens(_e,_){var et;return _e.tweens.map(function(tt){var nt=normalizeTweenValues(tt,_),rt=nt.value,it=is$1.arr(rt)?rt[1]:rt,st=getUnit(it),ot=getOriginalTargetValue(_.target,_e.name,st,_),at=et?et.to.original:ot,lt=is$1.arr(rt)?rt[0]:at,ct=getUnit(lt)||getUnit(ot),ut=st||ct;return is$1.und(it)&&(it=at),nt.from=decomposeValue(lt,ut),nt.to=decomposeValue(getRelativeValue(it,lt),ut),nt.start=et?et.end:0,nt.end=nt.start+nt.delay+nt.duration+nt.endDelay,nt.easing=parseEasings(nt.easing,nt.duration),nt.isPath=is$1.pth(rt),nt.isPathTargetInsideSVG=nt.isPath&&is$1.svg(_.target),nt.isColor=is$1.col(nt.from.original),nt.isColor&&(nt.round=1),et=nt,nt})}var setProgressValue={css:function(_e,_,et){return _e.style[_]=et},attribute:function(_e,_,et){return _e.setAttribute(_,et)},object:function(_e,_,et){return _e[_]=et},transform:function(_e,_,et,tt,nt){if(tt.list.set(_,et),_===tt.last||nt){var rt="";tt.list.forEach(function(it,st){rt+=st+"("+it+") "}),_e.style.transform=rt}}};function setTargetsValue(_e,_){var et=getAnimatables(_e);et.forEach(function(tt){for(var nt in _){var rt=getFunctionValue(_[nt],tt),it=tt.target,st=getUnit(rt),ot=getOriginalTargetValue(it,nt,st,tt),at=st||getUnit(ot),lt=getRelativeValue(validateValue(rt,at),ot),ct=getAnimationType(it,nt);setProgressValue[ct](it,nt,lt,tt.transforms,!0)}})}function createAnimation(_e,_){var et=getAnimationType(_e.target,_.name);if(et){var tt=normalizeTweens(_,_e),nt=tt[tt.length-1];return{type:et,property:_.name,animatable:_e,tweens:tt,duration:nt.end,delay:tt[0].delay,endDelay:nt.endDelay}}}function getAnimations(_e,_){return filterArray(flattenArray(_e.map(function(et){return _.map(function(tt){return createAnimation(et,tt)})})),function(et){return!is$1.und(et)})}function getInstanceTimings(_e,_){var et=_e.length,tt=function(rt){return rt.timelineOffset?rt.timelineOffset:0},nt={};return nt.duration=et?Math.max.apply(Math,_e.map(function(rt){return tt(rt)+rt.duration})):_.duration,nt.delay=et?Math.min.apply(Math,_e.map(function(rt){return tt(rt)+rt.delay})):_.delay,nt.endDelay=et?nt.duration-Math.max.apply(Math,_e.map(function(rt){return tt(rt)+rt.duration-rt.endDelay})):_.endDelay,nt}var instanceID=0;function createNewInstance(_e){var _=replaceObjectProps(defaultInstanceSettings,_e),et=replaceObjectProps(defaultTweenSettings,_e),tt=getProperties(et,_e),nt=getAnimatables(_e.targets),rt=getAnimations(nt,tt),it=getInstanceTimings(rt,et),st=instanceID;return instanceID++,mergeObjects(_,{id:st,children:[],animatables:nt,animations:rt,duration:it.duration,delay:it.delay,endDelay:it.endDelay})}var activeInstances=[],engine=function(){var _e;function _(){!_e&&(!isDocumentHidden()||!anime.suspendWhenDocumentHidden)&&activeInstances.length>0&&(_e=requestAnimationFrame(et))}function et(nt){for(var rt=activeInstances.length,it=0;it<rt;){var st=activeInstances[it];st.paused?(activeInstances.splice(it,1),rt--):(st.tick(nt),it++)}_e=it>0?requestAnimationFrame(et):void 0}function tt(){anime.suspendWhenDocumentHidden&&(isDocumentHidden()?_e=cancelAnimationFrame(_e):(activeInstances.forEach(function(nt){return nt._onDocumentVisibility()}),engine()))}return typeof document<"u"&&document.addEventListener("visibilitychange",tt),_}();function isDocumentHidden(){return!!document&&document.hidden}function anime(_e){_e===void 0&&(_e={});var _=0,et=0,tt=0,nt,rt=0,it=null;function st(yt){var _t=window.Promise&&new Promise(function(St){return it=St});return yt.finished=_t,_t}var ot=createNewInstance(_e);st(ot);function at(){var yt=ot.direction;yt!=="alternate"&&(ot.direction=yt!=="normal"?"normal":"reverse"),ot.reversed=!ot.reversed,nt.forEach(function(_t){return _t.reversed=ot.reversed})}function lt(yt){return ot.reversed?ot.duration-yt:yt}function ct(){_=0,et=lt(ot.currentTime)*(1/anime.speed)}function ut(yt,_t){_t&&_t.seek(yt-_t.timelineOffset)}function ft(yt){if(ot.reversePlayback)for(var St=rt;St--;)ut(yt,nt[St]);else for(var _t=0;_t<rt;_t++)ut(yt,nt[_t])}function ht(yt){for(var _t=0,St=ot.animations,Et=St.length;_t<Et;){var wt=St[_t],Mt=wt.animatable,At=wt.tweens,Tt=At.length-1,Ct=At[Tt];Tt&&(Ct=filterArray(At,function(pn){return yt<pn.end})[0]||Ct);for(var Dt=minMax(yt-Ct.start-Ct.delay,0,Ct.duration)/Ct.duration,$t=isNaN(Dt)?1:Ct.easing(Dt),kt=Ct.to.strings,It=Ct.round,Nt=[],Gt=Ct.to.numbers.length,Bt=void 0,Rt=0;Rt<Gt;Rt++){var Ot=void 0,Ut=Ct.to.numbers[Rt],jt=Ct.from.numbers[Rt]||0;Ct.isPath?Ot=getPathProgress(Ct.value,$t*Ut,Ct.isPathTargetInsideSVG):Ot=jt+$t*(Ut-jt),It&&(Ct.isColor&&Rt>2||(Ot=Math.round(Ot*It)/It)),Nt.push(Ot)}var Jt=kt.length;if(!Jt)Bt=Nt[0];else{Bt=kt[0];for(var Xt=0;Xt<Jt;Xt++){kt[Xt];var Qt=kt[Xt+1],rn=Nt[Xt];isNaN(rn)||(Qt?Bt+=rn+Qt:Bt+=rn+" ")}}setProgressValue[wt.type](Mt.target,wt.property,Bt,Mt.transforms),wt.currentValue=Bt,_t++}}function vt(yt){ot[yt]&&!ot.passThrough&&ot[yt](ot)}function mt(){ot.remaining&&ot.remaining!==!0&&ot.remaining--}function pt(yt){var _t=ot.duration,St=ot.delay,Et=_t-ot.endDelay,wt=lt(yt);ot.progress=minMax(wt/_t*100,0,100),ot.reversePlayback=wt<ot.currentTime,nt&&ft(wt),!ot.began&&ot.currentTime>0&&(ot.began=!0,vt("begin")),!ot.loopBegan&&ot.currentTime>0&&(ot.loopBegan=!0,vt("loopBegin")),wt<=St&&ot.currentTime!==0&&ht(0),(wt>=Et&&ot.currentTime!==_t||!_t)&&ht(_t),wt>St&&wt<Et?(ot.changeBegan||(ot.changeBegan=!0,ot.changeCompleted=!1,vt("changeBegin")),vt("change"),ht(wt)):ot.changeBegan&&(ot.changeCompleted=!0,ot.changeBegan=!1,vt("changeComplete")),ot.currentTime=minMax(wt,0,_t),ot.began&&vt("update"),yt>=_t&&(et=0,mt(),ot.remaining?(_=tt,vt("loopComplete"),ot.loopBegan=!1,ot.direction==="alternate"&&at()):(ot.paused=!0,ot.completed||(ot.completed=!0,vt("loopComplete"),vt("complete"),!ot.passThrough&&"Promise"in window&&(it(),st(ot)))))}return ot.reset=function(){var yt=ot.direction;ot.passThrough=!1,ot.currentTime=0,ot.progress=0,ot.paused=!0,ot.began=!1,ot.loopBegan=!1,ot.changeBegan=!1,ot.completed=!1,ot.changeCompleted=!1,ot.reversePlayback=!1,ot.reversed=yt==="reverse",ot.remaining=ot.loop,nt=ot.children,rt=nt.length;for(var _t=rt;_t--;)ot.children[_t].reset();(ot.reversed&&ot.loop!==!0||yt==="alternate"&&ot.loop===1)&&ot.remaining++,ht(ot.reversed?ot.duration:0)},ot._onDocumentVisibility=ct,ot.set=function(yt,_t){return setTargetsValue(yt,_t),ot},ot.tick=function(yt){tt=yt,_||(_=tt),pt((tt+(et-_))*anime.speed)},ot.seek=function(yt){pt(lt(yt))},ot.pause=function(){ot.paused=!0,ct()},ot.play=function(){ot.paused&&(ot.completed&&ot.reset(),ot.paused=!1,activeInstances.push(ot),ct(),engine())},ot.reverse=function(){at(),ot.completed=!ot.reversed,ct()},ot.restart=function(){ot.reset(),ot.play()},ot.remove=function(yt){var _t=parseTargets(yt);removeTargetsFromInstance(_t,ot)},ot.reset(),ot.autoplay&&ot.play(),ot}function removeTargetsFromAnimations(_e,_){for(var et=_.length;et--;)arrayContains(_e,_[et].animatable.target)&&_.splice(et,1)}function removeTargetsFromInstance(_e,_){var et=_.animations,tt=_.children;removeTargetsFromAnimations(_e,et);for(var nt=tt.length;nt--;){var rt=tt[nt],it=rt.animations;removeTargetsFromAnimations(_e,it),!it.length&&!rt.children.length&&tt.splice(nt,1)}!et.length&&!tt.length&&_.pause()}function removeTargetsFromActiveInstances(_e){for(var _=parseTargets(_e),et=activeInstances.length;et--;){var tt=activeInstances[et];removeTargetsFromInstance(_,tt)}}function stagger(_e,_){_===void 0&&(_={});var et=_.direction||"normal",tt=_.easing?parseEasings(_.easing):null,nt=_.grid,rt=_.axis,it=_.from||0,st=it==="first",ot=it==="center",at=it==="last",lt=is$1.arr(_e),ct=parseFloat(lt?_e[0]:_e),ut=lt?parseFloat(_e[1]):0,ft=getUnit(lt?_e[1]:_e)||0,ht=_.start||0+(lt?ct:0),vt=[],mt=0;return function(pt,yt,_t){if(st&&(it=0),ot&&(it=(_t-1)/2),at&&(it=_t-1),!vt.length){for(var St=0;St<_t;St++){if(!nt)vt.push(Math.abs(it-St));else{var Et=ot?(nt[0]-1)/2:it%nt[0],wt=ot?(nt[1]-1)/2:Math.floor(it/nt[0]),Mt=St%nt[0],At=Math.floor(St/nt[0]),Tt=Et-Mt,Ct=wt-At,Dt=Math.sqrt(Tt*Tt+Ct*Ct);rt==="x"&&(Dt=-Tt),rt==="y"&&(Dt=-Ct),vt.push(Dt)}mt=Math.max.apply(Math,vt)}tt&&(vt=vt.map(function(kt){return tt(kt/mt)*mt})),et==="reverse"&&(vt=vt.map(function(kt){return rt?kt<0?kt*-1:-kt:Math.abs(mt-kt)}))}var $t=lt?(ut-ct)/mt:ct;return ht+$t*(Math.round(vt[yt]*100)/100)+ft}}function timeline(_e){_e===void 0&&(_e={});var _=anime(_e);return _.duration=0,_.add=function(et,tt){var nt=activeInstances.indexOf(_),rt=_.children;nt>-1&&activeInstances.splice(nt,1);function it(ut){ut.passThrough=!0}for(var st=0;st<rt.length;st++)it(rt[st]);var ot=mergeObjects(et,replaceObjectProps(defaultTweenSettings,_e));ot.targets=ot.targets||_e.targets;var at=_.duration;ot.autoplay=!1,ot.direction=_.direction,ot.timelineOffset=is$1.und(tt)?at:getRelativeValue(tt,at),it(_),_.seek(ot.timelineOffset);var lt=anime(ot);it(lt),rt.push(lt);var ct=getInstanceTimings(rt,_e);return _.delay=ct.delay,_.endDelay=ct.endDelay,_.duration=ct.duration,_.seek(0),_.reset(),_.autoplay&&_.play(),_},_}anime.version="3.2.1";anime.speed=1;anime.suspendWhenDocumentHidden=!0;anime.running=activeInstances;anime.remove=removeTargetsFromActiveInstances;anime.get=getOriginalTargetValue;anime.set=setTargetsValue;anime.convertPx=convertPxToUnit;anime.path=getPath;anime.setDashoffset=setDashoffset;anime.stagger=stagger;anime.timeline=timeline;anime.easing=parseEasings;anime.penner=penner;anime.random=function(_e,_){return Math.floor(Math.random()*(_-_e+1))+_e};const IconArrowScroll=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"7",viewBox:"0 0 13 7",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M0 2.64245V1.69976C0 0.937219 0.81922 0.455257 1.48575 0.825663L6.27502 3.48715C6.58887 3.66157 6.97214 3.65433 7.27919 3.46819L11.4816 0.920523C12.148 0.516503 13 0.996315 13 1.77565V2.6676C13 3.01723 12.8174 3.34147 12.5184 3.52273L7.27918 6.69896C6.97214 6.8851 6.58887 6.89234 6.27502 6.71792L0.514247 3.51655C0.196844 3.34016 0 3.00557 0 2.64245Z",fill:"#fff"})}),ScrollDown$1="_ScrollDown_ie9ao_1",none="_none_ie9ao_12",left="_left_ie9ao_15",ScrollDown_lines="_ScrollDown_lines_ie9ao_19",ScrollDown_arrows="_ScrollDown_arrows_ie9ao_24",right="_right_ie9ao_32",ScrollDown_content="_ScrollDown_content_ie9ao_45",ScrollDown_arrows_item="_ScrollDown_arrows_item_ie9ao_81",ScrollDown_title="_ScrollDown_title_ie9ao_89",styles$1={ScrollDown:ScrollDown$1,none,left,ScrollDown_lines,ScrollDown_arrows,right,ScrollDown_content,ScrollDown_arrows_item,ScrollDown_title},ScrollDown=()=>{const{scrollDownPos:_e}=reactExports.useContext(MainContext),[_,et]=reactExports.useState(!1),tt=reactExports.useRef([]),nt=reactExports.useRef(null),rt=reactExports.useRef(null),it=reactExports.useRef(null),st=reactExports.useRef(),ot=reactExports.useRef(),at=reactExports.useRef();useGSAP(()=>{at.current&&(at.current=anime.timeline({direction:"alternate",duration:500,easing:"easeInOutSine"}),at.current.add({targets:"#svg_scroll path",strokeDashoffset:[anime.setDashoffset,0]}).add({targets:"#svg_scroll circle",strokeDashoffset:[anime.setDashoffset,0]})),st.current=gsapWithCSS.timeline({defaults:{delay:0,duration:.3,ease:"power2.inOut"}}).to(tt.current[0],{opacity:1,scale:1.2,filter:"drop-shadow(0px 0px 4px rgba(255, 255, 255, 0.60))"},"<60%").to(tt.current[1],{opacity:1,scale:1.2,filter:"drop-shadow(0px 0px 4px rgba(255, 255, 255, 0.60))"},"<60%").to(tt.current[2],{opacity:1,scale:1.2,filter:"drop-shadow(0px 0px 4px rgba(255, 255, 255, 0.60))"},"<60%").to(tt.current[0],{opacity:.3,scale:1,filter:"drop-shadow(0px 0px 4px rgba(255, 255, 255, 0.0))"},"<60%").to(tt.current[1],{opacity:.3,scale:1,filter:"drop-shadow(0px 0px 4px rgba(255, 255, 255, 0.0))"},"<60%").to(tt.current[2],{opacity:.3,scale:1,filter:"drop-shadow(0px 0px 4px rgba(255, 255, 255, 0.0))"},"<60%").repeat(-1),ot.current=gsapWithCSS.timeline({defaults:{delay:0,duration:2,ease:"power1.inOut"}}).to(nt.current,{opacity:0}).to(nt.current,{opacity:1}).repeat(-1)},[]),reactExports.useEffect(()=>{_?(gsapWithCSS.to(it.current,{opacity:1}),anime({targets:"#svg_scroll path",strokeDashoffset:[anime.setDashoffset,0],easing:"cubicBezier(.5, .05, .1, .3)",duration:1e3,delay:function(ct,ut){return ut*200}}),anime({targets:"#svg_scroll circle",strokeDashoffset:[anime.setDashoffset,0],easing:"cubicBezier(.5, .05, .1, .3)",duration:1e3,delay:function(ct,ut){return ut*200}}),setTimeout(()=>{gsapWithCSS.to(rt.current,{opacity:1,duration:5})},1500)):(gsapWithCSS.to(rt.current,{opacity:0}),gsapWithCSS.to(it.current,{opacity:0}),at.current&&at.current.reverse)},[_]);let lt;return window.addEventListener("scroll",()=>{clearTimeout(lt),et(!1),lt=setTimeout(()=>{et(!0)},2e3)}),reactExports.useEffect(()=>{setTimeout(()=>{et(!0)},8e3)},[]),jsxRuntimeExports.jsxs("div",{className:clsx(styles$1.ScrollDown,styles$1[_e]),ref:it,onClick:()=>console.log("dddd"),children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$1.ScrollDown_lines),children:jsxRuntimeExports.jsxs("svg",{id:"svg_scroll",width:"133",height:"54",viewBox:"0 0 133 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_1889_10462)",children:[jsxRuntimeExports.jsx("path",{d:"M403 11H104.485C102.894 11 101.368 10.3679 100.243 9.24264L95.7574 4.75736C94.6321 3.63214 93.106 3 91.5147 3H0",stroke:"url(#paint0_linear_1889_10462)",strokeOpacity:"0.2"}),jsxRuntimeExports.jsx("path",{d:"M403 43H104.485C102.894 43 101.368 43.6321 100.243 44.7574L95.7574 49.2426C94.6321 50.3679 93.106 51 91.5147 51H0",stroke:"url(#paint1_linear_1889_10462)",strokeOpacity:"0.2"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"3",r:"3",transform:"matrix(-1 0 0 1 13.5 0)",fill:"#010512"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"3",r:"2.5",transform:"matrix(-1 0 0 1 13.5 0)",stroke:"white",strokeOpacity:"0.4"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"3",r:"3",transform:"matrix(-1 0 0 1 13.5 48)",fill:"#010512"}),jsxRuntimeExports.jsx("circle",{cx:"3",cy:"3",r:"2.5",transform:"matrix(-1 0 0 1 13.5 48)",stroke:"white",strokeOpacity:"0.4"})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"paint0_linear_1889_10462",x1:"21.5",y1:"7.5002",x2:"364.5",y2:"7.5002",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{stopColor:"white"}),jsxRuntimeExports.jsx("stop",{offset:"0.353125",stopColor:"white",stopOpacity:"0"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"paint1_linear_1889_10462",x1:"21.5",y1:"46.4998",x2:"364.5",y2:"46.4998",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{stopColor:"white"}),jsxRuntimeExports.jsx("stop",{offset:"0.347916",stopColor:"white",stopOpacity:"0"})]}),jsxRuntimeExports.jsx("clipPath",{id:"clip0_1889_10462",children:jsxRuntimeExports.jsx("rect",{width:"133",height:"54",fill:"white"})})]})]})}),jsxRuntimeExports.jsxs("div",{className:clsx(styles$1.ScrollDown_content),ref:rt,children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$1.ScrollDown_arrows),children:Array(3).fill(null).map((ct,ut)=>jsxRuntimeExports.jsx("div",{className:clsx(styles$1.ScrollDown_arrows_item),ref:ft=>tt.current[ut]=ft,children:jsxRuntimeExports.jsx(IconArrowScroll,{})},ut))}),jsxRuntimeExports.jsx("div",{className:clsx(styles$1.ScrollDown_title),ref:nt,children:"Scroll Down"})]})]})},Scene$1=reactExports.lazy(()=>__vitePreload(()=>import("./Scene-CvfZtaqe.js"),[])),ArchitectureIthacaModal=reactExports.lazy(()=>__vitePreload(()=>import("./index-BH5XbB8X.js"),__vite__mapDeps([0,1]))),styles={position:"relative",zIndex:2},values={},getProgress=()=>values,TIMELOAD=15,LoadingFallback=()=>jsxRuntimeExports.jsx("div",{className:"loading-spinner",children:jsxRuntimeExports.jsx("div",{className:"spinner"})}),loadSection=_e=>{const _=reactExports.lazy(_e);return _e(),_},SwiperSections=[loadSection(()=>__vitePreload(()=>import("./index-BoQeNZ-0.js"),__vite__mapDeps([2,3]))),loadSection(()=>__vitePreload(()=>import("./index-CPgSqFXS.js"),__vite__mapDeps([4,5,6,7,8]))),loadSection(()=>__vitePreload(()=>import("./index-CCIIeScQ.js"),__vite__mapDeps([9,5,6,7,10,11]))),loadSection(()=>__vitePreload(()=>import("./index-BJfPAca2.js"),__vite__mapDeps([12,5,6,13]))),loadSection(()=>__vitePreload(()=>import("./index-DU5LkTcN.js"),__vite__mapDeps([14,5,6,7,10,15]))),loadSection(()=>__vitePreload(()=>import("./index-DP7M-P-E.js"),__vite__mapDeps([16,5,6,7,17]))),loadSection(()=>__vitePreload(()=>import("./index-Dhw1WvJw.js"),__vite__mapDeps([18,5,6,7,19]))),loadSection(()=>__vitePreload(()=>import("./index-pwcdFpa9.js"),__vite__mapDeps([20,5,6,7,21]))),loadSection(()=>__vitePreload(()=>import("./index-B-tOJ9rc.js"),__vite__mapDeps([22,5,6,7,23]))),loadSection(()=>__vitePreload(()=>import("./index-B-X7J7ar.js"),__vite__mapDeps([24,5,6,7,10,25]))),loadSection(()=>__vitePreload(()=>import("./index-COkBDLsh.js"),__vite__mapDeps([26,5,6,7,27])))];function App(){const[_e,_]=reactExports.useState(!1),[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState("right"),it=reactExports.useRef(null),[st,ot]=reactExports.useState(!1),[at,lt]=reactExports.useState(!1);reactExports.useEffect(()=>{it.current&&(et?it.current.classList.remove("freezed"):it.current.classList.add("freezed"))},[et]),reactExports.useLayoutEffect(()=>{const Rt=gsapWithCSS.context(()=>{document.querySelectorAll(".reveal").forEach(Ut=>{ScrollTrigger.create({trigger:Ut,start:Ut.dataset.start??"top top+=75%",end:Ut.dataset.end??"bottom bottom-=75%",onEnter:()=>gsapWithCSS.to(Ut,{opacity:1,translate:0,rotate:0,rotateX:0,rotateZ:0,rotateY:0,scaleX:1,scaleY:1,x:0,xPercent:0,y:0,yPercent:0,duration:Ut.dataset.duration??1,delay:Ut.dataset.delay??0})})})});return()=>Rt.revert()},[]);const ct=reactExports.useRef(null),{scrollYProgress:ut}=useScroll$1({target:ct,offset:["start start","end start"]}),ft=reactExports.useRef(null),{scrollYProgress:ht}=useScroll$1({target:ft,offset:["start start","end start"]}),vt=reactExports.useRef(null),{scrollYProgress:mt}=useScroll$1({target:vt,offset:["start end","end end"]}),pt=reactExports.useRef(null),{scrollYProgress:yt}=useScroll$1({target:pt,offset:["start end","end end"]}),_t=reactExports.useRef(null),{scrollYProgress:St}=useScroll$1({target:_t,offset:["start end","end end"]}),Et=reactExports.useRef(null),{scrollYProgress:wt}=useScroll$1({target:Et,offset:["start end","end end"]}),Mt=reactExports.useRef(null),{scrollYProgress:At}=useScroll$1({target:Mt,offset:["start end","end end"]}),Tt=reactExports.useRef(null),{scrollYProgress:Ct}=useScroll$1({target:Tt,offset:["start end","end end"]}),Dt=useTransform$1(()=>ut.get()+ht.get()+mt.get()+yt.get()+St.get()+wt.get()+At.get()+Ct.get());console.log("DEBUG INFO 26/11/2024 10:12:46",Dt);const $t=useTransform$1(Dt,[0,1,2,3,4,5,6,7,8],[{blobOut:0,logoOut:0,logoAlphaOut:0,blobNextSection:0,blobSectionFour:0,universeIn:0,universeOut:0,universeScale:0,blobPosY:0,blobMobilePosY:0,blobPosX:0,gridOut:0},{blobOut:1,logoOut:1,logoAlphaOut:1,blobNextSection:0,blobSectionFour:0,universeIn:1,universeOut:0,universeScale:.4,blobPosY:0,blobMobilePosY:0,blobPosX:0,gridOut:1},{blobOut:1,logoOut:1,logoAlphaOut:1,blobNextSection:1,blobSectionFour:0,universeIn:1,universeOut:0,universeScale:.65,blobPosY:0,blobMobilePosY:0,blobPosX:0,gridOut:1},{blobOut:1,logoOut:1,logoAlphaOut:1,blobNextSection:1,blobSectionFour:0,universeIn:1,universeOut:.5,universeScale:.8,blobPosY:0,blobMobilePosY:0,blobPosX:0,gridOut:1},{blobOut:0,logoOut:1,logoAlphaOut:1,blobNextSection:1,blobSectionFour:0,universeIn:1,universeOut:1,universeScale:.8,blobPosY:0,blobMobilePosY:0,blobPosX:0,gridOut:1},{blobOut:0,logoOut:1,logoAlphaOut:1,blobNextSection:1,blobSectionFour:0,universeIn:1,universeOut:1,universeScale:.8,blobPosY:-1,blobMobilePosY:0,blobPosX:0,gridOut:1},{blobOut:0,logoOut:0,logoAlphaOut:1,blobNextSection:1,blobSectionFour:0,universeIn:1,universeOut:1,universeScale:.8,blobPosY:-1,blobMobilePosY:0,blobPosX:0,gridOut:1},{blobOut:0,logoOut:0,logoAlphaOut:0,blobNextSection:1,blobSectionFour:1,universeIn:1,universeOut:1,universeScale:.8,blobPosY:0,blobMobilePosY:-.35,blobPosX:1,gridOut:1},{blobOut:1,logoOut:1,logoAlphaOut:1,blobNextSection:1,blobSectionFour:1,universeIn:1,universeOut:1,universeScale:.8,blobPosY:0,blobMobilePosY:0,blobPosX:0,gridOut:1}],{clamp:!0,ease:easeInOut});values.scrollData=$t;const kt=reactExports.useRef(),It=reactExports.useRef(null),Nt={slidesPerView:1,speed:1500,allowTouchMove:!0,grabCursor:!1,direction:"vertical",modules:[Mousewheel],mousewheel:!0};reactExports.useEffect(()=>{(async()=>{try{await Promise.all(SwiperSections.slice(0,3).map(Ot=>{var jt;const Ut=Ot;return(jt=Ut.preload)==null?void 0:jt.call(Ut)})),Promise.all(SwiperSections.slice(3).map(Ot=>{var jt;const Ut=Ot;return(jt=Ut.preload)==null?void 0:jt.call(Ut)})).then(()=>{console.log("All sections loaded")}),ot(!0)}catch(Ot){console.error("Error preloading sections:",Ot)}})()},[]);const{setWheelMultiplayer:Gt,setTouchMultiplier:Bt}=reactExports.useContext(ScrollContext);return reactExports.useState(0),reactExports.useEffect(()=>{const Rt=gsapWithCSS.context(()=>{window.innerWidth>1024&&(gsapWithCSS.set(It.current,{pointerEvents:"none"}),ScrollTrigger.create({trigger:It.current,start:"top top",end:"10% top",pin:!0,onUpdate(Ot){var Ut;console.log(Ot.progress),Ot.progress>.5&&(console.log("set all"),gsapWithCSS.set(It.current,{pointerEvents:"all"})),Ot.progress==0&&(console.log("leave progress"),(Ut=kt.current)==null||Ut.slideTo(0,0),gsapWithCSS.set(It.current,{pointerEvents:"none"}))}}))});return()=>Rt.revert()},[]),jsxRuntimeExports.jsx(MainContext.Provider,{value:{menuActive:_e,setMenuActive:_,isLoad:et,setLoad:tt,timeLoad:TIMELOAD,scrollDownPos:nt,setScrollDownPos:rt,refSwiper:kt,isArchitectureModalActive:at,setArchitectureModalActive:lt},children:jsxRuntimeExports.jsxs("div",{className:"MainWrapper",ref:it,children:[jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingFallback,{}),children:jsxRuntimeExports.jsx(ArchitectureIthacaModal,{})}),jsxRuntimeExports.jsx(ScrollDown,{}),jsxRuntimeExports.jsx("img",{loading:"lazy",decoding:"async",className:"bg_noise",src:"/images/noise.png",alt:""}),!et&&jsxRuntimeExports.jsx(Preloader,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Menu,{}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(Scene$1,{})}),jsxRuntimeExports.jsx(Hero,{ref:ct}),jsxRuntimeExports.jsx("div",{ref:ft,style:styles,children:jsxRuntimeExports.jsx(Mission,{})}),jsxRuntimeExports.jsx("div",{ref:vt,style:{...styles,height:"40vh"}}),jsxRuntimeExports.jsx("div",{ref:pt,style:{...styles,height:"100vh"}}),jsxRuntimeExports.jsx("div",{ref:_t,style:{...styles,height:"40vh"}}),jsxRuntimeExports.jsx("div",{ref:Et,children:jsxRuntimeExports.jsx(Ecosystem,{})}),jsxRuntimeExports.jsx(Architecture,{ref:Mt}),window.innerWidth>1024?jsxRuntimeExports.jsx("div",{className:"Swiper_wrapper_inner",ref:It,children:jsxRuntimeExports.jsx(Swiper,{...Nt,className:"Swiper",onSlideChange:Rt=>{const Ot=Rt.activeIndex;Ot>0?(Gt(0),Bt(0)):setTimeout(()=>{Gt(.75),Bt(.5)},1500),It.current&&(It.current.style.pointerEvents="all"),Ot!=8&&lt(!1)},onInit:Rt=>{kt.current=Rt},children:SwiperSections.map((Rt,Ot)=>jsxRuntimeExports.jsx(SwiperSlide,{className:"Swiper_slide",children:({isActive:Ut})=>jsxRuntimeExports.jsx(Rt,{ref:Ot==0?Tt:null,isSectionActive:Ut},Ot)},Ot))})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:SwiperSections.map((Rt,Ot)=>jsxRuntimeExports.jsx(Rt,{ref:Ot==0?Tt:null},Ot))})]})})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$1.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="159",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(_,et){this._listeners===void 0&&(this._listeners={});const tt=this._listeners;tt[_]===void 0&&(tt[_]=[]),tt[_].indexOf(et)===-1&&tt[_].push(et)}hasEventListener(_,et){if(this._listeners===void 0)return!1;const tt=this._listeners;return tt[_]!==void 0&&tt[_].indexOf(et)!==-1}removeEventListener(_,et){if(this._listeners===void 0)return;const nt=this._listeners[_];if(nt!==void 0){const rt=nt.indexOf(et);rt!==-1&&nt.splice(rt,1)}}dispatchEvent(_){if(this._listeners===void 0)return;const tt=this._listeners[_.type];if(tt!==void 0){_.target=this;const nt=tt.slice(0);for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].call(this,_);_.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const _e=Math.random()*4294967295|0,_=Math.random()*4294967295|0,et=Math.random()*4294967295|0,tt=Math.random()*4294967295|0;return(_lut[_e&255]+_lut[_e>>8&255]+_lut[_e>>16&255]+_lut[_e>>24&255]+"-"+_lut[_&255]+_lut[_>>8&255]+"-"+_lut[_>>16&15|64]+_lut[_>>24&255]+"-"+_lut[et&63|128]+_lut[et>>8&255]+"-"+_lut[et>>16&255]+_lut[et>>24&255]+_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]).toLowerCase()}function clamp$3(_e,_,et){return Math.max(_,Math.min(et,_e))}function euclideanModulo(_e,_){return(_e%_+_)%_}function mapLinear(_e,_,et,tt,nt){return tt+(_e-_)*(nt-tt)/(et-_)}function inverseLerp(_e,_,et){return _e!==_?(et-_e)/(_-_e):0}function lerp(_e,_,et){return(1-et)*_e+et*_}function damp(_e,_,et,tt){return lerp(_e,_,1-Math.exp(-et*tt))}function pingpong(_e,_=1){return _-Math.abs(euclideanModulo(_e,_*2)-_)}function smoothstep(_e,_,et){return _e<=_?0:_e>=et?1:(_e=(_e-_)/(et-_),_e*_e*(3-2*_e))}function smootherstep(_e,_,et){return _e<=_?0:_e>=et?1:(_e=(_e-_)/(et-_),_e*_e*_e*(_e*(_e*6-15)+10))}function randInt(_e,_){return _e+Math.floor(Math.random()*(_-_e+1))}function randFloat(_e,_){return _e+Math.random()*(_-_e)}function randFloatSpread(_e){return _e*(.5-Math.random())}function seededRandom(_e){_e!==void 0&&(_seed=_e);let _=_seed+=1831565813;return _=Math.imul(_^_>>>15,_|1),_^=_+Math.imul(_^_>>>7,_|61),((_^_>>>14)>>>0)/4294967296}function degToRad(_e){return _e*DEG2RAD}function radToDeg(_e){return _e*RAD2DEG}function isPowerOfTwo(_e){return(_e&_e-1)===0&&_e!==0}function ceilPowerOfTwo(_e){return Math.pow(2,Math.ceil(Math.log(_e)/Math.LN2))}function floorPowerOfTwo(_e){return Math.pow(2,Math.floor(Math.log(_e)/Math.LN2))}function setQuaternionFromProperEuler(_e,_,et,tt,nt){const rt=Math.cos,it=Math.sin,st=rt(et/2),ot=it(et/2),at=rt((_+tt)/2),lt=it((_+tt)/2),ct=rt((_-tt)/2),ut=it((_-tt)/2),ft=rt((tt-_)/2),ht=it((tt-_)/2);switch(nt){case"XYX":_e.set(st*lt,ot*ct,ot*ut,st*at);break;case"YZY":_e.set(ot*ut,st*lt,ot*ct,st*at);break;case"ZXZ":_e.set(ot*ct,ot*ut,st*lt,st*at);break;case"XZX":_e.set(st*lt,ot*ht,ot*ft,st*at);break;case"YXY":_e.set(ot*ft,st*lt,ot*ht,st*at);break;case"ZYZ":_e.set(ot*ht,ot*ft,st*lt,st*at);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+nt)}}function denormalize(_e,_){switch(_.constructor){case Float32Array:return _e;case Uint32Array:return _e/4294967295;case Uint16Array:return _e/65535;case Uint8Array:return _e/255;case Int32Array:return Math.max(_e/2147483647,-1);case Int16Array:return Math.max(_e/32767,-1);case Int8Array:return Math.max(_e/127,-1);default:throw new Error("Invalid component type.")}}function normalize$5(_e,_){switch(_.constructor){case Float32Array:return _e;case Uint32Array:return Math.round(_e*4294967295);case Uint16Array:return Math.round(_e*65535);case Uint8Array:return Math.round(_e*255);case Int32Array:return Math.round(_e*2147483647);case Int16Array:return Math.round(_e*32767);case Int8Array:return Math.round(_e*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$3,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$5,denormalize};class Vector2{constructor(_=0,et=0){Vector2.prototype.isVector2=!0,this.x=_,this.y=et}get width(){return this.x}set width(_){this.x=_}get height(){return this.y}set height(_){this.y=_}set(_,et){return this.x=_,this.y=et,this}setScalar(_){return this.x=_,this.y=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setComponent(_,et){switch(_){case 0:this.x=et;break;case 1:this.y=et;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y)}copy(_){return this.x=_.x,this.y=_.y,this}add(_){return this.x+=_.x,this.y+=_.y,this}addScalar(_){return this.x+=_,this.y+=_,this}addVectors(_,et){return this.x=_.x+et.x,this.y=_.y+et.y,this}addScaledVector(_,et){return this.x+=_.x*et,this.y+=_.y*et,this}sub(_){return this.x-=_.x,this.y-=_.y,this}subScalar(_){return this.x-=_,this.y-=_,this}subVectors(_,et){return this.x=_.x-et.x,this.y=_.y-et.y,this}multiply(_){return this.x*=_.x,this.y*=_.y,this}multiplyScalar(_){return this.x*=_,this.y*=_,this}divide(_){return this.x/=_.x,this.y/=_.y,this}divideScalar(_){return this.multiplyScalar(1/_)}applyMatrix3(_){const et=this.x,tt=this.y,nt=_.elements;return this.x=nt[0]*et+nt[3]*tt+nt[6],this.y=nt[1]*et+nt[4]*tt+nt[7],this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this}clamp(_,et){return this.x=Math.max(_.x,Math.min(et.x,this.x)),this.y=Math.max(_.y,Math.min(et.y,this.y)),this}clampScalar(_,et){return this.x=Math.max(_,Math.min(et,this.x)),this.y=Math.max(_,Math.min(et,this.y)),this}clampLength(_,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(_,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(_){return this.x*_.x+this.y*_.y}cross(_){return this.x*_.y-this.y*_.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(_){const et=Math.sqrt(this.lengthSq()*_.lengthSq());if(et===0)return Math.PI/2;const tt=this.dot(_)/et;return Math.acos(clamp$3(tt,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const et=this.x-_.x,tt=this.y-_.y;return et*et+tt*tt}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,et){return this.x+=(_.x-this.x)*et,this.y+=(_.y-this.y)*et,this}lerpVectors(_,et,tt){return this.x=_.x+(et.x-_.x)*tt,this.y=_.y+(et.y-_.y)*tt,this}equals(_){return _.x===this.x&&_.y===this.y}fromArray(_,et=0){return this.x=_[et],this.y=_[et+1],this}toArray(_=[],et=0){return _[et]=this.x,_[et+1]=this.y,_}fromBufferAttribute(_,et){return this.x=_.getX(et),this.y=_.getY(et),this}rotateAround(_,et){const tt=Math.cos(et),nt=Math.sin(et),rt=this.x-_.x,it=this.y-_.y;return this.x=rt*tt-it*nt+_.x,this.y=rt*nt+it*tt+_.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(_,et,tt,nt,rt,it,st,ot,at){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],_!==void 0&&this.set(_,et,tt,nt,rt,it,st,ot,at)}set(_,et,tt,nt,rt,it,st,ot,at){const lt=this.elements;return lt[0]=_,lt[1]=nt,lt[2]=st,lt[3]=et,lt[4]=rt,lt[5]=ot,lt[6]=tt,lt[7]=it,lt[8]=at,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(_){const et=this.elements,tt=_.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],this}extractBasis(_,et,tt){return _.setFromMatrix3Column(this,0),et.setFromMatrix3Column(this,1),tt.setFromMatrix3Column(this,2),this}setFromMatrix4(_){const et=_.elements;return this.set(et[0],et[4],et[8],et[1],et[5],et[9],et[2],et[6],et[10]),this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,et){const tt=_.elements,nt=et.elements,rt=this.elements,it=tt[0],st=tt[3],ot=tt[6],at=tt[1],lt=tt[4],ct=tt[7],ut=tt[2],ft=tt[5],ht=tt[8],vt=nt[0],mt=nt[3],pt=nt[6],yt=nt[1],_t=nt[4],St=nt[7],Et=nt[2],wt=nt[5],Mt=nt[8];return rt[0]=it*vt+st*yt+ot*Et,rt[3]=it*mt+st*_t+ot*wt,rt[6]=it*pt+st*St+ot*Mt,rt[1]=at*vt+lt*yt+ct*Et,rt[4]=at*mt+lt*_t+ct*wt,rt[7]=at*pt+lt*St+ct*Mt,rt[2]=ut*vt+ft*yt+ht*Et,rt[5]=ut*mt+ft*_t+ht*wt,rt[8]=ut*pt+ft*St+ht*Mt,this}multiplyScalar(_){const et=this.elements;return et[0]*=_,et[3]*=_,et[6]*=_,et[1]*=_,et[4]*=_,et[7]*=_,et[2]*=_,et[5]*=_,et[8]*=_,this}determinant(){const _=this.elements,et=_[0],tt=_[1],nt=_[2],rt=_[3],it=_[4],st=_[5],ot=_[6],at=_[7],lt=_[8];return et*it*lt-et*st*at-tt*rt*lt+tt*st*ot+nt*rt*at-nt*it*ot}invert(){const _=this.elements,et=_[0],tt=_[1],nt=_[2],rt=_[3],it=_[4],st=_[5],ot=_[6],at=_[7],lt=_[8],ct=lt*it-st*at,ut=st*ot-lt*rt,ft=at*rt-it*ot,ht=et*ct+tt*ut+nt*ft;if(ht===0)return this.set(0,0,0,0,0,0,0,0,0);const vt=1/ht;return _[0]=ct*vt,_[1]=(nt*at-lt*tt)*vt,_[2]=(st*tt-nt*it)*vt,_[3]=ut*vt,_[4]=(lt*et-nt*ot)*vt,_[5]=(nt*rt-st*et)*vt,_[6]=ft*vt,_[7]=(tt*ot-at*et)*vt,_[8]=(it*et-tt*rt)*vt,this}transpose(){let _;const et=this.elements;return _=et[1],et[1]=et[3],et[3]=_,_=et[2],et[2]=et[6],et[6]=_,_=et[5],et[5]=et[7],et[7]=_,this}getNormalMatrix(_){return this.setFromMatrix4(_).invert().transpose()}transposeIntoArray(_){const et=this.elements;return _[0]=et[0],_[1]=et[3],_[2]=et[6],_[3]=et[1],_[4]=et[4],_[5]=et[7],_[6]=et[2],_[7]=et[5],_[8]=et[8],this}setUvTransform(_,et,tt,nt,rt,it,st){const ot=Math.cos(rt),at=Math.sin(rt);return this.set(tt*ot,tt*at,-tt*(ot*it+at*st)+it+_,-nt*at,nt*ot,-nt*(-at*it+ot*st)+st+et,0,0,1),this}scale(_,et){return this.premultiply(_m3.makeScale(_,et)),this}rotate(_){return this.premultiply(_m3.makeRotation(-_)),this}translate(_,et){return this.premultiply(_m3.makeTranslation(_,et)),this}makeTranslation(_,et){return _.isVector2?this.set(1,0,_.x,0,1,_.y,0,0,1):this.set(1,0,_,0,1,et,0,0,1),this}makeRotation(_){const et=Math.cos(_),tt=Math.sin(_);return this.set(et,-tt,0,tt,et,0,0,0,1),this}makeScale(_,et){return this.set(_,0,0,0,et,0,0,0,1),this}equals(_){const et=this.elements,tt=_.elements;for(let nt=0;nt<9;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(_,et=0){for(let tt=0;tt<9;tt++)this.elements[tt]=_[tt+et];return this}toArray(_=[],et=0){const tt=this.elements;return _[et]=tt[0],_[et+1]=tt[1],_[et+2]=tt[2],_[et+3]=tt[3],_[et+4]=tt[4],_[et+5]=tt[5],_[et+6]=tt[6],_[et+7]=tt[7],_[et+8]=tt[8],_}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(_e){for(let _=_e.length-1;_>=0;--_)if(_e[_]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(_e,_){return new TYPED_ARRAYS[_e](_)}function createElementNS(_e){return document.createElementNS("http://www.w3.org/1999/xhtml",_e)}function createCanvasElement(){const _e=createElementNS("canvas");return _e.style.display="block",_e}const _cache={};function warnOnce(_e){_e in _cache||(_cache[_e]=!0,console.warn(_e))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:_e=>_e,fromReference:_e=>_e},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:_e=>_e.convertSRGBToLinear(),fromReference:_e=>_e.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:_e=>_e.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:_e=>_e.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:_e=>_e.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:_e=>_e.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(_e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!_e},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(_e){if(!SUPPORTED_WORKING_COLOR_SPACES.has(_e))throw new Error(`Unsupported working color space, "${_e}".`);this._workingColorSpace=_e},convert:function(_e,_,et){if(this.enabled===!1||_===et||!_||!et)return _e;const tt=COLOR_SPACES[_].toReference,nt=COLOR_SPACES[et].fromReference;return nt(tt(_e))},fromWorkingColorSpace:function(_e,_){return this.convert(_e,this._workingColorSpace,_)},toWorkingColorSpace:function(_e,_){return this.convert(_e,_,this._workingColorSpace)},getPrimaries:function(_e){return COLOR_SPACES[_e].primaries},getTransfer:function(_e){return _e===NoColorSpace?LinearTransfer:COLOR_SPACES[_e].transfer}};function SRGBToLinear(_e){return _e<.04045?_e*.0773993808:Math.pow(_e*.9478672986+.0521327014,2.4)}function LinearToSRGB(_e){return _e<.0031308?_e*12.92:1.055*Math.pow(_e,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(_){if(/^data:/i.test(_.src)||typeof HTMLCanvasElement>"u")return _.src;let et;if(_ instanceof HTMLCanvasElement)et=_;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=_.width,_canvas.height=_.height;const tt=_canvas.getContext("2d");_ instanceof ImageData?tt.putImageData(_,0,0):tt.drawImage(_,0,0,_.width,_.height),et=_canvas}return et.width>2048||et.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",_),et.toDataURL("image/jpeg",.6)):et.toDataURL("image/png")}static sRGBToLinear(_){if(typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_ instanceof ImageBitmap){const et=createElementNS("canvas");et.width=_.width,et.height=_.height;const tt=et.getContext("2d");tt.drawImage(_,0,0,_.width,_.height);const nt=tt.getImageData(0,0,_.width,_.height),rt=nt.data;for(let it=0;it<rt.length;it++)rt[it]=SRGBToLinear(rt[it]/255)*255;return tt.putImageData(nt,0,0),et}else if(_.data){const et=_.data.slice(0);for(let tt=0;tt<et.length;tt++)et instanceof Uint8Array||et instanceof Uint8ClampedArray?et[tt]=Math.floor(SRGBToLinear(et[tt]/255)*255):et[tt]=SRGBToLinear(et[tt]);return{data:et,width:_.width,height:_.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),_}}let _sourceId=0;class Source{constructor(_=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=_,this.version=0}set needsUpdate(_){_===!0&&this.version++}toJSON(_){const et=_===void 0||typeof _=="string";if(!et&&_.images[this.uuid]!==void 0)return _.images[this.uuid];const tt={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let rt;if(Array.isArray(nt)){rt=[];for(let it=0,st=nt.length;it<st;it++)nt[it].isDataTexture?rt.push(serializeImage(nt[it].image)):rt.push(serializeImage(nt[it]))}else rt=serializeImage(nt);tt.url=rt}return et||(_.images[this.uuid]=tt),tt}}function serializeImage(_e){return typeof HTMLImageElement<"u"&&_e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_e instanceof ImageBitmap?ImageUtils.getDataURL(_e):_e.data?{data:Array.from(_e.data),width:_e.width,height:_e.height,type:_e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(_=Texture.DEFAULT_IMAGE,et=Texture.DEFAULT_MAPPING,tt=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,rt=LinearFilter,it=LinearMipmapLinearFilter,st=RGBAFormat,ot=UnsignedByteType,at=Texture.DEFAULT_ANISOTROPY,lt=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(_),this.mipmaps=[],this.mapping=et,this.channel=0,this.wrapS=tt,this.wrapT=nt,this.magFilter=rt,this.minFilter=it,this.anisotropy=at,this.format=st,this.internalFormat=null,this.type=ot,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof lt=="string"?this.colorSpace=lt:(warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=lt===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(_=null){this.source.data=_}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(_){return this.name=_.name,this.source=_.source,this.mipmaps=_.mipmaps.slice(0),this.mapping=_.mapping,this.channel=_.channel,this.wrapS=_.wrapS,this.wrapT=_.wrapT,this.magFilter=_.magFilter,this.minFilter=_.minFilter,this.anisotropy=_.anisotropy,this.format=_.format,this.internalFormat=_.internalFormat,this.type=_.type,this.offset.copy(_.offset),this.repeat.copy(_.repeat),this.center.copy(_.center),this.rotation=_.rotation,this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrix.copy(_.matrix),this.generateMipmaps=_.generateMipmaps,this.premultiplyAlpha=_.premultiplyAlpha,this.flipY=_.flipY,this.unpackAlignment=_.unpackAlignment,this.colorSpace=_.colorSpace,this.userData=JSON.parse(JSON.stringify(_.userData)),this.needsUpdate=!0,this}toJSON(_){const et=_===void 0||typeof _=="string";if(!et&&_.textures[this.uuid]!==void 0)return _.textures[this.uuid];const tt={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(_).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(tt.userData=this.userData),et||(_.textures[this.uuid]=tt),tt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(_){if(this.mapping!==UVMapping)return _;if(_.applyMatrix3(this.matrix),_.x<0||_.x>1)switch(this.wrapS){case RepeatWrapping:_.x=_.x-Math.floor(_.x);break;case ClampToEdgeWrapping:_.x=_.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_.x)%2)===1?_.x=Math.ceil(_.x)-_.x:_.x=_.x-Math.floor(_.x);break}if(_.y<0||_.y>1)switch(this.wrapT){case RepeatWrapping:_.y=_.y-Math.floor(_.y);break;case ClampToEdgeWrapping:_.y=_.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_.y)%2)===1?_.y=Math.ceil(_.y)-_.y:_.y=_.y-Math.floor(_.y);break}return this.flipY&&(_.y=1-_.y),_}set needsUpdate(_){_===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set encoding(_){warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=_===sRGBEncoding?SRGBColorSpace:NoColorSpace}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(_=0,et=0,tt=0,nt=1){Vector4.prototype.isVector4=!0,this.x=_,this.y=et,this.z=tt,this.w=nt}get width(){return this.z}set width(_){this.z=_}get height(){return this.w}set height(_){this.w=_}set(_,et,tt,nt){return this.x=_,this.y=et,this.z=tt,this.w=nt,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this.w=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setW(_){return this.w=_,this}setComponent(_,et){switch(_){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;case 3:this.w=et;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this.w=_.w!==void 0?_.w:1,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this.w+=_.w,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this.w+=_,this}addVectors(_,et){return this.x=_.x+et.x,this.y=_.y+et.y,this.z=_.z+et.z,this.w=_.w+et.w,this}addScaledVector(_,et){return this.x+=_.x*et,this.y+=_.y*et,this.z+=_.z*et,this.w+=_.w*et,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this.w-=_.w,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this.w-=_,this}subVectors(_,et){return this.x=_.x-et.x,this.y=_.y-et.y,this.z=_.z-et.z,this.w=_.w-et.w,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this.w*=_.w,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this.w*=_,this}applyMatrix4(_){const et=this.x,tt=this.y,nt=this.z,rt=this.w,it=_.elements;return this.x=it[0]*et+it[4]*tt+it[8]*nt+it[12]*rt,this.y=it[1]*et+it[5]*tt+it[9]*nt+it[13]*rt,this.z=it[2]*et+it[6]*tt+it[10]*nt+it[14]*rt,this.w=it[3]*et+it[7]*tt+it[11]*nt+it[15]*rt,this}divideScalar(_){return this.multiplyScalar(1/_)}setAxisAngleFromQuaternion(_){this.w=2*Math.acos(_.w);const et=Math.sqrt(1-_.w*_.w);return et<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=_.x/et,this.y=_.y/et,this.z=_.z/et),this}setAxisAngleFromRotationMatrix(_){let et,tt,nt,rt;const ot=_.elements,at=ot[0],lt=ot[4],ct=ot[8],ut=ot[1],ft=ot[5],ht=ot[9],vt=ot[2],mt=ot[6],pt=ot[10];if(Math.abs(lt-ut)<.01&&Math.abs(ct-vt)<.01&&Math.abs(ht-mt)<.01){if(Math.abs(lt+ut)<.1&&Math.abs(ct+vt)<.1&&Math.abs(ht+mt)<.1&&Math.abs(at+ft+pt-3)<.1)return this.set(1,0,0,0),this;et=Math.PI;const _t=(at+1)/2,St=(ft+1)/2,Et=(pt+1)/2,wt=(lt+ut)/4,Mt=(ct+vt)/4,At=(ht+mt)/4;return _t>St&&_t>Et?_t<.01?(tt=0,nt=.707106781,rt=.707106781):(tt=Math.sqrt(_t),nt=wt/tt,rt=Mt/tt):St>Et?St<.01?(tt=.707106781,nt=0,rt=.707106781):(nt=Math.sqrt(St),tt=wt/nt,rt=At/nt):Et<.01?(tt=.707106781,nt=.707106781,rt=0):(rt=Math.sqrt(Et),tt=Mt/rt,nt=At/rt),this.set(tt,nt,rt,et),this}let yt=Math.sqrt((mt-ht)*(mt-ht)+(ct-vt)*(ct-vt)+(ut-lt)*(ut-lt));return Math.abs(yt)<.001&&(yt=1),this.x=(mt-ht)/yt,this.y=(ct-vt)/yt,this.z=(ut-lt)/yt,this.w=Math.acos((at+ft+pt-1)/2),this}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this.w=Math.min(this.w,_.w),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this.w=Math.max(this.w,_.w),this}clamp(_,et){return this.x=Math.max(_.x,Math.min(et.x,this.x)),this.y=Math.max(_.y,Math.min(et.y,this.y)),this.z=Math.max(_.z,Math.min(et.z,this.z)),this.w=Math.max(_.w,Math.min(et.w,this.w)),this}clampScalar(_,et){return this.x=Math.max(_,Math.min(et,this.x)),this.y=Math.max(_,Math.min(et,this.y)),this.z=Math.max(_,Math.min(et,this.z)),this.w=Math.max(_,Math.min(et,this.w)),this}clampLength(_,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(_,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z+this.w*_.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,et){return this.x+=(_.x-this.x)*et,this.y+=(_.y-this.y)*et,this.z+=(_.z-this.z)*et,this.w+=(_.w-this.w)*et,this}lerpVectors(_,et,tt){return this.x=_.x+(et.x-_.x)*tt,this.y=_.y+(et.y-_.y)*tt,this.z=_.z+(et.z-_.z)*tt,this.w=_.w+(et.w-_.w)*tt,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z&&_.w===this.w}fromArray(_,et=0){return this.x=_[et],this.y=_[et+1],this.z=_[et+2],this.w=_[et+3],this}toArray(_=[],et=0){return _[et]=this.x,_[et+1]=this.y,_[et+2]=this.z,_[et+3]=this.w,_}fromBufferAttribute(_,et){return this.x=_.getX(et),this.y=_.getY(et),this.z=_.getZ(et),this.w=_.getW(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(_=1,et=1,tt={}){super(),this.isRenderTarget=!0,this.width=_,this.height=et,this.depth=1,this.scissor=new Vector4(0,0,_,et),this.scissorTest=!1,this.viewport=new Vector4(0,0,_,et);const nt={width:_,height:et,depth:1};tt.encoding!==void 0&&(warnOnce("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),tt.colorSpace=tt.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),tt=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},tt),this.texture=new Texture(nt,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=tt.generateMipmaps,this.texture.internalFormat=tt.internalFormat,this.depthBuffer=tt.depthBuffer,this.stencilBuffer=tt.stencilBuffer,this.depthTexture=tt.depthTexture,this.samples=tt.samples}setSize(_,et,tt=1){(this.width!==_||this.height!==et||this.depth!==tt)&&(this.width=_,this.height=et,this.depth=tt,this.texture.image.width=_,this.texture.image.height=et,this.texture.image.depth=tt,this.dispose()),this.viewport.set(0,0,_,et),this.scissor.set(0,0,_,et)}clone(){return new this.constructor().copy(this)}copy(_){this.width=_.width,this.height=_.height,this.depth=_.depth,this.scissor.copy(_.scissor),this.scissorTest=_.scissorTest,this.viewport.copy(_.viewport),this.texture=_.texture.clone(),this.texture.isRenderTargetTexture=!0;const et=Object.assign({},_.texture.image);return this.texture.source=new Source(et),this.depthBuffer=_.depthBuffer,this.stencilBuffer=_.stencilBuffer,_.depthTexture!==null&&(this.depthTexture=_.depthTexture.clone()),this.samples=_.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(_=1,et=1,tt={}){super(_,et,tt),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(_=null,et=1,tt=1,nt=1){super(null),this.isDataArrayTexture=!0,this.image={data:_,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(_=1,et=1,tt=1,nt={}){super(_,et,nt),this.isWebGLArrayRenderTarget=!0,this.depth=tt,this.texture=new DataArrayTexture(null,_,et,tt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(_=null,et=1,tt=1,nt=1){super(null),this.isData3DTexture=!0,this.image={data:_,width:et,height:tt,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(_=1,et=1,tt=1,nt={}){super(_,et,nt),this.isWebGL3DRenderTarget=!0,this.depth=tt,this.texture=new Data3DTexture(null,_,et,tt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(_=1,et=1,tt=1,nt={}){super(_,et,nt),this.isWebGLMultipleRenderTargets=!0;const rt=this.texture;this.texture=[];for(let it=0;it<tt;it++)this.texture[it]=rt.clone(),this.texture[it].isRenderTargetTexture=!0}setSize(_,et,tt=1){if(this.width!==_||this.height!==et||this.depth!==tt){this.width=_,this.height=et,this.depth=tt;for(let nt=0,rt=this.texture.length;nt<rt;nt++)this.texture[nt].image.width=_,this.texture[nt].image.height=et,this.texture[nt].image.depth=tt;this.dispose()}this.viewport.set(0,0,_,et),this.scissor.set(0,0,_,et)}copy(_){this.dispose(),this.width=_.width,this.height=_.height,this.depth=_.depth,this.scissor.copy(_.scissor),this.scissorTest=_.scissorTest,this.viewport.copy(_.viewport),this.depthBuffer=_.depthBuffer,this.stencilBuffer=_.stencilBuffer,_.depthTexture!==null&&(this.depthTexture=_.depthTexture.clone()),this.texture.length=0;for(let et=0,tt=_.texture.length;et<tt;et++)this.texture[et]=_.texture[et].clone(),this.texture[et].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(_=0,et=0,tt=0,nt=1){this.isQuaternion=!0,this._x=_,this._y=et,this._z=tt,this._w=nt}static slerpFlat(_,et,tt,nt,rt,it,st){let ot=tt[nt+0],at=tt[nt+1],lt=tt[nt+2],ct=tt[nt+3];const ut=rt[it+0],ft=rt[it+1],ht=rt[it+2],vt=rt[it+3];if(st===0){_[et+0]=ot,_[et+1]=at,_[et+2]=lt,_[et+3]=ct;return}if(st===1){_[et+0]=ut,_[et+1]=ft,_[et+2]=ht,_[et+3]=vt;return}if(ct!==vt||ot!==ut||at!==ft||lt!==ht){let mt=1-st;const pt=ot*ut+at*ft+lt*ht+ct*vt,yt=pt>=0?1:-1,_t=1-pt*pt;if(_t>Number.EPSILON){const Et=Math.sqrt(_t),wt=Math.atan2(Et,pt*yt);mt=Math.sin(mt*wt)/Et,st=Math.sin(st*wt)/Et}const St=st*yt;if(ot=ot*mt+ut*St,at=at*mt+ft*St,lt=lt*mt+ht*St,ct=ct*mt+vt*St,mt===1-st){const Et=1/Math.sqrt(ot*ot+at*at+lt*lt+ct*ct);ot*=Et,at*=Et,lt*=Et,ct*=Et}}_[et]=ot,_[et+1]=at,_[et+2]=lt,_[et+3]=ct}static multiplyQuaternionsFlat(_,et,tt,nt,rt,it){const st=tt[nt],ot=tt[nt+1],at=tt[nt+2],lt=tt[nt+3],ct=rt[it],ut=rt[it+1],ft=rt[it+2],ht=rt[it+3];return _[et]=st*ht+lt*ct+ot*ft-at*ut,_[et+1]=ot*ht+lt*ut+at*ct-st*ft,_[et+2]=at*ht+lt*ft+st*ut-ot*ct,_[et+3]=lt*ht-st*ct-ot*ut-at*ft,_}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get w(){return this._w}set w(_){this._w=_,this._onChangeCallback()}set(_,et,tt,nt){return this._x=_,this._y=et,this._z=tt,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(_){return this._x=_.x,this._y=_.y,this._z=_.z,this._w=_.w,this._onChangeCallback(),this}setFromEuler(_,et){const tt=_._x,nt=_._y,rt=_._z,it=_._order,st=Math.cos,ot=Math.sin,at=st(tt/2),lt=st(nt/2),ct=st(rt/2),ut=ot(tt/2),ft=ot(nt/2),ht=ot(rt/2);switch(it){case"XYZ":this._x=ut*lt*ct+at*ft*ht,this._y=at*ft*ct-ut*lt*ht,this._z=at*lt*ht+ut*ft*ct,this._w=at*lt*ct-ut*ft*ht;break;case"YXZ":this._x=ut*lt*ct+at*ft*ht,this._y=at*ft*ct-ut*lt*ht,this._z=at*lt*ht-ut*ft*ct,this._w=at*lt*ct+ut*ft*ht;break;case"ZXY":this._x=ut*lt*ct-at*ft*ht,this._y=at*ft*ct+ut*lt*ht,this._z=at*lt*ht+ut*ft*ct,this._w=at*lt*ct-ut*ft*ht;break;case"ZYX":this._x=ut*lt*ct-at*ft*ht,this._y=at*ft*ct+ut*lt*ht,this._z=at*lt*ht-ut*ft*ct,this._w=at*lt*ct+ut*ft*ht;break;case"YZX":this._x=ut*lt*ct+at*ft*ht,this._y=at*ft*ct+ut*lt*ht,this._z=at*lt*ht-ut*ft*ct,this._w=at*lt*ct-ut*ft*ht;break;case"XZY":this._x=ut*lt*ct-at*ft*ht,this._y=at*ft*ct-ut*lt*ht,this._z=at*lt*ht+ut*ft*ct,this._w=at*lt*ct+ut*ft*ht;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+it)}return et!==!1&&this._onChangeCallback(),this}setFromAxisAngle(_,et){const tt=et/2,nt=Math.sin(tt);return this._x=_.x*nt,this._y=_.y*nt,this._z=_.z*nt,this._w=Math.cos(tt),this._onChangeCallback(),this}setFromRotationMatrix(_){const et=_.elements,tt=et[0],nt=et[4],rt=et[8],it=et[1],st=et[5],ot=et[9],at=et[2],lt=et[6],ct=et[10],ut=tt+st+ct;if(ut>0){const ft=.5/Math.sqrt(ut+1);this._w=.25/ft,this._x=(lt-ot)*ft,this._y=(rt-at)*ft,this._z=(it-nt)*ft}else if(tt>st&&tt>ct){const ft=2*Math.sqrt(1+tt-st-ct);this._w=(lt-ot)/ft,this._x=.25*ft,this._y=(nt+it)/ft,this._z=(rt+at)/ft}else if(st>ct){const ft=2*Math.sqrt(1+st-tt-ct);this._w=(rt-at)/ft,this._x=(nt+it)/ft,this._y=.25*ft,this._z=(ot+lt)/ft}else{const ft=2*Math.sqrt(1+ct-tt-st);this._w=(it-nt)/ft,this._x=(rt+at)/ft,this._y=(ot+lt)/ft,this._z=.25*ft}return this._onChangeCallback(),this}setFromUnitVectors(_,et){let tt=_.dot(et)+1;return tt<Number.EPSILON?(tt=0,Math.abs(_.x)>Math.abs(_.z)?(this._x=-_.y,this._y=_.x,this._z=0,this._w=tt):(this._x=0,this._y=-_.z,this._z=_.y,this._w=tt)):(this._x=_.y*et.z-_.z*et.y,this._y=_.z*et.x-_.x*et.z,this._z=_.x*et.y-_.y*et.x,this._w=tt),this.normalize()}angleTo(_){return 2*Math.acos(Math.abs(clamp$3(this.dot(_),-1,1)))}rotateTowards(_,et){const tt=this.angleTo(_);if(tt===0)return this;const nt=Math.min(1,et/tt);return this.slerp(_,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(_){return this._x*_._x+this._y*_._y+this._z*_._z+this._w*_._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let _=this.length();return _===0?(this._x=0,this._y=0,this._z=0,this._w=1):(_=1/_,this._x=this._x*_,this._y=this._y*_,this._z=this._z*_,this._w=this._w*_),this._onChangeCallback(),this}multiply(_){return this.multiplyQuaternions(this,_)}premultiply(_){return this.multiplyQuaternions(_,this)}multiplyQuaternions(_,et){const tt=_._x,nt=_._y,rt=_._z,it=_._w,st=et._x,ot=et._y,at=et._z,lt=et._w;return this._x=tt*lt+it*st+nt*at-rt*ot,this._y=nt*lt+it*ot+rt*st-tt*at,this._z=rt*lt+it*at+tt*ot-nt*st,this._w=it*lt-tt*st-nt*ot-rt*at,this._onChangeCallback(),this}slerp(_,et){if(et===0)return this;if(et===1)return this.copy(_);const tt=this._x,nt=this._y,rt=this._z,it=this._w;let st=it*_._w+tt*_._x+nt*_._y+rt*_._z;if(st<0?(this._w=-_._w,this._x=-_._x,this._y=-_._y,this._z=-_._z,st=-st):this.copy(_),st>=1)return this._w=it,this._x=tt,this._y=nt,this._z=rt,this;const ot=1-st*st;if(ot<=Number.EPSILON){const ft=1-et;return this._w=ft*it+et*this._w,this._x=ft*tt+et*this._x,this._y=ft*nt+et*this._y,this._z=ft*rt+et*this._z,this.normalize(),this._onChangeCallback(),this}const at=Math.sqrt(ot),lt=Math.atan2(at,st),ct=Math.sin((1-et)*lt)/at,ut=Math.sin(et*lt)/at;return this._w=it*ct+this._w*ut,this._x=tt*ct+this._x*ut,this._y=nt*ct+this._y*ut,this._z=rt*ct+this._z*ut,this._onChangeCallback(),this}slerpQuaternions(_,et,tt){return this.copy(_).slerp(et,tt)}random(){const _=Math.random(),et=Math.sqrt(1-_),tt=Math.sqrt(_),nt=2*Math.PI*Math.random(),rt=2*Math.PI*Math.random();return this.set(et*Math.cos(nt),tt*Math.sin(rt),tt*Math.cos(rt),et*Math.sin(nt))}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._w===this._w}fromArray(_,et=0){return this._x=_[et],this._y=_[et+1],this._z=_[et+2],this._w=_[et+3],this._onChangeCallback(),this}toArray(_=[],et=0){return _[et]=this._x,_[et+1]=this._y,_[et+2]=this._z,_[et+3]=this._w,_}fromBufferAttribute(_,et){return this._x=_.getX(et),this._y=_.getY(et),this._z=_.getZ(et),this._w=_.getW(et),this}toJSON(){return this.toArray()}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(_=0,et=0,tt=0){Vector3.prototype.isVector3=!0,this.x=_,this.y=et,this.z=tt}set(_,et,tt){return tt===void 0&&(tt=this.z),this.x=_,this.y=et,this.z=tt,this}setScalar(_){return this.x=_,this.y=_,this.z=_,this}setX(_){return this.x=_,this}setY(_){return this.y=_,this}setZ(_){return this.z=_,this}setComponent(_,et){switch(_){case 0:this.x=et;break;case 1:this.y=et;break;case 2:this.z=et;break;default:throw new Error("index is out of range: "+_)}return this}getComponent(_){switch(_){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+_)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(_){return this.x=_.x,this.y=_.y,this.z=_.z,this}add(_){return this.x+=_.x,this.y+=_.y,this.z+=_.z,this}addScalar(_){return this.x+=_,this.y+=_,this.z+=_,this}addVectors(_,et){return this.x=_.x+et.x,this.y=_.y+et.y,this.z=_.z+et.z,this}addScaledVector(_,et){return this.x+=_.x*et,this.y+=_.y*et,this.z+=_.z*et,this}sub(_){return this.x-=_.x,this.y-=_.y,this.z-=_.z,this}subScalar(_){return this.x-=_,this.y-=_,this.z-=_,this}subVectors(_,et){return this.x=_.x-et.x,this.y=_.y-et.y,this.z=_.z-et.z,this}multiply(_){return this.x*=_.x,this.y*=_.y,this.z*=_.z,this}multiplyScalar(_){return this.x*=_,this.y*=_,this.z*=_,this}multiplyVectors(_,et){return this.x=_.x*et.x,this.y=_.y*et.y,this.z=_.z*et.z,this}applyEuler(_){return this.applyQuaternion(_quaternion$4.setFromEuler(_))}applyAxisAngle(_,et){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(_,et))}applyMatrix3(_){const et=this.x,tt=this.y,nt=this.z,rt=_.elements;return this.x=rt[0]*et+rt[3]*tt+rt[6]*nt,this.y=rt[1]*et+rt[4]*tt+rt[7]*nt,this.z=rt[2]*et+rt[5]*tt+rt[8]*nt,this}applyNormalMatrix(_){return this.applyMatrix3(_).normalize()}applyMatrix4(_){const et=this.x,tt=this.y,nt=this.z,rt=_.elements,it=1/(rt[3]*et+rt[7]*tt+rt[11]*nt+rt[15]);return this.x=(rt[0]*et+rt[4]*tt+rt[8]*nt+rt[12])*it,this.y=(rt[1]*et+rt[5]*tt+rt[9]*nt+rt[13])*it,this.z=(rt[2]*et+rt[6]*tt+rt[10]*nt+rt[14])*it,this}applyQuaternion(_){const et=this.x,tt=this.y,nt=this.z,rt=_.x,it=_.y,st=_.z,ot=_.w,at=2*(it*nt-st*tt),lt=2*(st*et-rt*nt),ct=2*(rt*tt-it*et);return this.x=et+ot*at+it*ct-st*lt,this.y=tt+ot*lt+st*at-rt*ct,this.z=nt+ot*ct+rt*lt-it*at,this}project(_){return this.applyMatrix4(_.matrixWorldInverse).applyMatrix4(_.projectionMatrix)}unproject(_){return this.applyMatrix4(_.projectionMatrixInverse).applyMatrix4(_.matrixWorld)}transformDirection(_){const et=this.x,tt=this.y,nt=this.z,rt=_.elements;return this.x=rt[0]*et+rt[4]*tt+rt[8]*nt,this.y=rt[1]*et+rt[5]*tt+rt[9]*nt,this.z=rt[2]*et+rt[6]*tt+rt[10]*nt,this.normalize()}divide(_){return this.x/=_.x,this.y/=_.y,this.z/=_.z,this}divideScalar(_){return this.multiplyScalar(1/_)}min(_){return this.x=Math.min(this.x,_.x),this.y=Math.min(this.y,_.y),this.z=Math.min(this.z,_.z),this}max(_){return this.x=Math.max(this.x,_.x),this.y=Math.max(this.y,_.y),this.z=Math.max(this.z,_.z),this}clamp(_,et){return this.x=Math.max(_.x,Math.min(et.x,this.x)),this.y=Math.max(_.y,Math.min(et.y,this.y)),this.z=Math.max(_.z,Math.min(et.z,this.z)),this}clampScalar(_,et){return this.x=Math.max(_,Math.min(et,this.x)),this.y=Math.max(_,Math.min(et,this.y)),this.z=Math.max(_,Math.min(et,this.z)),this}clampLength(_,et){const tt=this.length();return this.divideScalar(tt||1).multiplyScalar(Math.max(_,Math.min(et,tt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(_){return this.x*_.x+this.y*_.y+this.z*_.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(_){return this.normalize().multiplyScalar(_)}lerp(_,et){return this.x+=(_.x-this.x)*et,this.y+=(_.y-this.y)*et,this.z+=(_.z-this.z)*et,this}lerpVectors(_,et,tt){return this.x=_.x+(et.x-_.x)*tt,this.y=_.y+(et.y-_.y)*tt,this.z=_.z+(et.z-_.z)*tt,this}cross(_){return this.crossVectors(this,_)}crossVectors(_,et){const tt=_.x,nt=_.y,rt=_.z,it=et.x,st=et.y,ot=et.z;return this.x=nt*ot-rt*st,this.y=rt*it-tt*ot,this.z=tt*st-nt*it,this}projectOnVector(_){const et=_.lengthSq();if(et===0)return this.set(0,0,0);const tt=_.dot(this)/et;return this.copy(_).multiplyScalar(tt)}projectOnPlane(_){return _vector$c.copy(this).projectOnVector(_),this.sub(_vector$c)}reflect(_){return this.sub(_vector$c.copy(_).multiplyScalar(2*this.dot(_)))}angleTo(_){const et=Math.sqrt(this.lengthSq()*_.lengthSq());if(et===0)return Math.PI/2;const tt=this.dot(_)/et;return Math.acos(clamp$3(tt,-1,1))}distanceTo(_){return Math.sqrt(this.distanceToSquared(_))}distanceToSquared(_){const et=this.x-_.x,tt=this.y-_.y,nt=this.z-_.z;return et*et+tt*tt+nt*nt}manhattanDistanceTo(_){return Math.abs(this.x-_.x)+Math.abs(this.y-_.y)+Math.abs(this.z-_.z)}setFromSpherical(_){return this.setFromSphericalCoords(_.radius,_.phi,_.theta)}setFromSphericalCoords(_,et,tt){const nt=Math.sin(et)*_;return this.x=nt*Math.sin(tt),this.y=Math.cos(et)*_,this.z=nt*Math.cos(tt),this}setFromCylindrical(_){return this.setFromCylindricalCoords(_.radius,_.theta,_.y)}setFromCylindricalCoords(_,et,tt){return this.x=_*Math.sin(et),this.y=tt,this.z=_*Math.cos(et),this}setFromMatrixPosition(_){const et=_.elements;return this.x=et[12],this.y=et[13],this.z=et[14],this}setFromMatrixScale(_){const et=this.setFromMatrixColumn(_,0).length(),tt=this.setFromMatrixColumn(_,1).length(),nt=this.setFromMatrixColumn(_,2).length();return this.x=et,this.y=tt,this.z=nt,this}setFromMatrixColumn(_,et){return this.fromArray(_.elements,et*4)}setFromMatrix3Column(_,et){return this.fromArray(_.elements,et*3)}setFromEuler(_){return this.x=_._x,this.y=_._y,this.z=_._z,this}setFromColor(_){return this.x=_.r,this.y=_.g,this.z=_.b,this}equals(_){return _.x===this.x&&_.y===this.y&&_.z===this.z}fromArray(_,et=0){return this.x=_[et],this.y=_[et+1],this.z=_[et+2],this}toArray(_=[],et=0){return _[et]=this.x,_[et+1]=this.y,_[et+2]=this.z,_}fromBufferAttribute(_,et){return this.x=_.getX(et),this.y=_.getY(et),this.z=_.getZ(et),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const _=(Math.random()-.5)*2,et=Math.random()*Math.PI*2,tt=Math.sqrt(1-_**2);return this.x=tt*Math.cos(et),this.y=tt*Math.sin(et),this.z=_,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(_=new Vector3(1/0,1/0,1/0),et=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=_,this.max=et}set(_,et){return this.min.copy(_),this.max.copy(et),this}setFromArray(_){this.makeEmpty();for(let et=0,tt=_.length;et<tt;et+=3)this.expandByPoint(_vector$b.fromArray(_,et));return this}setFromBufferAttribute(_){this.makeEmpty();for(let et=0,tt=_.count;et<tt;et++)this.expandByPoint(_vector$b.fromBufferAttribute(_,et));return this}setFromPoints(_){this.makeEmpty();for(let et=0,tt=_.length;et<tt;et++)this.expandByPoint(_[et]);return this}setFromCenterAndSize(_,et){const tt=_vector$b.copy(et).multiplyScalar(.5);return this.min.copy(_).sub(tt),this.max.copy(_).add(tt),this}setFromObject(_,et=!1){return this.makeEmpty(),this.expandByObject(_,et)}clone(){return new this.constructor().copy(this)}copy(_){return this.min.copy(_.min),this.max.copy(_.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(_){return this.isEmpty()?_.set(0,0,0):_.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_){return this.isEmpty()?_.set(0,0,0):_.subVectors(this.max,this.min)}expandByPoint(_){return this.min.min(_),this.max.max(_),this}expandByVector(_){return this.min.sub(_),this.max.add(_),this}expandByScalar(_){return this.min.addScalar(-_),this.max.addScalar(_),this}expandByObject(_,et=!1){_.updateWorldMatrix(!1,!1);const tt=_.geometry;if(tt!==void 0){const rt=tt.getAttribute("position");if(et===!0&&rt!==void 0&&_.isInstancedMesh!==!0)for(let it=0,st=rt.count;it<st;it++)_.isMesh===!0?_.getVertexPosition(it,_vector$b):_vector$b.fromBufferAttribute(rt,it),_vector$b.applyMatrix4(_.matrixWorld),this.expandByPoint(_vector$b);else _.boundingBox!==void 0?(_.boundingBox===null&&_.computeBoundingBox(),_box$4.copy(_.boundingBox)):(tt.boundingBox===null&&tt.computeBoundingBox(),_box$4.copy(tt.boundingBox)),_box$4.applyMatrix4(_.matrixWorld),this.union(_box$4)}const nt=_.children;for(let rt=0,it=nt.length;rt<it;rt++)this.expandByObject(nt[rt],et);return this}containsPoint(_){return!(_.x<this.min.x||_.x>this.max.x||_.y<this.min.y||_.y>this.max.y||_.z<this.min.z||_.z>this.max.z)}containsBox(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y&&this.min.z<=_.min.z&&_.max.z<=this.max.z}getParameter(_,et){return et.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y),(_.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(_){return!(_.max.x<this.min.x||_.min.x>this.max.x||_.max.y<this.min.y||_.min.y>this.max.y||_.max.z<this.min.z||_.min.z>this.max.z)}intersectsSphere(_){return this.clampPoint(_.center,_vector$b),_vector$b.distanceToSquared(_.center)<=_.radius*_.radius}intersectsPlane(_){let et,tt;return _.normal.x>0?(et=_.normal.x*this.min.x,tt=_.normal.x*this.max.x):(et=_.normal.x*this.max.x,tt=_.normal.x*this.min.x),_.normal.y>0?(et+=_.normal.y*this.min.y,tt+=_.normal.y*this.max.y):(et+=_.normal.y*this.max.y,tt+=_.normal.y*this.min.y),_.normal.z>0?(et+=_.normal.z*this.min.z,tt+=_.normal.z*this.max.z):(et+=_.normal.z*this.max.z,tt+=_.normal.z*this.min.z),et<=-_.constant&&tt>=-_.constant}intersectsTriangle(_){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(_.a,_center),_v1$7.subVectors(_.b,_center),_v2$4.subVectors(_.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let et=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(et,_v0$2,_v1$7,_v2$4,_extents)||(et=[1,0,0,0,1,0,0,0,1],!satForAxes(et,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),et=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(et,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(_,et){return et.copy(_).clamp(this.min,this.max)}distanceToPoint(_){return this.clampPoint(_,_vector$b).distanceTo(_)}getBoundingSphere(_){return this.isEmpty()?_.makeEmpty():(this.getCenter(_.center),_.radius=this.getSize(_vector$b).length()*.5),_}intersect(_){return this.min.max(_.min),this.max.min(_.max),this.isEmpty()&&this.makeEmpty(),this}union(_){return this.min.min(_.min),this.max.max(_.max),this}applyMatrix4(_){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(_),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(_),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(_),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(_),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(_),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(_),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(_),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(_),this.setFromPoints(_points),this)}translate(_){return this.min.add(_),this.max.add(_),this}equals(_){return _.min.equals(this.min)&&_.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(_e,_,et,tt,nt){for(let rt=0,it=_e.length-3;rt<=it;rt+=3){_testAxis.fromArray(_e,rt);const st=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),ot=_.dot(_testAxis),at=et.dot(_testAxis),lt=tt.dot(_testAxis);if(Math.max(-Math.max(ot,at,lt),Math.min(ot,at,lt))>st)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(_=new Vector3,et=-1){this.center=_,this.radius=et}set(_,et){return this.center.copy(_),this.radius=et,this}setFromPoints(_,et){const tt=this.center;et!==void 0?tt.copy(et):_box$3.setFromPoints(_).getCenter(tt);let nt=0;for(let rt=0,it=_.length;rt<it;rt++)nt=Math.max(nt,tt.distanceToSquared(_[rt]));return this.radius=Math.sqrt(nt),this}copy(_){return this.center.copy(_.center),this.radius=_.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(_){return _.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(_){return _.distanceTo(this.center)-this.radius}intersectsSphere(_){const et=this.radius+_.radius;return _.center.distanceToSquared(this.center)<=et*et}intersectsBox(_){return _.intersectsSphere(this)}intersectsPlane(_){return Math.abs(_.distanceToPoint(this.center))<=this.radius}clampPoint(_,et){const tt=this.center.distanceToSquared(_);return et.copy(_),tt>this.radius*this.radius&&(et.sub(this.center).normalize(),et.multiplyScalar(this.radius).add(this.center)),et}getBoundingBox(_){return this.isEmpty()?(_.makeEmpty(),_):(_.set(this.center,this.center),_.expandByScalar(this.radius),_)}applyMatrix4(_){return this.center.applyMatrix4(_),this.radius=this.radius*_.getMaxScaleOnAxis(),this}translate(_){return this.center.add(_),this}expandByPoint(_){if(this.isEmpty())return this.center.copy(_),this.radius=0,this;_v1$6.subVectors(_,this.center);const et=_v1$6.lengthSq();if(et>this.radius*this.radius){const tt=Math.sqrt(et),nt=(tt-this.radius)*.5;this.center.addScaledVector(_v1$6,nt/tt),this.radius+=nt}return this}union(_){return _.isEmpty()?this:this.isEmpty()?(this.copy(_),this):(this.center.equals(_.center)===!0?this.radius=Math.max(this.radius,_.radius):(_v2$3.subVectors(_.center,this.center).setLength(_.radius),this.expandByPoint(_v1$6.copy(_.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(_.center).sub(_v2$3))),this)}equals(_){return _.center.equals(this.center)&&_.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(_=new Vector3,et=new Vector3(0,0,-1)){this.origin=_,this.direction=et}set(_,et){return this.origin.copy(_),this.direction.copy(et),this}copy(_){return this.origin.copy(_.origin),this.direction.copy(_.direction),this}at(_,et){return et.copy(this.origin).addScaledVector(this.direction,_)}lookAt(_){return this.direction.copy(_).sub(this.origin).normalize(),this}recast(_){return this.origin.copy(this.at(_,_vector$a)),this}closestPointToPoint(_,et){et.subVectors(_,this.origin);const tt=et.dot(this.direction);return tt<0?et.copy(this.origin):et.copy(this.origin).addScaledVector(this.direction,tt)}distanceToPoint(_){return Math.sqrt(this.distanceSqToPoint(_))}distanceSqToPoint(_){const et=_vector$a.subVectors(_,this.origin).dot(this.direction);return et<0?this.origin.distanceToSquared(_):(_vector$a.copy(this.origin).addScaledVector(this.direction,et),_vector$a.distanceToSquared(_))}distanceSqToSegment(_,et,tt,nt){_segCenter.copy(_).add(et).multiplyScalar(.5),_segDir.copy(et).sub(_).normalize(),_diff.copy(this.origin).sub(_segCenter);const rt=_.distanceTo(et)*.5,it=-this.direction.dot(_segDir),st=_diff.dot(this.direction),ot=-_diff.dot(_segDir),at=_diff.lengthSq(),lt=Math.abs(1-it*it);let ct,ut,ft,ht;if(lt>0)if(ct=it*ot-st,ut=it*st-ot,ht=rt*lt,ct>=0)if(ut>=-ht)if(ut<=ht){const vt=1/lt;ct*=vt,ut*=vt,ft=ct*(ct+it*ut+2*st)+ut*(it*ct+ut+2*ot)+at}else ut=rt,ct=Math.max(0,-(it*ut+st)),ft=-ct*ct+ut*(ut+2*ot)+at;else ut=-rt,ct=Math.max(0,-(it*ut+st)),ft=-ct*ct+ut*(ut+2*ot)+at;else ut<=-ht?(ct=Math.max(0,-(-it*rt+st)),ut=ct>0?-rt:Math.min(Math.max(-rt,-ot),rt),ft=-ct*ct+ut*(ut+2*ot)+at):ut<=ht?(ct=0,ut=Math.min(Math.max(-rt,-ot),rt),ft=ut*(ut+2*ot)+at):(ct=Math.max(0,-(it*rt+st)),ut=ct>0?rt:Math.min(Math.max(-rt,-ot),rt),ft=-ct*ct+ut*(ut+2*ot)+at);else ut=it>0?-rt:rt,ct=Math.max(0,-(it*ut+st)),ft=-ct*ct+ut*(ut+2*ot)+at;return tt&&tt.copy(this.origin).addScaledVector(this.direction,ct),nt&&nt.copy(_segCenter).addScaledVector(_segDir,ut),ft}intersectSphere(_,et){_vector$a.subVectors(_.center,this.origin);const tt=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-tt*tt,rt=_.radius*_.radius;if(nt>rt)return null;const it=Math.sqrt(rt-nt),st=tt-it,ot=tt+it;return ot<0?null:st<0?this.at(ot,et):this.at(st,et)}intersectsSphere(_){return this.distanceSqToPoint(_.center)<=_.radius*_.radius}distanceToPlane(_){const et=_.normal.dot(this.direction);if(et===0)return _.distanceToPoint(this.origin)===0?0:null;const tt=-(this.origin.dot(_.normal)+_.constant)/et;return tt>=0?tt:null}intersectPlane(_,et){const tt=this.distanceToPlane(_);return tt===null?null:this.at(tt,et)}intersectsPlane(_){const et=_.distanceToPoint(this.origin);return et===0||_.normal.dot(this.direction)*et<0}intersectBox(_,et){let tt,nt,rt,it,st,ot;const at=1/this.direction.x,lt=1/this.direction.y,ct=1/this.direction.z,ut=this.origin;return at>=0?(tt=(_.min.x-ut.x)*at,nt=(_.max.x-ut.x)*at):(tt=(_.max.x-ut.x)*at,nt=(_.min.x-ut.x)*at),lt>=0?(rt=(_.min.y-ut.y)*lt,it=(_.max.y-ut.y)*lt):(rt=(_.max.y-ut.y)*lt,it=(_.min.y-ut.y)*lt),tt>it||rt>nt||((rt>tt||isNaN(tt))&&(tt=rt),(it<nt||isNaN(nt))&&(nt=it),ct>=0?(st=(_.min.z-ut.z)*ct,ot=(_.max.z-ut.z)*ct):(st=(_.max.z-ut.z)*ct,ot=(_.min.z-ut.z)*ct),tt>ot||st>nt)||((st>tt||tt!==tt)&&(tt=st),(ot<nt||nt!==nt)&&(nt=ot),nt<0)?null:this.at(tt>=0?tt:nt,et)}intersectsBox(_){return this.intersectBox(_,_vector$a)!==null}intersectTriangle(_,et,tt,nt,rt){_edge1.subVectors(et,_),_edge2.subVectors(tt,_),_normal$1.crossVectors(_edge1,_edge2);let it=this.direction.dot(_normal$1),st;if(it>0){if(nt)return null;st=1}else if(it<0)st=-1,it=-it;else return null;_diff.subVectors(this.origin,_);const ot=st*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ot<0)return null;const at=st*this.direction.dot(_edge1.cross(_diff));if(at<0||ot+at>it)return null;const lt=-st*_diff.dot(_normal$1);return lt<0?null:this.at(lt/it,rt)}applyMatrix4(_){return this.origin.applyMatrix4(_),this.direction.transformDirection(_),this}equals(_){return _.origin.equals(this.origin)&&_.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(_,et,tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,vt,mt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_!==void 0&&this.set(_,et,tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,vt,mt)}set(_,et,tt,nt,rt,it,st,ot,at,lt,ct,ut,ft,ht,vt,mt){const pt=this.elements;return pt[0]=_,pt[4]=et,pt[8]=tt,pt[12]=nt,pt[1]=rt,pt[5]=it,pt[9]=st,pt[13]=ot,pt[2]=at,pt[6]=lt,pt[10]=ct,pt[14]=ut,pt[3]=ft,pt[7]=ht,pt[11]=vt,pt[15]=mt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(_){const et=this.elements,tt=_.elements;return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et[3]=tt[3],et[4]=tt[4],et[5]=tt[5],et[6]=tt[6],et[7]=tt[7],et[8]=tt[8],et[9]=tt[9],et[10]=tt[10],et[11]=tt[11],et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],et[15]=tt[15],this}copyPosition(_){const et=this.elements,tt=_.elements;return et[12]=tt[12],et[13]=tt[13],et[14]=tt[14],this}setFromMatrix3(_){const et=_.elements;return this.set(et[0],et[3],et[6],0,et[1],et[4],et[7],0,et[2],et[5],et[8],0,0,0,0,1),this}extractBasis(_,et,tt){return _.setFromMatrixColumn(this,0),et.setFromMatrixColumn(this,1),tt.setFromMatrixColumn(this,2),this}makeBasis(_,et,tt){return this.set(_.x,et.x,tt.x,0,_.y,et.y,tt.y,0,_.z,et.z,tt.z,0,0,0,0,1),this}extractRotation(_){const et=this.elements,tt=_.elements,nt=1/_v1$5.setFromMatrixColumn(_,0).length(),rt=1/_v1$5.setFromMatrixColumn(_,1).length(),it=1/_v1$5.setFromMatrixColumn(_,2).length();return et[0]=tt[0]*nt,et[1]=tt[1]*nt,et[2]=tt[2]*nt,et[3]=0,et[4]=tt[4]*rt,et[5]=tt[5]*rt,et[6]=tt[6]*rt,et[7]=0,et[8]=tt[8]*it,et[9]=tt[9]*it,et[10]=tt[10]*it,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromEuler(_){const et=this.elements,tt=_.x,nt=_.y,rt=_.z,it=Math.cos(tt),st=Math.sin(tt),ot=Math.cos(nt),at=Math.sin(nt),lt=Math.cos(rt),ct=Math.sin(rt);if(_.order==="XYZ"){const ut=it*lt,ft=it*ct,ht=st*lt,vt=st*ct;et[0]=ot*lt,et[4]=-ot*ct,et[8]=at,et[1]=ft+ht*at,et[5]=ut-vt*at,et[9]=-st*ot,et[2]=vt-ut*at,et[6]=ht+ft*at,et[10]=it*ot}else if(_.order==="YXZ"){const ut=ot*lt,ft=ot*ct,ht=at*lt,vt=at*ct;et[0]=ut+vt*st,et[4]=ht*st-ft,et[8]=it*at,et[1]=it*ct,et[5]=it*lt,et[9]=-st,et[2]=ft*st-ht,et[6]=vt+ut*st,et[10]=it*ot}else if(_.order==="ZXY"){const ut=ot*lt,ft=ot*ct,ht=at*lt,vt=at*ct;et[0]=ut-vt*st,et[4]=-it*ct,et[8]=ht+ft*st,et[1]=ft+ht*st,et[5]=it*lt,et[9]=vt-ut*st,et[2]=-it*at,et[6]=st,et[10]=it*ot}else if(_.order==="ZYX"){const ut=it*lt,ft=it*ct,ht=st*lt,vt=st*ct;et[0]=ot*lt,et[4]=ht*at-ft,et[8]=ut*at+vt,et[1]=ot*ct,et[5]=vt*at+ut,et[9]=ft*at-ht,et[2]=-at,et[6]=st*ot,et[10]=it*ot}else if(_.order==="YZX"){const ut=it*ot,ft=it*at,ht=st*ot,vt=st*at;et[0]=ot*lt,et[4]=vt-ut*ct,et[8]=ht*ct+ft,et[1]=ct,et[5]=it*lt,et[9]=-st*lt,et[2]=-at*lt,et[6]=ft*ct+ht,et[10]=ut-vt*ct}else if(_.order==="XZY"){const ut=it*ot,ft=it*at,ht=st*ot,vt=st*at;et[0]=ot*lt,et[4]=-ct,et[8]=at*lt,et[1]=ut*ct+vt,et[5]=it*lt,et[9]=ft*ct-ht,et[2]=ht*ct-ft,et[6]=st*lt,et[10]=vt*ct+ut}return et[3]=0,et[7]=0,et[11]=0,et[12]=0,et[13]=0,et[14]=0,et[15]=1,this}makeRotationFromQuaternion(_){return this.compose(_zero,_,_one)}lookAt(_,et,tt){const nt=this.elements;return _z.subVectors(_,et),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(tt,_z),_x.lengthSq()===0&&(Math.abs(tt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(tt,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply(_){return this.multiplyMatrices(this,_)}premultiply(_){return this.multiplyMatrices(_,this)}multiplyMatrices(_,et){const tt=_.elements,nt=et.elements,rt=this.elements,it=tt[0],st=tt[4],ot=tt[8],at=tt[12],lt=tt[1],ct=tt[5],ut=tt[9],ft=tt[13],ht=tt[2],vt=tt[6],mt=tt[10],pt=tt[14],yt=tt[3],_t=tt[7],St=tt[11],Et=tt[15],wt=nt[0],Mt=nt[4],At=nt[8],Tt=nt[12],Ct=nt[1],Dt=nt[5],$t=nt[9],kt=nt[13],It=nt[2],Nt=nt[6],Gt=nt[10],Bt=nt[14],Rt=nt[3],Ot=nt[7],Ut=nt[11],jt=nt[15];return rt[0]=it*wt+st*Ct+ot*It+at*Rt,rt[4]=it*Mt+st*Dt+ot*Nt+at*Ot,rt[8]=it*At+st*$t+ot*Gt+at*Ut,rt[12]=it*Tt+st*kt+ot*Bt+at*jt,rt[1]=lt*wt+ct*Ct+ut*It+ft*Rt,rt[5]=lt*Mt+ct*Dt+ut*Nt+ft*Ot,rt[9]=lt*At+ct*$t+ut*Gt+ft*Ut,rt[13]=lt*Tt+ct*kt+ut*Bt+ft*jt,rt[2]=ht*wt+vt*Ct+mt*It+pt*Rt,rt[6]=ht*Mt+vt*Dt+mt*Nt+pt*Ot,rt[10]=ht*At+vt*$t+mt*Gt+pt*Ut,rt[14]=ht*Tt+vt*kt+mt*Bt+pt*jt,rt[3]=yt*wt+_t*Ct+St*It+Et*Rt,rt[7]=yt*Mt+_t*Dt+St*Nt+Et*Ot,rt[11]=yt*At+_t*$t+St*Gt+Et*Ut,rt[15]=yt*Tt+_t*kt+St*Bt+Et*jt,this}multiplyScalar(_){const et=this.elements;return et[0]*=_,et[4]*=_,et[8]*=_,et[12]*=_,et[1]*=_,et[5]*=_,et[9]*=_,et[13]*=_,et[2]*=_,et[6]*=_,et[10]*=_,et[14]*=_,et[3]*=_,et[7]*=_,et[11]*=_,et[15]*=_,this}determinant(){const _=this.elements,et=_[0],tt=_[4],nt=_[8],rt=_[12],it=_[1],st=_[5],ot=_[9],at=_[13],lt=_[2],ct=_[6],ut=_[10],ft=_[14],ht=_[3],vt=_[7],mt=_[11],pt=_[15];return ht*(+rt*ot*ct-nt*at*ct-rt*st*ut+tt*at*ut+nt*st*ft-tt*ot*ft)+vt*(+et*ot*ft-et*at*ut+rt*it*ut-nt*it*ft+nt*at*lt-rt*ot*lt)+mt*(+et*at*ct-et*st*ft-rt*it*ct+tt*it*ft+rt*st*lt-tt*at*lt)+pt*(-nt*st*lt-et*ot*ct+et*st*ut+nt*it*ct-tt*it*ut+tt*ot*lt)}transpose(){const _=this.elements;let et;return et=_[1],_[1]=_[4],_[4]=et,et=_[2],_[2]=_[8],_[8]=et,et=_[6],_[6]=_[9],_[9]=et,et=_[3],_[3]=_[12],_[12]=et,et=_[7],_[7]=_[13],_[13]=et,et=_[11],_[11]=_[14],_[14]=et,this}setPosition(_,et,tt){const nt=this.elements;return _.isVector3?(nt[12]=_.x,nt[13]=_.y,nt[14]=_.z):(nt[12]=_,nt[13]=et,nt[14]=tt),this}invert(){const _=this.elements,et=_[0],tt=_[1],nt=_[2],rt=_[3],it=_[4],st=_[5],ot=_[6],at=_[7],lt=_[8],ct=_[9],ut=_[10],ft=_[11],ht=_[12],vt=_[13],mt=_[14],pt=_[15],yt=ct*mt*at-vt*ut*at+vt*ot*ft-st*mt*ft-ct*ot*pt+st*ut*pt,_t=ht*ut*at-lt*mt*at-ht*ot*ft+it*mt*ft+lt*ot*pt-it*ut*pt,St=lt*vt*at-ht*ct*at+ht*st*ft-it*vt*ft-lt*st*pt+it*ct*pt,Et=ht*ct*ot-lt*vt*ot-ht*st*ut+it*vt*ut+lt*st*mt-it*ct*mt,wt=et*yt+tt*_t+nt*St+rt*Et;if(wt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Mt=1/wt;return _[0]=yt*Mt,_[1]=(vt*ut*rt-ct*mt*rt-vt*nt*ft+tt*mt*ft+ct*nt*pt-tt*ut*pt)*Mt,_[2]=(st*mt*rt-vt*ot*rt+vt*nt*at-tt*mt*at-st*nt*pt+tt*ot*pt)*Mt,_[3]=(ct*ot*rt-st*ut*rt-ct*nt*at+tt*ut*at+st*nt*ft-tt*ot*ft)*Mt,_[4]=_t*Mt,_[5]=(lt*mt*rt-ht*ut*rt+ht*nt*ft-et*mt*ft-lt*nt*pt+et*ut*pt)*Mt,_[6]=(ht*ot*rt-it*mt*rt-ht*nt*at+et*mt*at+it*nt*pt-et*ot*pt)*Mt,_[7]=(it*ut*rt-lt*ot*rt+lt*nt*at-et*ut*at-it*nt*ft+et*ot*ft)*Mt,_[8]=St*Mt,_[9]=(ht*ct*rt-lt*vt*rt-ht*tt*ft+et*vt*ft+lt*tt*pt-et*ct*pt)*Mt,_[10]=(it*vt*rt-ht*st*rt+ht*tt*at-et*vt*at-it*tt*pt+et*st*pt)*Mt,_[11]=(lt*st*rt-it*ct*rt-lt*tt*at+et*ct*at+it*tt*ft-et*st*ft)*Mt,_[12]=Et*Mt,_[13]=(lt*vt*nt-ht*ct*nt+ht*tt*ut-et*vt*ut-lt*tt*mt+et*ct*mt)*Mt,_[14]=(ht*st*nt-it*vt*nt-ht*tt*ot+et*vt*ot+it*tt*mt-et*st*mt)*Mt,_[15]=(it*ct*nt-lt*st*nt+lt*tt*ot-et*ct*ot-it*tt*ut+et*st*ut)*Mt,this}scale(_){const et=this.elements,tt=_.x,nt=_.y,rt=_.z;return et[0]*=tt,et[4]*=nt,et[8]*=rt,et[1]*=tt,et[5]*=nt,et[9]*=rt,et[2]*=tt,et[6]*=nt,et[10]*=rt,et[3]*=tt,et[7]*=nt,et[11]*=rt,this}getMaxScaleOnAxis(){const _=this.elements,et=_[0]*_[0]+_[1]*_[1]+_[2]*_[2],tt=_[4]*_[4]+_[5]*_[5]+_[6]*_[6],nt=_[8]*_[8]+_[9]*_[9]+_[10]*_[10];return Math.sqrt(Math.max(et,tt,nt))}makeTranslation(_,et,tt){return _.isVector3?this.set(1,0,0,_.x,0,1,0,_.y,0,0,1,_.z,0,0,0,1):this.set(1,0,0,_,0,1,0,et,0,0,1,tt,0,0,0,1),this}makeRotationX(_){const et=Math.cos(_),tt=Math.sin(_);return this.set(1,0,0,0,0,et,-tt,0,0,tt,et,0,0,0,0,1),this}makeRotationY(_){const et=Math.cos(_),tt=Math.sin(_);return this.set(et,0,tt,0,0,1,0,0,-tt,0,et,0,0,0,0,1),this}makeRotationZ(_){const et=Math.cos(_),tt=Math.sin(_);return this.set(et,-tt,0,0,tt,et,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_,et){const tt=Math.cos(et),nt=Math.sin(et),rt=1-tt,it=_.x,st=_.y,ot=_.z,at=rt*it,lt=rt*st;return this.set(at*it+tt,at*st-nt*ot,at*ot+nt*st,0,at*st+nt*ot,lt*st+tt,lt*ot-nt*it,0,at*ot-nt*st,lt*ot+nt*it,rt*ot*ot+tt,0,0,0,0,1),this}makeScale(_,et,tt){return this.set(_,0,0,0,0,et,0,0,0,0,tt,0,0,0,0,1),this}makeShear(_,et,tt,nt,rt,it){return this.set(1,tt,rt,0,_,1,it,0,et,nt,1,0,0,0,0,1),this}compose(_,et,tt){const nt=this.elements,rt=et._x,it=et._y,st=et._z,ot=et._w,at=rt+rt,lt=it+it,ct=st+st,ut=rt*at,ft=rt*lt,ht=rt*ct,vt=it*lt,mt=it*ct,pt=st*ct,yt=ot*at,_t=ot*lt,St=ot*ct,Et=tt.x,wt=tt.y,Mt=tt.z;return nt[0]=(1-(vt+pt))*Et,nt[1]=(ft+St)*Et,nt[2]=(ht-_t)*Et,nt[3]=0,nt[4]=(ft-St)*wt,nt[5]=(1-(ut+pt))*wt,nt[6]=(mt+yt)*wt,nt[7]=0,nt[8]=(ht+_t)*Mt,nt[9]=(mt-yt)*Mt,nt[10]=(1-(ut+vt))*Mt,nt[11]=0,nt[12]=_.x,nt[13]=_.y,nt[14]=_.z,nt[15]=1,this}decompose(_,et,tt){const nt=this.elements;let rt=_v1$5.set(nt[0],nt[1],nt[2]).length();const it=_v1$5.set(nt[4],nt[5],nt[6]).length(),st=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(rt=-rt),_.x=nt[12],_.y=nt[13],_.z=nt[14],_m1$2.copy(this);const at=1/rt,lt=1/it,ct=1/st;return _m1$2.elements[0]*=at,_m1$2.elements[1]*=at,_m1$2.elements[2]*=at,_m1$2.elements[4]*=lt,_m1$2.elements[5]*=lt,_m1$2.elements[6]*=lt,_m1$2.elements[8]*=ct,_m1$2.elements[9]*=ct,_m1$2.elements[10]*=ct,et.setFromRotationMatrix(_m1$2),tt.x=rt,tt.y=it,tt.z=st,this}makePerspective(_,et,tt,nt,rt,it,st=WebGLCoordinateSystem){const ot=this.elements,at=2*rt/(et-_),lt=2*rt/(tt-nt),ct=(et+_)/(et-_),ut=(tt+nt)/(tt-nt);let ft,ht;if(st===WebGLCoordinateSystem)ft=-(it+rt)/(it-rt),ht=-2*it*rt/(it-rt);else if(st===WebGPUCoordinateSystem)ft=-it/(it-rt),ht=-it*rt/(it-rt);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+st);return ot[0]=at,ot[4]=0,ot[8]=ct,ot[12]=0,ot[1]=0,ot[5]=lt,ot[9]=ut,ot[13]=0,ot[2]=0,ot[6]=0,ot[10]=ft,ot[14]=ht,ot[3]=0,ot[7]=0,ot[11]=-1,ot[15]=0,this}makeOrthographic(_,et,tt,nt,rt,it,st=WebGLCoordinateSystem){const ot=this.elements,at=1/(et-_),lt=1/(tt-nt),ct=1/(it-rt),ut=(et+_)*at,ft=(tt+nt)*lt;let ht,vt;if(st===WebGLCoordinateSystem)ht=(it+rt)*ct,vt=-2*ct;else if(st===WebGPUCoordinateSystem)ht=rt*ct,vt=-1*ct;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+st);return ot[0]=2*at,ot[4]=0,ot[8]=0,ot[12]=-ut,ot[1]=0,ot[5]=2*lt,ot[9]=0,ot[13]=-ft,ot[2]=0,ot[6]=0,ot[10]=vt,ot[14]=-ht,ot[3]=0,ot[7]=0,ot[11]=0,ot[15]=1,this}equals(_){const et=this.elements,tt=_.elements;for(let nt=0;nt<16;nt++)if(et[nt]!==tt[nt])return!1;return!0}fromArray(_,et=0){for(let tt=0;tt<16;tt++)this.elements[tt]=_[tt+et];return this}toArray(_=[],et=0){const tt=this.elements;return _[et]=tt[0],_[et+1]=tt[1],_[et+2]=tt[2],_[et+3]=tt[3],_[et+4]=tt[4],_[et+5]=tt[5],_[et+6]=tt[6],_[et+7]=tt[7],_[et+8]=tt[8],_[et+9]=tt[9],_[et+10]=tt[10],_[et+11]=tt[11],_[et+12]=tt[12],_[et+13]=tt[13],_[et+14]=tt[14],_[et+15]=tt[15],_}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(_=0,et=0,tt=0,nt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=_,this._y=et,this._z=tt,this._order=nt}get x(){return this._x}set x(_){this._x=_,this._onChangeCallback()}get y(){return this._y}set y(_){this._y=_,this._onChangeCallback()}get z(){return this._z}set z(_){this._z=_,this._onChangeCallback()}get order(){return this._order}set order(_){this._order=_,this._onChangeCallback()}set(_,et,tt,nt=this._order){return this._x=_,this._y=et,this._z=tt,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(_){return this._x=_._x,this._y=_._y,this._z=_._z,this._order=_._order,this._onChangeCallback(),this}setFromRotationMatrix(_,et=this._order,tt=!0){const nt=_.elements,rt=nt[0],it=nt[4],st=nt[8],ot=nt[1],at=nt[5],lt=nt[9],ct=nt[2],ut=nt[6],ft=nt[10];switch(et){case"XYZ":this._y=Math.asin(clamp$3(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-lt,ft),this._z=Math.atan2(-it,rt)):(this._x=Math.atan2(ut,at),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$3(lt,-1,1)),Math.abs(lt)<.9999999?(this._y=Math.atan2(st,ft),this._z=Math.atan2(ot,at)):(this._y=Math.atan2(-ct,rt),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$3(ut,-1,1)),Math.abs(ut)<.9999999?(this._y=Math.atan2(-ct,ft),this._z=Math.atan2(-it,at)):(this._y=0,this._z=Math.atan2(ot,rt));break;case"ZYX":this._y=Math.asin(-clamp$3(ct,-1,1)),Math.abs(ct)<.9999999?(this._x=Math.atan2(ut,ft),this._z=Math.atan2(ot,rt)):(this._x=0,this._z=Math.atan2(-it,at));break;case"YZX":this._z=Math.asin(clamp$3(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(-lt,at),this._y=Math.atan2(-ct,rt)):(this._x=0,this._y=Math.atan2(st,ft));break;case"XZY":this._z=Math.asin(-clamp$3(it,-1,1)),Math.abs(it)<.9999999?(this._x=Math.atan2(ut,at),this._y=Math.atan2(st,rt)):(this._x=Math.atan2(-lt,ft),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+et)}return this._order=et,tt===!0&&this._onChangeCallback(),this}setFromQuaternion(_,et,tt){return _matrix$1.makeRotationFromQuaternion(_),this.setFromRotationMatrix(_matrix$1,et,tt)}setFromVector3(_,et=this._order){return this.set(_.x,_.y,_.z,et)}reorder(_){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,_)}equals(_){return _._x===this._x&&_._y===this._y&&_._z===this._z&&_._order===this._order}fromArray(_){return this._x=_[0],this._y=_[1],this._z=_[2],_[3]!==void 0&&(this._order=_[3]),this._onChangeCallback(),this}toArray(_=[],et=0){return _[et]=this._x,_[et+1]=this._y,_[et+2]=this._z,_[et+3]=this._order,_}_onChange(_){return this._onChangeCallback=_,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(_){this.mask=(1<<_|0)>>>0}enable(_){this.mask|=1<<_|0}enableAll(){this.mask=-1}toggle(_){this.mask^=1<<_|0}disable(_){this.mask&=~(1<<_|0)}disableAll(){this.mask=0}test(_){return(this.mask&_.mask)!==0}isEnabled(_){return(this.mask&(1<<_|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const _=new Vector3,et=new Euler,tt=new Quaternion,nt=new Vector3(1,1,1);function rt(){tt.setFromEuler(et,!1)}function it(){et.setFromQuaternion(tt,void 0,!1)}et._onChange(rt),tt._onChange(it),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_},rotation:{configurable:!0,enumerable:!0,value:et},quaternion:{configurable:!0,enumerable:!0,value:tt},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(_){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(_),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(_){return this.quaternion.premultiply(_),this}setRotationFromAxisAngle(_,et){this.quaternion.setFromAxisAngle(_,et)}setRotationFromEuler(_){this.quaternion.setFromEuler(_,!0)}setRotationFromMatrix(_){this.quaternion.setFromRotationMatrix(_)}setRotationFromQuaternion(_){this.quaternion.copy(_)}rotateOnAxis(_,et){return _q1.setFromAxisAngle(_,et),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(_,et){return _q1.setFromAxisAngle(_,et),this.quaternion.premultiply(_q1),this}rotateX(_){return this.rotateOnAxis(_xAxis,_)}rotateY(_){return this.rotateOnAxis(_yAxis,_)}rotateZ(_){return this.rotateOnAxis(_zAxis,_)}translateOnAxis(_,et){return _v1$4.copy(_).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(et)),this}translateX(_){return this.translateOnAxis(_xAxis,_)}translateY(_){return this.translateOnAxis(_yAxis,_)}translateZ(_){return this.translateOnAxis(_zAxis,_)}localToWorld(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(this.matrixWorld)}worldToLocal(_){return this.updateWorldMatrix(!0,!1),_.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(_,et,tt){_.isVector3?_target.copy(_):_target.set(_,et,tt);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),nt&&(_m1$1.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(_){if(arguments.length>1){for(let et=0;et<arguments.length;et++)this.add(arguments[et]);return this}return _===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",_),this):(_&&_.isObject3D?(_.parent!==null&&_.parent.remove(_),_.parent=this,this.children.push(_),_.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",_),this)}remove(_){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.remove(arguments[tt]);return this}const et=this.children.indexOf(_);return et!==-1&&(_.parent=null,this.children.splice(et,1),_.dispatchEvent(_removedEvent)),this}removeFromParent(){const _=this.parent;return _!==null&&_.remove(this),this}clear(){return this.remove(...this.children)}attach(_){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),_.parent!==null&&(_.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(_.parent.matrixWorld)),_.applyMatrix4(_m1$1),this.add(_),_.updateWorldMatrix(!1,!0),this}getObjectById(_){return this.getObjectByProperty("id",_)}getObjectByName(_){return this.getObjectByProperty("name",_)}getObjectByProperty(_,et){if(this[_]===et)return this;for(let tt=0,nt=this.children.length;tt<nt;tt++){const it=this.children[tt].getObjectByProperty(_,et);if(it!==void 0)return it}}getObjectsByProperty(_,et,tt=[]){this[_]===et&&tt.push(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].getObjectsByProperty(_,et,tt);return tt}getWorldPosition(_){return this.updateWorldMatrix(!0,!1),_.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_,_scale$2),_}getWorldScale(_){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,_),_}getWorldDirection(_){this.updateWorldMatrix(!0,!1);const et=this.matrixWorld.elements;return _.set(et[8],et[9],et[10]).normalize()}raycast(){}traverse(_){_(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverse(_)}traverseVisible(_){if(this.visible===!1)return;_(this);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++)et[tt].traverseVisible(_)}traverseAncestors(_){const et=this.parent;et!==null&&(_(et),et.traverseAncestors(_))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(_){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,_=!0);const et=this.children;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];(rt.matrixWorldAutoUpdate===!0||_===!0)&&rt.updateMatrixWorld(_)}}updateWorldMatrix(_,et){const tt=this.parent;if(_===!0&&tt!==null&&tt.matrixWorldAutoUpdate===!0&&tt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),et===!0){const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt];st.matrixWorldAutoUpdate===!0&&st.updateWorldMatrix(!1,!0)}}}toJSON(_){const et=_===void 0||typeof _=="string",tt={};et&&(_={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},tt.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),nt.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(nt.type="BatchedMesh",nt.perObjectFrustumCulled=this.perObjectFrustumCulled,nt.sortObjects=this.sortObjects,nt.drawRanges=this._drawRanges,nt.reservedRanges=this._reservedRanges,nt.visibility=this._visibility,nt.active=this._active,nt.bounds=this._bounds.map(st=>({boxInitialized:st.boxInitialized,boxMin:st.box.min.toArray(),boxMax:st.box.max.toArray(),sphereInitialized:st.sphereInitialized,sphereRadius:st.sphere.radius,sphereCenter:st.sphere.center.toArray()})),nt.maxGeometryCount=this._maxGeometryCount,nt.maxVertexCount=this._maxVertexCount,nt.maxIndexCount=this._maxIndexCount,nt.geometryInitialized=this._geometryInitialized,nt.geometryCount=this._geometryCount,nt.matricesTexture=this._matricesTexture.toJSON(_),this.boundingSphere!==null&&(nt.boundingSphere={center:nt.boundingSphere.center.toArray(),radius:nt.boundingSphere.radius}),this.boundingBox!==null&&(nt.boundingBox={min:nt.boundingBox.min.toArray(),max:nt.boundingBox.max.toArray()}));function rt(st,ot){return st[ot.uuid]===void 0&&(st[ot.uuid]=ot.toJSON(_)),ot.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON(_).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(nt.environment=this.environment.toJSON(_).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=rt(_.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const ot=st.shapes;if(Array.isArray(ot))for(let at=0,lt=ot.length;at<lt;at++){const ct=ot[at];rt(_.shapes,ct)}else rt(_.shapes,ot)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(rt(_.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let ot=0,at=this.material.length;ot<at;ot++)st.push(rt(_.materials,this.material[ot]));nt.material=st}else nt.material=rt(_.materials,this.material);if(this.children.length>0){nt.children=[];for(let st=0;st<this.children.length;st++)nt.children.push(this.children[st].toJSON(_).object)}if(this.animations.length>0){nt.animations=[];for(let st=0;st<this.animations.length;st++){const ot=this.animations[st];nt.animations.push(rt(_.animations,ot))}}if(et){const st=it(_.geometries),ot=it(_.materials),at=it(_.textures),lt=it(_.images),ct=it(_.shapes),ut=it(_.skeletons),ft=it(_.animations),ht=it(_.nodes);st.length>0&&(tt.geometries=st),ot.length>0&&(tt.materials=ot),at.length>0&&(tt.textures=at),lt.length>0&&(tt.images=lt),ct.length>0&&(tt.shapes=ct),ut.length>0&&(tt.skeletons=ut),ft.length>0&&(tt.animations=ft),ht.length>0&&(tt.nodes=ht)}return tt.object=nt,tt;function it(st){const ot=[];for(const at in st){const lt=st[at];delete lt.metadata,ot.push(lt)}return ot}}clone(_){return new this.constructor().copy(this,_)}copy(_,et=!0){if(this.name=_.name,this.up.copy(_.up),this.position.copy(_.position),this.rotation.order=_.rotation.order,this.quaternion.copy(_.quaternion),this.scale.copy(_.scale),this.matrix.copy(_.matrix),this.matrixWorld.copy(_.matrixWorld),this.matrixAutoUpdate=_.matrixAutoUpdate,this.matrixWorldAutoUpdate=_.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=_.matrixWorldNeedsUpdate,this.layers.mask=_.layers.mask,this.visible=_.visible,this.castShadow=_.castShadow,this.receiveShadow=_.receiveShadow,this.frustumCulled=_.frustumCulled,this.renderOrder=_.renderOrder,this.animations=_.animations.slice(),this.userData=JSON.parse(JSON.stringify(_.userData)),et===!0)for(let tt=0;tt<_.children.length;tt++){const nt=_.children[tt];this.add(nt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;let warnedGetUV=!1;class Triangle{constructor(_=new Vector3,et=new Vector3,tt=new Vector3){this.a=_,this.b=et,this.c=tt}static getNormal(_,et,tt,nt){nt.subVectors(tt,et),_v0$1.subVectors(_,et),nt.cross(_v0$1);const rt=nt.lengthSq();return rt>0?nt.multiplyScalar(1/Math.sqrt(rt)):nt.set(0,0,0)}static getBarycoord(_,et,tt,nt,rt){_v0$1.subVectors(nt,et),_v1$3.subVectors(tt,et),_v2$2.subVectors(_,et);const it=_v0$1.dot(_v0$1),st=_v0$1.dot(_v1$3),ot=_v0$1.dot(_v2$2),at=_v1$3.dot(_v1$3),lt=_v1$3.dot(_v2$2),ct=it*at-st*st;if(ct===0)return rt.set(-2,-1,-1);const ut=1/ct,ft=(at*ot-st*lt)*ut,ht=(it*lt-st*ot)*ut;return rt.set(1-ft-ht,ht,ft)}static containsPoint(_,et,tt,nt){return this.getBarycoord(_,et,tt,nt,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(_,et,tt,nt,rt,it,st,ot){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),this.getInterpolation(_,et,tt,nt,rt,it,st,ot)}static getInterpolation(_,et,tt,nt,rt,it,st,ot){return this.getBarycoord(_,et,tt,nt,_v3$1),ot.setScalar(0),ot.addScaledVector(rt,_v3$1.x),ot.addScaledVector(it,_v3$1.y),ot.addScaledVector(st,_v3$1.z),ot}static isFrontFacing(_,et,tt,nt){return _v0$1.subVectors(tt,et),_v1$3.subVectors(_,et),_v0$1.cross(_v1$3).dot(nt)<0}set(_,et,tt){return this.a.copy(_),this.b.copy(et),this.c.copy(tt),this}setFromPointsAndIndices(_,et,tt,nt){return this.a.copy(_[et]),this.b.copy(_[tt]),this.c.copy(_[nt]),this}setFromAttributeAndIndices(_,et,tt,nt){return this.a.fromBufferAttribute(_,et),this.b.fromBufferAttribute(_,tt),this.c.fromBufferAttribute(_,nt),this}clone(){return new this.constructor().copy(this)}copy(_){return this.a.copy(_.a),this.b.copy(_.b),this.c.copy(_.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(_){return _.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(_){return Triangle.getNormal(this.a,this.b,this.c,_)}getPlane(_){return _.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(_,et){return Triangle.getBarycoord(_,this.a,this.b,this.c,et)}getUV(_,et,tt,nt,rt){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),Triangle.getInterpolation(_,this.a,this.b,this.c,et,tt,nt,rt)}getInterpolation(_,et,tt,nt,rt){return Triangle.getInterpolation(_,this.a,this.b,this.c,et,tt,nt,rt)}containsPoint(_){return Triangle.containsPoint(_,this.a,this.b,this.c)}isFrontFacing(_){return Triangle.isFrontFacing(this.a,this.b,this.c,_)}intersectsBox(_){return _.intersectsTriangle(this)}closestPointToPoint(_,et){const tt=this.a,nt=this.b,rt=this.c;let it,st;_vab.subVectors(nt,tt),_vac.subVectors(rt,tt),_vap.subVectors(_,tt);const ot=_vab.dot(_vap),at=_vac.dot(_vap);if(ot<=0&&at<=0)return et.copy(tt);_vbp.subVectors(_,nt);const lt=_vab.dot(_vbp),ct=_vac.dot(_vbp);if(lt>=0&&ct<=lt)return et.copy(nt);const ut=ot*ct-lt*at;if(ut<=0&&ot>=0&&lt<=0)return it=ot/(ot-lt),et.copy(tt).addScaledVector(_vab,it);_vcp.subVectors(_,rt);const ft=_vab.dot(_vcp),ht=_vac.dot(_vcp);if(ht>=0&&ft<=ht)return et.copy(rt);const vt=ft*at-ot*ht;if(vt<=0&&at>=0&&ht<=0)return st=at/(at-ht),et.copy(tt).addScaledVector(_vac,st);const mt=lt*ht-ft*ct;if(mt<=0&&ct-lt>=0&&ft-ht>=0)return _vbc.subVectors(rt,nt),st=(ct-lt)/(ct-lt+(ft-ht)),et.copy(nt).addScaledVector(_vbc,st);const pt=1/(mt+vt+ut);return it=vt*pt,st=ut*pt,et.copy(tt).addScaledVector(_vab,it).addScaledVector(_vac,st)}equals(_){return _.a.equals(this.a)&&_.b.equals(this.b)&&_.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(_e,_,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?_e+(_-_e)*6*et:et<1/2?_:et<2/3?_e+(_-_e)*6*(2/3-et):_e}let Color$1=class{constructor(_,et,tt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(_,et,tt)}set(_,et,tt){if(et===void 0&&tt===void 0){const nt=_;nt&&nt.isColor?this.copy(nt):typeof nt=="number"?this.setHex(nt):typeof nt=="string"&&this.setStyle(nt)}else this.setRGB(_,et,tt);return this}setScalar(_){return this.r=_,this.g=_,this.b=_,this}setHex(_,et=SRGBColorSpace){return _=Math.floor(_),this.r=(_>>16&255)/255,this.g=(_>>8&255)/255,this.b=(_&255)/255,ColorManagement.toWorkingColorSpace(this,et),this}setRGB(_,et,tt,nt=ColorManagement.workingColorSpace){return this.r=_,this.g=et,this.b=tt,ColorManagement.toWorkingColorSpace(this,nt),this}setHSL(_,et,tt,nt=ColorManagement.workingColorSpace){if(_=euclideanModulo(_,1),et=clamp$3(et,0,1),tt=clamp$3(tt,0,1),et===0)this.r=this.g=this.b=tt;else{const rt=tt<=.5?tt*(1+et):tt+et-tt*et,it=2*tt-rt;this.r=hue2rgb(it,rt,_+1/3),this.g=hue2rgb(it,rt,_),this.b=hue2rgb(it,rt,_-1/3)}return ColorManagement.toWorkingColorSpace(this,nt),this}setStyle(_,et=SRGBColorSpace){function tt(rt){rt!==void 0&&parseFloat(rt)<1&&console.warn("THREE.Color: Alpha component of "+_+" will be ignored.")}let nt;if(nt=/^(\w+)\(([^\)]*)\)/.exec(_)){let rt;const it=nt[1],st=nt[2];switch(it){case"rgb":case"rgba":if(rt=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return tt(rt[4]),this.setRGB(Math.min(255,parseInt(rt[1],10))/255,Math.min(255,parseInt(rt[2],10))/255,Math.min(255,parseInt(rt[3],10))/255,et);if(rt=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return tt(rt[4]),this.setRGB(Math.min(100,parseInt(rt[1],10))/100,Math.min(100,parseInt(rt[2],10))/100,Math.min(100,parseInt(rt[3],10))/100,et);break;case"hsl":case"hsla":if(rt=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return tt(rt[4]),this.setHSL(parseFloat(rt[1])/360,parseFloat(rt[2])/100,parseFloat(rt[3])/100,et);break;default:console.warn("THREE.Color: Unknown color model "+_)}}else if(nt=/^\#([A-Fa-f\d]+)$/.exec(_)){const rt=nt[1],it=rt.length;if(it===3)return this.setRGB(parseInt(rt.charAt(0),16)/15,parseInt(rt.charAt(1),16)/15,parseInt(rt.charAt(2),16)/15,et);if(it===6)return this.setHex(parseInt(rt,16),et);console.warn("THREE.Color: Invalid hex color "+_)}else if(_&&_.length>0)return this.setColorName(_,et);return this}setColorName(_,et=SRGBColorSpace){const tt=_colorKeywords[_.toLowerCase()];return tt!==void 0?this.setHex(tt,et):console.warn("THREE.Color: Unknown color "+_),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(_){return this.r=_.r,this.g=_.g,this.b=_.b,this}copySRGBToLinear(_){return this.r=SRGBToLinear(_.r),this.g=SRGBToLinear(_.g),this.b=SRGBToLinear(_.b),this}copyLinearToSRGB(_){return this.r=LinearToSRGB(_.r),this.g=LinearToSRGB(_.g),this.b=LinearToSRGB(_.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(_=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),_),Math.round(clamp$3(_color.r*255,0,255))*65536+Math.round(clamp$3(_color.g*255,0,255))*256+Math.round(clamp$3(_color.b*255,0,255))}getHexString(_=SRGBColorSpace){return("000000"+this.getHex(_).toString(16)).slice(-6)}getHSL(_,et=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),et);const tt=_color.r,nt=_color.g,rt=_color.b,it=Math.max(tt,nt,rt),st=Math.min(tt,nt,rt);let ot,at;const lt=(st+it)/2;if(st===it)ot=0,at=0;else{const ct=it-st;switch(at=lt<=.5?ct/(it+st):ct/(2-it-st),it){case tt:ot=(nt-rt)/ct+(nt<rt?6:0);break;case nt:ot=(rt-tt)/ct+2;break;case rt:ot=(tt-nt)/ct+4;break}ot/=6}return _.h=ot,_.s=at,_.l=lt,_}getRGB(_,et=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),et),_.r=_color.r,_.g=_color.g,_.b=_color.b,_}getStyle(_=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),_);const et=_color.r,tt=_color.g,nt=_color.b;return _!==SRGBColorSpace?`color(${_} ${et.toFixed(3)} ${tt.toFixed(3)} ${nt.toFixed(3)})`:`rgb(${Math.round(et*255)},${Math.round(tt*255)},${Math.round(nt*255)})`}offsetHSL(_,et,tt){return this.getHSL(_hslA),this.setHSL(_hslA.h+_,_hslA.s+et,_hslA.l+tt)}add(_){return this.r+=_.r,this.g+=_.g,this.b+=_.b,this}addColors(_,et){return this.r=_.r+et.r,this.g=_.g+et.g,this.b=_.b+et.b,this}addScalar(_){return this.r+=_,this.g+=_,this.b+=_,this}sub(_){return this.r=Math.max(0,this.r-_.r),this.g=Math.max(0,this.g-_.g),this.b=Math.max(0,this.b-_.b),this}multiply(_){return this.r*=_.r,this.g*=_.g,this.b*=_.b,this}multiplyScalar(_){return this.r*=_,this.g*=_,this.b*=_,this}lerp(_,et){return this.r+=(_.r-this.r)*et,this.g+=(_.g-this.g)*et,this.b+=(_.b-this.b)*et,this}lerpColors(_,et,tt){return this.r=_.r+(et.r-_.r)*tt,this.g=_.g+(et.g-_.g)*tt,this.b=_.b+(et.b-_.b)*tt,this}lerpHSL(_,et){this.getHSL(_hslA),_.getHSL(_hslB);const tt=lerp(_hslA.h,_hslB.h,et),nt=lerp(_hslA.s,_hslB.s,et),rt=lerp(_hslA.l,_hslB.l,et);return this.setHSL(tt,nt,rt),this}setFromVector3(_){return this.r=_.x,this.g=_.y,this.b=_.z,this}applyMatrix3(_){const et=this.r,tt=this.g,nt=this.b,rt=_.elements;return this.r=rt[0]*et+rt[3]*tt+rt[6]*nt,this.g=rt[1]*et+rt[4]*tt+rt[7]*nt,this.b=rt[2]*et+rt[5]*tt+rt[8]*nt,this}equals(_){return _.r===this.r&&_.g===this.g&&_.b===this.b}fromArray(_,et=0){return this.r=_[et],this.g=_[et+1],this.b=_[et+2],this}toArray(_=[],et=0){return _[et]=this.r,_[et+1]=this.g,_[et+2]=this.b,_}fromBufferAttribute(_,et){return this.r=_.getX(et),this.g=_.getY(et),this.b=_.getZ(et),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(_){this._alphaTest>0!=_>0&&this.version++,this._alphaTest=_}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(_){if(_!==void 0)for(const et in _){const tt=_[et];if(tt===void 0){console.warn(`THREE.Material: parameter '${et}' has value of undefined.`);continue}const nt=this[et];if(nt===void 0){console.warn(`THREE.Material: '${et}' is not a property of THREE.${this.type}.`);continue}nt&&nt.isColor?nt.set(tt):nt&&nt.isVector3&&tt&&tt.isVector3?nt.copy(tt):this[et]=tt}}toJSON(_){const et=_===void 0||typeof _=="string";et&&(_={textures:{},images:{}});const tt={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};tt.uuid=this.uuid,tt.type=this.type,this.name!==""&&(tt.name=this.name),this.color&&this.color.isColor&&(tt.color=this.color.getHex()),this.roughness!==void 0&&(tt.roughness=this.roughness),this.metalness!==void 0&&(tt.metalness=this.metalness),this.sheen!==void 0&&(tt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(tt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(tt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(tt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(tt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(tt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(tt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(tt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(tt.shininess=this.shininess),this.clearcoat!==void 0&&(tt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(tt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(tt.clearcoatMap=this.clearcoatMap.toJSON(_).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(tt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(_).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(tt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(_).uuid,tt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(tt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(tt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(tt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(tt.iridescenceMap=this.iridescenceMap.toJSON(_).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(tt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(_).uuid),this.anisotropy!==void 0&&(tt.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(tt.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(tt.anisotropyMap=this.anisotropyMap.toJSON(_).uuid),this.map&&this.map.isTexture&&(tt.map=this.map.toJSON(_).uuid),this.matcap&&this.matcap.isTexture&&(tt.matcap=this.matcap.toJSON(_).uuid),this.alphaMap&&this.alphaMap.isTexture&&(tt.alphaMap=this.alphaMap.toJSON(_).uuid),this.lightMap&&this.lightMap.isTexture&&(tt.lightMap=this.lightMap.toJSON(_).uuid,tt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(tt.aoMap=this.aoMap.toJSON(_).uuid,tt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(tt.bumpMap=this.bumpMap.toJSON(_).uuid,tt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(tt.normalMap=this.normalMap.toJSON(_).uuid,tt.normalMapType=this.normalMapType,tt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(tt.displacementMap=this.displacementMap.toJSON(_).uuid,tt.displacementScale=this.displacementScale,tt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(tt.roughnessMap=this.roughnessMap.toJSON(_).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(tt.metalnessMap=this.metalnessMap.toJSON(_).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(tt.emissiveMap=this.emissiveMap.toJSON(_).uuid),this.specularMap&&this.specularMap.isTexture&&(tt.specularMap=this.specularMap.toJSON(_).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(tt.specularIntensityMap=this.specularIntensityMap.toJSON(_).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(tt.specularColorMap=this.specularColorMap.toJSON(_).uuid),this.envMap&&this.envMap.isTexture&&(tt.envMap=this.envMap.toJSON(_).uuid,this.combine!==void 0&&(tt.combine=this.combine)),this.envMapIntensity!==void 0&&(tt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(tt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(tt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(tt.gradientMap=this.gradientMap.toJSON(_).uuid),this.transmission!==void 0&&(tt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(tt.transmissionMap=this.transmissionMap.toJSON(_).uuid),this.thickness!==void 0&&(tt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(tt.thicknessMap=this.thicknessMap.toJSON(_).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(tt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(tt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(tt.size=this.size),this.shadowSide!==null&&(tt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(tt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(tt.blending=this.blending),this.side!==FrontSide&&(tt.side=this.side),this.vertexColors===!0&&(tt.vertexColors=!0),this.opacity<1&&(tt.opacity=this.opacity),this.transparent===!0&&(tt.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(tt.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(tt.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(tt.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(tt.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(tt.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(tt.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(tt.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(tt.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(tt.depthFunc=this.depthFunc),this.depthTest===!1&&(tt.depthTest=this.depthTest),this.depthWrite===!1&&(tt.depthWrite=this.depthWrite),this.colorWrite===!1&&(tt.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(tt.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(tt.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(tt.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(tt.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(tt.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(tt.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(tt.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(tt.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(tt.rotation=this.rotation),this.polygonOffset===!0&&(tt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(tt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(tt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(tt.linewidth=this.linewidth),this.dashSize!==void 0&&(tt.dashSize=this.dashSize),this.gapSize!==void 0&&(tt.gapSize=this.gapSize),this.scale!==void 0&&(tt.scale=this.scale),this.dithering===!0&&(tt.dithering=!0),this.alphaTest>0&&(tt.alphaTest=this.alphaTest),this.alphaHash===!0&&(tt.alphaHash=!0),this.alphaToCoverage===!0&&(tt.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(tt.premultipliedAlpha=!0),this.forceSinglePass===!0&&(tt.forceSinglePass=!0),this.wireframe===!0&&(tt.wireframe=!0),this.wireframeLinewidth>1&&(tt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(tt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(tt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(tt.flatShading=!0),this.visible===!1&&(tt.visible=!1),this.toneMapped===!1&&(tt.toneMapped=!1),this.fog===!1&&(tt.fog=!1),Object.keys(this.userData).length>0&&(tt.userData=this.userData);function nt(rt){const it=[];for(const st in rt){const ot=rt[st];delete ot.metadata,it.push(ot)}return it}if(et){const rt=nt(_.textures),it=nt(_.images);rt.length>0&&(tt.textures=rt),it.length>0&&(tt.images=it)}return tt}clone(){return new this.constructor().copy(this)}copy(_){this.name=_.name,this.blending=_.blending,this.side=_.side,this.vertexColors=_.vertexColors,this.opacity=_.opacity,this.transparent=_.transparent,this.blendSrc=_.blendSrc,this.blendDst=_.blendDst,this.blendEquation=_.blendEquation,this.blendSrcAlpha=_.blendSrcAlpha,this.blendDstAlpha=_.blendDstAlpha,this.blendEquationAlpha=_.blendEquationAlpha,this.blendColor.copy(_.blendColor),this.blendAlpha=_.blendAlpha,this.depthFunc=_.depthFunc,this.depthTest=_.depthTest,this.depthWrite=_.depthWrite,this.stencilWriteMask=_.stencilWriteMask,this.stencilFunc=_.stencilFunc,this.stencilRef=_.stencilRef,this.stencilFuncMask=_.stencilFuncMask,this.stencilFail=_.stencilFail,this.stencilZFail=_.stencilZFail,this.stencilZPass=_.stencilZPass,this.stencilWrite=_.stencilWrite;const et=_.clippingPlanes;let tt=null;if(et!==null){const nt=et.length;tt=new Array(nt);for(let rt=0;rt!==nt;++rt)tt[rt]=et[rt].clone()}return this.clippingPlanes=tt,this.clipIntersection=_.clipIntersection,this.clipShadows=_.clipShadows,this.shadowSide=_.shadowSide,this.colorWrite=_.colorWrite,this.precision=_.precision,this.polygonOffset=_.polygonOffset,this.polygonOffsetFactor=_.polygonOffsetFactor,this.polygonOffsetUnits=_.polygonOffsetUnits,this.dithering=_.dithering,this.alphaTest=_.alphaTest,this.alphaHash=_.alphaHash,this.alphaToCoverage=_.alphaToCoverage,this.premultipliedAlpha=_.premultipliedAlpha,this.forceSinglePass=_.forceSinglePass,this.visible=_.visible,this.toneMapped=_.toneMapped,this.userData=JSON.parse(JSON.stringify(_.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_){_===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(_){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.fog=_.fog,this}}const _tables=_generateTables();function _generateTables(){const _e=new ArrayBuffer(4),_=new Float32Array(_e),et=new Uint32Array(_e),tt=new Uint32Array(512),nt=new Uint32Array(512);for(let ot=0;ot<256;++ot){const at=ot-127;at<-27?(tt[ot]=0,tt[ot|256]=32768,nt[ot]=24,nt[ot|256]=24):at<-14?(tt[ot]=1024>>-at-14,tt[ot|256]=1024>>-at-14|32768,nt[ot]=-at-1,nt[ot|256]=-at-1):at<=15?(tt[ot]=at+15<<10,tt[ot|256]=at+15<<10|32768,nt[ot]=13,nt[ot|256]=13):at<128?(tt[ot]=31744,tt[ot|256]=64512,nt[ot]=24,nt[ot|256]=24):(tt[ot]=31744,tt[ot|256]=64512,nt[ot]=13,nt[ot|256]=13)}const rt=new Uint32Array(2048),it=new Uint32Array(64),st=new Uint32Array(64);for(let ot=1;ot<1024;++ot){let at=ot<<13,lt=0;for(;!(at&8388608);)at<<=1,lt-=8388608;at&=-8388609,lt+=947912704,rt[ot]=at|lt}for(let ot=1024;ot<2048;++ot)rt[ot]=939524096+(ot-1024<<13);for(let ot=1;ot<31;++ot)it[ot]=ot<<23;it[31]=1199570944,it[32]=2147483648;for(let ot=33;ot<63;++ot)it[ot]=2147483648+(ot-32<<23);it[63]=3347054592;for(let ot=1;ot<64;++ot)ot!==32&&(st[ot]=1024);return{floatView:_,uint32View:et,baseTable:tt,shiftTable:nt,mantissaTable:rt,exponentTable:it,offsetTable:st}}function toHalfFloat(_e){Math.abs(_e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),_e=clamp$3(_e,-65504,65504),_tables.floatView[0]=_e;const _=_tables.uint32View[0],et=_>>23&511;return _tables.baseTable[et]+((_&8388607)>>_tables.shiftTable[et])}function fromHalfFloat(_e){const _=_e>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[_]+(_e&1023)]+_tables.exponentTable[_],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(_,et,tt=!1){if(Array.isArray(_))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=_,this.itemSize=et,this.count=_!==void 0?_.length/et:0,this.normalized=tt,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(_){_===!0&&this.version++}get updateRange(){return console.warn('THREE.BufferAttribute: "updateRange" is deprecated and removed in r169. Use "addUpdateRange()" instead.'),this._updateRange}setUsage(_){return this.usage=_,this}addUpdateRange(_,et){this.updateRanges.push({start:_,count:et})}clearUpdateRanges(){this.updateRanges.length=0}copy(_){return this.name=_.name,this.array=new _.array.constructor(_.array),this.itemSize=_.itemSize,this.count=_.count,this.normalized=_.normalized,this.usage=_.usage,this.gpuType=_.gpuType,this}copyAt(_,et,tt){_*=this.itemSize,tt*=et.itemSize;for(let nt=0,rt=this.itemSize;nt<rt;nt++)this.array[_+nt]=et.array[tt+nt];return this}copyArray(_){return this.array.set(_),this}applyMatrix3(_){if(this.itemSize===2)for(let et=0,tt=this.count;et<tt;et++)_vector2$1.fromBufferAttribute(this,et),_vector2$1.applyMatrix3(_),this.setXY(et,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyMatrix3(_),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(_){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyMatrix4(_),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(_){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.applyNormalMatrix(_),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(_){for(let et=0,tt=this.count;et<tt;et++)_vector$9.fromBufferAttribute(this,et),_vector$9.transformDirection(_),this.setXYZ(et,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(_,et=0){return this.array.set(_,et),this}getComponent(_,et){let tt=this.array[_*this.itemSize+et];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setComponent(_,et,tt){return this.normalized&&(tt=normalize$5(tt,this.array)),this.array[_*this.itemSize+et]=tt,this}getX(_){let et=this.array[_*this.itemSize];return this.normalized&&(et=denormalize(et,this.array)),et}setX(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize]=et,this}getY(_){let et=this.array[_*this.itemSize+1];return this.normalized&&(et=denormalize(et,this.array)),et}setY(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize+1]=et,this}getZ(_){let et=this.array[_*this.itemSize+2];return this.normalized&&(et=denormalize(et,this.array)),et}setZ(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize+2]=et,this}getW(_){let et=this.array[_*this.itemSize+3];return this.normalized&&(et=denormalize(et,this.array)),et}setW(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize+3]=et,this}setXY(_,et,tt){return _*=this.itemSize,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array)),this.array[_+0]=et,this.array[_+1]=tt,this}setXYZ(_,et,tt,nt){return _*=this.itemSize,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array)),this.array[_+0]=et,this.array[_+1]=tt,this.array[_+2]=nt,this}setXYZW(_,et,tt,nt,rt){return _*=this.itemSize,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array),rt=normalize$5(rt,this.array)),this.array[_+0]=et,this.array[_+1]=tt,this.array[_+2]=nt,this.array[_+3]=rt,this}onUpload(_){return this.onUploadCallback=_,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const _={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(_.name=this.name),this.usage!==StaticDrawUsage&&(_.usage=this.usage),_}}class Int8BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Int8Array(_),et,tt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Uint8Array(_),et,tt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Uint8ClampedArray(_),et,tt)}}class Int16BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Int16Array(_),et,tt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Uint16Array(_),et,tt)}}class Int32BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Int32Array(_),et,tt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Uint32Array(_),et,tt)}}class Float16BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Uint16Array(_),et,tt),this.isFloat16BufferAttribute=!0}getX(_){let et=fromHalfFloat(this.array[_*this.itemSize]);return this.normalized&&(et=denormalize(et,this.array)),et}setX(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize]=toHalfFloat(et),this}getY(_){let et=fromHalfFloat(this.array[_*this.itemSize+1]);return this.normalized&&(et=denormalize(et,this.array)),et}setY(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize+1]=toHalfFloat(et),this}getZ(_){let et=fromHalfFloat(this.array[_*this.itemSize+2]);return this.normalized&&(et=denormalize(et,this.array)),et}setZ(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize+2]=toHalfFloat(et),this}getW(_){let et=fromHalfFloat(this.array[_*this.itemSize+3]);return this.normalized&&(et=denormalize(et,this.array)),et}setW(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.array[_*this.itemSize+3]=toHalfFloat(et),this}setXY(_,et,tt){return _*=this.itemSize,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array)),this.array[_+0]=toHalfFloat(et),this.array[_+1]=toHalfFloat(tt),this}setXYZ(_,et,tt,nt){return _*=this.itemSize,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array)),this.array[_+0]=toHalfFloat(et),this.array[_+1]=toHalfFloat(tt),this.array[_+2]=toHalfFloat(nt),this}setXYZW(_,et,tt,nt,rt){return _*=this.itemSize,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array),rt=normalize$5(rt,this.array)),this.array[_+0]=toHalfFloat(et),this.array[_+1]=toHalfFloat(tt),this.array[_+2]=toHalfFloat(nt),this.array[_+3]=toHalfFloat(rt),this}}class Float32BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Float32Array(_),et,tt)}}class Float64BufferAttribute extends BufferAttribute{constructor(_,et,tt){super(new Float64Array(_),et,tt)}}let _id$2=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(_){return Array.isArray(_)?this.index=new(arrayNeedsUint32(_)?Uint32BufferAttribute:Uint16BufferAttribute)(_,1):this.index=_,this}getAttribute(_){return this.attributes[_]}setAttribute(_,et){return this.attributes[_]=et,this}deleteAttribute(_){return delete this.attributes[_],this}hasAttribute(_){return this.attributes[_]!==void 0}addGroup(_,et,tt=0){this.groups.push({start:_,count:et,materialIndex:tt})}clearGroups(){this.groups=[]}setDrawRange(_,et){this.drawRange.start=_,this.drawRange.count=et}applyMatrix4(_){const et=this.attributes.position;et!==void 0&&(et.applyMatrix4(_),et.needsUpdate=!0);const tt=this.attributes.normal;if(tt!==void 0){const rt=new Matrix3().getNormalMatrix(_);tt.applyNormalMatrix(rt),tt.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection(_),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(_){return _m1.makeRotationFromQuaternion(_),this.applyMatrix4(_m1),this}rotateX(_){return _m1.makeRotationX(_),this.applyMatrix4(_m1),this}rotateY(_){return _m1.makeRotationY(_),this.applyMatrix4(_m1),this}rotateZ(_){return _m1.makeRotationZ(_),this.applyMatrix4(_m1),this}translate(_,et,tt){return _m1.makeTranslation(_,et,tt),this.applyMatrix4(_m1),this}scale(_,et,tt){return _m1.makeScale(_,et,tt),this.applyMatrix4(_m1),this}lookAt(_){return _obj.lookAt(_),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(_){const et=[];for(let tt=0,nt=_.length;tt<nt;tt++){const rt=_[tt];et.push(rt.x,rt.y,rt.z||0)}return this.setAttribute("position",new Float32BufferAttribute(et,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _=this.attributes.position,et=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(_!==void 0){if(this.boundingBox.setFromBufferAttribute(_),et)for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];_box$2.setFromBufferAttribute(rt),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _=this.attributes.position,et=this.morphAttributes.position;if(_&&_.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(_){const tt=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(_),et)for(let rt=0,it=et.length;rt<it;rt++){const st=et[rt];_boxMorphTargets.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(tt);let nt=0;for(let rt=0,it=_.count;rt<it;rt++)_vector$8.fromBufferAttribute(_,rt),nt=Math.max(nt,tt.distanceToSquared(_vector$8));if(et)for(let rt=0,it=et.length;rt<it;rt++){const st=et[rt],ot=this.morphTargetsRelative;for(let at=0,lt=st.count;at<lt;at++)_vector$8.fromBufferAttribute(st,at),ot&&(_offset.fromBufferAttribute(_,at),_vector$8.add(_offset)),nt=Math.max(nt,tt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const _=this.index,et=this.attributes;if(_===null||et.position===void 0||et.normal===void 0||et.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const tt=_.array,nt=et.position.array,rt=et.normal.array,it=et.uv.array,st=nt.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*st),4));const ot=this.getAttribute("tangent").array,at=[],lt=[];for(let Ct=0;Ct<st;Ct++)at[Ct]=new Vector3,lt[Ct]=new Vector3;const ct=new Vector3,ut=new Vector3,ft=new Vector3,ht=new Vector2,vt=new Vector2,mt=new Vector2,pt=new Vector3,yt=new Vector3;function _t(Ct,Dt,$t){ct.fromArray(nt,Ct*3),ut.fromArray(nt,Dt*3),ft.fromArray(nt,$t*3),ht.fromArray(it,Ct*2),vt.fromArray(it,Dt*2),mt.fromArray(it,$t*2),ut.sub(ct),ft.sub(ct),vt.sub(ht),mt.sub(ht);const kt=1/(vt.x*mt.y-mt.x*vt.y);isFinite(kt)&&(pt.copy(ut).multiplyScalar(mt.y).addScaledVector(ft,-vt.y).multiplyScalar(kt),yt.copy(ft).multiplyScalar(vt.x).addScaledVector(ut,-mt.x).multiplyScalar(kt),at[Ct].add(pt),at[Dt].add(pt),at[$t].add(pt),lt[Ct].add(yt),lt[Dt].add(yt),lt[$t].add(yt))}let St=this.groups;St.length===0&&(St=[{start:0,count:tt.length}]);for(let Ct=0,Dt=St.length;Ct<Dt;++Ct){const $t=St[Ct],kt=$t.start,It=$t.count;for(let Nt=kt,Gt=kt+It;Nt<Gt;Nt+=3)_t(tt[Nt+0],tt[Nt+1],tt[Nt+2])}const Et=new Vector3,wt=new Vector3,Mt=new Vector3,At=new Vector3;function Tt(Ct){Mt.fromArray(rt,Ct*3),At.copy(Mt);const Dt=at[Ct];Et.copy(Dt),Et.sub(Mt.multiplyScalar(Mt.dot(Dt))).normalize(),wt.crossVectors(At,Dt);const kt=wt.dot(lt[Ct])<0?-1:1;ot[Ct*4]=Et.x,ot[Ct*4+1]=Et.y,ot[Ct*4+2]=Et.z,ot[Ct*4+3]=kt}for(let Ct=0,Dt=St.length;Ct<Dt;++Ct){const $t=St[Ct],kt=$t.start,It=$t.count;for(let Nt=kt,Gt=kt+It;Nt<Gt;Nt+=3)Tt(tt[Nt+0]),Tt(tt[Nt+1]),Tt(tt[Nt+2])}}computeVertexNormals(){const _=this.index,et=this.getAttribute("position");if(et!==void 0){let tt=this.getAttribute("normal");if(tt===void 0)tt=new BufferAttribute(new Float32Array(et.count*3),3),this.setAttribute("normal",tt);else for(let ut=0,ft=tt.count;ut<ft;ut++)tt.setXYZ(ut,0,0,0);const nt=new Vector3,rt=new Vector3,it=new Vector3,st=new Vector3,ot=new Vector3,at=new Vector3,lt=new Vector3,ct=new Vector3;if(_)for(let ut=0,ft=_.count;ut<ft;ut+=3){const ht=_.getX(ut+0),vt=_.getX(ut+1),mt=_.getX(ut+2);nt.fromBufferAttribute(et,ht),rt.fromBufferAttribute(et,vt),it.fromBufferAttribute(et,mt),lt.subVectors(it,rt),ct.subVectors(nt,rt),lt.cross(ct),st.fromBufferAttribute(tt,ht),ot.fromBufferAttribute(tt,vt),at.fromBufferAttribute(tt,mt),st.add(lt),ot.add(lt),at.add(lt),tt.setXYZ(ht,st.x,st.y,st.z),tt.setXYZ(vt,ot.x,ot.y,ot.z),tt.setXYZ(mt,at.x,at.y,at.z)}else for(let ut=0,ft=et.count;ut<ft;ut+=3)nt.fromBufferAttribute(et,ut+0),rt.fromBufferAttribute(et,ut+1),it.fromBufferAttribute(et,ut+2),lt.subVectors(it,rt),ct.subVectors(nt,rt),lt.cross(ct),tt.setXYZ(ut+0,lt.x,lt.y,lt.z),tt.setXYZ(ut+1,lt.x,lt.y,lt.z),tt.setXYZ(ut+2,lt.x,lt.y,lt.z);this.normalizeNormals(),tt.needsUpdate=!0}}normalizeNormals(){const _=this.attributes.normal;for(let et=0,tt=_.count;et<tt;et++)_vector$8.fromBufferAttribute(_,et),_vector$8.normalize(),_.setXYZ(et,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function _(st,ot){const at=st.array,lt=st.itemSize,ct=st.normalized,ut=new at.constructor(ot.length*lt);let ft=0,ht=0;for(let vt=0,mt=ot.length;vt<mt;vt++){st.isInterleavedBufferAttribute?ft=ot[vt]*st.data.stride+st.offset:ft=ot[vt]*lt;for(let pt=0;pt<lt;pt++)ut[ht++]=at[ft++]}return new BufferAttribute(ut,lt,ct)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const et=new BufferGeometry,tt=this.index.array,nt=this.attributes;for(const st in nt){const ot=nt[st],at=_(ot,tt);et.setAttribute(st,at)}const rt=this.morphAttributes;for(const st in rt){const ot=[],at=rt[st];for(let lt=0,ct=at.length;lt<ct;lt++){const ut=at[lt],ft=_(ut,tt);ot.push(ft)}et.morphAttributes[st]=ot}et.morphTargetsRelative=this.morphTargetsRelative;const it=this.groups;for(let st=0,ot=it.length;st<ot;st++){const at=it[st];et.addGroup(at.start,at.count,at.materialIndex)}return et}toJSON(){const _={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),Object.keys(this.userData).length>0&&(_.userData=this.userData),this.parameters!==void 0){const ot=this.parameters;for(const at in ot)ot[at]!==void 0&&(_[at]=ot[at]);return _}_.data={attributes:{}};const et=this.index;et!==null&&(_.data.index={type:et.array.constructor.name,array:Array.prototype.slice.call(et.array)});const tt=this.attributes;for(const ot in tt){const at=tt[ot];_.data.attributes[ot]=at.toJSON(_.data)}const nt={};let rt=!1;for(const ot in this.morphAttributes){const at=this.morphAttributes[ot],lt=[];for(let ct=0,ut=at.length;ct<ut;ct++){const ft=at[ct];lt.push(ft.toJSON(_.data))}lt.length>0&&(nt[ot]=lt,rt=!0)}rt&&(_.data.morphAttributes=nt,_.data.morphTargetsRelative=this.morphTargetsRelative);const it=this.groups;it.length>0&&(_.data.groups=JSON.parse(JSON.stringify(it)));const st=this.boundingSphere;return st!==null&&(_.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),_}clone(){return new this.constructor().copy(this)}copy(_){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const et={};this.name=_.name;const tt=_.index;tt!==null&&this.setIndex(tt.clone(et));const nt=_.attributes;for(const at in nt){const lt=nt[at];this.setAttribute(at,lt.clone(et))}const rt=_.morphAttributes;for(const at in rt){const lt=[],ct=rt[at];for(let ut=0,ft=ct.length;ut<ft;ut++)lt.push(ct[ut].clone(et));this.morphAttributes[at]=lt}this.morphTargetsRelative=_.morphTargetsRelative;const it=_.groups;for(let at=0,lt=it.length;at<lt;at++){const ct=it[at];this.addGroup(ct.start,ct.count,ct.materialIndex)}const st=_.boundingBox;st!==null&&(this.boundingBox=st.clone());const ot=_.boundingSphere;return ot!==null&&(this.boundingSphere=ot.clone()),this.drawRange.start=_.drawRange.start,this.drawRange.count=_.drawRange.count,this.userData=_.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(_=new BufferGeometry,et=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=_,this.material=et,this.updateMorphTargets()}copy(_,et){return super.copy(_,et),_.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=_.morphTargetInfluences.slice()),_.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},_.morphTargetDictionary)),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}getVertexPosition(_,et){const tt=this.geometry,nt=tt.attributes.position,rt=tt.morphAttributes.position,it=tt.morphTargetsRelative;et.fromBufferAttribute(nt,_);const st=this.morphTargetInfluences;if(rt&&st){_morphA.set(0,0,0);for(let ot=0,at=rt.length;ot<at;ot++){const lt=st[ot],ct=rt[ot];lt!==0&&(_tempA.fromBufferAttribute(ct,_),it?_morphA.addScaledVector(_tempA,lt):_morphA.addScaledVector(_tempA.sub(et),lt))}et.add(_morphA)}return et}raycast(_,et){const tt=this.geometry,nt=this.material,rt=this.matrixWorld;nt!==void 0&&(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$6.copy(tt.boundingSphere),_sphere$6.applyMatrix4(rt),_ray$3.copy(_.ray).recast(_.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(_.far-_.near)**2))&&(_inverseMatrix$3.copy(rt).invert(),_ray$3.copy(_.ray).applyMatrix4(_inverseMatrix$3),!(tt.boundingBox!==null&&_ray$3.intersectsBox(tt.boundingBox)===!1)&&this._computeIntersections(_,et,_ray$3)))}_computeIntersections(_,et,tt){let nt;const rt=this.geometry,it=this.material,st=rt.index,ot=rt.attributes.position,at=rt.attributes.uv,lt=rt.attributes.uv1,ct=rt.attributes.normal,ut=rt.groups,ft=rt.drawRange;if(st!==null)if(Array.isArray(it))for(let ht=0,vt=ut.length;ht<vt;ht++){const mt=ut[ht],pt=it[mt.materialIndex],yt=Math.max(mt.start,ft.start),_t=Math.min(st.count,Math.min(mt.start+mt.count,ft.start+ft.count));for(let St=yt,Et=_t;St<Et;St+=3){const wt=st.getX(St),Mt=st.getX(St+1),At=st.getX(St+2);nt=checkGeometryIntersection(this,pt,_,tt,at,lt,ct,wt,Mt,At),nt&&(nt.faceIndex=Math.floor(St/3),nt.face.materialIndex=mt.materialIndex,et.push(nt))}}else{const ht=Math.max(0,ft.start),vt=Math.min(st.count,ft.start+ft.count);for(let mt=ht,pt=vt;mt<pt;mt+=3){const yt=st.getX(mt),_t=st.getX(mt+1),St=st.getX(mt+2);nt=checkGeometryIntersection(this,it,_,tt,at,lt,ct,yt,_t,St),nt&&(nt.faceIndex=Math.floor(mt/3),et.push(nt))}}else if(ot!==void 0)if(Array.isArray(it))for(let ht=0,vt=ut.length;ht<vt;ht++){const mt=ut[ht],pt=it[mt.materialIndex],yt=Math.max(mt.start,ft.start),_t=Math.min(ot.count,Math.min(mt.start+mt.count,ft.start+ft.count));for(let St=yt,Et=_t;St<Et;St+=3){const wt=St,Mt=St+1,At=St+2;nt=checkGeometryIntersection(this,pt,_,tt,at,lt,ct,wt,Mt,At),nt&&(nt.faceIndex=Math.floor(St/3),nt.face.materialIndex=mt.materialIndex,et.push(nt))}}else{const ht=Math.max(0,ft.start),vt=Math.min(ot.count,ft.start+ft.count);for(let mt=ht,pt=vt;mt<pt;mt+=3){const yt=mt,_t=mt+1,St=mt+2;nt=checkGeometryIntersection(this,it,_,tt,at,lt,ct,yt,_t,St),nt&&(nt.faceIndex=Math.floor(mt/3),et.push(nt))}}}}function checkIntersection(_e,_,et,tt,nt,rt,it,st){let ot;if(_.side===BackSide?ot=tt.intersectTriangle(it,rt,nt,!0,st):ot=tt.intersectTriangle(nt,rt,it,_.side===FrontSide,st),ot===null)return null;_intersectionPointWorld.copy(st),_intersectionPointWorld.applyMatrix4(_e.matrixWorld);const at=et.ray.origin.distanceTo(_intersectionPointWorld);return at<et.near||at>et.far?null:{distance:at,point:_intersectionPointWorld.clone(),object:_e}}function checkGeometryIntersection(_e,_,et,tt,nt,rt,it,st,ot,at){_e.getVertexPosition(st,_vA$1),_e.getVertexPosition(ot,_vB$1),_e.getVertexPosition(at,_vC$1);const lt=checkIntersection(_e,_,et,tt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(lt){nt&&(_uvA$1.fromBufferAttribute(nt,st),_uvB$1.fromBufferAttribute(nt,ot),_uvC$1.fromBufferAttribute(nt,at),lt.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),rt&&(_uvA$1.fromBufferAttribute(rt,st),_uvB$1.fromBufferAttribute(rt,ot),_uvC$1.fromBufferAttribute(rt,at),lt.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),lt.uv2=lt.uv1),it&&(_normalA.fromBufferAttribute(it,st),_normalB.fromBufferAttribute(it,ot),_normalC.fromBufferAttribute(it,at),lt.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),lt.normal.dot(tt.direction)>0&&lt.normal.multiplyScalar(-1));const ct={a:st,b:ot,c:at,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ct.normal),lt.face=ct}return lt}class BoxGeometry extends BufferGeometry{constructor(_=1,et=1,tt=1,nt=1,rt=1,it=1){super(),this.type="BoxGeometry",this.parameters={width:_,height:et,depth:tt,widthSegments:nt,heightSegments:rt,depthSegments:it};const st=this;nt=Math.floor(nt),rt=Math.floor(rt),it=Math.floor(it);const ot=[],at=[],lt=[],ct=[];let ut=0,ft=0;ht("z","y","x",-1,-1,tt,et,_,it,rt,0),ht("z","y","x",1,-1,tt,et,-_,it,rt,1),ht("x","z","y",1,1,_,tt,et,nt,it,2),ht("x","z","y",1,-1,_,tt,-et,nt,it,3),ht("x","y","z",1,-1,_,et,tt,nt,rt,4),ht("x","y","z",-1,-1,_,et,-tt,nt,rt,5),this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2));function ht(vt,mt,pt,yt,_t,St,Et,wt,Mt,At,Tt){const Ct=St/Mt,Dt=Et/At,$t=St/2,kt=Et/2,It=wt/2,Nt=Mt+1,Gt=At+1;let Bt=0,Rt=0;const Ot=new Vector3;for(let Ut=0;Ut<Gt;Ut++){const jt=Ut*Dt-kt;for(let Jt=0;Jt<Nt;Jt++){const Xt=Jt*Ct-$t;Ot[vt]=Xt*yt,Ot[mt]=jt*_t,Ot[pt]=It,at.push(Ot.x,Ot.y,Ot.z),Ot[vt]=0,Ot[mt]=0,Ot[pt]=wt>0?1:-1,lt.push(Ot.x,Ot.y,Ot.z),ct.push(Jt/Mt),ct.push(1-Ut/At),Bt+=1}}for(let Ut=0;Ut<At;Ut++)for(let jt=0;jt<Mt;jt++){const Jt=ut+jt+Nt*Ut,Xt=ut+jt+Nt*(Ut+1),Qt=ut+(jt+1)+Nt*(Ut+1),rn=ut+(jt+1)+Nt*Ut;ot.push(Jt,Xt,rn),ot.push(Xt,Qt,rn),Rt+=6}st.addGroup(ft,Rt,Tt),ft+=Rt,ut+=Bt}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new BoxGeometry(_.width,_.height,_.depth,_.widthSegments,_.heightSegments,_.depthSegments)}}function cloneUniforms(_e){const _={};for(const et in _e){_[et]={};for(const tt in _e[et]){const nt=_e[et][tt];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?nt.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),_[et][tt]=null):_[et][tt]=nt.clone():Array.isArray(nt)?_[et][tt]=nt.slice():_[et][tt]=nt}}return _}function mergeUniforms(_e){const _={};for(let et=0;et<_e.length;et++){const tt=cloneUniforms(_e[et]);for(const nt in tt)_[nt]=tt[nt]}return _}function cloneUniformsGroups(_e){const _=[];for(let et=0;et<_e.length;et++)_.push(_e[et].clone());return _}function getUnlitUniformColorSpace(_e){return _e.getRenderTarget()===null?_e.outputColorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(_){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,_!==void 0&&this.setValues(_)}copy(_){return super.copy(_),this.fragmentShader=_.fragmentShader,this.vertexShader=_.vertexShader,this.uniforms=cloneUniforms(_.uniforms),this.uniformsGroups=cloneUniformsGroups(_.uniformsGroups),this.defines=Object.assign({},_.defines),this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.fog=_.fog,this.lights=_.lights,this.clipping=_.clipping,this.extensions=Object.assign({},_.extensions),this.glslVersion=_.glslVersion,this}toJSON(_){const et=super.toJSON(_);et.glslVersion=this.glslVersion,et.uniforms={};for(const nt in this.uniforms){const it=this.uniforms[nt].value;it&&it.isTexture?et.uniforms[nt]={type:"t",value:it.toJSON(_).uuid}:it&&it.isColor?et.uniforms[nt]={type:"c",value:it.getHex()}:it&&it.isVector2?et.uniforms[nt]={type:"v2",value:it.toArray()}:it&&it.isVector3?et.uniforms[nt]={type:"v3",value:it.toArray()}:it&&it.isVector4?et.uniforms[nt]={type:"v4",value:it.toArray()}:it&&it.isMatrix3?et.uniforms[nt]={type:"m3",value:it.toArray()}:it&&it.isMatrix4?et.uniforms[nt]={type:"m4",value:it.toArray()}:et.uniforms[nt]={value:it}}Object.keys(this.defines).length>0&&(et.defines=this.defines),et.vertexShader=this.vertexShader,et.fragmentShader=this.fragmentShader,et.lights=this.lights,et.clipping=this.clipping;const tt={};for(const nt in this.extensions)this.extensions[nt]===!0&&(tt[nt]=!0);return Object.keys(tt).length>0&&(et.extensions=tt),et}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(_,et){return super.copy(_,et),this.matrixWorldInverse.copy(_.matrixWorldInverse),this.projectionMatrix.copy(_.projectionMatrix),this.projectionMatrixInverse.copy(_.projectionMatrixInverse),this.coordinateSystem=_.coordinateSystem,this}getWorldDirection(_){return super.getWorldDirection(_).negate()}updateMatrixWorld(_){super.updateMatrixWorld(_),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(_,et){super.updateWorldMatrix(_,et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(_=50,et=1,tt=.1,nt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=_,this.zoom=1,this.near=tt,this.far=nt,this.focus=10,this.aspect=et,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(_,et){return super.copy(_,et),this.fov=_.fov,this.zoom=_.zoom,this.near=_.near,this.far=_.far,this.focus=_.focus,this.aspect=_.aspect,this.view=_.view===null?null:Object.assign({},_.view),this.filmGauge=_.filmGauge,this.filmOffset=_.filmOffset,this}setFocalLength(_){const et=.5*this.getFilmHeight()/_;this.fov=RAD2DEG*2*Math.atan(et),this.updateProjectionMatrix()}getFocalLength(){const _=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/_}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(_,et,tt,nt,rt,it){this.aspect=_/et,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=this.near;let et=_*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,tt=2*et,nt=this.aspect*tt,rt=-.5*nt;const it=this.view;if(this.view!==null&&this.view.enabled){const ot=it.fullWidth,at=it.fullHeight;rt+=it.offsetX*nt/ot,et-=it.offsetY*tt/at,nt*=it.width/ot,tt*=it.height/at}const st=this.filmOffset;st!==0&&(rt+=_*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(rt,rt+nt,et,et-tt,_,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const et=super.toJSON(_);return et.object.fov=this.fov,et.object.zoom=this.zoom,et.object.near=this.near,et.object.far=this.far,et.object.focus=this.focus,et.object.aspect=this.aspect,this.view!==null&&(et.object.view=Object.assign({},this.view)),et.object.filmGauge=this.filmGauge,et.object.filmOffset=this.filmOffset,et}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(_,et,tt){super(),this.type="CubeCamera",this.renderTarget=tt,this.coordinateSystem=null,this.activeMipmapLevel=0;const nt=new PerspectiveCamera(fov,aspect,_,et);nt.layers=this.layers,this.add(nt);const rt=new PerspectiveCamera(fov,aspect,_,et);rt.layers=this.layers,this.add(rt);const it=new PerspectiveCamera(fov,aspect,_,et);it.layers=this.layers,this.add(it);const st=new PerspectiveCamera(fov,aspect,_,et);st.layers=this.layers,this.add(st);const ot=new PerspectiveCamera(fov,aspect,_,et);ot.layers=this.layers,this.add(ot);const at=new PerspectiveCamera(fov,aspect,_,et);at.layers=this.layers,this.add(at)}updateCoordinateSystem(){const _=this.coordinateSystem,et=this.children.concat(),[tt,nt,rt,it,st,ot]=et;for(const at of et)this.remove(at);if(_===WebGLCoordinateSystem)tt.up.set(0,1,0),tt.lookAt(1,0,0),nt.up.set(0,1,0),nt.lookAt(-1,0,0),rt.up.set(0,0,-1),rt.lookAt(0,1,0),it.up.set(0,0,1),it.lookAt(0,-1,0),st.up.set(0,1,0),st.lookAt(0,0,1),ot.up.set(0,1,0),ot.lookAt(0,0,-1);else if(_===WebGPUCoordinateSystem)tt.up.set(0,-1,0),tt.lookAt(-1,0,0),nt.up.set(0,-1,0),nt.lookAt(1,0,0),rt.up.set(0,0,1),rt.lookAt(0,1,0),it.up.set(0,0,-1),it.lookAt(0,-1,0),st.up.set(0,-1,0),st.lookAt(0,0,1),ot.up.set(0,-1,0),ot.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+_);for(const at of et)this.add(at),at.updateMatrixWorld()}update(_,et){this.parent===null&&this.updateMatrixWorld();const{renderTarget:tt,activeMipmapLevel:nt}=this;this.coordinateSystem!==_.coordinateSystem&&(this.coordinateSystem=_.coordinateSystem,this.updateCoordinateSystem());const[rt,it,st,ot,at,lt]=this.children,ct=_.getRenderTarget(),ut=_.getActiveCubeFace(),ft=_.getActiveMipmapLevel(),ht=_.xr.enabled;_.xr.enabled=!1;const vt=tt.texture.generateMipmaps;tt.texture.generateMipmaps=!1,_.setRenderTarget(tt,0,nt),_.render(et,rt),_.setRenderTarget(tt,1,nt),_.render(et,it),_.setRenderTarget(tt,2,nt),_.render(et,st),_.setRenderTarget(tt,3,nt),_.render(et,ot),_.setRenderTarget(tt,4,nt),_.render(et,at),tt.texture.generateMipmaps=vt,_.setRenderTarget(tt,5,nt),_.render(et,lt),_.setRenderTarget(ct,ut,ft),_.xr.enabled=ht,tt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(_,et,tt,nt,rt,it,st,ot,at,lt){_=_!==void 0?_:[],et=et!==void 0?et:CubeReflectionMapping,super(_,et,tt,nt,rt,it,st,ot,at,lt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(_){this.image=_}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(_=1,et={}){super(_,_,et),this.isWebGLCubeRenderTarget=!0;const tt={width:_,height:_,depth:1},nt=[tt,tt,tt,tt,tt,tt];et.encoding!==void 0&&(warnOnce("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),et.colorSpace=et.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.texture=new CubeTexture(nt,et.mapping,et.wrapS,et.wrapT,et.magFilter,et.minFilter,et.format,et.type,et.anisotropy,et.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=et.generateMipmaps!==void 0?et.generateMipmaps:!1,this.texture.minFilter=et.minFilter!==void 0?et.minFilter:LinearFilter}fromEquirectangularTexture(_,et){this.texture.type=et.type,this.texture.colorSpace=et.colorSpace,this.texture.generateMipmaps=et.generateMipmaps,this.texture.minFilter=et.minFilter,this.texture.magFilter=et.magFilter;const tt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),rt=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(tt.uniforms),vertexShader:tt.vertexShader,fragmentShader:tt.fragmentShader,side:BackSide,blending:NoBlending});rt.uniforms.tEquirect.value=et;const it=new Mesh(nt,rt),st=et.minFilter;return et.minFilter===LinearMipmapLinearFilter&&(et.minFilter=LinearFilter),new CubeCamera(1,10,this).update(_,it),et.minFilter=st,it.geometry.dispose(),it.material.dispose(),this}clear(_,et,tt,nt){const rt=_.getRenderTarget();for(let it=0;it<6;it++)_.setRenderTarget(this,it),_.clear(et,tt,nt);_.setRenderTarget(rt)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(_=new Vector3(1,0,0),et=0){this.isPlane=!0,this.normal=_,this.constant=et}set(_,et){return this.normal.copy(_),this.constant=et,this}setComponents(_,et,tt,nt){return this.normal.set(_,et,tt),this.constant=nt,this}setFromNormalAndCoplanarPoint(_,et){return this.normal.copy(_),this.constant=-et.dot(this.normal),this}setFromCoplanarPoints(_,et,tt){const nt=_vector1.subVectors(tt,et).cross(_vector2.subVectors(_,et)).normalize();return this.setFromNormalAndCoplanarPoint(nt,_),this}copy(_){return this.normal.copy(_.normal),this.constant=_.constant,this}normalize(){const _=1/this.normal.length();return this.normal.multiplyScalar(_),this.constant*=_,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(_){return this.normal.dot(_)+this.constant}distanceToSphere(_){return this.distanceToPoint(_.center)-_.radius}projectPoint(_,et){return et.copy(_).addScaledVector(this.normal,-this.distanceToPoint(_))}intersectLine(_,et){const tt=_.delta(_vector1),nt=this.normal.dot(tt);if(nt===0)return this.distanceToPoint(_.start)===0?et.copy(_.start):null;const rt=-(_.start.dot(this.normal)+this.constant)/nt;return rt<0||rt>1?null:et.copy(_.start).addScaledVector(tt,rt)}intersectsLine(_){const et=this.distanceToPoint(_.start),tt=this.distanceToPoint(_.end);return et<0&&tt>0||tt<0&&et>0}intersectsBox(_){return _.intersectsPlane(this)}intersectsSphere(_){return _.intersectsPlane(this)}coplanarPoint(_){return _.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(_,et){const tt=et||_normalMatrix.getNormalMatrix(_),nt=this.coplanarPoint(_vector1).applyMatrix4(_),rt=this.normal.applyMatrix3(tt).normalize();return this.constant=-nt.dot(rt),this}translate(_){return this.constant-=_.dot(this.normal),this}equals(_){return _.normal.equals(this.normal)&&_.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$5=new Sphere,_vector$7=new Vector3;class Frustum{constructor(_=new Plane,et=new Plane,tt=new Plane,nt=new Plane,rt=new Plane,it=new Plane){this.planes=[_,et,tt,nt,rt,it]}set(_,et,tt,nt,rt,it){const st=this.planes;return st[0].copy(_),st[1].copy(et),st[2].copy(tt),st[3].copy(nt),st[4].copy(rt),st[5].copy(it),this}copy(_){const et=this.planes;for(let tt=0;tt<6;tt++)et[tt].copy(_.planes[tt]);return this}setFromProjectionMatrix(_,et=WebGLCoordinateSystem){const tt=this.planes,nt=_.elements,rt=nt[0],it=nt[1],st=nt[2],ot=nt[3],at=nt[4],lt=nt[5],ct=nt[6],ut=nt[7],ft=nt[8],ht=nt[9],vt=nt[10],mt=nt[11],pt=nt[12],yt=nt[13],_t=nt[14],St=nt[15];if(tt[0].setComponents(ot-rt,ut-at,mt-ft,St-pt).normalize(),tt[1].setComponents(ot+rt,ut+at,mt+ft,St+pt).normalize(),tt[2].setComponents(ot+it,ut+lt,mt+ht,St+yt).normalize(),tt[3].setComponents(ot-it,ut-lt,mt-ht,St-yt).normalize(),tt[4].setComponents(ot-st,ut-ct,mt-vt,St-_t).normalize(),et===WebGLCoordinateSystem)tt[5].setComponents(ot+st,ut+ct,mt+vt,St+_t).normalize();else if(et===WebGPUCoordinateSystem)tt[5].setComponents(st,ct,vt,_t).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+et);return this}intersectsObject(_){if(_.boundingSphere!==void 0)_.boundingSphere===null&&_.computeBoundingSphere(),_sphere$5.copy(_.boundingSphere).applyMatrix4(_.matrixWorld);else{const et=_.geometry;et.boundingSphere===null&&et.computeBoundingSphere(),_sphere$5.copy(et.boundingSphere).applyMatrix4(_.matrixWorld)}return this.intersectsSphere(_sphere$5)}intersectsSprite(_){return _sphere$5.center.set(0,0,0),_sphere$5.radius=.7071067811865476,_sphere$5.applyMatrix4(_.matrixWorld),this.intersectsSphere(_sphere$5)}intersectsSphere(_){const et=this.planes,tt=_.center,nt=-_.radius;for(let rt=0;rt<6;rt++)if(et[rt].distanceToPoint(tt)<nt)return!1;return!0}intersectsBox(_){const et=this.planes;for(let tt=0;tt<6;tt++){const nt=et[tt];if(_vector$7.x=nt.normal.x>0?_.max.x:_.min.x,_vector$7.y=nt.normal.y>0?_.max.y:_.min.y,_vector$7.z=nt.normal.z>0?_.max.z:_.min.z,nt.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(_){const et=this.planes;for(let tt=0;tt<6;tt++)if(et[tt].distanceToPoint(_)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let _e=null,_=!1,et=null,tt=null;function nt(rt,it){et(rt,it),tt=_e.requestAnimationFrame(nt)}return{start:function(){_!==!0&&et!==null&&(tt=_e.requestAnimationFrame(nt),_=!0)},stop:function(){_e.cancelAnimationFrame(tt),_=!1},setAnimationLoop:function(rt){et=rt},setContext:function(rt){_e=rt}}}function WebGLAttributes(_e,_){const et=_.isWebGL2,tt=new WeakMap;function nt(at,lt){const ct=at.array,ut=at.usage,ft=ct.byteLength,ht=_e.createBuffer();_e.bindBuffer(lt,ht),_e.bufferData(lt,ct,ut),at.onUploadCallback();let vt;if(ct instanceof Float32Array)vt=_e.FLOAT;else if(ct instanceof Uint16Array)if(at.isFloat16BufferAttribute)if(et)vt=_e.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else vt=_e.UNSIGNED_SHORT;else if(ct instanceof Int16Array)vt=_e.SHORT;else if(ct instanceof Uint32Array)vt=_e.UNSIGNED_INT;else if(ct instanceof Int32Array)vt=_e.INT;else if(ct instanceof Int8Array)vt=_e.BYTE;else if(ct instanceof Uint8Array)vt=_e.UNSIGNED_BYTE;else if(ct instanceof Uint8ClampedArray)vt=_e.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ct);return{buffer:ht,type:vt,bytesPerElement:ct.BYTES_PER_ELEMENT,version:at.version,size:ft}}function rt(at,lt,ct){const ut=lt.array,ft=lt._updateRange,ht=lt.updateRanges;if(_e.bindBuffer(ct,at),ft.count===-1&&ht.length===0&&_e.bufferSubData(ct,0,ut),ht.length!==0){for(let vt=0,mt=ht.length;vt<mt;vt++){const pt=ht[vt];et?_e.bufferSubData(ct,pt.start*ut.BYTES_PER_ELEMENT,ut,pt.start,pt.count):_e.bufferSubData(ct,pt.start*ut.BYTES_PER_ELEMENT,ut.subarray(pt.start,pt.start+pt.count))}lt.clearUpdateRanges()}ft.count!==-1&&(et?_e.bufferSubData(ct,ft.offset*ut.BYTES_PER_ELEMENT,ut,ft.offset,ft.count):_e.bufferSubData(ct,ft.offset*ut.BYTES_PER_ELEMENT,ut.subarray(ft.offset,ft.offset+ft.count)),ft.count=-1),lt.onUploadCallback()}function it(at){return at.isInterleavedBufferAttribute&&(at=at.data),tt.get(at)}function st(at){at.isInterleavedBufferAttribute&&(at=at.data);const lt=tt.get(at);lt&&(_e.deleteBuffer(lt.buffer),tt.delete(at))}function ot(at,lt){if(at.isGLBufferAttribute){const ut=tt.get(at);(!ut||ut.version<at.version)&&tt.set(at,{buffer:at.buffer,type:at.type,bytesPerElement:at.elementSize,version:at.version});return}at.isInterleavedBufferAttribute&&(at=at.data);const ct=tt.get(at);if(ct===void 0)tt.set(at,nt(at,lt));else if(ct.version<at.version){if(ct.size!==at.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");rt(ct.buffer,at,lt),ct.version=at.version}}return{get:it,remove:st,update:ot}}class PlaneGeometry extends BufferGeometry{constructor(_=1,et=1,tt=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:_,height:et,widthSegments:tt,heightSegments:nt};const rt=_/2,it=et/2,st=Math.floor(tt),ot=Math.floor(nt),at=st+1,lt=ot+1,ct=_/st,ut=et/ot,ft=[],ht=[],vt=[],mt=[];for(let pt=0;pt<lt;pt++){const yt=pt*ut-it;for(let _t=0;_t<at;_t++){const St=_t*ct-rt;ht.push(St,-yt,0),vt.push(0,0,1),mt.push(_t/st),mt.push(1-pt/ot)}}for(let pt=0;pt<ot;pt++)for(let yt=0;yt<st;yt++){const _t=yt+at*pt,St=yt+at*(pt+1),Et=yt+1+at*(pt+1),wt=yt+1+at*pt;ft.push(_t,St,wt),ft.push(St,Et,wt)}this.setIndex(ft),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("normal",new Float32BufferAttribute(vt,3)),this.setAttribute("uv",new Float32BufferAttribute(mt,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new PlaneGeometry(_.width,_.height,_.widthSegments,_.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(_e,_,et,tt,nt,rt,it){const st=new Color$1(0);let ot=rt===!0?0:1,at,lt,ct=null,ut=0,ft=null;function ht(mt,pt){let yt=!1,_t=pt.isScene===!0?pt.background:null;_t&&_t.isTexture&&(_t=(pt.backgroundBlurriness>0?et:_).get(_t)),_t===null?vt(st,ot):_t&&_t.isColor&&(vt(_t,1),yt=!0);const St=_e.xr.getEnvironmentBlendMode();St==="additive"?tt.buffers.color.setClear(0,0,0,1,it):St==="alpha-blend"&&tt.buffers.color.setClear(0,0,0,0,it),(_e.autoClear||yt)&&_e.clear(_e.autoClearColor,_e.autoClearDepth,_e.autoClearStencil),_t&&(_t.isCubeTexture||_t.mapping===CubeUVReflectionMapping)?(lt===void 0&&(lt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),lt.geometry.deleteAttribute("uv"),lt.onBeforeRender=function(Et,wt,Mt){this.matrixWorld.copyPosition(Mt.matrixWorld)},Object.defineProperty(lt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),nt.update(lt)),lt.material.uniforms.envMap.value=_t,lt.material.uniforms.flipEnvMap.value=_t.isCubeTexture&&_t.isRenderTargetTexture===!1?-1:1,lt.material.uniforms.backgroundBlurriness.value=pt.backgroundBlurriness,lt.material.uniforms.backgroundIntensity.value=pt.backgroundIntensity,lt.material.toneMapped=ColorManagement.getTransfer(_t.colorSpace)!==SRGBTransfer,(ct!==_t||ut!==_t.version||ft!==_e.toneMapping)&&(lt.material.needsUpdate=!0,ct=_t,ut=_t.version,ft=_e.toneMapping),lt.layers.enableAll(),mt.unshift(lt,lt.geometry,lt.material,0,0,null)):_t&&_t.isTexture&&(at===void 0&&(at=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),at.geometry.deleteAttribute("normal"),Object.defineProperty(at.material,"map",{get:function(){return this.uniforms.t2D.value}}),nt.update(at)),at.material.uniforms.t2D.value=_t,at.material.uniforms.backgroundIntensity.value=pt.backgroundIntensity,at.material.toneMapped=ColorManagement.getTransfer(_t.colorSpace)!==SRGBTransfer,_t.matrixAutoUpdate===!0&&_t.updateMatrix(),at.material.uniforms.uvTransform.value.copy(_t.matrix),(ct!==_t||ut!==_t.version||ft!==_e.toneMapping)&&(at.material.needsUpdate=!0,ct=_t,ut=_t.version,ft=_e.toneMapping),at.layers.enableAll(),mt.unshift(at,at.geometry,at.material,0,0,null))}function vt(mt,pt){mt.getRGB(_rgb,getUnlitUniformColorSpace(_e)),tt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,pt,it)}return{getClearColor:function(){return st},setClearColor:function(mt,pt=1){st.set(mt),ot=pt,vt(st,ot)},getClearAlpha:function(){return ot},setClearAlpha:function(mt){ot=mt,vt(st,ot)},render:ht}}function WebGLBindingStates(_e,_,et,tt){const nt=_e.getParameter(_e.MAX_VERTEX_ATTRIBS),rt=tt.isWebGL2?null:_.get("OES_vertex_array_object"),it=tt.isWebGL2||rt!==null,st={},ot=mt(null);let at=ot,lt=!1;function ct(It,Nt,Gt,Bt,Rt){let Ot=!1;if(it){const Ut=vt(Bt,Gt,Nt);at!==Ut&&(at=Ut,ft(at.object)),Ot=pt(It,Bt,Gt,Rt),Ot&&yt(It,Bt,Gt,Rt)}else{const Ut=Nt.wireframe===!0;(at.geometry!==Bt.id||at.program!==Gt.id||at.wireframe!==Ut)&&(at.geometry=Bt.id,at.program=Gt.id,at.wireframe=Ut,Ot=!0)}Rt!==null&&et.update(Rt,_e.ELEMENT_ARRAY_BUFFER),(Ot||lt)&&(lt=!1,At(It,Nt,Gt,Bt),Rt!==null&&_e.bindBuffer(_e.ELEMENT_ARRAY_BUFFER,et.get(Rt).buffer))}function ut(){return tt.isWebGL2?_e.createVertexArray():rt.createVertexArrayOES()}function ft(It){return tt.isWebGL2?_e.bindVertexArray(It):rt.bindVertexArrayOES(It)}function ht(It){return tt.isWebGL2?_e.deleteVertexArray(It):rt.deleteVertexArrayOES(It)}function vt(It,Nt,Gt){const Bt=Gt.wireframe===!0;let Rt=st[It.id];Rt===void 0&&(Rt={},st[It.id]=Rt);let Ot=Rt[Nt.id];Ot===void 0&&(Ot={},Rt[Nt.id]=Ot);let Ut=Ot[Bt];return Ut===void 0&&(Ut=mt(ut()),Ot[Bt]=Ut),Ut}function mt(It){const Nt=[],Gt=[],Bt=[];for(let Rt=0;Rt<nt;Rt++)Nt[Rt]=0,Gt[Rt]=0,Bt[Rt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Nt,enabledAttributes:Gt,attributeDivisors:Bt,object:It,attributes:{},index:null}}function pt(It,Nt,Gt,Bt){const Rt=at.attributes,Ot=Nt.attributes;let Ut=0;const jt=Gt.getAttributes();for(const Jt in jt)if(jt[Jt].location>=0){const Qt=Rt[Jt];let rn=Ot[Jt];if(rn===void 0&&(Jt==="instanceMatrix"&&It.instanceMatrix&&(rn=It.instanceMatrix),Jt==="instanceColor"&&It.instanceColor&&(rn=It.instanceColor)),Qt===void 0||Qt.attribute!==rn||rn&&Qt.data!==rn.data)return!0;Ut++}return at.attributesNum!==Ut||at.index!==Bt}function yt(It,Nt,Gt,Bt){const Rt={},Ot=Nt.attributes;let Ut=0;const jt=Gt.getAttributes();for(const Jt in jt)if(jt[Jt].location>=0){let Qt=Ot[Jt];Qt===void 0&&(Jt==="instanceMatrix"&&It.instanceMatrix&&(Qt=It.instanceMatrix),Jt==="instanceColor"&&It.instanceColor&&(Qt=It.instanceColor));const rn={};rn.attribute=Qt,Qt&&Qt.data&&(rn.data=Qt.data),Rt[Jt]=rn,Ut++}at.attributes=Rt,at.attributesNum=Ut,at.index=Bt}function _t(){const It=at.newAttributes;for(let Nt=0,Gt=It.length;Nt<Gt;Nt++)It[Nt]=0}function St(It){Et(It,0)}function Et(It,Nt){const Gt=at.newAttributes,Bt=at.enabledAttributes,Rt=at.attributeDivisors;Gt[It]=1,Bt[It]===0&&(_e.enableVertexAttribArray(It),Bt[It]=1),Rt[It]!==Nt&&((tt.isWebGL2?_e:_.get("ANGLE_instanced_arrays"))[tt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](It,Nt),Rt[It]=Nt)}function wt(){const It=at.newAttributes,Nt=at.enabledAttributes;for(let Gt=0,Bt=Nt.length;Gt<Bt;Gt++)Nt[Gt]!==It[Gt]&&(_e.disableVertexAttribArray(Gt),Nt[Gt]=0)}function Mt(It,Nt,Gt,Bt,Rt,Ot,Ut){Ut===!0?_e.vertexAttribIPointer(It,Nt,Gt,Rt,Ot):_e.vertexAttribPointer(It,Nt,Gt,Bt,Rt,Ot)}function At(It,Nt,Gt,Bt){if(tt.isWebGL2===!1&&(It.isInstancedMesh||Bt.isInstancedBufferGeometry)&&_.get("ANGLE_instanced_arrays")===null)return;_t();const Rt=Bt.attributes,Ot=Gt.getAttributes(),Ut=Nt.defaultAttributeValues;for(const jt in Ot){const Jt=Ot[jt];if(Jt.location>=0){let Xt=Rt[jt];if(Xt===void 0&&(jt==="instanceMatrix"&&It.instanceMatrix&&(Xt=It.instanceMatrix),jt==="instanceColor"&&It.instanceColor&&(Xt=It.instanceColor)),Xt!==void 0){const Qt=Xt.normalized,rn=Xt.itemSize,pn=et.get(Xt);if(pn===void 0)continue;const fn=pn.buffer,_n=pn.type,Pn=pn.bytesPerElement,Sn=tt.isWebGL2===!0&&(_n===_e.INT||_n===_e.UNSIGNED_INT||Xt.gpuType===IntType);if(Xt.isInterleavedBufferAttribute){const Cn=Xt.data,Wt=Cn.stride,tn=Xt.offset;if(Cn.isInstancedInterleavedBuffer){for(let an=0;an<Jt.locationSize;an++)Et(Jt.location+an,Cn.meshPerAttribute);It.isInstancedMesh!==!0&&Bt._maxInstanceCount===void 0&&(Bt._maxInstanceCount=Cn.meshPerAttribute*Cn.count)}else for(let an=0;an<Jt.locationSize;an++)St(Jt.location+an);_e.bindBuffer(_e.ARRAY_BUFFER,fn);for(let an=0;an<Jt.locationSize;an++)Mt(Jt.location+an,rn/Jt.locationSize,_n,Qt,Wt*Pn,(tn+rn/Jt.locationSize*an)*Pn,Sn)}else{if(Xt.isInstancedBufferAttribute){for(let Cn=0;Cn<Jt.locationSize;Cn++)Et(Jt.location+Cn,Xt.meshPerAttribute);It.isInstancedMesh!==!0&&Bt._maxInstanceCount===void 0&&(Bt._maxInstanceCount=Xt.meshPerAttribute*Xt.count)}else for(let Cn=0;Cn<Jt.locationSize;Cn++)St(Jt.location+Cn);_e.bindBuffer(_e.ARRAY_BUFFER,fn);for(let Cn=0;Cn<Jt.locationSize;Cn++)Mt(Jt.location+Cn,rn/Jt.locationSize,_n,Qt,rn*Pn,rn/Jt.locationSize*Cn*Pn,Sn)}}else if(Ut!==void 0){const Qt=Ut[jt];if(Qt!==void 0)switch(Qt.length){case 2:_e.vertexAttrib2fv(Jt.location,Qt);break;case 3:_e.vertexAttrib3fv(Jt.location,Qt);break;case 4:_e.vertexAttrib4fv(Jt.location,Qt);break;default:_e.vertexAttrib1fv(Jt.location,Qt)}}}}wt()}function Tt(){$t();for(const It in st){const Nt=st[It];for(const Gt in Nt){const Bt=Nt[Gt];for(const Rt in Bt)ht(Bt[Rt].object),delete Bt[Rt];delete Nt[Gt]}delete st[It]}}function Ct(It){if(st[It.id]===void 0)return;const Nt=st[It.id];for(const Gt in Nt){const Bt=Nt[Gt];for(const Rt in Bt)ht(Bt[Rt].object),delete Bt[Rt];delete Nt[Gt]}delete st[It.id]}function Dt(It){for(const Nt in st){const Gt=st[Nt];if(Gt[It.id]===void 0)continue;const Bt=Gt[It.id];for(const Rt in Bt)ht(Bt[Rt].object),delete Bt[Rt];delete Gt[It.id]}}function $t(){kt(),lt=!0,at!==ot&&(at=ot,ft(at.object))}function kt(){ot.geometry=null,ot.program=null,ot.wireframe=!1}return{setup:ct,reset:$t,resetDefaultState:kt,dispose:Tt,releaseStatesOfGeometry:Ct,releaseStatesOfProgram:Dt,initAttributes:_t,enableAttribute:St,disableUnusedAttributes:wt}}function WebGLBufferRenderer(_e,_,et,tt){const nt=tt.isWebGL2;let rt;function it(lt){rt=lt}function st(lt,ct){_e.drawArrays(rt,lt,ct),et.update(ct,rt,1)}function ot(lt,ct,ut){if(ut===0)return;let ft,ht;if(nt)ft=_e,ht="drawArraysInstanced";else if(ft=_.get("ANGLE_instanced_arrays"),ht="drawArraysInstancedANGLE",ft===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ft[ht](rt,lt,ct,ut),et.update(ct,rt,ut)}function at(lt,ct,ut){if(ut===0)return;const ft=_.get("WEBGL_multi_draw");if(ft===null)for(let ht=0;ht<ut;ht++)this.render(lt[ht],ct[ht]);else{ft.multiDrawArraysWEBGL(rt,lt,0,ct,0,ut);let ht=0;for(let vt=0;vt<ut;vt++)ht+=ct[vt];et.update(ht,rt,1)}}this.setMode=it,this.render=st,this.renderInstances=ot,this.renderMultiDraw=at}function WebGLCapabilities(_e,_,et){let tt;function nt(){if(tt!==void 0)return tt;if(_.has("EXT_texture_filter_anisotropic")===!0){const Mt=_.get("EXT_texture_filter_anisotropic");tt=_e.getParameter(Mt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else tt=0;return tt}function rt(Mt){if(Mt==="highp"){if(_e.getShaderPrecisionFormat(_e.VERTEX_SHADER,_e.HIGH_FLOAT).precision>0&&_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.HIGH_FLOAT).precision>0)return"highp";Mt="mediump"}return Mt==="mediump"&&_e.getShaderPrecisionFormat(_e.VERTEX_SHADER,_e.MEDIUM_FLOAT).precision>0&&_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const it=typeof WebGL2RenderingContext<"u"&&_e.constructor.name==="WebGL2RenderingContext";let st=et.precision!==void 0?et.precision:"highp";const ot=rt(st);ot!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",ot,"instead."),st=ot);const at=it||_.has("WEBGL_draw_buffers"),lt=et.logarithmicDepthBuffer===!0,ct=_e.getParameter(_e.MAX_TEXTURE_IMAGE_UNITS),ut=_e.getParameter(_e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ft=_e.getParameter(_e.MAX_TEXTURE_SIZE),ht=_e.getParameter(_e.MAX_CUBE_MAP_TEXTURE_SIZE),vt=_e.getParameter(_e.MAX_VERTEX_ATTRIBS),mt=_e.getParameter(_e.MAX_VERTEX_UNIFORM_VECTORS),pt=_e.getParameter(_e.MAX_VARYING_VECTORS),yt=_e.getParameter(_e.MAX_FRAGMENT_UNIFORM_VECTORS),_t=ut>0,St=it||_.has("OES_texture_float"),Et=_t&&St,wt=it?_e.getParameter(_e.MAX_SAMPLES):0;return{isWebGL2:it,drawBuffers:at,getMaxAnisotropy:nt,getMaxPrecision:rt,precision:st,logarithmicDepthBuffer:lt,maxTextures:ct,maxVertexTextures:ut,maxTextureSize:ft,maxCubemapSize:ht,maxAttributes:vt,maxVertexUniforms:mt,maxVaryings:pt,maxFragmentUniforms:yt,vertexTextures:_t,floatFragmentTextures:St,floatVertexTextures:Et,maxSamples:wt}}function WebGLClipping(_e){const _=this;let et=null,tt=0,nt=!1,rt=!1;const it=new Plane,st=new Matrix3,ot={value:null,needsUpdate:!1};this.uniform=ot,this.numPlanes=0,this.numIntersection=0,this.init=function(ct,ut){const ft=ct.length!==0||ut||tt!==0||nt;return nt=ut,tt=ct.length,ft},this.beginShadows=function(){rt=!0,lt(null)},this.endShadows=function(){rt=!1},this.setGlobalState=function(ct,ut){et=lt(ct,ut,0)},this.setState=function(ct,ut,ft){const ht=ct.clippingPlanes,vt=ct.clipIntersection,mt=ct.clipShadows,pt=_e.get(ct);if(!nt||ht===null||ht.length===0||rt&&!mt)rt?lt(null):at();else{const yt=rt?0:tt,_t=yt*4;let St=pt.clippingState||null;ot.value=St,St=lt(ht,ut,_t,ft);for(let Et=0;Et!==_t;++Et)St[Et]=et[Et];pt.clippingState=St,this.numIntersection=vt?this.numPlanes:0,this.numPlanes+=yt}};function at(){ot.value!==et&&(ot.value=et,ot.needsUpdate=tt>0),_.numPlanes=tt,_.numIntersection=0}function lt(ct,ut,ft,ht){const vt=ct!==null?ct.length:0;let mt=null;if(vt!==0){if(mt=ot.value,ht!==!0||mt===null){const pt=ft+vt*4,yt=ut.matrixWorldInverse;st.getNormalMatrix(yt),(mt===null||mt.length<pt)&&(mt=new Float32Array(pt));for(let _t=0,St=ft;_t!==vt;++_t,St+=4)it.copy(ct[_t]).applyMatrix4(yt,st),it.normal.toArray(mt,St),mt[St+3]=it.constant}ot.value=mt,ot.needsUpdate=!0}return _.numPlanes=vt,_.numIntersection=0,mt}}function WebGLCubeMaps(_e){let _=new WeakMap;function et(it,st){return st===EquirectangularReflectionMapping?it.mapping=CubeReflectionMapping:st===EquirectangularRefractionMapping&&(it.mapping=CubeRefractionMapping),it}function tt(it){if(it&&it.isTexture){const st=it.mapping;if(st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping)if(_.has(it)){const ot=_.get(it).texture;return et(ot,it.mapping)}else{const ot=it.image;if(ot&&ot.height>0){const at=new WebGLCubeRenderTarget(ot.height/2);return at.fromEquirectangularTexture(_e,it),_.set(it,at),it.addEventListener("dispose",nt),et(at.texture,it.mapping)}else return null}}return it}function nt(it){const st=it.target;st.removeEventListener("dispose",nt);const ot=_.get(st);ot!==void 0&&(_.delete(st),ot.dispose())}function rt(){_=new WeakMap}return{get:tt,dispose:rt}}class OrthographicCamera extends Camera{constructor(_=-1,et=1,tt=1,nt=-1,rt=.1,it=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_,this.right=et,this.top=tt,this.bottom=nt,this.near=rt,this.far=it,this.updateProjectionMatrix()}copy(_,et){return super.copy(_,et),this.left=_.left,this.right=_.right,this.top=_.top,this.bottom=_.bottom,this.near=_.near,this.far=_.far,this.zoom=_.zoom,this.view=_.view===null?null:Object.assign({},_.view),this}setViewOffset(_,et,tt,nt,rt,it){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_,this.view.fullHeight=et,this.view.offsetX=tt,this.view.offsetY=nt,this.view.width=rt,this.view.height=it,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _=(this.right-this.left)/(2*this.zoom),et=(this.top-this.bottom)/(2*this.zoom),tt=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let rt=tt-_,it=tt+_,st=nt+et,ot=nt-et;if(this.view!==null&&this.view.enabled){const at=(this.right-this.left)/this.view.fullWidth/this.zoom,lt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;rt+=at*this.view.offsetX,it=rt+at*this.view.width,st-=lt*this.view.offsetY,ot=st-lt*this.view.height}this.projectionMatrix.makeOrthographic(rt,it,st,ot,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_){const et=super.toJSON(_);return et.object.zoom=this.zoom,et.object.left=this.left,et.object.right=this.right,et.object.top=this.top,et.object.bottom=this.bottom,et.object.near=this.near,et.object.far=this.far,this.view!==null&&(et.object.view=Object.assign({},this.view)),et}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(_){this._renderer=_,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(_,et=0,tt=.1,nt=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),this._setSize(256);const rt=this._allocateTargets();return rt.depthBuffer=!0,this._sceneToCubeUV(_,tt,nt,rt),et>0&&this._blur(rt,0,0,et),this._applyPMREM(rt),this._cleanup(rt),rt}fromEquirectangular(_,et=null){return this._fromTexture(_,et)}fromCubemap(_,et=null){return this._fromTexture(_,et)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(_){this._lodMax=Math.floor(Math.log2(_)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let _=0;_<this._lodPlanes.length;_++)this._lodPlanes[_].dispose()}_cleanup(_){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),_.scissorTest=!1,_setViewport(_,0,0,_.width,_.height)}_fromTexture(_,et){_.mapping===CubeReflectionMapping||_.mapping===CubeRefractionMapping?this._setSize(_.image.length===0?16:_.image[0].width||_.image[0].image.width):this._setSize(_.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel();const tt=et||this._allocateTargets();return this._textureToCubeUV(_,tt),this._applyPMREM(tt),this._cleanup(tt),tt}_allocateTargets(){const _=3*Math.max(this._cubeSize,112),et=4*this._cubeSize,tt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},nt=_createRenderTarget(_,et,tt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==_||this._pingPongRenderTarget.height!==et){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(_,et,tt);const{_lodMax:rt}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(rt)),this._blurMaterial=_getBlurShader(rt,_,et)}return nt}_compileMaterial(_){const et=new Mesh(this._lodPlanes[0],_);this._renderer.compile(et,_flatCamera)}_sceneToCubeUV(_,et,tt,nt){const st=new PerspectiveCamera(90,1,et,tt),ot=[1,-1,1,1,1,1],at=[1,1,1,-1,-1,-1],lt=this._renderer,ct=lt.autoClear,ut=lt.toneMapping;lt.getClearColor(_clearColor),lt.toneMapping=NoToneMapping,lt.autoClear=!1;const ft=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ht=new Mesh(new BoxGeometry,ft);let vt=!1;const mt=_.background;mt?mt.isColor&&(ft.color.copy(mt),_.background=null,vt=!0):(ft.color.copy(_clearColor),vt=!0);for(let pt=0;pt<6;pt++){const yt=pt%3;yt===0?(st.up.set(0,ot[pt],0),st.lookAt(at[pt],0,0)):yt===1?(st.up.set(0,0,ot[pt]),st.lookAt(0,at[pt],0)):(st.up.set(0,ot[pt],0),st.lookAt(0,0,at[pt]));const _t=this._cubeSize;_setViewport(nt,yt*_t,pt>2?_t:0,_t,_t),lt.setRenderTarget(nt),vt&&lt.render(ht,st),lt.render(_,st)}ht.geometry.dispose(),ht.material.dispose(),lt.toneMapping=ut,lt.autoClear=ct,_.background=mt}_textureToCubeUV(_,et){const tt=this._renderer,nt=_.mapping===CubeReflectionMapping||_.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=_.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const rt=nt?this._cubemapMaterial:this._equirectMaterial,it=new Mesh(this._lodPlanes[0],rt),st=rt.uniforms;st.envMap.value=_;const ot=this._cubeSize;_setViewport(et,0,0,3*ot,2*ot),tt.setRenderTarget(et),tt.render(it,_flatCamera)}_applyPMREM(_){const et=this._renderer,tt=et.autoClear;et.autoClear=!1;for(let nt=1;nt<this._lodPlanes.length;nt++){const rt=Math.sqrt(this._sigmas[nt]*this._sigmas[nt]-this._sigmas[nt-1]*this._sigmas[nt-1]),it=_axisDirections[(nt-1)%_axisDirections.length];this._blur(_,nt-1,nt,rt,it)}et.autoClear=tt}_blur(_,et,tt,nt,rt){const it=this._pingPongRenderTarget;this._halfBlur(_,it,et,tt,nt,"latitudinal",rt),this._halfBlur(it,_,tt,tt,nt,"longitudinal",rt)}_halfBlur(_,et,tt,nt,rt,it,st){const ot=this._renderer,at=this._blurMaterial;it!=="latitudinal"&&it!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const lt=3,ct=new Mesh(this._lodPlanes[nt],at),ut=at.uniforms,ft=this._sizeLods[tt]-1,ht=isFinite(rt)?Math.PI/(2*ft):2*Math.PI/(2*MAX_SAMPLES-1),vt=rt/ht,mt=isFinite(rt)?1+Math.floor(lt*vt):MAX_SAMPLES;mt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${rt}, is too large and will clip, as it requested ${mt} samples when the maximum is set to ${MAX_SAMPLES}`);const pt=[];let yt=0;for(let Mt=0;Mt<MAX_SAMPLES;++Mt){const At=Mt/vt,Tt=Math.exp(-At*At/2);pt.push(Tt),Mt===0?yt+=Tt:Mt<mt&&(yt+=2*Tt)}for(let Mt=0;Mt<pt.length;Mt++)pt[Mt]=pt[Mt]/yt;ut.envMap.value=_.texture,ut.samples.value=mt,ut.weights.value=pt,ut.latitudinal.value=it==="latitudinal",st&&(ut.poleAxis.value=st);const{_lodMax:_t}=this;ut.dTheta.value=ht,ut.mipInt.value=_t-tt;const St=this._sizeLods[nt],Et=3*St*(nt>_t-LOD_MIN?nt-_t+LOD_MIN:0),wt=4*(this._cubeSize-St);_setViewport(et,Et,wt,3*St,2*St),ot.setRenderTarget(et),ot.render(ct,_flatCamera)}}function _createPlanes(_e){const _=[],et=[],tt=[];let nt=_e;const rt=_e-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let it=0;it<rt;it++){const st=Math.pow(2,nt);et.push(st);let ot=1/st;it>_e-LOD_MIN?ot=EXTRA_LOD_SIGMA[it-_e+LOD_MIN-1]:it===0&&(ot=0),tt.push(ot);const at=1/(st-2),lt=-at,ct=1+at,ut=[lt,lt,ct,lt,ct,ct,lt,lt,ct,ct,lt,ct],ft=6,ht=6,vt=3,mt=2,pt=1,yt=new Float32Array(vt*ht*ft),_t=new Float32Array(mt*ht*ft),St=new Float32Array(pt*ht*ft);for(let wt=0;wt<ft;wt++){const Mt=wt%3*2/3-1,At=wt>2?0:-1,Tt=[Mt,At,0,Mt+2/3,At,0,Mt+2/3,At+1,0,Mt,At,0,Mt+2/3,At+1,0,Mt,At+1,0];yt.set(Tt,vt*ht*wt),_t.set(ut,mt*ht*wt);const Ct=[wt,wt,wt,wt,wt,wt];St.set(Ct,pt*ht*wt)}const Et=new BufferGeometry;Et.setAttribute("position",new BufferAttribute(yt,vt)),Et.setAttribute("uv",new BufferAttribute(_t,mt)),Et.setAttribute("faceIndex",new BufferAttribute(St,pt)),_.push(Et),nt>LOD_MIN&&nt--}return{lodPlanes:_,sizeLods:et,sigmas:tt}}function _createRenderTarget(_e,_,et){const tt=new WebGLRenderTarget(_e,_,et);return tt.texture.mapping=CubeUVReflectionMapping,tt.texture.name="PMREM.cubeUv",tt.scissorTest=!0,tt}function _setViewport(_e,_,et,tt,nt){_e.viewport.set(_,et,tt,nt),_e.scissor.set(_,et,tt,nt)}function _getBlurShader(_e,_,et){const tt=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/_,CUBEUV_TEXEL_HEIGHT:1/et,CUBEUV_MAX_MIP:`${_e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:tt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(_e){let _=new WeakMap,et=null;function tt(st){if(st&&st.isTexture){const ot=st.mapping,at=ot===EquirectangularReflectionMapping||ot===EquirectangularRefractionMapping,lt=ot===CubeReflectionMapping||ot===CubeRefractionMapping;if(at||lt)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let ct=_.get(st);return et===null&&(et=new PMREMGenerator(_e)),ct=at?et.fromEquirectangular(st,ct):et.fromCubemap(st,ct),_.set(st,ct),ct.texture}else{if(_.has(st))return _.get(st).texture;{const ct=st.image;if(at&&ct&&ct.height>0||lt&&ct&&nt(ct)){et===null&&(et=new PMREMGenerator(_e));const ut=at?et.fromEquirectangular(st):et.fromCubemap(st);return _.set(st,ut),st.addEventListener("dispose",rt),ut.texture}else return null}}}return st}function nt(st){let ot=0;const at=6;for(let lt=0;lt<at;lt++)st[lt]!==void 0&&ot++;return ot===at}function rt(st){const ot=st.target;ot.removeEventListener("dispose",rt);const at=_.get(ot);at!==void 0&&(_.delete(ot),at.dispose())}function it(){_=new WeakMap,et!==null&&(et.dispose(),et=null)}return{get:tt,dispose:it}}function WebGLExtensions(_e){const _={};function et(tt){if(_[tt]!==void 0)return _[tt];let nt;switch(tt){case"WEBGL_depth_texture":nt=_e.getExtension("WEBGL_depth_texture")||_e.getExtension("MOZ_WEBGL_depth_texture")||_e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=_e.getExtension("EXT_texture_filter_anisotropic")||_e.getExtension("MOZ_EXT_texture_filter_anisotropic")||_e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=_e.getExtension("WEBGL_compressed_texture_s3tc")||_e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||_e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=_e.getExtension("WEBGL_compressed_texture_pvrtc")||_e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=_e.getExtension(tt)}return _[tt]=nt,nt}return{has:function(tt){return et(tt)!==null},init:function(tt){tt.isWebGL2?et("EXT_color_buffer_float"):(et("WEBGL_depth_texture"),et("OES_texture_float"),et("OES_texture_half_float"),et("OES_texture_half_float_linear"),et("OES_standard_derivatives"),et("OES_element_index_uint"),et("OES_vertex_array_object"),et("ANGLE_instanced_arrays")),et("OES_texture_float_linear"),et("EXT_color_buffer_half_float"),et("WEBGL_multisampled_render_to_texture")},get:function(tt){const nt=et(tt);return nt===null&&console.warn("THREE.WebGLRenderer: "+tt+" extension not supported."),nt}}}function WebGLGeometries(_e,_,et,tt){const nt={},rt=new WeakMap;function it(ct){const ut=ct.target;ut.index!==null&&_.remove(ut.index);for(const ht in ut.attributes)_.remove(ut.attributes[ht]);for(const ht in ut.morphAttributes){const vt=ut.morphAttributes[ht];for(let mt=0,pt=vt.length;mt<pt;mt++)_.remove(vt[mt])}ut.removeEventListener("dispose",it),delete nt[ut.id];const ft=rt.get(ut);ft&&(_.remove(ft),rt.delete(ut)),tt.releaseStatesOfGeometry(ut),ut.isInstancedBufferGeometry===!0&&delete ut._maxInstanceCount,et.memory.geometries--}function st(ct,ut){return nt[ut.id]===!0||(ut.addEventListener("dispose",it),nt[ut.id]=!0,et.memory.geometries++),ut}function ot(ct){const ut=ct.attributes;for(const ht in ut)_.update(ut[ht],_e.ARRAY_BUFFER);const ft=ct.morphAttributes;for(const ht in ft){const vt=ft[ht];for(let mt=0,pt=vt.length;mt<pt;mt++)_.update(vt[mt],_e.ARRAY_BUFFER)}}function at(ct){const ut=[],ft=ct.index,ht=ct.attributes.position;let vt=0;if(ft!==null){const yt=ft.array;vt=ft.version;for(let _t=0,St=yt.length;_t<St;_t+=3){const Et=yt[_t+0],wt=yt[_t+1],Mt=yt[_t+2];ut.push(Et,wt,wt,Mt,Mt,Et)}}else if(ht!==void 0){const yt=ht.array;vt=ht.version;for(let _t=0,St=yt.length/3-1;_t<St;_t+=3){const Et=_t+0,wt=_t+1,Mt=_t+2;ut.push(Et,wt,wt,Mt,Mt,Et)}}else return;const mt=new(arrayNeedsUint32(ut)?Uint32BufferAttribute:Uint16BufferAttribute)(ut,1);mt.version=vt;const pt=rt.get(ct);pt&&_.remove(pt),rt.set(ct,mt)}function lt(ct){const ut=rt.get(ct);if(ut){const ft=ct.index;ft!==null&&ut.version<ft.version&&at(ct)}else at(ct);return rt.get(ct)}return{get:st,update:ot,getWireframeAttribute:lt}}function WebGLIndexedBufferRenderer(_e,_,et,tt){const nt=tt.isWebGL2;let rt;function it(ft){rt=ft}let st,ot;function at(ft){st=ft.type,ot=ft.bytesPerElement}function lt(ft,ht){_e.drawElements(rt,ht,st,ft*ot),et.update(ht,rt,1)}function ct(ft,ht,vt){if(vt===0)return;let mt,pt;if(nt)mt=_e,pt="drawElementsInstanced";else if(mt=_.get("ANGLE_instanced_arrays"),pt="drawElementsInstancedANGLE",mt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}mt[pt](rt,ht,st,ft*ot,vt),et.update(ht,rt,vt)}function ut(ft,ht,vt){if(vt===0)return;const mt=_.get("WEBGL_multi_draw");if(mt===null)for(let pt=0;pt<vt;pt++)this.render(ft[pt]/ot,ht[pt]);else{mt.multiDrawElementsWEBGL(rt,ht,0,st,ft,0,vt);let pt=0;for(let yt=0;yt<vt;yt++)pt+=ht[yt];et.update(pt,rt,1)}}this.setMode=it,this.setIndex=at,this.render=lt,this.renderInstances=ct,this.renderMultiDraw=ut}function WebGLInfo(_e){const _={geometries:0,textures:0},et={frame:0,calls:0,triangles:0,points:0,lines:0};function tt(rt,it,st){switch(et.calls++,it){case _e.TRIANGLES:et.triangles+=st*(rt/3);break;case _e.LINES:et.lines+=st*(rt/2);break;case _e.LINE_STRIP:et.lines+=st*(rt-1);break;case _e.LINE_LOOP:et.lines+=st*rt;break;case _e.POINTS:et.points+=st*rt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",it);break}}function nt(){et.calls=0,et.triangles=0,et.points=0,et.lines=0}return{memory:_,render:et,programs:null,autoReset:!0,reset:nt,update:tt}}function numericalSort(_e,_){return _e[0]-_[0]}function absNumericalSort(_e,_){return Math.abs(_[1])-Math.abs(_e[1])}function WebGLMorphtargets(_e,_,et){const tt={},nt=new Float32Array(8),rt=new WeakMap,it=new Vector4,st=[];for(let at=0;at<8;at++)st[at]=[at,0];function ot(at,lt,ct){const ut=at.morphTargetInfluences;if(_.isWebGL2===!0){const ft=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,ht=ft!==void 0?ft.length:0;let vt=rt.get(lt);if(vt===void 0||vt.count!==ht){let It=function(){$t.dispose(),rt.delete(lt),lt.removeEventListener("dispose",It)};vt!==void 0&&vt.texture.dispose();const yt=lt.morphAttributes.position!==void 0,_t=lt.morphAttributes.normal!==void 0,St=lt.morphAttributes.color!==void 0,Et=lt.morphAttributes.position||[],wt=lt.morphAttributes.normal||[],Mt=lt.morphAttributes.color||[];let At=0;yt===!0&&(At=1),_t===!0&&(At=2),St===!0&&(At=3);let Tt=lt.attributes.position.count*At,Ct=1;Tt>_.maxTextureSize&&(Ct=Math.ceil(Tt/_.maxTextureSize),Tt=_.maxTextureSize);const Dt=new Float32Array(Tt*Ct*4*ht),$t=new DataArrayTexture(Dt,Tt,Ct,ht);$t.type=FloatType,$t.needsUpdate=!0;const kt=At*4;for(let Nt=0;Nt<ht;Nt++){const Gt=Et[Nt],Bt=wt[Nt],Rt=Mt[Nt],Ot=Tt*Ct*4*Nt;for(let Ut=0;Ut<Gt.count;Ut++){const jt=Ut*kt;yt===!0&&(it.fromBufferAttribute(Gt,Ut),Dt[Ot+jt+0]=it.x,Dt[Ot+jt+1]=it.y,Dt[Ot+jt+2]=it.z,Dt[Ot+jt+3]=0),_t===!0&&(it.fromBufferAttribute(Bt,Ut),Dt[Ot+jt+4]=it.x,Dt[Ot+jt+5]=it.y,Dt[Ot+jt+6]=it.z,Dt[Ot+jt+7]=0),St===!0&&(it.fromBufferAttribute(Rt,Ut),Dt[Ot+jt+8]=it.x,Dt[Ot+jt+9]=it.y,Dt[Ot+jt+10]=it.z,Dt[Ot+jt+11]=Rt.itemSize===4?it.w:1)}}vt={count:ht,texture:$t,size:new Vector2(Tt,Ct)},rt.set(lt,vt),lt.addEventListener("dispose",It)}let mt=0;for(let yt=0;yt<ut.length;yt++)mt+=ut[yt];const pt=lt.morphTargetsRelative?1:1-mt;ct.getUniforms().setValue(_e,"morphTargetBaseInfluence",pt),ct.getUniforms().setValue(_e,"morphTargetInfluences",ut),ct.getUniforms().setValue(_e,"morphTargetsTexture",vt.texture,et),ct.getUniforms().setValue(_e,"morphTargetsTextureSize",vt.size)}else{const ft=ut===void 0?0:ut.length;let ht=tt[lt.id];if(ht===void 0||ht.length!==ft){ht=[];for(let _t=0;_t<ft;_t++)ht[_t]=[_t,0];tt[lt.id]=ht}for(let _t=0;_t<ft;_t++){const St=ht[_t];St[0]=_t,St[1]=ut[_t]}ht.sort(absNumericalSort);for(let _t=0;_t<8;_t++)_t<ft&&ht[_t][1]?(st[_t][0]=ht[_t][0],st[_t][1]=ht[_t][1]):(st[_t][0]=Number.MAX_SAFE_INTEGER,st[_t][1]=0);st.sort(numericalSort);const vt=lt.morphAttributes.position,mt=lt.morphAttributes.normal;let pt=0;for(let _t=0;_t<8;_t++){const St=st[_t],Et=St[0],wt=St[1];Et!==Number.MAX_SAFE_INTEGER&&wt?(vt&&lt.getAttribute("morphTarget"+_t)!==vt[Et]&&lt.setAttribute("morphTarget"+_t,vt[Et]),mt&&lt.getAttribute("morphNormal"+_t)!==mt[Et]&&lt.setAttribute("morphNormal"+_t,mt[Et]),nt[_t]=wt,pt+=wt):(vt&&lt.hasAttribute("morphTarget"+_t)===!0&&lt.deleteAttribute("morphTarget"+_t),mt&&lt.hasAttribute("morphNormal"+_t)===!0&&lt.deleteAttribute("morphNormal"+_t),nt[_t]=0)}const yt=lt.morphTargetsRelative?1:1-pt;ct.getUniforms().setValue(_e,"morphTargetBaseInfluence",yt),ct.getUniforms().setValue(_e,"morphTargetInfluences",nt)}}return{update:ot}}function WebGLObjects(_e,_,et,tt){let nt=new WeakMap;function rt(ot){const at=tt.render.frame,lt=ot.geometry,ct=_.get(ot,lt);if(nt.get(ct)!==at&&(_.update(ct),nt.set(ct,at)),ot.isInstancedMesh&&(ot.hasEventListener("dispose",st)===!1&&ot.addEventListener("dispose",st),nt.get(ot)!==at&&(et.update(ot.instanceMatrix,_e.ARRAY_BUFFER),ot.instanceColor!==null&&et.update(ot.instanceColor,_e.ARRAY_BUFFER),nt.set(ot,at))),ot.isSkinnedMesh){const ut=ot.skeleton;nt.get(ut)!==at&&(ut.update(),nt.set(ut,at))}return ct}function it(){nt=new WeakMap}function st(ot){const at=ot.target;at.removeEventListener("dispose",st),et.remove(at.instanceMatrix),at.instanceColor!==null&&et.remove(at.instanceColor)}return{update:rt,dispose:it}}class DepthTexture extends Texture{constructor(_,et,tt,nt,rt,it,st,ot,at,lt){if(lt=lt!==void 0?lt:DepthFormat,lt!==DepthFormat&&lt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");tt===void 0&&lt===DepthFormat&&(tt=UnsignedIntType),tt===void 0&&lt===DepthStencilFormat&&(tt=UnsignedInt248Type),super(null,nt,rt,it,st,ot,lt,tt,at),this.isDepthTexture=!0,this.image={width:_,height:et},this.magFilter=st!==void 0?st:NearestFilter,this.minFilter=ot!==void 0?ot:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(_){return super.copy(_),this.compareFunction=_.compareFunction,this}toJSON(_){const et=super.toJSON(_);return this.compareFunction!==null&&(et.compareFunction=this.compareFunction),et}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1);emptyShadowTexture.compareFunction=LessEqualCompare;const emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten$1(_e,_,et){const tt=_e[0];if(tt<=0||tt>0)return _e;const nt=_*et;let rt=arrayCacheF32[nt];if(rt===void 0&&(rt=new Float32Array(nt),arrayCacheF32[nt]=rt),_!==0){tt.toArray(rt,0);for(let it=1,st=0;it!==_;++it)st+=et,_e[it].toArray(rt,st)}return rt}function arraysEqual(_e,_){if(_e.length!==_.length)return!1;for(let et=0,tt=_e.length;et<tt;et++)if(_e[et]!==_[et])return!1;return!0}function copyArray(_e,_){for(let et=0,tt=_.length;et<tt;et++)_e[et]=_[et]}function allocTexUnits(_e,_){let et=arrayCacheI32[_];et===void 0&&(et=new Int32Array(_),arrayCacheI32[_]=et);for(let tt=0;tt!==_;++tt)et[tt]=_e.allocateTextureUnit();return et}function setValueV1f(_e,_){const et=this.cache;et[0]!==_&&(_e.uniform1f(this.addr,_),et[0]=_)}function setValueV2f(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y)&&(_e.uniform2f(this.addr,_.x,_.y),et[0]=_.x,et[1]=_.y);else{if(arraysEqual(et,_))return;_e.uniform2fv(this.addr,_),copyArray(et,_)}}function setValueV3f(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y||et[2]!==_.z)&&(_e.uniform3f(this.addr,_.x,_.y,_.z),et[0]=_.x,et[1]=_.y,et[2]=_.z);else if(_.r!==void 0)(et[0]!==_.r||et[1]!==_.g||et[2]!==_.b)&&(_e.uniform3f(this.addr,_.r,_.g,_.b),et[0]=_.r,et[1]=_.g,et[2]=_.b);else{if(arraysEqual(et,_))return;_e.uniform3fv(this.addr,_),copyArray(et,_)}}function setValueV4f(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y||et[2]!==_.z||et[3]!==_.w)&&(_e.uniform4f(this.addr,_.x,_.y,_.z,_.w),et[0]=_.x,et[1]=_.y,et[2]=_.z,et[3]=_.w);else{if(arraysEqual(et,_))return;_e.uniform4fv(this.addr,_),copyArray(et,_)}}function setValueM2(_e,_){const et=this.cache,tt=_.elements;if(tt===void 0){if(arraysEqual(et,_))return;_e.uniformMatrix2fv(this.addr,!1,_),copyArray(et,_)}else{if(arraysEqual(et,tt))return;mat2array.set(tt),_e.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(et,tt)}}function setValueM3(_e,_){const et=this.cache,tt=_.elements;if(tt===void 0){if(arraysEqual(et,_))return;_e.uniformMatrix3fv(this.addr,!1,_),copyArray(et,_)}else{if(arraysEqual(et,tt))return;mat3array.set(tt),_e.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(et,tt)}}function setValueM4(_e,_){const et=this.cache,tt=_.elements;if(tt===void 0){if(arraysEqual(et,_))return;_e.uniformMatrix4fv(this.addr,!1,_),copyArray(et,_)}else{if(arraysEqual(et,tt))return;mat4array.set(tt),_e.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(et,tt)}}function setValueV1i(_e,_){const et=this.cache;et[0]!==_&&(_e.uniform1i(this.addr,_),et[0]=_)}function setValueV2i(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y)&&(_e.uniform2i(this.addr,_.x,_.y),et[0]=_.x,et[1]=_.y);else{if(arraysEqual(et,_))return;_e.uniform2iv(this.addr,_),copyArray(et,_)}}function setValueV3i(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y||et[2]!==_.z)&&(_e.uniform3i(this.addr,_.x,_.y,_.z),et[0]=_.x,et[1]=_.y,et[2]=_.z);else{if(arraysEqual(et,_))return;_e.uniform3iv(this.addr,_),copyArray(et,_)}}function setValueV4i(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y||et[2]!==_.z||et[3]!==_.w)&&(_e.uniform4i(this.addr,_.x,_.y,_.z,_.w),et[0]=_.x,et[1]=_.y,et[2]=_.z,et[3]=_.w);else{if(arraysEqual(et,_))return;_e.uniform4iv(this.addr,_),copyArray(et,_)}}function setValueV1ui(_e,_){const et=this.cache;et[0]!==_&&(_e.uniform1ui(this.addr,_),et[0]=_)}function setValueV2ui(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y)&&(_e.uniform2ui(this.addr,_.x,_.y),et[0]=_.x,et[1]=_.y);else{if(arraysEqual(et,_))return;_e.uniform2uiv(this.addr,_),copyArray(et,_)}}function setValueV3ui(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y||et[2]!==_.z)&&(_e.uniform3ui(this.addr,_.x,_.y,_.z),et[0]=_.x,et[1]=_.y,et[2]=_.z);else{if(arraysEqual(et,_))return;_e.uniform3uiv(this.addr,_),copyArray(et,_)}}function setValueV4ui(_e,_){const et=this.cache;if(_.x!==void 0)(et[0]!==_.x||et[1]!==_.y||et[2]!==_.z||et[3]!==_.w)&&(_e.uniform4ui(this.addr,_.x,_.y,_.z,_.w),et[0]=_.x,et[1]=_.y,et[2]=_.z,et[3]=_.w);else{if(arraysEqual(et,_))return;_e.uniform4uiv(this.addr,_),copyArray(et,_)}}function setValueT1(_e,_,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt);const rt=this.type===_e.SAMPLER_2D_SHADOW?emptyShadowTexture:emptyTexture;et.setTexture2D(_||rt,nt)}function setValueT3D1(_e,_,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture3D(_||empty3dTexture,nt)}function setValueT6(_e,_,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt),et.setTextureCube(_||emptyCubeTexture,nt)}function setValueT2DArray1(_e,_,et){const tt=this.cache,nt=et.allocateTextureUnit();tt[0]!==nt&&(_e.uniform1i(this.addr,nt),tt[0]=nt),et.setTexture2DArray(_||emptyArrayTexture,nt)}function getSingularSetter(_e){switch(_e){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(_e,_){_e.uniform1fv(this.addr,_)}function setValueV2fArray(_e,_){const et=flatten$1(_,this.size,2);_e.uniform2fv(this.addr,et)}function setValueV3fArray(_e,_){const et=flatten$1(_,this.size,3);_e.uniform3fv(this.addr,et)}function setValueV4fArray(_e,_){const et=flatten$1(_,this.size,4);_e.uniform4fv(this.addr,et)}function setValueM2Array(_e,_){const et=flatten$1(_,this.size,4);_e.uniformMatrix2fv(this.addr,!1,et)}function setValueM3Array(_e,_){const et=flatten$1(_,this.size,9);_e.uniformMatrix3fv(this.addr,!1,et)}function setValueM4Array(_e,_){const et=flatten$1(_,this.size,16);_e.uniformMatrix4fv(this.addr,!1,et)}function setValueV1iArray(_e,_){_e.uniform1iv(this.addr,_)}function setValueV2iArray(_e,_){_e.uniform2iv(this.addr,_)}function setValueV3iArray(_e,_){_e.uniform3iv(this.addr,_)}function setValueV4iArray(_e,_){_e.uniform4iv(this.addr,_)}function setValueV1uiArray(_e,_){_e.uniform1uiv(this.addr,_)}function setValueV2uiArray(_e,_){_e.uniform2uiv(this.addr,_)}function setValueV3uiArray(_e,_){_e.uniform3uiv(this.addr,_)}function setValueV4uiArray(_e,_){_e.uniform4uiv(this.addr,_)}function setValueT1Array(_e,_,et){const tt=this.cache,nt=_.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(_e.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTexture2D(_[it]||emptyTexture,rt[it])}function setValueT3DArray(_e,_,et){const tt=this.cache,nt=_.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(_e.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTexture3D(_[it]||empty3dTexture,rt[it])}function setValueT6Array(_e,_,et){const tt=this.cache,nt=_.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(_e.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTextureCube(_[it]||emptyCubeTexture,rt[it])}function setValueT2DArrayArray(_e,_,et){const tt=this.cache,nt=_.length,rt=allocTexUnits(et,nt);arraysEqual(tt,rt)||(_e.uniform1iv(this.addr,rt),copyArray(tt,rt));for(let it=0;it!==nt;++it)et.setTexture2DArray(_[it]||emptyArrayTexture,rt[it])}function getPureArraySetter(_e){switch(_e){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(_,et,tt){this.id=_,this.addr=tt,this.cache=[],this.type=et.type,this.setValue=getSingularSetter(et.type)}}class PureArrayUniform{constructor(_,et,tt){this.id=_,this.addr=tt,this.cache=[],this.type=et.type,this.size=et.size,this.setValue=getPureArraySetter(et.type)}}class StructuredUniform{constructor(_){this.id=_,this.seq=[],this.map={}}setValue(_,et,tt){const nt=this.seq;for(let rt=0,it=nt.length;rt!==it;++rt){const st=nt[rt];st.setValue(_,et[st.id],tt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(_e,_){_e.seq.push(_),_e.map[_.id]=_}function parseUniform(_e,_,et){const tt=_e.name,nt=tt.length;for(RePathPart.lastIndex=0;;){const rt=RePathPart.exec(tt),it=RePathPart.lastIndex;let st=rt[1];const ot=rt[2]==="]",at=rt[3];if(ot&&(st=st|0),at===void 0||at==="["&&it+2===nt){addUniform(et,at===void 0?new SingleUniform(st,_e,_):new PureArrayUniform(st,_e,_));break}else{let ct=et.map[st];ct===void 0&&(ct=new StructuredUniform(st),addUniform(et,ct)),et=ct}}}class WebGLUniforms{constructor(_,et){this.seq=[],this.map={};const tt=_.getProgramParameter(et,_.ACTIVE_UNIFORMS);for(let nt=0;nt<tt;++nt){const rt=_.getActiveUniform(et,nt),it=_.getUniformLocation(et,rt.name);parseUniform(rt,it,this)}}setValue(_,et,tt,nt){const rt=this.map[et];rt!==void 0&&rt.setValue(_,tt,nt)}setOptional(_,et,tt){const nt=et[tt];nt!==void 0&&this.setValue(_,tt,nt)}static upload(_,et,tt,nt){for(let rt=0,it=et.length;rt!==it;++rt){const st=et[rt],ot=tt[st.id];ot.needsUpdate!==!1&&st.setValue(_,ot.value,nt)}}static seqWithValue(_,et){const tt=[];for(let nt=0,rt=_.length;nt!==rt;++nt){const it=_[nt];it.id in et&&tt.push(it)}return tt}}function WebGLShader(_e,_,et){const tt=_e.createShader(_);return _e.shaderSource(tt,et),_e.compileShader(tt),tt}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(_e,_){const et=_e.split(`
`),tt=[],nt=Math.max(_-6,0),rt=Math.min(_+6,et.length);for(let it=nt;it<rt;it++){const st=it+1;tt.push(`${st===_?">":" "} ${st}: ${et[it]}`)}return tt.join(`
`)}function getEncodingComponents(_e){const _=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),et=ColorManagement.getPrimaries(_e);let tt;switch(_===et?tt="":_===P3Primaries&&et===Rec709Primaries?tt="LinearDisplayP3ToLinearSRGB":_===Rec709Primaries&&et===P3Primaries&&(tt="LinearSRGBToLinearDisplayP3"),_e){case LinearSRGBColorSpace:case LinearDisplayP3ColorSpace:return[tt,"LinearTransferOETF"];case SRGBColorSpace:case DisplayP3ColorSpace:return[tt,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",_e),[tt,"LinearTransferOETF"]}}function getShaderErrors(_e,_,et){const tt=_e.getShaderParameter(_,_e.COMPILE_STATUS),nt=_e.getShaderInfoLog(_).trim();if(tt&&nt==="")return"";const rt=/ERROR: 0:(\d+)/.exec(nt);if(rt){const it=parseInt(rt[1]);return et.toUpperCase()+`

`+nt+`

`+handleSource(_e.getShaderSource(_),it)}else return nt}function getTexelEncodingFunction(_e,_){const et=getEncodingComponents(_);return`vec4 ${_e}( vec4 value ) { return ${et[0]}( ${et[1]}( value ) ); }`}function getToneMappingFunction(_e,_){let et;switch(_){case LinearToneMapping:et="Linear";break;case ReinhardToneMapping:et="Reinhard";break;case CineonToneMapping:et="OptimizedCineon";break;case ACESFilmicToneMapping:et="ACESFilmic";break;case CustomToneMapping:et="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",_),et="Linear"}return"vec3 "+_e+"( vec3 color ) { return "+et+"ToneMapping( color ); }"}function generateExtensions(_e){return[_e.extensionDerivatives||_e.envMapCubeUVHeight||_e.bumpMap||_e.normalMapTangentSpace||_e.clearcoatNormalMap||_e.flatShading||_e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(_e.extensionFragDepth||_e.logarithmicDepthBuffer)&&_e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",_e.extensionDrawBuffers&&_e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(_e.extensionShaderTextureLOD||_e.envMap||_e.transmission)&&_e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(_e){const _=[];for(const et in _e){const tt=_e[et];tt!==!1&&_.push("#define "+et+" "+tt)}return _.join(`
`)}function fetchAttributeLocations(_e,_){const et={},tt=_e.getProgramParameter(_,_e.ACTIVE_ATTRIBUTES);for(let nt=0;nt<tt;nt++){const rt=_e.getActiveAttrib(_,nt),it=rt.name;let st=1;rt.type===_e.FLOAT_MAT2&&(st=2),rt.type===_e.FLOAT_MAT3&&(st=3),rt.type===_e.FLOAT_MAT4&&(st=4),et[it]={type:rt.type,location:_e.getAttribLocation(_,it),locationSize:st}}return et}function filterEmptyLine(_e){return _e!==""}function replaceLightNums(_e,_){const et=_.numSpotLightShadows+_.numSpotLightMaps-_.numSpotLightShadowsWithMaps;return _e.replace(/NUM_DIR_LIGHTS/g,_.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,_.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,et).replace(/NUM_RECT_AREA_LIGHTS/g,_.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_.numPointLightShadows)}function replaceClippingPlaneNums(_e,_){return _e.replace(/NUM_CLIPPING_PLANES/g,_.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_.numClippingPlanes-_.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(_e){return _e.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(_e,_){let et=ShaderChunk[_];if(et===void 0){const tt=shaderChunkMap.get(_);if(tt!==void 0)et=ShaderChunk[tt],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',_,tt);else throw new Error("Can not resolve #include <"+_+">")}return resolveIncludes(et)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(_e){return _e.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(_e,_,et,tt){let nt="";for(let rt=parseInt(_);rt<parseInt(et);rt++)nt+=tt.replace(/\[\s*i\s*\]/g,"[ "+rt+" ]").replace(/UNROLLED_LOOP_INDEX/g,rt);return nt}function generatePrecision(_e){let _="precision "+_e.precision+` float;
precision `+_e.precision+" int;";return _e.precision==="highp"?_+=`
#define HIGH_PRECISION`:_e.precision==="mediump"?_+=`
#define MEDIUM_PRECISION`:_e.precision==="lowp"&&(_+=`
#define LOW_PRECISION`),_}function generateShadowMapTypeDefine(_e){let _="SHADOWMAP_TYPE_BASIC";return _e.shadowMapType===PCFShadowMap?_="SHADOWMAP_TYPE_PCF":_e.shadowMapType===PCFSoftShadowMap?_="SHADOWMAP_TYPE_PCF_SOFT":_e.shadowMapType===VSMShadowMap&&(_="SHADOWMAP_TYPE_VSM"),_}function generateEnvMapTypeDefine(_e){let _="ENVMAP_TYPE_CUBE";if(_e.envMap)switch(_e.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:_="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:_="ENVMAP_TYPE_CUBE_UV";break}return _}function generateEnvMapModeDefine(_e){let _="ENVMAP_MODE_REFLECTION";if(_e.envMap)switch(_e.envMapMode){case CubeRefractionMapping:_="ENVMAP_MODE_REFRACTION";break}return _}function generateEnvMapBlendingDefine(_e){let _="ENVMAP_BLENDING_NONE";if(_e.envMap)switch(_e.combine){case MultiplyOperation:_="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:_="ENVMAP_BLENDING_MIX";break;case AddOperation:_="ENVMAP_BLENDING_ADD";break}return _}function generateCubeUVSize(_e){const _=_e.envMapCubeUVHeight;if(_===null)return null;const et=Math.log2(_)-2,tt=1/_;return{texelWidth:1/(3*Math.max(Math.pow(2,et),7*16)),texelHeight:tt,maxMip:et}}function WebGLProgram(_e,_,et,tt){const nt=_e.getContext(),rt=et.defines;let it=et.vertexShader,st=et.fragmentShader;const ot=generateShadowMapTypeDefine(et),at=generateEnvMapTypeDefine(et),lt=generateEnvMapModeDefine(et),ct=generateEnvMapBlendingDefine(et),ut=generateCubeUVSize(et),ft=et.isWebGL2?"":generateExtensions(et),ht=generateDefines(rt),vt=nt.createProgram();let mt,pt,yt=et.glslVersion?"#version "+et.glslVersion+`
`:"";et.isRawShaderMaterial?(mt=["#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht].filter(filterEmptyLine).join(`
`),mt.length>0&&(mt+=`
`),pt=[ft,"#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht].filter(filterEmptyLine).join(`
`),pt.length>0&&(pt+=`
`)):(mt=[generatePrecision(et),"#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht,et.batching?"#define USE_BATCHING":"",et.instancing?"#define USE_INSTANCING":"",et.instancingColor?"#define USE_INSTANCING_COLOR":"",et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.map?"#define USE_MAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+lt:"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",et.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",et.displacementMap?"#define USE_DISPLACEMENTMAP":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.anisotropy?"#define USE_ANISOTROPY":"",et.anisotropyMap?"#define USE_ANISOTROPYMAP":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",et.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",et.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.alphaHash?"#define USE_ALPHAHASH":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",et.mapUv?"#define MAP_UV "+et.mapUv:"",et.alphaMapUv?"#define ALPHAMAP_UV "+et.alphaMapUv:"",et.lightMapUv?"#define LIGHTMAP_UV "+et.lightMapUv:"",et.aoMapUv?"#define AOMAP_UV "+et.aoMapUv:"",et.emissiveMapUv?"#define EMISSIVEMAP_UV "+et.emissiveMapUv:"",et.bumpMapUv?"#define BUMPMAP_UV "+et.bumpMapUv:"",et.normalMapUv?"#define NORMALMAP_UV "+et.normalMapUv:"",et.displacementMapUv?"#define DISPLACEMENTMAP_UV "+et.displacementMapUv:"",et.metalnessMapUv?"#define METALNESSMAP_UV "+et.metalnessMapUv:"",et.roughnessMapUv?"#define ROUGHNESSMAP_UV "+et.roughnessMapUv:"",et.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+et.anisotropyMapUv:"",et.clearcoatMapUv?"#define CLEARCOATMAP_UV "+et.clearcoatMapUv:"",et.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+et.clearcoatNormalMapUv:"",et.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+et.clearcoatRoughnessMapUv:"",et.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+et.iridescenceMapUv:"",et.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+et.iridescenceThicknessMapUv:"",et.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+et.sheenColorMapUv:"",et.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+et.sheenRoughnessMapUv:"",et.specularMapUv?"#define SPECULARMAP_UV "+et.specularMapUv:"",et.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+et.specularColorMapUv:"",et.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+et.specularIntensityMapUv:"",et.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+et.transmissionMapUv:"",et.thicknessMapUv?"#define THICKNESSMAP_UV "+et.thicknessMapUv:"",et.vertexTangents&&et.flatShading===!1?"#define USE_TANGENT":"",et.vertexColors?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUv1s?"#define USE_UV1":"",et.vertexUv2s?"#define USE_UV2":"",et.vertexUv3s?"#define USE_UV3":"",et.pointsUvs?"#define USE_POINTS_UV":"",et.flatShading?"#define FLAT_SHADED":"",et.skinning?"#define USE_SKINNING":"",et.morphTargets?"#define USE_MORPHTARGETS":"",et.morphNormals&&et.flatShading===!1?"#define USE_MORPHNORMALS":"",et.morphColors&&et.isWebGL2?"#define USE_MORPHCOLORS":"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+et.morphTextureStride:"",et.morphTargetsCount>0&&et.isWebGL2?"#define MORPHTARGETS_COUNT "+et.morphTargetsCount:"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+ot:"",et.sizeAttenuation?"#define USE_SIZEATTENUATION":"",et.numLightProbes>0?"#define USE_LIGHT_PROBES":"",et.useLegacyLights?"#define LEGACY_LIGHTS":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",et.logarithmicDepthBuffer&&et.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),pt=[ft,generatePrecision(et),"#define SHADER_TYPE "+et.shaderType,"#define SHADER_NAME "+et.shaderName,ht,et.useFog&&et.fog?"#define USE_FOG":"",et.useFog&&et.fogExp2?"#define FOG_EXP2":"",et.map?"#define USE_MAP":"",et.matcap?"#define USE_MATCAP":"",et.envMap?"#define USE_ENVMAP":"",et.envMap?"#define "+at:"",et.envMap?"#define "+lt:"",et.envMap?"#define "+ct:"",ut?"#define CUBEUV_TEXEL_WIDTH "+ut.texelWidth:"",ut?"#define CUBEUV_TEXEL_HEIGHT "+ut.texelHeight:"",ut?"#define CUBEUV_MAX_MIP "+ut.maxMip+".0":"",et.lightMap?"#define USE_LIGHTMAP":"",et.aoMap?"#define USE_AOMAP":"",et.bumpMap?"#define USE_BUMPMAP":"",et.normalMap?"#define USE_NORMALMAP":"",et.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",et.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",et.emissiveMap?"#define USE_EMISSIVEMAP":"",et.anisotropy?"#define USE_ANISOTROPY":"",et.anisotropyMap?"#define USE_ANISOTROPYMAP":"",et.clearcoat?"#define USE_CLEARCOAT":"",et.clearcoatMap?"#define USE_CLEARCOATMAP":"",et.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",et.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",et.iridescence?"#define USE_IRIDESCENCE":"",et.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",et.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",et.specularMap?"#define USE_SPECULARMAP":"",et.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",et.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",et.roughnessMap?"#define USE_ROUGHNESSMAP":"",et.metalnessMap?"#define USE_METALNESSMAP":"",et.alphaMap?"#define USE_ALPHAMAP":"",et.alphaTest?"#define USE_ALPHATEST":"",et.alphaHash?"#define USE_ALPHAHASH":"",et.sheen?"#define USE_SHEEN":"",et.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",et.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",et.transmission?"#define USE_TRANSMISSION":"",et.transmissionMap?"#define USE_TRANSMISSIONMAP":"",et.thicknessMap?"#define USE_THICKNESSMAP":"",et.vertexTangents&&et.flatShading===!1?"#define USE_TANGENT":"",et.vertexColors||et.instancingColor?"#define USE_COLOR":"",et.vertexAlphas?"#define USE_COLOR_ALPHA":"",et.vertexUv1s?"#define USE_UV1":"",et.vertexUv2s?"#define USE_UV2":"",et.vertexUv3s?"#define USE_UV3":"",et.pointsUvs?"#define USE_POINTS_UV":"",et.gradientMap?"#define USE_GRADIENTMAP":"",et.flatShading?"#define FLAT_SHADED":"",et.doubleSided?"#define DOUBLE_SIDED":"",et.flipSided?"#define FLIP_SIDED":"",et.shadowMapEnabled?"#define USE_SHADOWMAP":"",et.shadowMapEnabled?"#define "+ot:"",et.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",et.numLightProbes>0?"#define USE_LIGHT_PROBES":"",et.useLegacyLights?"#define LEGACY_LIGHTS":"",et.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",et.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",et.logarithmicDepthBuffer&&et.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",et.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",et.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",et.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",et.toneMapping):"",et.dithering?"#define DITHERING":"",et.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",et.outputColorSpace),et.useDepthPacking?"#define DEPTH_PACKING "+et.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),it=resolveIncludes(it),it=replaceLightNums(it,et),it=replaceClippingPlaneNums(it,et),st=resolveIncludes(st),st=replaceLightNums(st,et),st=replaceClippingPlaneNums(st,et),it=unrollLoops(it),st=unrollLoops(st),et.isWebGL2&&et.isRawShaderMaterial!==!0&&(yt=`#version 300 es
`,mt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+mt,pt=["precision mediump sampler2DArray;","#define varying in",et.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",et.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+pt);const _t=yt+mt+it,St=yt+pt+st,Et=WebGLShader(nt,nt.VERTEX_SHADER,_t),wt=WebGLShader(nt,nt.FRAGMENT_SHADER,St);nt.attachShader(vt,Et),nt.attachShader(vt,wt),et.index0AttributeName!==void 0?nt.bindAttribLocation(vt,0,et.index0AttributeName):et.morphTargets===!0&&nt.bindAttribLocation(vt,0,"position"),nt.linkProgram(vt);function Mt(Dt){if(_e.debug.checkShaderErrors){const $t=nt.getProgramInfoLog(vt).trim(),kt=nt.getShaderInfoLog(Et).trim(),It=nt.getShaderInfoLog(wt).trim();let Nt=!0,Gt=!0;if(nt.getProgramParameter(vt,nt.LINK_STATUS)===!1)if(Nt=!1,typeof _e.debug.onShaderError=="function")_e.debug.onShaderError(nt,vt,Et,wt);else{const Bt=getShaderErrors(nt,Et,"vertex"),Rt=getShaderErrors(nt,wt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(vt,nt.VALIDATE_STATUS)+`

Program Info Log: `+$t+`
`+Bt+`
`+Rt)}else $t!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$t):(kt===""||It==="")&&(Gt=!1);Gt&&(Dt.diagnostics={runnable:Nt,programLog:$t,vertexShader:{log:kt,prefix:mt},fragmentShader:{log:It,prefix:pt}})}nt.deleteShader(Et),nt.deleteShader(wt),At=new WebGLUniforms(nt,vt),Tt=fetchAttributeLocations(nt,vt)}let At;this.getUniforms=function(){return At===void 0&&Mt(this),At};let Tt;this.getAttributes=function(){return Tt===void 0&&Mt(this),Tt};let Ct=et.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Ct===!1&&(Ct=nt.getProgramParameter(vt,COMPLETION_STATUS_KHR)),Ct},this.destroy=function(){tt.releaseStatesOfProgram(this),nt.deleteProgram(vt),this.program=void 0},this.type=et.shaderType,this.name=et.shaderName,this.id=programIdCount++,this.cacheKey=_,this.usedTimes=1,this.program=vt,this.vertexShader=Et,this.fragmentShader=wt,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(_){const et=_.vertexShader,tt=_.fragmentShader,nt=this._getShaderStage(et),rt=this._getShaderStage(tt),it=this._getShaderCacheForMaterial(_);return it.has(nt)===!1&&(it.add(nt),nt.usedTimes++),it.has(rt)===!1&&(it.add(rt),rt.usedTimes++),this}remove(_){const et=this.materialCache.get(_);for(const tt of et)tt.usedTimes--,tt.usedTimes===0&&this.shaderCache.delete(tt.code);return this.materialCache.delete(_),this}getVertexShaderID(_){return this._getShaderStage(_.vertexShader).id}getFragmentShaderID(_){return this._getShaderStage(_.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(_){const et=this.materialCache;let tt=et.get(_);return tt===void 0&&(tt=new Set,et.set(_,tt)),tt}_getShaderStage(_){const et=this.shaderCache;let tt=et.get(_);return tt===void 0&&(tt=new WebGLShaderStage(_),et.set(_,tt)),tt}}class WebGLShaderStage{constructor(_){this.id=_id$1++,this.code=_,this.usedTimes=0}}function WebGLPrograms(_e,_,et,tt,nt,rt,it){const st=new Layers,ot=new WebGLShaderCache,at=[],lt=nt.isWebGL2,ct=nt.logarithmicDepthBuffer,ut=nt.vertexTextures;let ft=nt.precision;const ht={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function vt(Tt){return Tt===0?"uv":`uv${Tt}`}function mt(Tt,Ct,Dt,$t,kt){const It=$t.fog,Nt=kt.geometry,Gt=Tt.isMeshStandardMaterial?$t.environment:null,Bt=(Tt.isMeshStandardMaterial?et:_).get(Tt.envMap||Gt),Rt=Bt&&Bt.mapping===CubeUVReflectionMapping?Bt.image.height:null,Ot=ht[Tt.type];Tt.precision!==null&&(ft=nt.getMaxPrecision(Tt.precision),ft!==Tt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Tt.precision,"not supported, using",ft,"instead."));const Ut=Nt.morphAttributes.position||Nt.morphAttributes.normal||Nt.morphAttributes.color,jt=Ut!==void 0?Ut.length:0;let Jt=0;Nt.morphAttributes.position!==void 0&&(Jt=1),Nt.morphAttributes.normal!==void 0&&(Jt=2),Nt.morphAttributes.color!==void 0&&(Jt=3);let Xt,Qt,rn,pn;if(Ot){const Dr=ShaderLib[Ot];Xt=Dr.vertexShader,Qt=Dr.fragmentShader}else Xt=Tt.vertexShader,Qt=Tt.fragmentShader,ot.update(Tt),rn=ot.getVertexShaderID(Tt),pn=ot.getFragmentShaderID(Tt);const fn=_e.getRenderTarget(),_n=kt.isInstancedMesh===!0,Pn=kt.isBatchedMesh===!0,Sn=!!Tt.map,Cn=!!Tt.matcap,Wt=!!Bt,tn=!!Tt.aoMap,an=!!Tt.lightMap,vn=!!Tt.bumpMap,hn=!!Tt.normalMap,$n=!!Tt.displacementMap,En=!!Tt.emissiveMap,Mn=!!Tt.metalnessMap,Rn=!!Tt.roughnessMap,Vn=Tt.anisotropy>0,sr=Tt.clearcoat>0,zt=Tt.iridescence>0,Ft=Tt.sheen>0,Zt=Tt.transmission>0,gn=Vn&&!!Tt.anisotropyMap,mn=sr&&!!Tt.clearcoatMap,yn=sr&&!!Tt.clearcoatNormalMap,Fn=sr&&!!Tt.clearcoatRoughnessMap,bn=zt&&!!Tt.iridescenceMap,Dn=zt&&!!Tt.iridescenceThicknessMap,qn=Ft&&!!Tt.sheenColorMap,cr=Ft&&!!Tt.sheenRoughnessMap,xn=!!Tt.specularMap,hr=!!Tt.specularColorMap,Jn=!!Tt.specularIntensityMap,jn=Zt&&!!Tt.transmissionMap,Wn=Zt&&!!Tt.thicknessMap,Nn=!!Tt.gradientMap,ur=!!Tt.alphaMap,qt=Tt.alphaTest>0,kn=!!Tt.alphaHash,wn=!!Tt.extensions,dn=!!Nt.attributes.uv1,An=!!Nt.attributes.uv2,Kn=!!Nt.attributes.uv3;let fr=NoToneMapping;return Tt.toneMapped&&(fn===null||fn.isXRRenderTarget===!0)&&(fr=_e.toneMapping),{isWebGL2:lt,shaderID:Ot,shaderType:Tt.type,shaderName:Tt.name,vertexShader:Xt,fragmentShader:Qt,defines:Tt.defines,customVertexShaderID:rn,customFragmentShaderID:pn,isRawShaderMaterial:Tt.isRawShaderMaterial===!0,glslVersion:Tt.glslVersion,precision:ft,batching:Pn,instancing:_n,instancingColor:_n&&kt.instanceColor!==null,supportsVertexTextures:ut,outputColorSpace:fn===null?_e.outputColorSpace:fn.isXRRenderTarget===!0?fn.texture.colorSpace:LinearSRGBColorSpace,map:Sn,matcap:Cn,envMap:Wt,envMapMode:Wt&&Bt.mapping,envMapCubeUVHeight:Rt,aoMap:tn,lightMap:an,bumpMap:vn,normalMap:hn,displacementMap:ut&&$n,emissiveMap:En,normalMapObjectSpace:hn&&Tt.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:hn&&Tt.normalMapType===TangentSpaceNormalMap,metalnessMap:Mn,roughnessMap:Rn,anisotropy:Vn,anisotropyMap:gn,clearcoat:sr,clearcoatMap:mn,clearcoatNormalMap:yn,clearcoatRoughnessMap:Fn,iridescence:zt,iridescenceMap:bn,iridescenceThicknessMap:Dn,sheen:Ft,sheenColorMap:qn,sheenRoughnessMap:cr,specularMap:xn,specularColorMap:hr,specularIntensityMap:Jn,transmission:Zt,transmissionMap:jn,thicknessMap:Wn,gradientMap:Nn,opaque:Tt.transparent===!1&&Tt.blending===NormalBlending,alphaMap:ur,alphaTest:qt,alphaHash:kn,combine:Tt.combine,mapUv:Sn&&vt(Tt.map.channel),aoMapUv:tn&&vt(Tt.aoMap.channel),lightMapUv:an&&vt(Tt.lightMap.channel),bumpMapUv:vn&&vt(Tt.bumpMap.channel),normalMapUv:hn&&vt(Tt.normalMap.channel),displacementMapUv:$n&&vt(Tt.displacementMap.channel),emissiveMapUv:En&&vt(Tt.emissiveMap.channel),metalnessMapUv:Mn&&vt(Tt.metalnessMap.channel),roughnessMapUv:Rn&&vt(Tt.roughnessMap.channel),anisotropyMapUv:gn&&vt(Tt.anisotropyMap.channel),clearcoatMapUv:mn&&vt(Tt.clearcoatMap.channel),clearcoatNormalMapUv:yn&&vt(Tt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fn&&vt(Tt.clearcoatRoughnessMap.channel),iridescenceMapUv:bn&&vt(Tt.iridescenceMap.channel),iridescenceThicknessMapUv:Dn&&vt(Tt.iridescenceThicknessMap.channel),sheenColorMapUv:qn&&vt(Tt.sheenColorMap.channel),sheenRoughnessMapUv:cr&&vt(Tt.sheenRoughnessMap.channel),specularMapUv:xn&&vt(Tt.specularMap.channel),specularColorMapUv:hr&&vt(Tt.specularColorMap.channel),specularIntensityMapUv:Jn&&vt(Tt.specularIntensityMap.channel),transmissionMapUv:jn&&vt(Tt.transmissionMap.channel),thicknessMapUv:Wn&&vt(Tt.thicknessMap.channel),alphaMapUv:ur&&vt(Tt.alphaMap.channel),vertexTangents:!!Nt.attributes.tangent&&(hn||Vn),vertexColors:Tt.vertexColors,vertexAlphas:Tt.vertexColors===!0&&!!Nt.attributes.color&&Nt.attributes.color.itemSize===4,vertexUv1s:dn,vertexUv2s:An,vertexUv3s:Kn,pointsUvs:kt.isPoints===!0&&!!Nt.attributes.uv&&(Sn||ur),fog:!!It,useFog:Tt.fog===!0,fogExp2:It&&It.isFogExp2,flatShading:Tt.flatShading===!0,sizeAttenuation:Tt.sizeAttenuation===!0,logarithmicDepthBuffer:ct,skinning:kt.isSkinnedMesh===!0,morphTargets:Nt.morphAttributes.position!==void 0,morphNormals:Nt.morphAttributes.normal!==void 0,morphColors:Nt.morphAttributes.color!==void 0,morphTargetsCount:jt,morphTextureStride:Jt,numDirLights:Ct.directional.length,numPointLights:Ct.point.length,numSpotLights:Ct.spot.length,numSpotLightMaps:Ct.spotLightMap.length,numRectAreaLights:Ct.rectArea.length,numHemiLights:Ct.hemi.length,numDirLightShadows:Ct.directionalShadowMap.length,numPointLightShadows:Ct.pointShadowMap.length,numSpotLightShadows:Ct.spotShadowMap.length,numSpotLightShadowsWithMaps:Ct.numSpotLightShadowsWithMaps,numLightProbes:Ct.numLightProbes,numClippingPlanes:it.numPlanes,numClipIntersection:it.numIntersection,dithering:Tt.dithering,shadowMapEnabled:_e.shadowMap.enabled&&Dt.length>0,shadowMapType:_e.shadowMap.type,toneMapping:fr,useLegacyLights:_e._useLegacyLights,decodeVideoTexture:Sn&&Tt.map.isVideoTexture===!0&&ColorManagement.getTransfer(Tt.map.colorSpace)===SRGBTransfer,premultipliedAlpha:Tt.premultipliedAlpha,doubleSided:Tt.side===DoubleSide,flipSided:Tt.side===BackSide,useDepthPacking:Tt.depthPacking>=0,depthPacking:Tt.depthPacking||0,index0AttributeName:Tt.index0AttributeName,extensionDerivatives:wn&&Tt.extensions.derivatives===!0,extensionFragDepth:wn&&Tt.extensions.fragDepth===!0,extensionDrawBuffers:wn&&Tt.extensions.drawBuffers===!0,extensionShaderTextureLOD:wn&&Tt.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:lt||tt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:lt||tt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:lt||tt.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:tt.has("KHR_parallel_shader_compile"),customProgramCacheKey:Tt.customProgramCacheKey()}}function pt(Tt){const Ct=[];if(Tt.shaderID?Ct.push(Tt.shaderID):(Ct.push(Tt.customVertexShaderID),Ct.push(Tt.customFragmentShaderID)),Tt.defines!==void 0)for(const Dt in Tt.defines)Ct.push(Dt),Ct.push(Tt.defines[Dt]);return Tt.isRawShaderMaterial===!1&&(yt(Ct,Tt),_t(Ct,Tt),Ct.push(_e.outputColorSpace)),Ct.push(Tt.customProgramCacheKey),Ct.join()}function yt(Tt,Ct){Tt.push(Ct.precision),Tt.push(Ct.outputColorSpace),Tt.push(Ct.envMapMode),Tt.push(Ct.envMapCubeUVHeight),Tt.push(Ct.mapUv),Tt.push(Ct.alphaMapUv),Tt.push(Ct.lightMapUv),Tt.push(Ct.aoMapUv),Tt.push(Ct.bumpMapUv),Tt.push(Ct.normalMapUv),Tt.push(Ct.displacementMapUv),Tt.push(Ct.emissiveMapUv),Tt.push(Ct.metalnessMapUv),Tt.push(Ct.roughnessMapUv),Tt.push(Ct.anisotropyMapUv),Tt.push(Ct.clearcoatMapUv),Tt.push(Ct.clearcoatNormalMapUv),Tt.push(Ct.clearcoatRoughnessMapUv),Tt.push(Ct.iridescenceMapUv),Tt.push(Ct.iridescenceThicknessMapUv),Tt.push(Ct.sheenColorMapUv),Tt.push(Ct.sheenRoughnessMapUv),Tt.push(Ct.specularMapUv),Tt.push(Ct.specularColorMapUv),Tt.push(Ct.specularIntensityMapUv),Tt.push(Ct.transmissionMapUv),Tt.push(Ct.thicknessMapUv),Tt.push(Ct.combine),Tt.push(Ct.fogExp2),Tt.push(Ct.sizeAttenuation),Tt.push(Ct.morphTargetsCount),Tt.push(Ct.morphAttributeCount),Tt.push(Ct.numDirLights),Tt.push(Ct.numPointLights),Tt.push(Ct.numSpotLights),Tt.push(Ct.numSpotLightMaps),Tt.push(Ct.numHemiLights),Tt.push(Ct.numRectAreaLights),Tt.push(Ct.numDirLightShadows),Tt.push(Ct.numPointLightShadows),Tt.push(Ct.numSpotLightShadows),Tt.push(Ct.numSpotLightShadowsWithMaps),Tt.push(Ct.numLightProbes),Tt.push(Ct.shadowMapType),Tt.push(Ct.toneMapping),Tt.push(Ct.numClippingPlanes),Tt.push(Ct.numClipIntersection),Tt.push(Ct.depthPacking)}function _t(Tt,Ct){st.disableAll(),Ct.isWebGL2&&st.enable(0),Ct.supportsVertexTextures&&st.enable(1),Ct.instancing&&st.enable(2),Ct.instancingColor&&st.enable(3),Ct.matcap&&st.enable(4),Ct.envMap&&st.enable(5),Ct.normalMapObjectSpace&&st.enable(6),Ct.normalMapTangentSpace&&st.enable(7),Ct.clearcoat&&st.enable(8),Ct.iridescence&&st.enable(9),Ct.alphaTest&&st.enable(10),Ct.vertexColors&&st.enable(11),Ct.vertexAlphas&&st.enable(12),Ct.vertexUv1s&&st.enable(13),Ct.vertexUv2s&&st.enable(14),Ct.vertexUv3s&&st.enable(15),Ct.vertexTangents&&st.enable(16),Ct.anisotropy&&st.enable(17),Ct.alphaHash&&st.enable(18),Ct.batching&&st.enable(19),Tt.push(st.mask),st.disableAll(),Ct.fog&&st.enable(0),Ct.useFog&&st.enable(1),Ct.flatShading&&st.enable(2),Ct.logarithmicDepthBuffer&&st.enable(3),Ct.skinning&&st.enable(4),Ct.morphTargets&&st.enable(5),Ct.morphNormals&&st.enable(6),Ct.morphColors&&st.enable(7),Ct.premultipliedAlpha&&st.enable(8),Ct.shadowMapEnabled&&st.enable(9),Ct.useLegacyLights&&st.enable(10),Ct.doubleSided&&st.enable(11),Ct.flipSided&&st.enable(12),Ct.useDepthPacking&&st.enable(13),Ct.dithering&&st.enable(14),Ct.transmission&&st.enable(15),Ct.sheen&&st.enable(16),Ct.opaque&&st.enable(17),Ct.pointsUvs&&st.enable(18),Ct.decodeVideoTexture&&st.enable(19),Tt.push(st.mask)}function St(Tt){const Ct=ht[Tt.type];let Dt;if(Ct){const $t=ShaderLib[Ct];Dt=UniformsUtils.clone($t.uniforms)}else Dt=Tt.uniforms;return Dt}function Et(Tt,Ct){let Dt;for(let $t=0,kt=at.length;$t<kt;$t++){const It=at[$t];if(It.cacheKey===Ct){Dt=It,++Dt.usedTimes;break}}return Dt===void 0&&(Dt=new WebGLProgram(_e,Ct,Tt,rt),at.push(Dt)),Dt}function wt(Tt){if(--Tt.usedTimes===0){const Ct=at.indexOf(Tt);at[Ct]=at[at.length-1],at.pop(),Tt.destroy()}}function Mt(Tt){ot.remove(Tt)}function At(){ot.dispose()}return{getParameters:mt,getProgramCacheKey:pt,getUniforms:St,acquireProgram:Et,releaseProgram:wt,releaseShaderCache:Mt,programs:at,dispose:At}}function WebGLProperties(){let _e=new WeakMap;function _(rt){let it=_e.get(rt);return it===void 0&&(it={},_e.set(rt,it)),it}function et(rt){_e.delete(rt)}function tt(rt,it,st){_e.get(rt)[it]=st}function nt(){_e=new WeakMap}return{get:_,remove:et,update:tt,dispose:nt}}function painterSortStable(_e,_){return _e.groupOrder!==_.groupOrder?_e.groupOrder-_.groupOrder:_e.renderOrder!==_.renderOrder?_e.renderOrder-_.renderOrder:_e.material.id!==_.material.id?_e.material.id-_.material.id:_e.z!==_.z?_e.z-_.z:_e.id-_.id}function reversePainterSortStable(_e,_){return _e.groupOrder!==_.groupOrder?_e.groupOrder-_.groupOrder:_e.renderOrder!==_.renderOrder?_e.renderOrder-_.renderOrder:_e.z!==_.z?_.z-_e.z:_e.id-_.id}function WebGLRenderList(){const _e=[];let _=0;const et=[],tt=[],nt=[];function rt(){_=0,et.length=0,tt.length=0,nt.length=0}function it(ct,ut,ft,ht,vt,mt){let pt=_e[_];return pt===void 0?(pt={id:ct.id,object:ct,geometry:ut,material:ft,groupOrder:ht,renderOrder:ct.renderOrder,z:vt,group:mt},_e[_]=pt):(pt.id=ct.id,pt.object=ct,pt.geometry=ut,pt.material=ft,pt.groupOrder=ht,pt.renderOrder=ct.renderOrder,pt.z=vt,pt.group=mt),_++,pt}function st(ct,ut,ft,ht,vt,mt){const pt=it(ct,ut,ft,ht,vt,mt);ft.transmission>0?tt.push(pt):ft.transparent===!0?nt.push(pt):et.push(pt)}function ot(ct,ut,ft,ht,vt,mt){const pt=it(ct,ut,ft,ht,vt,mt);ft.transmission>0?tt.unshift(pt):ft.transparent===!0?nt.unshift(pt):et.unshift(pt)}function at(ct,ut){et.length>1&&et.sort(ct||painterSortStable),tt.length>1&&tt.sort(ut||reversePainterSortStable),nt.length>1&&nt.sort(ut||reversePainterSortStable)}function lt(){for(let ct=_,ut=_e.length;ct<ut;ct++){const ft=_e[ct];if(ft.id===null)break;ft.id=null,ft.object=null,ft.geometry=null,ft.material=null,ft.group=null}}return{opaque:et,transmissive:tt,transparent:nt,init:rt,push:st,unshift:ot,finish:lt,sort:at}}function WebGLRenderLists(){let _e=new WeakMap;function _(tt,nt){const rt=_e.get(tt);let it;return rt===void 0?(it=new WebGLRenderList,_e.set(tt,[it])):nt>=rt.length?(it=new WebGLRenderList,rt.push(it)):it=rt[nt],it}function et(){_e=new WeakMap}return{get:_,dispose:et}}function UniformsCache(){const _e={};return{get:function(_){if(_e[_.id]!==void 0)return _e[_.id];let et;switch(_.type){case"DirectionalLight":et={direction:new Vector3,color:new Color$1};break;case"SpotLight":et={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":et={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":et={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":et={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return _e[_.id]=et,et}}}function ShadowUniformsCache(){const _e={};return{get:function(_){if(_e[_.id]!==void 0)return _e[_.id];let et;switch(_.type){case"DirectionalLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":et={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return _e[_.id]=et,et}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(_e,_){return(_.castShadow?2:0)-(_e.castShadow?2:0)+(_.map?1:0)-(_e.map?1:0)}function WebGLLights(_e,_){const et=new UniformsCache,tt=ShadowUniformsCache(),nt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let lt=0;lt<9;lt++)nt.probe.push(new Vector3);const rt=new Vector3,it=new Matrix4,st=new Matrix4;function ot(lt,ct){let ut=0,ft=0,ht=0;for(let $t=0;$t<9;$t++)nt.probe[$t].set(0,0,0);let vt=0,mt=0,pt=0,yt=0,_t=0,St=0,Et=0,wt=0,Mt=0,At=0,Tt=0;lt.sort(shadowCastingAndTexturingLightsFirst);const Ct=ct===!0?Math.PI:1;for(let $t=0,kt=lt.length;$t<kt;$t++){const It=lt[$t],Nt=It.color,Gt=It.intensity,Bt=It.distance,Rt=It.shadow&&It.shadow.map?It.shadow.map.texture:null;if(It.isAmbientLight)ut+=Nt.r*Gt*Ct,ft+=Nt.g*Gt*Ct,ht+=Nt.b*Gt*Ct;else if(It.isLightProbe){for(let Ot=0;Ot<9;Ot++)nt.probe[Ot].addScaledVector(It.sh.coefficients[Ot],Gt);Tt++}else if(It.isDirectionalLight){const Ot=et.get(It);if(Ot.color.copy(It.color).multiplyScalar(It.intensity*Ct),It.castShadow){const Ut=It.shadow,jt=tt.get(It);jt.shadowBias=Ut.bias,jt.shadowNormalBias=Ut.normalBias,jt.shadowRadius=Ut.radius,jt.shadowMapSize=Ut.mapSize,nt.directionalShadow[vt]=jt,nt.directionalShadowMap[vt]=Rt,nt.directionalShadowMatrix[vt]=It.shadow.matrix,St++}nt.directional[vt]=Ot,vt++}else if(It.isSpotLight){const Ot=et.get(It);Ot.position.setFromMatrixPosition(It.matrixWorld),Ot.color.copy(Nt).multiplyScalar(Gt*Ct),Ot.distance=Bt,Ot.coneCos=Math.cos(It.angle),Ot.penumbraCos=Math.cos(It.angle*(1-It.penumbra)),Ot.decay=It.decay,nt.spot[pt]=Ot;const Ut=It.shadow;if(It.map&&(nt.spotLightMap[Mt]=It.map,Mt++,Ut.updateMatrices(It),It.castShadow&&At++),nt.spotLightMatrix[pt]=Ut.matrix,It.castShadow){const jt=tt.get(It);jt.shadowBias=Ut.bias,jt.shadowNormalBias=Ut.normalBias,jt.shadowRadius=Ut.radius,jt.shadowMapSize=Ut.mapSize,nt.spotShadow[pt]=jt,nt.spotShadowMap[pt]=Rt,wt++}pt++}else if(It.isRectAreaLight){const Ot=et.get(It);Ot.color.copy(Nt).multiplyScalar(Gt),Ot.halfWidth.set(It.width*.5,0,0),Ot.halfHeight.set(0,It.height*.5,0),nt.rectArea[yt]=Ot,yt++}else if(It.isPointLight){const Ot=et.get(It);if(Ot.color.copy(It.color).multiplyScalar(It.intensity*Ct),Ot.distance=It.distance,Ot.decay=It.decay,It.castShadow){const Ut=It.shadow,jt=tt.get(It);jt.shadowBias=Ut.bias,jt.shadowNormalBias=Ut.normalBias,jt.shadowRadius=Ut.radius,jt.shadowMapSize=Ut.mapSize,jt.shadowCameraNear=Ut.camera.near,jt.shadowCameraFar=Ut.camera.far,nt.pointShadow[mt]=jt,nt.pointShadowMap[mt]=Rt,nt.pointShadowMatrix[mt]=It.shadow.matrix,Et++}nt.point[mt]=Ot,mt++}else if(It.isHemisphereLight){const Ot=et.get(It);Ot.skyColor.copy(It.color).multiplyScalar(Gt*Ct),Ot.groundColor.copy(It.groundColor).multiplyScalar(Gt*Ct),nt.hemi[_t]=Ot,_t++}}yt>0&&(_.isWebGL2||_e.has("OES_texture_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,nt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):_e.has("OES_texture_half_float_linear")===!0?(nt.rectAreaLTC1=UniformsLib.LTC_HALF_1,nt.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),nt.ambient[0]=ut,nt.ambient[1]=ft,nt.ambient[2]=ht;const Dt=nt.hash;(Dt.directionalLength!==vt||Dt.pointLength!==mt||Dt.spotLength!==pt||Dt.rectAreaLength!==yt||Dt.hemiLength!==_t||Dt.numDirectionalShadows!==St||Dt.numPointShadows!==Et||Dt.numSpotShadows!==wt||Dt.numSpotMaps!==Mt||Dt.numLightProbes!==Tt)&&(nt.directional.length=vt,nt.spot.length=pt,nt.rectArea.length=yt,nt.point.length=mt,nt.hemi.length=_t,nt.directionalShadow.length=St,nt.directionalShadowMap.length=St,nt.pointShadow.length=Et,nt.pointShadowMap.length=Et,nt.spotShadow.length=wt,nt.spotShadowMap.length=wt,nt.directionalShadowMatrix.length=St,nt.pointShadowMatrix.length=Et,nt.spotLightMatrix.length=wt+Mt-At,nt.spotLightMap.length=Mt,nt.numSpotLightShadowsWithMaps=At,nt.numLightProbes=Tt,Dt.directionalLength=vt,Dt.pointLength=mt,Dt.spotLength=pt,Dt.rectAreaLength=yt,Dt.hemiLength=_t,Dt.numDirectionalShadows=St,Dt.numPointShadows=Et,Dt.numSpotShadows=wt,Dt.numSpotMaps=Mt,Dt.numLightProbes=Tt,nt.version=nextVersion++)}function at(lt,ct){let ut=0,ft=0,ht=0,vt=0,mt=0;const pt=ct.matrixWorldInverse;for(let yt=0,_t=lt.length;yt<_t;yt++){const St=lt[yt];if(St.isDirectionalLight){const Et=nt.directional[ut];Et.direction.setFromMatrixPosition(St.matrixWorld),rt.setFromMatrixPosition(St.target.matrixWorld),Et.direction.sub(rt),Et.direction.transformDirection(pt),ut++}else if(St.isSpotLight){const Et=nt.spot[ht];Et.position.setFromMatrixPosition(St.matrixWorld),Et.position.applyMatrix4(pt),Et.direction.setFromMatrixPosition(St.matrixWorld),rt.setFromMatrixPosition(St.target.matrixWorld),Et.direction.sub(rt),Et.direction.transformDirection(pt),ht++}else if(St.isRectAreaLight){const Et=nt.rectArea[vt];Et.position.setFromMatrixPosition(St.matrixWorld),Et.position.applyMatrix4(pt),st.identity(),it.copy(St.matrixWorld),it.premultiply(pt),st.extractRotation(it),Et.halfWidth.set(St.width*.5,0,0),Et.halfHeight.set(0,St.height*.5,0),Et.halfWidth.applyMatrix4(st),Et.halfHeight.applyMatrix4(st),vt++}else if(St.isPointLight){const Et=nt.point[ft];Et.position.setFromMatrixPosition(St.matrixWorld),Et.position.applyMatrix4(pt),ft++}else if(St.isHemisphereLight){const Et=nt.hemi[mt];Et.direction.setFromMatrixPosition(St.matrixWorld),Et.direction.transformDirection(pt),mt++}}}return{setup:ot,setupView:at,state:nt}}function WebGLRenderState(_e,_){const et=new WebGLLights(_e,_),tt=[],nt=[];function rt(){tt.length=0,nt.length=0}function it(ct){tt.push(ct)}function st(ct){nt.push(ct)}function ot(ct){et.setup(tt,ct)}function at(ct){et.setupView(tt,ct)}return{init:rt,state:{lightsArray:tt,shadowsArray:nt,lights:et},setupLights:ot,setupLightsView:at,pushLight:it,pushShadow:st}}function WebGLRenderStates(_e,_){let et=new WeakMap;function tt(rt,it=0){const st=et.get(rt);let ot;return st===void 0?(ot=new WebGLRenderState(_e,_),et.set(rt,[ot])):it>=st.length?(ot=new WebGLRenderState(_e,_),st.push(ot)):ot=st[it],ot}function nt(){et=new WeakMap}return{get:tt,dispose:nt}}class MeshDepthMaterial extends Material{constructor(_){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_)}copy(_){return super.copy(_),this.depthPacking=_.depthPacking,this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(_){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(_)}copy(_){return super.copy(_),this.map=_.map,this.alphaMap=_.alphaMap,this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(_e,_,et){let tt=new Frustum;const nt=new Vector2,rt=new Vector2,it=new Vector4,st=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),ot=new MeshDistanceMaterial,at={},lt=et.maxTextureSize,ct={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ut=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ft=ut.clone();ft.defines.HORIZONTAL_PASS=1;const ht=new BufferGeometry;ht.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const vt=new Mesh(ht,ut),mt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let pt=this.type;this.render=function(Et,wt,Mt){if(mt.enabled===!1||mt.autoUpdate===!1&&mt.needsUpdate===!1||Et.length===0)return;const At=_e.getRenderTarget(),Tt=_e.getActiveCubeFace(),Ct=_e.getActiveMipmapLevel(),Dt=_e.state;Dt.setBlending(NoBlending),Dt.buffers.color.setClear(1,1,1,1),Dt.buffers.depth.setTest(!0),Dt.setScissorTest(!1);const $t=pt!==VSMShadowMap&&this.type===VSMShadowMap,kt=pt===VSMShadowMap&&this.type!==VSMShadowMap;for(let It=0,Nt=Et.length;It<Nt;It++){const Gt=Et[It],Bt=Gt.shadow;if(Bt===void 0){console.warn("THREE.WebGLShadowMap:",Gt,"has no shadow.");continue}if(Bt.autoUpdate===!1&&Bt.needsUpdate===!1)continue;nt.copy(Bt.mapSize);const Rt=Bt.getFrameExtents();if(nt.multiply(Rt),rt.copy(Bt.mapSize),(nt.x>lt||nt.y>lt)&&(nt.x>lt&&(rt.x=Math.floor(lt/Rt.x),nt.x=rt.x*Rt.x,Bt.mapSize.x=rt.x),nt.y>lt&&(rt.y=Math.floor(lt/Rt.y),nt.y=rt.y*Rt.y,Bt.mapSize.y=rt.y)),Bt.map===null||$t===!0||kt===!0){const Ut=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Bt.map!==null&&Bt.map.dispose(),Bt.map=new WebGLRenderTarget(nt.x,nt.y,Ut),Bt.map.texture.name=Gt.name+".shadowMap",Bt.camera.updateProjectionMatrix()}_e.setRenderTarget(Bt.map),_e.clear();const Ot=Bt.getViewportCount();for(let Ut=0;Ut<Ot;Ut++){const jt=Bt.getViewport(Ut);it.set(rt.x*jt.x,rt.y*jt.y,rt.x*jt.z,rt.y*jt.w),Dt.viewport(it),Bt.updateMatrices(Gt,Ut),tt=Bt.getFrustum(),St(wt,Mt,Bt.camera,Gt,this.type)}Bt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&yt(Bt,Mt),Bt.needsUpdate=!1}pt=this.type,mt.needsUpdate=!1,_e.setRenderTarget(At,Tt,Ct)};function yt(Et,wt){const Mt=_.update(vt);ut.defines.VSM_SAMPLES!==Et.blurSamples&&(ut.defines.VSM_SAMPLES=Et.blurSamples,ft.defines.VSM_SAMPLES=Et.blurSamples,ut.needsUpdate=!0,ft.needsUpdate=!0),Et.mapPass===null&&(Et.mapPass=new WebGLRenderTarget(nt.x,nt.y)),ut.uniforms.shadow_pass.value=Et.map.texture,ut.uniforms.resolution.value=Et.mapSize,ut.uniforms.radius.value=Et.radius,_e.setRenderTarget(Et.mapPass),_e.clear(),_e.renderBufferDirect(wt,null,Mt,ut,vt,null),ft.uniforms.shadow_pass.value=Et.mapPass.texture,ft.uniforms.resolution.value=Et.mapSize,ft.uniforms.radius.value=Et.radius,_e.setRenderTarget(Et.map),_e.clear(),_e.renderBufferDirect(wt,null,Mt,ft,vt,null)}function _t(Et,wt,Mt,At){let Tt=null;const Ct=Mt.isPointLight===!0?Et.customDistanceMaterial:Et.customDepthMaterial;if(Ct!==void 0)Tt=Ct;else if(Tt=Mt.isPointLight===!0?ot:st,_e.localClippingEnabled&&wt.clipShadows===!0&&Array.isArray(wt.clippingPlanes)&&wt.clippingPlanes.length!==0||wt.displacementMap&&wt.displacementScale!==0||wt.alphaMap&&wt.alphaTest>0||wt.map&&wt.alphaTest>0){const Dt=Tt.uuid,$t=wt.uuid;let kt=at[Dt];kt===void 0&&(kt={},at[Dt]=kt);let It=kt[$t];It===void 0&&(It=Tt.clone(),kt[$t]=It),Tt=It}if(Tt.visible=wt.visible,Tt.wireframe=wt.wireframe,At===VSMShadowMap?Tt.side=wt.shadowSide!==null?wt.shadowSide:wt.side:Tt.side=wt.shadowSide!==null?wt.shadowSide:ct[wt.side],Tt.alphaMap=wt.alphaMap,Tt.alphaTest=wt.alphaTest,Tt.map=wt.map,Tt.clipShadows=wt.clipShadows,Tt.clippingPlanes=wt.clippingPlanes,Tt.clipIntersection=wt.clipIntersection,Tt.displacementMap=wt.displacementMap,Tt.displacementScale=wt.displacementScale,Tt.displacementBias=wt.displacementBias,Tt.wireframeLinewidth=wt.wireframeLinewidth,Tt.linewidth=wt.linewidth,Mt.isPointLight===!0&&Tt.isMeshDistanceMaterial===!0){const Dt=_e.properties.get(Tt);Dt.light=Mt}return Tt}function St(Et,wt,Mt,At,Tt){if(Et.visible===!1)return;if(Et.layers.test(wt.layers)&&(Et.isMesh||Et.isLine||Et.isPoints)&&(Et.castShadow||Et.receiveShadow&&Tt===VSMShadowMap)&&(!Et.frustumCulled||tt.intersectsObject(Et))){Et.modelViewMatrix.multiplyMatrices(Mt.matrixWorldInverse,Et.matrixWorld);const $t=_.update(Et),kt=Et.material;if(Array.isArray(kt)){const It=$t.groups;for(let Nt=0,Gt=It.length;Nt<Gt;Nt++){const Bt=It[Nt],Rt=kt[Bt.materialIndex];if(Rt&&Rt.visible){const Ot=_t(Et,Rt,At,Tt);Et.onBeforeShadow(_e,Et,wt,Mt,$t,Ot,Bt),_e.renderBufferDirect(Mt,null,$t,Ot,Et,Bt),Et.onAfterShadow(_e,Et,wt,Mt,$t,Ot,Bt)}}}else if(kt.visible){const It=_t(Et,kt,At,Tt);Et.onBeforeShadow(_e,Et,wt,Mt,$t,It,null),_e.renderBufferDirect(Mt,null,$t,It,Et,null),Et.onAfterShadow(_e,Et,wt,Mt,$t,It,null)}}const Dt=Et.children;for(let $t=0,kt=Dt.length;$t<kt;$t++)St(Dt[$t],wt,Mt,At,Tt)}}function WebGLState(_e,_,et){const tt=et.isWebGL2;function nt(){let qt=!1;const kn=new Vector4;let wn=null;const dn=new Vector4(0,0,0,0);return{setMask:function(An){wn!==An&&!qt&&(_e.colorMask(An,An,An,An),wn=An)},setLocked:function(An){qt=An},setClear:function(An,Kn,fr,wr,Dr){Dr===!0&&(An*=wr,Kn*=wr,fr*=wr),kn.set(An,Kn,fr,wr),dn.equals(kn)===!1&&(_e.clearColor(An,Kn,fr,wr),dn.copy(kn))},reset:function(){qt=!1,wn=null,dn.set(-1,0,0,0)}}}function rt(){let qt=!1,kn=null,wn=null,dn=null;return{setTest:function(An){An?Pn(_e.DEPTH_TEST):Sn(_e.DEPTH_TEST)},setMask:function(An){kn!==An&&!qt&&(_e.depthMask(An),kn=An)},setFunc:function(An){if(wn!==An){switch(An){case NeverDepth:_e.depthFunc(_e.NEVER);break;case AlwaysDepth:_e.depthFunc(_e.ALWAYS);break;case LessDepth:_e.depthFunc(_e.LESS);break;case LessEqualDepth:_e.depthFunc(_e.LEQUAL);break;case EqualDepth:_e.depthFunc(_e.EQUAL);break;case GreaterEqualDepth:_e.depthFunc(_e.GEQUAL);break;case GreaterDepth:_e.depthFunc(_e.GREATER);break;case NotEqualDepth:_e.depthFunc(_e.NOTEQUAL);break;default:_e.depthFunc(_e.LEQUAL)}wn=An}},setLocked:function(An){qt=An},setClear:function(An){dn!==An&&(_e.clearDepth(An),dn=An)},reset:function(){qt=!1,kn=null,wn=null,dn=null}}}function it(){let qt=!1,kn=null,wn=null,dn=null,An=null,Kn=null,fr=null,wr=null,Dr=null;return{setTest:function(gr){qt||(gr?Pn(_e.STENCIL_TEST):Sn(_e.STENCIL_TEST))},setMask:function(gr){kn!==gr&&!qt&&(_e.stencilMask(gr),kn=gr)},setFunc:function(gr,kr,_i){(wn!==gr||dn!==kr||An!==_i)&&(_e.stencilFunc(gr,kr,_i),wn=gr,dn=kr,An=_i)},setOp:function(gr,kr,_i){(Kn!==gr||fr!==kr||wr!==_i)&&(_e.stencilOp(gr,kr,_i),Kn=gr,fr=kr,wr=_i)},setLocked:function(gr){qt=gr},setClear:function(gr){Dr!==gr&&(_e.clearStencil(gr),Dr=gr)},reset:function(){qt=!1,kn=null,wn=null,dn=null,An=null,Kn=null,fr=null,wr=null,Dr=null}}}const st=new nt,ot=new rt,at=new it,lt=new WeakMap,ct=new WeakMap;let ut={},ft={},ht=new WeakMap,vt=[],mt=null,pt=!1,yt=null,_t=null,St=null,Et=null,wt=null,Mt=null,At=null,Tt=new Color$1(0,0,0),Ct=0,Dt=!1,$t=null,kt=null,It=null,Nt=null,Gt=null;const Bt=_e.getParameter(_e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Rt=!1,Ot=0;const Ut=_e.getParameter(_e.VERSION);Ut.indexOf("WebGL")!==-1?(Ot=parseFloat(/^WebGL (\d)/.exec(Ut)[1]),Rt=Ot>=1):Ut.indexOf("OpenGL ES")!==-1&&(Ot=parseFloat(/^OpenGL ES (\d)/.exec(Ut)[1]),Rt=Ot>=2);let jt=null,Jt={};const Xt=_e.getParameter(_e.SCISSOR_BOX),Qt=_e.getParameter(_e.VIEWPORT),rn=new Vector4().fromArray(Xt),pn=new Vector4().fromArray(Qt);function fn(qt,kn,wn,dn){const An=new Uint8Array(4),Kn=_e.createTexture();_e.bindTexture(qt,Kn),_e.texParameteri(qt,_e.TEXTURE_MIN_FILTER,_e.NEAREST),_e.texParameteri(qt,_e.TEXTURE_MAG_FILTER,_e.NEAREST);for(let fr=0;fr<wn;fr++)tt&&(qt===_e.TEXTURE_3D||qt===_e.TEXTURE_2D_ARRAY)?_e.texImage3D(kn,0,_e.RGBA,1,1,dn,0,_e.RGBA,_e.UNSIGNED_BYTE,An):_e.texImage2D(kn+fr,0,_e.RGBA,1,1,0,_e.RGBA,_e.UNSIGNED_BYTE,An);return Kn}const _n={};_n[_e.TEXTURE_2D]=fn(_e.TEXTURE_2D,_e.TEXTURE_2D,1),_n[_e.TEXTURE_CUBE_MAP]=fn(_e.TEXTURE_CUBE_MAP,_e.TEXTURE_CUBE_MAP_POSITIVE_X,6),tt&&(_n[_e.TEXTURE_2D_ARRAY]=fn(_e.TEXTURE_2D_ARRAY,_e.TEXTURE_2D_ARRAY,1,1),_n[_e.TEXTURE_3D]=fn(_e.TEXTURE_3D,_e.TEXTURE_3D,1,1)),st.setClear(0,0,0,1),ot.setClear(1),at.setClear(0),Pn(_e.DEPTH_TEST),ot.setFunc(LessEqualDepth),En(!1),Mn(CullFaceBack),Pn(_e.CULL_FACE),hn(NoBlending);function Pn(qt){ut[qt]!==!0&&(_e.enable(qt),ut[qt]=!0)}function Sn(qt){ut[qt]!==!1&&(_e.disable(qt),ut[qt]=!1)}function Cn(qt,kn){return ft[qt]!==kn?(_e.bindFramebuffer(qt,kn),ft[qt]=kn,tt&&(qt===_e.DRAW_FRAMEBUFFER&&(ft[_e.FRAMEBUFFER]=kn),qt===_e.FRAMEBUFFER&&(ft[_e.DRAW_FRAMEBUFFER]=kn)),!0):!1}function Wt(qt,kn){let wn=vt,dn=!1;if(qt)if(wn=ht.get(kn),wn===void 0&&(wn=[],ht.set(kn,wn)),qt.isWebGLMultipleRenderTargets){const An=qt.texture;if(wn.length!==An.length||wn[0]!==_e.COLOR_ATTACHMENT0){for(let Kn=0,fr=An.length;Kn<fr;Kn++)wn[Kn]=_e.COLOR_ATTACHMENT0+Kn;wn.length=An.length,dn=!0}}else wn[0]!==_e.COLOR_ATTACHMENT0&&(wn[0]=_e.COLOR_ATTACHMENT0,dn=!0);else wn[0]!==_e.BACK&&(wn[0]=_e.BACK,dn=!0);dn&&(et.isWebGL2?_e.drawBuffers(wn):_.get("WEBGL_draw_buffers").drawBuffersWEBGL(wn))}function tn(qt){return mt!==qt?(_e.useProgram(qt),mt=qt,!0):!1}const an={[AddEquation]:_e.FUNC_ADD,[SubtractEquation]:_e.FUNC_SUBTRACT,[ReverseSubtractEquation]:_e.FUNC_REVERSE_SUBTRACT};if(tt)an[MinEquation]=_e.MIN,an[MaxEquation]=_e.MAX;else{const qt=_.get("EXT_blend_minmax");qt!==null&&(an[MinEquation]=qt.MIN_EXT,an[MaxEquation]=qt.MAX_EXT)}const vn={[ZeroFactor]:_e.ZERO,[OneFactor]:_e.ONE,[SrcColorFactor]:_e.SRC_COLOR,[SrcAlphaFactor]:_e.SRC_ALPHA,[SrcAlphaSaturateFactor]:_e.SRC_ALPHA_SATURATE,[DstColorFactor]:_e.DST_COLOR,[DstAlphaFactor]:_e.DST_ALPHA,[OneMinusSrcColorFactor]:_e.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:_e.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:_e.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:_e.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:_e.CONSTANT_COLOR,[OneMinusConstantColorFactor]:_e.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:_e.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:_e.ONE_MINUS_CONSTANT_ALPHA};function hn(qt,kn,wn,dn,An,Kn,fr,wr,Dr,gr){if(qt===NoBlending){pt===!0&&(Sn(_e.BLEND),pt=!1);return}if(pt===!1&&(Pn(_e.BLEND),pt=!0),qt!==CustomBlending){if(qt!==yt||gr!==Dt){if((_t!==AddEquation||wt!==AddEquation)&&(_e.blendEquation(_e.FUNC_ADD),_t=AddEquation,wt=AddEquation),gr)switch(qt){case NormalBlending:_e.blendFuncSeparate(_e.ONE,_e.ONE_MINUS_SRC_ALPHA,_e.ONE,_e.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:_e.blendFunc(_e.ONE,_e.ONE);break;case SubtractiveBlending:_e.blendFuncSeparate(_e.ZERO,_e.ONE_MINUS_SRC_COLOR,_e.ZERO,_e.ONE);break;case MultiplyBlending:_e.blendFuncSeparate(_e.ZERO,_e.SRC_COLOR,_e.ZERO,_e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",qt);break}else switch(qt){case NormalBlending:_e.blendFuncSeparate(_e.SRC_ALPHA,_e.ONE_MINUS_SRC_ALPHA,_e.ONE,_e.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:_e.blendFunc(_e.SRC_ALPHA,_e.ONE);break;case SubtractiveBlending:_e.blendFuncSeparate(_e.ZERO,_e.ONE_MINUS_SRC_COLOR,_e.ZERO,_e.ONE);break;case MultiplyBlending:_e.blendFunc(_e.ZERO,_e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",qt);break}St=null,Et=null,Mt=null,At=null,Tt.set(0,0,0),Ct=0,yt=qt,Dt=gr}return}An=An||kn,Kn=Kn||wn,fr=fr||dn,(kn!==_t||An!==wt)&&(_e.blendEquationSeparate(an[kn],an[An]),_t=kn,wt=An),(wn!==St||dn!==Et||Kn!==Mt||fr!==At)&&(_e.blendFuncSeparate(vn[wn],vn[dn],vn[Kn],vn[fr]),St=wn,Et=dn,Mt=Kn,At=fr),(wr.equals(Tt)===!1||Dr!==Ct)&&(_e.blendColor(wr.r,wr.g,wr.b,Dr),Tt.copy(wr),Ct=Dr),yt=qt,Dt=!1}function $n(qt,kn){qt.side===DoubleSide?Sn(_e.CULL_FACE):Pn(_e.CULL_FACE);let wn=qt.side===BackSide;kn&&(wn=!wn),En(wn),qt.blending===NormalBlending&&qt.transparent===!1?hn(NoBlending):hn(qt.blending,qt.blendEquation,qt.blendSrc,qt.blendDst,qt.blendEquationAlpha,qt.blendSrcAlpha,qt.blendDstAlpha,qt.blendColor,qt.blendAlpha,qt.premultipliedAlpha),ot.setFunc(qt.depthFunc),ot.setTest(qt.depthTest),ot.setMask(qt.depthWrite),st.setMask(qt.colorWrite);const dn=qt.stencilWrite;at.setTest(dn),dn&&(at.setMask(qt.stencilWriteMask),at.setFunc(qt.stencilFunc,qt.stencilRef,qt.stencilFuncMask),at.setOp(qt.stencilFail,qt.stencilZFail,qt.stencilZPass)),Vn(qt.polygonOffset,qt.polygonOffsetFactor,qt.polygonOffsetUnits),qt.alphaToCoverage===!0?Pn(_e.SAMPLE_ALPHA_TO_COVERAGE):Sn(_e.SAMPLE_ALPHA_TO_COVERAGE)}function En(qt){$t!==qt&&(qt?_e.frontFace(_e.CW):_e.frontFace(_e.CCW),$t=qt)}function Mn(qt){qt!==CullFaceNone?(Pn(_e.CULL_FACE),qt!==kt&&(qt===CullFaceBack?_e.cullFace(_e.BACK):qt===CullFaceFront?_e.cullFace(_e.FRONT):_e.cullFace(_e.FRONT_AND_BACK))):Sn(_e.CULL_FACE),kt=qt}function Rn(qt){qt!==It&&(Rt&&_e.lineWidth(qt),It=qt)}function Vn(qt,kn,wn){qt?(Pn(_e.POLYGON_OFFSET_FILL),(Nt!==kn||Gt!==wn)&&(_e.polygonOffset(kn,wn),Nt=kn,Gt=wn)):Sn(_e.POLYGON_OFFSET_FILL)}function sr(qt){qt?Pn(_e.SCISSOR_TEST):Sn(_e.SCISSOR_TEST)}function zt(qt){qt===void 0&&(qt=_e.TEXTURE0+Bt-1),jt!==qt&&(_e.activeTexture(qt),jt=qt)}function Ft(qt,kn,wn){wn===void 0&&(jt===null?wn=_e.TEXTURE0+Bt-1:wn=jt);let dn=Jt[wn];dn===void 0&&(dn={type:void 0,texture:void 0},Jt[wn]=dn),(dn.type!==qt||dn.texture!==kn)&&(jt!==wn&&(_e.activeTexture(wn),jt=wn),_e.bindTexture(qt,kn||_n[qt]),dn.type=qt,dn.texture=kn)}function Zt(){const qt=Jt[jt];qt!==void 0&&qt.type!==void 0&&(_e.bindTexture(qt.type,null),qt.type=void 0,qt.texture=void 0)}function gn(){try{_e.compressedTexImage2D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function mn(){try{_e.compressedTexImage3D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function yn(){try{_e.texSubImage2D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function Fn(){try{_e.texSubImage3D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function bn(){try{_e.compressedTexSubImage2D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function Dn(){try{_e.compressedTexSubImage3D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function qn(){try{_e.texStorage2D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function cr(){try{_e.texStorage3D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function xn(){try{_e.texImage2D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function hr(){try{_e.texImage3D.apply(_e,arguments)}catch(qt){console.error("THREE.WebGLState:",qt)}}function Jn(qt){rn.equals(qt)===!1&&(_e.scissor(qt.x,qt.y,qt.z,qt.w),rn.copy(qt))}function jn(qt){pn.equals(qt)===!1&&(_e.viewport(qt.x,qt.y,qt.z,qt.w),pn.copy(qt))}function Wn(qt,kn){let wn=ct.get(kn);wn===void 0&&(wn=new WeakMap,ct.set(kn,wn));let dn=wn.get(qt);dn===void 0&&(dn=_e.getUniformBlockIndex(kn,qt.name),wn.set(qt,dn))}function Nn(qt,kn){const dn=ct.get(kn).get(qt);lt.get(kn)!==dn&&(_e.uniformBlockBinding(kn,dn,qt.__bindingPointIndex),lt.set(kn,dn))}function ur(){_e.disable(_e.BLEND),_e.disable(_e.CULL_FACE),_e.disable(_e.DEPTH_TEST),_e.disable(_e.POLYGON_OFFSET_FILL),_e.disable(_e.SCISSOR_TEST),_e.disable(_e.STENCIL_TEST),_e.disable(_e.SAMPLE_ALPHA_TO_COVERAGE),_e.blendEquation(_e.FUNC_ADD),_e.blendFunc(_e.ONE,_e.ZERO),_e.blendFuncSeparate(_e.ONE,_e.ZERO,_e.ONE,_e.ZERO),_e.blendColor(0,0,0,0),_e.colorMask(!0,!0,!0,!0),_e.clearColor(0,0,0,0),_e.depthMask(!0),_e.depthFunc(_e.LESS),_e.clearDepth(1),_e.stencilMask(4294967295),_e.stencilFunc(_e.ALWAYS,0,4294967295),_e.stencilOp(_e.KEEP,_e.KEEP,_e.KEEP),_e.clearStencil(0),_e.cullFace(_e.BACK),_e.frontFace(_e.CCW),_e.polygonOffset(0,0),_e.activeTexture(_e.TEXTURE0),_e.bindFramebuffer(_e.FRAMEBUFFER,null),tt===!0&&(_e.bindFramebuffer(_e.DRAW_FRAMEBUFFER,null),_e.bindFramebuffer(_e.READ_FRAMEBUFFER,null)),_e.useProgram(null),_e.lineWidth(1),_e.scissor(0,0,_e.canvas.width,_e.canvas.height),_e.viewport(0,0,_e.canvas.width,_e.canvas.height),ut={},jt=null,Jt={},ft={},ht=new WeakMap,vt=[],mt=null,pt=!1,yt=null,_t=null,St=null,Et=null,wt=null,Mt=null,At=null,Tt=new Color$1(0,0,0),Ct=0,Dt=!1,$t=null,kt=null,It=null,Nt=null,Gt=null,rn.set(0,0,_e.canvas.width,_e.canvas.height),pn.set(0,0,_e.canvas.width,_e.canvas.height),st.reset(),ot.reset(),at.reset()}return{buffers:{color:st,depth:ot,stencil:at},enable:Pn,disable:Sn,bindFramebuffer:Cn,drawBuffers:Wt,useProgram:tn,setBlending:hn,setMaterial:$n,setFlipSided:En,setCullFace:Mn,setLineWidth:Rn,setPolygonOffset:Vn,setScissorTest:sr,activeTexture:zt,bindTexture:Ft,unbindTexture:Zt,compressedTexImage2D:gn,compressedTexImage3D:mn,texImage2D:xn,texImage3D:hr,updateUBOMapping:Wn,uniformBlockBinding:Nn,texStorage2D:qn,texStorage3D:cr,texSubImage2D:yn,texSubImage3D:Fn,compressedTexSubImage2D:bn,compressedTexSubImage3D:Dn,scissor:Jn,viewport:jn,reset:ur}}function WebGLTextures(_e,_,et,tt,nt,rt,it){const st=nt.isWebGL2,ot=nt.maxTextures,at=nt.maxCubemapSize,lt=nt.maxTextureSize,ct=nt.maxSamples,ut=_.has("WEBGL_multisampled_render_to_texture")?_.get("WEBGL_multisampled_render_to_texture"):null,ft=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),ht=new WeakMap;let vt;const mt=new WeakMap;let pt=!1;try{pt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function yt(zt,Ft){return pt?new OffscreenCanvas(zt,Ft):createElementNS("canvas")}function _t(zt,Ft,Zt,gn){let mn=1;if((zt.width>gn||zt.height>gn)&&(mn=gn/Math.max(zt.width,zt.height)),mn<1||Ft===!0)if(typeof HTMLImageElement<"u"&&zt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&zt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&zt instanceof ImageBitmap){const yn=Ft?floorPowerOfTwo:Math.floor,Fn=yn(mn*zt.width),bn=yn(mn*zt.height);vt===void 0&&(vt=yt(Fn,bn));const Dn=Zt?yt(Fn,bn):vt;return Dn.width=Fn,Dn.height=bn,Dn.getContext("2d").drawImage(zt,0,0,Fn,bn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+zt.width+"x"+zt.height+") to ("+Fn+"x"+bn+")."),Dn}else return"data"in zt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+zt.width+"x"+zt.height+")."),zt;return zt}function St(zt){return isPowerOfTwo(zt.width)&&isPowerOfTwo(zt.height)}function Et(zt){return st?!1:zt.wrapS!==ClampToEdgeWrapping||zt.wrapT!==ClampToEdgeWrapping||zt.minFilter!==NearestFilter&&zt.minFilter!==LinearFilter}function wt(zt,Ft){return zt.generateMipmaps&&Ft&&zt.minFilter!==NearestFilter&&zt.minFilter!==LinearFilter}function Mt(zt){_e.generateMipmap(zt)}function At(zt,Ft,Zt,gn,mn=!1){if(st===!1)return Ft;if(zt!==null){if(_e[zt]!==void 0)return _e[zt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+zt+"'")}let yn=Ft;if(Ft===_e.RED&&(Zt===_e.FLOAT&&(yn=_e.R32F),Zt===_e.HALF_FLOAT&&(yn=_e.R16F),Zt===_e.UNSIGNED_BYTE&&(yn=_e.R8)),Ft===_e.RED_INTEGER&&(Zt===_e.UNSIGNED_BYTE&&(yn=_e.R8UI),Zt===_e.UNSIGNED_SHORT&&(yn=_e.R16UI),Zt===_e.UNSIGNED_INT&&(yn=_e.R32UI),Zt===_e.BYTE&&(yn=_e.R8I),Zt===_e.SHORT&&(yn=_e.R16I),Zt===_e.INT&&(yn=_e.R32I)),Ft===_e.RG&&(Zt===_e.FLOAT&&(yn=_e.RG32F),Zt===_e.HALF_FLOAT&&(yn=_e.RG16F),Zt===_e.UNSIGNED_BYTE&&(yn=_e.RG8)),Ft===_e.RGBA){const Fn=mn?LinearTransfer:ColorManagement.getTransfer(gn);Zt===_e.FLOAT&&(yn=_e.RGBA32F),Zt===_e.HALF_FLOAT&&(yn=_e.RGBA16F),Zt===_e.UNSIGNED_BYTE&&(yn=Fn===SRGBTransfer?_e.SRGB8_ALPHA8:_e.RGBA8),Zt===_e.UNSIGNED_SHORT_4_4_4_4&&(yn=_e.RGBA4),Zt===_e.UNSIGNED_SHORT_5_5_5_1&&(yn=_e.RGB5_A1)}return(yn===_e.R16F||yn===_e.R32F||yn===_e.RG16F||yn===_e.RG32F||yn===_e.RGBA16F||yn===_e.RGBA32F)&&_.get("EXT_color_buffer_float"),yn}function Tt(zt,Ft,Zt){return wt(zt,Zt)===!0||zt.isFramebufferTexture&&zt.minFilter!==NearestFilter&&zt.minFilter!==LinearFilter?Math.log2(Math.max(Ft.width,Ft.height))+1:zt.mipmaps!==void 0&&zt.mipmaps.length>0?zt.mipmaps.length:zt.isCompressedTexture&&Array.isArray(zt.image)?Ft.mipmaps.length:1}function Ct(zt){return zt===NearestFilter||zt===NearestMipmapNearestFilter||zt===NearestMipmapLinearFilter?_e.NEAREST:_e.LINEAR}function Dt(zt){const Ft=zt.target;Ft.removeEventListener("dispose",Dt),kt(Ft),Ft.isVideoTexture&&ht.delete(Ft)}function $t(zt){const Ft=zt.target;Ft.removeEventListener("dispose",$t),Nt(Ft)}function kt(zt){const Ft=tt.get(zt);if(Ft.__webglInit===void 0)return;const Zt=zt.source,gn=mt.get(Zt);if(gn){const mn=gn[Ft.__cacheKey];mn.usedTimes--,mn.usedTimes===0&&It(zt),Object.keys(gn).length===0&&mt.delete(Zt)}tt.remove(zt)}function It(zt){const Ft=tt.get(zt);_e.deleteTexture(Ft.__webglTexture);const Zt=zt.source,gn=mt.get(Zt);delete gn[Ft.__cacheKey],it.memory.textures--}function Nt(zt){const Ft=zt.texture,Zt=tt.get(zt),gn=tt.get(Ft);if(gn.__webglTexture!==void 0&&(_e.deleteTexture(gn.__webglTexture),it.memory.textures--),zt.depthTexture&&zt.depthTexture.dispose(),zt.isWebGLCubeRenderTarget)for(let mn=0;mn<6;mn++){if(Array.isArray(Zt.__webglFramebuffer[mn]))for(let yn=0;yn<Zt.__webglFramebuffer[mn].length;yn++)_e.deleteFramebuffer(Zt.__webglFramebuffer[mn][yn]);else _e.deleteFramebuffer(Zt.__webglFramebuffer[mn]);Zt.__webglDepthbuffer&&_e.deleteRenderbuffer(Zt.__webglDepthbuffer[mn])}else{if(Array.isArray(Zt.__webglFramebuffer))for(let mn=0;mn<Zt.__webglFramebuffer.length;mn++)_e.deleteFramebuffer(Zt.__webglFramebuffer[mn]);else _e.deleteFramebuffer(Zt.__webglFramebuffer);if(Zt.__webglDepthbuffer&&_e.deleteRenderbuffer(Zt.__webglDepthbuffer),Zt.__webglMultisampledFramebuffer&&_e.deleteFramebuffer(Zt.__webglMultisampledFramebuffer),Zt.__webglColorRenderbuffer)for(let mn=0;mn<Zt.__webglColorRenderbuffer.length;mn++)Zt.__webglColorRenderbuffer[mn]&&_e.deleteRenderbuffer(Zt.__webglColorRenderbuffer[mn]);Zt.__webglDepthRenderbuffer&&_e.deleteRenderbuffer(Zt.__webglDepthRenderbuffer)}if(zt.isWebGLMultipleRenderTargets)for(let mn=0,yn=Ft.length;mn<yn;mn++){const Fn=tt.get(Ft[mn]);Fn.__webglTexture&&(_e.deleteTexture(Fn.__webglTexture),it.memory.textures--),tt.remove(Ft[mn])}tt.remove(Ft),tt.remove(zt)}let Gt=0;function Bt(){Gt=0}function Rt(){const zt=Gt;return zt>=ot&&console.warn("THREE.WebGLTextures: Trying to use "+zt+" texture units while this GPU supports only "+ot),Gt+=1,zt}function Ot(zt){const Ft=[];return Ft.push(zt.wrapS),Ft.push(zt.wrapT),Ft.push(zt.wrapR||0),Ft.push(zt.magFilter),Ft.push(zt.minFilter),Ft.push(zt.anisotropy),Ft.push(zt.internalFormat),Ft.push(zt.format),Ft.push(zt.type),Ft.push(zt.generateMipmaps),Ft.push(zt.premultiplyAlpha),Ft.push(zt.flipY),Ft.push(zt.unpackAlignment),Ft.push(zt.colorSpace),Ft.join()}function Ut(zt,Ft){const Zt=tt.get(zt);if(zt.isVideoTexture&&Vn(zt),zt.isRenderTargetTexture===!1&&zt.version>0&&Zt.__version!==zt.version){const gn=zt.image;if(gn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(gn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Pn(Zt,zt,Ft);return}}et.bindTexture(_e.TEXTURE_2D,Zt.__webglTexture,_e.TEXTURE0+Ft)}function jt(zt,Ft){const Zt=tt.get(zt);if(zt.version>0&&Zt.__version!==zt.version){Pn(Zt,zt,Ft);return}et.bindTexture(_e.TEXTURE_2D_ARRAY,Zt.__webglTexture,_e.TEXTURE0+Ft)}function Jt(zt,Ft){const Zt=tt.get(zt);if(zt.version>0&&Zt.__version!==zt.version){Pn(Zt,zt,Ft);return}et.bindTexture(_e.TEXTURE_3D,Zt.__webglTexture,_e.TEXTURE0+Ft)}function Xt(zt,Ft){const Zt=tt.get(zt);if(zt.version>0&&Zt.__version!==zt.version){Sn(Zt,zt,Ft);return}et.bindTexture(_e.TEXTURE_CUBE_MAP,Zt.__webglTexture,_e.TEXTURE0+Ft)}const Qt={[RepeatWrapping]:_e.REPEAT,[ClampToEdgeWrapping]:_e.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:_e.MIRRORED_REPEAT},rn={[NearestFilter]:_e.NEAREST,[NearestMipmapNearestFilter]:_e.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:_e.NEAREST_MIPMAP_LINEAR,[LinearFilter]:_e.LINEAR,[LinearMipmapNearestFilter]:_e.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:_e.LINEAR_MIPMAP_LINEAR},pn={[NeverCompare]:_e.NEVER,[AlwaysCompare]:_e.ALWAYS,[LessCompare]:_e.LESS,[LessEqualCompare]:_e.LEQUAL,[EqualCompare]:_e.EQUAL,[GreaterEqualCompare]:_e.GEQUAL,[GreaterCompare]:_e.GREATER,[NotEqualCompare]:_e.NOTEQUAL};function fn(zt,Ft,Zt){if(Zt?(_e.texParameteri(zt,_e.TEXTURE_WRAP_S,Qt[Ft.wrapS]),_e.texParameteri(zt,_e.TEXTURE_WRAP_T,Qt[Ft.wrapT]),(zt===_e.TEXTURE_3D||zt===_e.TEXTURE_2D_ARRAY)&&_e.texParameteri(zt,_e.TEXTURE_WRAP_R,Qt[Ft.wrapR]),_e.texParameteri(zt,_e.TEXTURE_MAG_FILTER,rn[Ft.magFilter]),_e.texParameteri(zt,_e.TEXTURE_MIN_FILTER,rn[Ft.minFilter])):(_e.texParameteri(zt,_e.TEXTURE_WRAP_S,_e.CLAMP_TO_EDGE),_e.texParameteri(zt,_e.TEXTURE_WRAP_T,_e.CLAMP_TO_EDGE),(zt===_e.TEXTURE_3D||zt===_e.TEXTURE_2D_ARRAY)&&_e.texParameteri(zt,_e.TEXTURE_WRAP_R,_e.CLAMP_TO_EDGE),(Ft.wrapS!==ClampToEdgeWrapping||Ft.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),_e.texParameteri(zt,_e.TEXTURE_MAG_FILTER,Ct(Ft.magFilter)),_e.texParameteri(zt,_e.TEXTURE_MIN_FILTER,Ct(Ft.minFilter)),Ft.minFilter!==NearestFilter&&Ft.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Ft.compareFunction&&(_e.texParameteri(zt,_e.TEXTURE_COMPARE_MODE,_e.COMPARE_REF_TO_TEXTURE),_e.texParameteri(zt,_e.TEXTURE_COMPARE_FUNC,pn[Ft.compareFunction])),_.has("EXT_texture_filter_anisotropic")===!0){const gn=_.get("EXT_texture_filter_anisotropic");if(Ft.magFilter===NearestFilter||Ft.minFilter!==NearestMipmapLinearFilter&&Ft.minFilter!==LinearMipmapLinearFilter||Ft.type===FloatType&&_.has("OES_texture_float_linear")===!1||st===!1&&Ft.type===HalfFloatType&&_.has("OES_texture_half_float_linear")===!1)return;(Ft.anisotropy>1||tt.get(Ft).__currentAnisotropy)&&(_e.texParameterf(zt,gn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ft.anisotropy,nt.getMaxAnisotropy())),tt.get(Ft).__currentAnisotropy=Ft.anisotropy)}}function _n(zt,Ft){let Zt=!1;zt.__webglInit===void 0&&(zt.__webglInit=!0,Ft.addEventListener("dispose",Dt));const gn=Ft.source;let mn=mt.get(gn);mn===void 0&&(mn={},mt.set(gn,mn));const yn=Ot(Ft);if(yn!==zt.__cacheKey){mn[yn]===void 0&&(mn[yn]={texture:_e.createTexture(),usedTimes:0},it.memory.textures++,Zt=!0),mn[yn].usedTimes++;const Fn=mn[zt.__cacheKey];Fn!==void 0&&(mn[zt.__cacheKey].usedTimes--,Fn.usedTimes===0&&It(Ft)),zt.__cacheKey=yn,zt.__webglTexture=mn[yn].texture}return Zt}function Pn(zt,Ft,Zt){let gn=_e.TEXTURE_2D;(Ft.isDataArrayTexture||Ft.isCompressedArrayTexture)&&(gn=_e.TEXTURE_2D_ARRAY),Ft.isData3DTexture&&(gn=_e.TEXTURE_3D);const mn=_n(zt,Ft),yn=Ft.source;et.bindTexture(gn,zt.__webglTexture,_e.TEXTURE0+Zt);const Fn=tt.get(yn);if(yn.version!==Fn.__version||mn===!0){et.activeTexture(_e.TEXTURE0+Zt);const bn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Dn=Ft.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ft.colorSpace),qn=Ft.colorSpace===NoColorSpace||bn===Dn?_e.NONE:_e.BROWSER_DEFAULT_WEBGL;_e.pixelStorei(_e.UNPACK_FLIP_Y_WEBGL,Ft.flipY),_e.pixelStorei(_e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ft.premultiplyAlpha),_e.pixelStorei(_e.UNPACK_ALIGNMENT,Ft.unpackAlignment),_e.pixelStorei(_e.UNPACK_COLORSPACE_CONVERSION_WEBGL,qn);const cr=Et(Ft)&&St(Ft.image)===!1;let xn=_t(Ft.image,cr,!1,lt);xn=sr(Ft,xn);const hr=St(xn)||st,Jn=rt.convert(Ft.format,Ft.colorSpace);let jn=rt.convert(Ft.type),Wn=At(Ft.internalFormat,Jn,jn,Ft.colorSpace,Ft.isVideoTexture);fn(gn,Ft,hr);let Nn;const ur=Ft.mipmaps,qt=st&&Ft.isVideoTexture!==!0&&Wn!==RGB_ETC1_Format,kn=Fn.__version===void 0||mn===!0,wn=Tt(Ft,xn,hr);if(Ft.isDepthTexture)Wn=_e.DEPTH_COMPONENT,st?Ft.type===FloatType?Wn=_e.DEPTH_COMPONENT32F:Ft.type===UnsignedIntType?Wn=_e.DEPTH_COMPONENT24:Ft.type===UnsignedInt248Type?Wn=_e.DEPTH24_STENCIL8:Wn=_e.DEPTH_COMPONENT16:Ft.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ft.format===DepthFormat&&Wn===_e.DEPTH_COMPONENT&&Ft.type!==UnsignedShortType&&Ft.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ft.type=UnsignedIntType,jn=rt.convert(Ft.type)),Ft.format===DepthStencilFormat&&Wn===_e.DEPTH_COMPONENT&&(Wn=_e.DEPTH_STENCIL,Ft.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ft.type=UnsignedInt248Type,jn=rt.convert(Ft.type))),kn&&(qt?et.texStorage2D(_e.TEXTURE_2D,1,Wn,xn.width,xn.height):et.texImage2D(_e.TEXTURE_2D,0,Wn,xn.width,xn.height,0,Jn,jn,null));else if(Ft.isDataTexture)if(ur.length>0&&hr){qt&&kn&&et.texStorage2D(_e.TEXTURE_2D,wn,Wn,ur[0].width,ur[0].height);for(let dn=0,An=ur.length;dn<An;dn++)Nn=ur[dn],qt?et.texSubImage2D(_e.TEXTURE_2D,dn,0,0,Nn.width,Nn.height,Jn,jn,Nn.data):et.texImage2D(_e.TEXTURE_2D,dn,Wn,Nn.width,Nn.height,0,Jn,jn,Nn.data);Ft.generateMipmaps=!1}else qt?(kn&&et.texStorage2D(_e.TEXTURE_2D,wn,Wn,xn.width,xn.height),et.texSubImage2D(_e.TEXTURE_2D,0,0,0,xn.width,xn.height,Jn,jn,xn.data)):et.texImage2D(_e.TEXTURE_2D,0,Wn,xn.width,xn.height,0,Jn,jn,xn.data);else if(Ft.isCompressedTexture)if(Ft.isCompressedArrayTexture){qt&&kn&&et.texStorage3D(_e.TEXTURE_2D_ARRAY,wn,Wn,ur[0].width,ur[0].height,xn.depth);for(let dn=0,An=ur.length;dn<An;dn++)Nn=ur[dn],Ft.format!==RGBAFormat?Jn!==null?qt?et.compressedTexSubImage3D(_e.TEXTURE_2D_ARRAY,dn,0,0,0,Nn.width,Nn.height,xn.depth,Jn,Nn.data,0,0):et.compressedTexImage3D(_e.TEXTURE_2D_ARRAY,dn,Wn,Nn.width,Nn.height,xn.depth,0,Nn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?et.texSubImage3D(_e.TEXTURE_2D_ARRAY,dn,0,0,0,Nn.width,Nn.height,xn.depth,Jn,jn,Nn.data):et.texImage3D(_e.TEXTURE_2D_ARRAY,dn,Wn,Nn.width,Nn.height,xn.depth,0,Jn,jn,Nn.data)}else{qt&&kn&&et.texStorage2D(_e.TEXTURE_2D,wn,Wn,ur[0].width,ur[0].height);for(let dn=0,An=ur.length;dn<An;dn++)Nn=ur[dn],Ft.format!==RGBAFormat?Jn!==null?qt?et.compressedTexSubImage2D(_e.TEXTURE_2D,dn,0,0,Nn.width,Nn.height,Jn,Nn.data):et.compressedTexImage2D(_e.TEXTURE_2D,dn,Wn,Nn.width,Nn.height,0,Nn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?et.texSubImage2D(_e.TEXTURE_2D,dn,0,0,Nn.width,Nn.height,Jn,jn,Nn.data):et.texImage2D(_e.TEXTURE_2D,dn,Wn,Nn.width,Nn.height,0,Jn,jn,Nn.data)}else if(Ft.isDataArrayTexture)qt?(kn&&et.texStorage3D(_e.TEXTURE_2D_ARRAY,wn,Wn,xn.width,xn.height,xn.depth),et.texSubImage3D(_e.TEXTURE_2D_ARRAY,0,0,0,0,xn.width,xn.height,xn.depth,Jn,jn,xn.data)):et.texImage3D(_e.TEXTURE_2D_ARRAY,0,Wn,xn.width,xn.height,xn.depth,0,Jn,jn,xn.data);else if(Ft.isData3DTexture)qt?(kn&&et.texStorage3D(_e.TEXTURE_3D,wn,Wn,xn.width,xn.height,xn.depth),et.texSubImage3D(_e.TEXTURE_3D,0,0,0,0,xn.width,xn.height,xn.depth,Jn,jn,xn.data)):et.texImage3D(_e.TEXTURE_3D,0,Wn,xn.width,xn.height,xn.depth,0,Jn,jn,xn.data);else if(Ft.isFramebufferTexture){if(kn)if(qt)et.texStorage2D(_e.TEXTURE_2D,wn,Wn,xn.width,xn.height);else{let dn=xn.width,An=xn.height;for(let Kn=0;Kn<wn;Kn++)et.texImage2D(_e.TEXTURE_2D,Kn,Wn,dn,An,0,Jn,jn,null),dn>>=1,An>>=1}}else if(ur.length>0&&hr){qt&&kn&&et.texStorage2D(_e.TEXTURE_2D,wn,Wn,ur[0].width,ur[0].height);for(let dn=0,An=ur.length;dn<An;dn++)Nn=ur[dn],qt?et.texSubImage2D(_e.TEXTURE_2D,dn,0,0,Jn,jn,Nn):et.texImage2D(_e.TEXTURE_2D,dn,Wn,Jn,jn,Nn);Ft.generateMipmaps=!1}else qt?(kn&&et.texStorage2D(_e.TEXTURE_2D,wn,Wn,xn.width,xn.height),et.texSubImage2D(_e.TEXTURE_2D,0,0,0,Jn,jn,xn)):et.texImage2D(_e.TEXTURE_2D,0,Wn,Jn,jn,xn);wt(Ft,hr)&&Mt(gn),Fn.__version=yn.version,Ft.onUpdate&&Ft.onUpdate(Ft)}zt.__version=Ft.version}function Sn(zt,Ft,Zt){if(Ft.image.length!==6)return;const gn=_n(zt,Ft),mn=Ft.source;et.bindTexture(_e.TEXTURE_CUBE_MAP,zt.__webglTexture,_e.TEXTURE0+Zt);const yn=tt.get(mn);if(mn.version!==yn.__version||gn===!0){et.activeTexture(_e.TEXTURE0+Zt);const Fn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),bn=Ft.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ft.colorSpace),Dn=Ft.colorSpace===NoColorSpace||Fn===bn?_e.NONE:_e.BROWSER_DEFAULT_WEBGL;_e.pixelStorei(_e.UNPACK_FLIP_Y_WEBGL,Ft.flipY),_e.pixelStorei(_e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ft.premultiplyAlpha),_e.pixelStorei(_e.UNPACK_ALIGNMENT,Ft.unpackAlignment),_e.pixelStorei(_e.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dn);const qn=Ft.isCompressedTexture||Ft.image[0].isCompressedTexture,cr=Ft.image[0]&&Ft.image[0].isDataTexture,xn=[];for(let dn=0;dn<6;dn++)!qn&&!cr?xn[dn]=_t(Ft.image[dn],!1,!0,at):xn[dn]=cr?Ft.image[dn].image:Ft.image[dn],xn[dn]=sr(Ft,xn[dn]);const hr=xn[0],Jn=St(hr)||st,jn=rt.convert(Ft.format,Ft.colorSpace),Wn=rt.convert(Ft.type),Nn=At(Ft.internalFormat,jn,Wn,Ft.colorSpace),ur=st&&Ft.isVideoTexture!==!0,qt=yn.__version===void 0||gn===!0;let kn=Tt(Ft,hr,Jn);fn(_e.TEXTURE_CUBE_MAP,Ft,Jn);let wn;if(qn){ur&&qt&&et.texStorage2D(_e.TEXTURE_CUBE_MAP,kn,Nn,hr.width,hr.height);for(let dn=0;dn<6;dn++){wn=xn[dn].mipmaps;for(let An=0;An<wn.length;An++){const Kn=wn[An];Ft.format!==RGBAFormat?jn!==null?ur?et.compressedTexSubImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An,0,0,Kn.width,Kn.height,jn,Kn.data):et.compressedTexImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An,Nn,Kn.width,Kn.height,0,Kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ur?et.texSubImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An,0,0,Kn.width,Kn.height,jn,Wn,Kn.data):et.texImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An,Nn,Kn.width,Kn.height,0,jn,Wn,Kn.data)}}}else{wn=Ft.mipmaps,ur&&qt&&(wn.length>0&&kn++,et.texStorage2D(_e.TEXTURE_CUBE_MAP,kn,Nn,xn[0].width,xn[0].height));for(let dn=0;dn<6;dn++)if(cr){ur?et.texSubImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,0,0,0,xn[dn].width,xn[dn].height,jn,Wn,xn[dn].data):et.texImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,0,Nn,xn[dn].width,xn[dn].height,0,jn,Wn,xn[dn].data);for(let An=0;An<wn.length;An++){const fr=wn[An].image[dn].image;ur?et.texSubImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An+1,0,0,fr.width,fr.height,jn,Wn,fr.data):et.texImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An+1,Nn,fr.width,fr.height,0,jn,Wn,fr.data)}}else{ur?et.texSubImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,0,0,0,jn,Wn,xn[dn]):et.texImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,0,Nn,jn,Wn,xn[dn]);for(let An=0;An<wn.length;An++){const Kn=wn[An];ur?et.texSubImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An+1,0,0,jn,Wn,Kn.image[dn]):et.texImage2D(_e.TEXTURE_CUBE_MAP_POSITIVE_X+dn,An+1,Nn,jn,Wn,Kn.image[dn])}}}wt(Ft,Jn)&&Mt(_e.TEXTURE_CUBE_MAP),yn.__version=mn.version,Ft.onUpdate&&Ft.onUpdate(Ft)}zt.__version=Ft.version}function Cn(zt,Ft,Zt,gn,mn,yn){const Fn=rt.convert(Zt.format,Zt.colorSpace),bn=rt.convert(Zt.type),Dn=At(Zt.internalFormat,Fn,bn,Zt.colorSpace);if(!tt.get(Ft).__hasExternalTextures){const cr=Math.max(1,Ft.width>>yn),xn=Math.max(1,Ft.height>>yn);mn===_e.TEXTURE_3D||mn===_e.TEXTURE_2D_ARRAY?et.texImage3D(mn,yn,Dn,cr,xn,Ft.depth,0,Fn,bn,null):et.texImage2D(mn,yn,Dn,cr,xn,0,Fn,bn,null)}et.bindFramebuffer(_e.FRAMEBUFFER,zt),Rn(Ft)?ut.framebufferTexture2DMultisampleEXT(_e.FRAMEBUFFER,gn,mn,tt.get(Zt).__webglTexture,0,Mn(Ft)):(mn===_e.TEXTURE_2D||mn>=_e.TEXTURE_CUBE_MAP_POSITIVE_X&&mn<=_e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&_e.framebufferTexture2D(_e.FRAMEBUFFER,gn,mn,tt.get(Zt).__webglTexture,yn),et.bindFramebuffer(_e.FRAMEBUFFER,null)}function Wt(zt,Ft,Zt){if(_e.bindRenderbuffer(_e.RENDERBUFFER,zt),Ft.depthBuffer&&!Ft.stencilBuffer){let gn=st===!0?_e.DEPTH_COMPONENT24:_e.DEPTH_COMPONENT16;if(Zt||Rn(Ft)){const mn=Ft.depthTexture;mn&&mn.isDepthTexture&&(mn.type===FloatType?gn=_e.DEPTH_COMPONENT32F:mn.type===UnsignedIntType&&(gn=_e.DEPTH_COMPONENT24));const yn=Mn(Ft);Rn(Ft)?ut.renderbufferStorageMultisampleEXT(_e.RENDERBUFFER,yn,gn,Ft.width,Ft.height):_e.renderbufferStorageMultisample(_e.RENDERBUFFER,yn,gn,Ft.width,Ft.height)}else _e.renderbufferStorage(_e.RENDERBUFFER,gn,Ft.width,Ft.height);_e.framebufferRenderbuffer(_e.FRAMEBUFFER,_e.DEPTH_ATTACHMENT,_e.RENDERBUFFER,zt)}else if(Ft.depthBuffer&&Ft.stencilBuffer){const gn=Mn(Ft);Zt&&Rn(Ft)===!1?_e.renderbufferStorageMultisample(_e.RENDERBUFFER,gn,_e.DEPTH24_STENCIL8,Ft.width,Ft.height):Rn(Ft)?ut.renderbufferStorageMultisampleEXT(_e.RENDERBUFFER,gn,_e.DEPTH24_STENCIL8,Ft.width,Ft.height):_e.renderbufferStorage(_e.RENDERBUFFER,_e.DEPTH_STENCIL,Ft.width,Ft.height),_e.framebufferRenderbuffer(_e.FRAMEBUFFER,_e.DEPTH_STENCIL_ATTACHMENT,_e.RENDERBUFFER,zt)}else{const gn=Ft.isWebGLMultipleRenderTargets===!0?Ft.texture:[Ft.texture];for(let mn=0;mn<gn.length;mn++){const yn=gn[mn],Fn=rt.convert(yn.format,yn.colorSpace),bn=rt.convert(yn.type),Dn=At(yn.internalFormat,Fn,bn,yn.colorSpace),qn=Mn(Ft);Zt&&Rn(Ft)===!1?_e.renderbufferStorageMultisample(_e.RENDERBUFFER,qn,Dn,Ft.width,Ft.height):Rn(Ft)?ut.renderbufferStorageMultisampleEXT(_e.RENDERBUFFER,qn,Dn,Ft.width,Ft.height):_e.renderbufferStorage(_e.RENDERBUFFER,Dn,Ft.width,Ft.height)}}_e.bindRenderbuffer(_e.RENDERBUFFER,null)}function tn(zt,Ft){if(Ft&&Ft.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(et.bindFramebuffer(_e.FRAMEBUFFER,zt),!(Ft.depthTexture&&Ft.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!tt.get(Ft.depthTexture).__webglTexture||Ft.depthTexture.image.width!==Ft.width||Ft.depthTexture.image.height!==Ft.height)&&(Ft.depthTexture.image.width=Ft.width,Ft.depthTexture.image.height=Ft.height,Ft.depthTexture.needsUpdate=!0),Ut(Ft.depthTexture,0);const gn=tt.get(Ft.depthTexture).__webglTexture,mn=Mn(Ft);if(Ft.depthTexture.format===DepthFormat)Rn(Ft)?ut.framebufferTexture2DMultisampleEXT(_e.FRAMEBUFFER,_e.DEPTH_ATTACHMENT,_e.TEXTURE_2D,gn,0,mn):_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.DEPTH_ATTACHMENT,_e.TEXTURE_2D,gn,0);else if(Ft.depthTexture.format===DepthStencilFormat)Rn(Ft)?ut.framebufferTexture2DMultisampleEXT(_e.FRAMEBUFFER,_e.DEPTH_STENCIL_ATTACHMENT,_e.TEXTURE_2D,gn,0,mn):_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.DEPTH_STENCIL_ATTACHMENT,_e.TEXTURE_2D,gn,0);else throw new Error("Unknown depthTexture format")}function an(zt){const Ft=tt.get(zt),Zt=zt.isWebGLCubeRenderTarget===!0;if(zt.depthTexture&&!Ft.__autoAllocateDepthBuffer){if(Zt)throw new Error("target.depthTexture not supported in Cube render targets");tn(Ft.__webglFramebuffer,zt)}else if(Zt){Ft.__webglDepthbuffer=[];for(let gn=0;gn<6;gn++)et.bindFramebuffer(_e.FRAMEBUFFER,Ft.__webglFramebuffer[gn]),Ft.__webglDepthbuffer[gn]=_e.createRenderbuffer(),Wt(Ft.__webglDepthbuffer[gn],zt,!1)}else et.bindFramebuffer(_e.FRAMEBUFFER,Ft.__webglFramebuffer),Ft.__webglDepthbuffer=_e.createRenderbuffer(),Wt(Ft.__webglDepthbuffer,zt,!1);et.bindFramebuffer(_e.FRAMEBUFFER,null)}function vn(zt,Ft,Zt){const gn=tt.get(zt);Ft!==void 0&&Cn(gn.__webglFramebuffer,zt,zt.texture,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,0),Zt!==void 0&&an(zt)}function hn(zt){const Ft=zt.texture,Zt=tt.get(zt),gn=tt.get(Ft);zt.addEventListener("dispose",$t),zt.isWebGLMultipleRenderTargets!==!0&&(gn.__webglTexture===void 0&&(gn.__webglTexture=_e.createTexture()),gn.__version=Ft.version,it.memory.textures++);const mn=zt.isWebGLCubeRenderTarget===!0,yn=zt.isWebGLMultipleRenderTargets===!0,Fn=St(zt)||st;if(mn){Zt.__webglFramebuffer=[];for(let bn=0;bn<6;bn++)if(st&&Ft.mipmaps&&Ft.mipmaps.length>0){Zt.__webglFramebuffer[bn]=[];for(let Dn=0;Dn<Ft.mipmaps.length;Dn++)Zt.__webglFramebuffer[bn][Dn]=_e.createFramebuffer()}else Zt.__webglFramebuffer[bn]=_e.createFramebuffer()}else{if(st&&Ft.mipmaps&&Ft.mipmaps.length>0){Zt.__webglFramebuffer=[];for(let bn=0;bn<Ft.mipmaps.length;bn++)Zt.__webglFramebuffer[bn]=_e.createFramebuffer()}else Zt.__webglFramebuffer=_e.createFramebuffer();if(yn)if(nt.drawBuffers){const bn=zt.texture;for(let Dn=0,qn=bn.length;Dn<qn;Dn++){const cr=tt.get(bn[Dn]);cr.__webglTexture===void 0&&(cr.__webglTexture=_e.createTexture(),it.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(st&&zt.samples>0&&Rn(zt)===!1){const bn=yn?Ft:[Ft];Zt.__webglMultisampledFramebuffer=_e.createFramebuffer(),Zt.__webglColorRenderbuffer=[],et.bindFramebuffer(_e.FRAMEBUFFER,Zt.__webglMultisampledFramebuffer);for(let Dn=0;Dn<bn.length;Dn++){const qn=bn[Dn];Zt.__webglColorRenderbuffer[Dn]=_e.createRenderbuffer(),_e.bindRenderbuffer(_e.RENDERBUFFER,Zt.__webglColorRenderbuffer[Dn]);const cr=rt.convert(qn.format,qn.colorSpace),xn=rt.convert(qn.type),hr=At(qn.internalFormat,cr,xn,qn.colorSpace,zt.isXRRenderTarget===!0),Jn=Mn(zt);_e.renderbufferStorageMultisample(_e.RENDERBUFFER,Jn,hr,zt.width,zt.height),_e.framebufferRenderbuffer(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0+Dn,_e.RENDERBUFFER,Zt.__webglColorRenderbuffer[Dn])}_e.bindRenderbuffer(_e.RENDERBUFFER,null),zt.depthBuffer&&(Zt.__webglDepthRenderbuffer=_e.createRenderbuffer(),Wt(Zt.__webglDepthRenderbuffer,zt,!0)),et.bindFramebuffer(_e.FRAMEBUFFER,null)}}if(mn){et.bindTexture(_e.TEXTURE_CUBE_MAP,gn.__webglTexture),fn(_e.TEXTURE_CUBE_MAP,Ft,Fn);for(let bn=0;bn<6;bn++)if(st&&Ft.mipmaps&&Ft.mipmaps.length>0)for(let Dn=0;Dn<Ft.mipmaps.length;Dn++)Cn(Zt.__webglFramebuffer[bn][Dn],zt,Ft,_e.COLOR_ATTACHMENT0,_e.TEXTURE_CUBE_MAP_POSITIVE_X+bn,Dn);else Cn(Zt.__webglFramebuffer[bn],zt,Ft,_e.COLOR_ATTACHMENT0,_e.TEXTURE_CUBE_MAP_POSITIVE_X+bn,0);wt(Ft,Fn)&&Mt(_e.TEXTURE_CUBE_MAP),et.unbindTexture()}else if(yn){const bn=zt.texture;for(let Dn=0,qn=bn.length;Dn<qn;Dn++){const cr=bn[Dn],xn=tt.get(cr);et.bindTexture(_e.TEXTURE_2D,xn.__webglTexture),fn(_e.TEXTURE_2D,cr,Fn),Cn(Zt.__webglFramebuffer,zt,cr,_e.COLOR_ATTACHMENT0+Dn,_e.TEXTURE_2D,0),wt(cr,Fn)&&Mt(_e.TEXTURE_2D)}et.unbindTexture()}else{let bn=_e.TEXTURE_2D;if((zt.isWebGL3DRenderTarget||zt.isWebGLArrayRenderTarget)&&(st?bn=zt.isWebGL3DRenderTarget?_e.TEXTURE_3D:_e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),et.bindTexture(bn,gn.__webglTexture),fn(bn,Ft,Fn),st&&Ft.mipmaps&&Ft.mipmaps.length>0)for(let Dn=0;Dn<Ft.mipmaps.length;Dn++)Cn(Zt.__webglFramebuffer[Dn],zt,Ft,_e.COLOR_ATTACHMENT0,bn,Dn);else Cn(Zt.__webglFramebuffer,zt,Ft,_e.COLOR_ATTACHMENT0,bn,0);wt(Ft,Fn)&&Mt(bn),et.unbindTexture()}zt.depthBuffer&&an(zt)}function $n(zt){const Ft=St(zt)||st,Zt=zt.isWebGLMultipleRenderTargets===!0?zt.texture:[zt.texture];for(let gn=0,mn=Zt.length;gn<mn;gn++){const yn=Zt[gn];if(wt(yn,Ft)){const Fn=zt.isWebGLCubeRenderTarget?_e.TEXTURE_CUBE_MAP:_e.TEXTURE_2D,bn=tt.get(yn).__webglTexture;et.bindTexture(Fn,bn),Mt(Fn),et.unbindTexture()}}}function En(zt){if(st&&zt.samples>0&&Rn(zt)===!1){const Ft=zt.isWebGLMultipleRenderTargets?zt.texture:[zt.texture],Zt=zt.width,gn=zt.height;let mn=_e.COLOR_BUFFER_BIT;const yn=[],Fn=zt.stencilBuffer?_e.DEPTH_STENCIL_ATTACHMENT:_e.DEPTH_ATTACHMENT,bn=tt.get(zt),Dn=zt.isWebGLMultipleRenderTargets===!0;if(Dn)for(let qn=0;qn<Ft.length;qn++)et.bindFramebuffer(_e.FRAMEBUFFER,bn.__webglMultisampledFramebuffer),_e.framebufferRenderbuffer(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0+qn,_e.RENDERBUFFER,null),et.bindFramebuffer(_e.FRAMEBUFFER,bn.__webglFramebuffer),_e.framebufferTexture2D(_e.DRAW_FRAMEBUFFER,_e.COLOR_ATTACHMENT0+qn,_e.TEXTURE_2D,null,0);et.bindFramebuffer(_e.READ_FRAMEBUFFER,bn.__webglMultisampledFramebuffer),et.bindFramebuffer(_e.DRAW_FRAMEBUFFER,bn.__webglFramebuffer);for(let qn=0;qn<Ft.length;qn++){yn.push(_e.COLOR_ATTACHMENT0+qn),zt.depthBuffer&&yn.push(Fn);const cr=bn.__ignoreDepthValues!==void 0?bn.__ignoreDepthValues:!1;if(cr===!1&&(zt.depthBuffer&&(mn|=_e.DEPTH_BUFFER_BIT),zt.stencilBuffer&&(mn|=_e.STENCIL_BUFFER_BIT)),Dn&&_e.framebufferRenderbuffer(_e.READ_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.RENDERBUFFER,bn.__webglColorRenderbuffer[qn]),cr===!0&&(_e.invalidateFramebuffer(_e.READ_FRAMEBUFFER,[Fn]),_e.invalidateFramebuffer(_e.DRAW_FRAMEBUFFER,[Fn])),Dn){const xn=tt.get(Ft[qn]).__webglTexture;_e.framebufferTexture2D(_e.DRAW_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,xn,0)}_e.blitFramebuffer(0,0,Zt,gn,0,0,Zt,gn,mn,_e.NEAREST),ft&&_e.invalidateFramebuffer(_e.READ_FRAMEBUFFER,yn)}if(et.bindFramebuffer(_e.READ_FRAMEBUFFER,null),et.bindFramebuffer(_e.DRAW_FRAMEBUFFER,null),Dn)for(let qn=0;qn<Ft.length;qn++){et.bindFramebuffer(_e.FRAMEBUFFER,bn.__webglMultisampledFramebuffer),_e.framebufferRenderbuffer(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0+qn,_e.RENDERBUFFER,bn.__webglColorRenderbuffer[qn]);const cr=tt.get(Ft[qn]).__webglTexture;et.bindFramebuffer(_e.FRAMEBUFFER,bn.__webglFramebuffer),_e.framebufferTexture2D(_e.DRAW_FRAMEBUFFER,_e.COLOR_ATTACHMENT0+qn,_e.TEXTURE_2D,cr,0)}et.bindFramebuffer(_e.DRAW_FRAMEBUFFER,bn.__webglMultisampledFramebuffer)}}function Mn(zt){return Math.min(ct,zt.samples)}function Rn(zt){const Ft=tt.get(zt);return st&&zt.samples>0&&_.has("WEBGL_multisampled_render_to_texture")===!0&&Ft.__useRenderToTexture!==!1}function Vn(zt){const Ft=it.render.frame;ht.get(zt)!==Ft&&(ht.set(zt,Ft),zt.update())}function sr(zt,Ft){const Zt=zt.colorSpace,gn=zt.format,mn=zt.type;return zt.isCompressedTexture===!0||zt.isVideoTexture===!0||zt.format===_SRGBAFormat||Zt!==LinearSRGBColorSpace&&Zt!==NoColorSpace&&(ColorManagement.getTransfer(Zt)===SRGBTransfer?st===!1?_.has("EXT_sRGB")===!0&&gn===RGBAFormat?(zt.format=_SRGBAFormat,zt.minFilter=LinearFilter,zt.generateMipmaps=!1):Ft=ImageUtils.sRGBToLinear(Ft):(gn!==RGBAFormat||mn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Zt)),Ft}this.allocateTextureUnit=Rt,this.resetTextureUnits=Bt,this.setTexture2D=Ut,this.setTexture2DArray=jt,this.setTexture3D=Jt,this.setTextureCube=Xt,this.rebindTextures=vn,this.setupRenderTarget=hn,this.updateRenderTargetMipmap=$n,this.updateMultisampleRenderTarget=En,this.setupDepthRenderbuffer=an,this.setupFrameBufferTexture=Cn,this.useMultisampledRTT=Rn}function WebGLUtils(_e,_,et){const tt=et.isWebGL2;function nt(rt,it=NoColorSpace){let st;const ot=ColorManagement.getTransfer(it);if(rt===UnsignedByteType)return _e.UNSIGNED_BYTE;if(rt===UnsignedShort4444Type)return _e.UNSIGNED_SHORT_4_4_4_4;if(rt===UnsignedShort5551Type)return _e.UNSIGNED_SHORT_5_5_5_1;if(rt===ByteType)return _e.BYTE;if(rt===ShortType)return _e.SHORT;if(rt===UnsignedShortType)return _e.UNSIGNED_SHORT;if(rt===IntType)return _e.INT;if(rt===UnsignedIntType)return _e.UNSIGNED_INT;if(rt===FloatType)return _e.FLOAT;if(rt===HalfFloatType)return tt?_e.HALF_FLOAT:(st=_.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(rt===AlphaFormat)return _e.ALPHA;if(rt===RGBAFormat)return _e.RGBA;if(rt===LuminanceFormat)return _e.LUMINANCE;if(rt===LuminanceAlphaFormat)return _e.LUMINANCE_ALPHA;if(rt===DepthFormat)return _e.DEPTH_COMPONENT;if(rt===DepthStencilFormat)return _e.DEPTH_STENCIL;if(rt===_SRGBAFormat)return st=_.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(rt===RedFormat)return _e.RED;if(rt===RedIntegerFormat)return _e.RED_INTEGER;if(rt===RGFormat)return _e.RG;if(rt===RGIntegerFormat)return _e.RG_INTEGER;if(rt===RGBAIntegerFormat)return _e.RGBA_INTEGER;if(rt===RGB_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT3_Format||rt===RGBA_S3TC_DXT5_Format)if(ot===SRGBTransfer)if(st=_.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=_.get("WEBGL_compressed_texture_s3tc"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(rt===RGB_PVRTC_4BPPV1_Format||rt===RGB_PVRTC_2BPPV1_Format||rt===RGBA_PVRTC_4BPPV1_Format||rt===RGBA_PVRTC_2BPPV1_Format)if(st=_.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(rt===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(rt===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(rt===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(rt===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(rt===RGB_ETC1_Format)return st=_.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(rt===RGB_ETC2_Format||rt===RGBA_ETC2_EAC_Format)if(st=_.get("WEBGL_compressed_texture_etc"),st!==null){if(rt===RGB_ETC2_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(rt===RGBA_ETC2_EAC_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(rt===RGBA_ASTC_4x4_Format||rt===RGBA_ASTC_5x4_Format||rt===RGBA_ASTC_5x5_Format||rt===RGBA_ASTC_6x5_Format||rt===RGBA_ASTC_6x6_Format||rt===RGBA_ASTC_8x5_Format||rt===RGBA_ASTC_8x6_Format||rt===RGBA_ASTC_8x8_Format||rt===RGBA_ASTC_10x5_Format||rt===RGBA_ASTC_10x6_Format||rt===RGBA_ASTC_10x8_Format||rt===RGBA_ASTC_10x10_Format||rt===RGBA_ASTC_12x10_Format||rt===RGBA_ASTC_12x12_Format)if(st=_.get("WEBGL_compressed_texture_astc"),st!==null){if(rt===RGBA_ASTC_4x4_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(rt===RGBA_ASTC_5x4_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(rt===RGBA_ASTC_5x5_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(rt===RGBA_ASTC_6x5_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(rt===RGBA_ASTC_6x6_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(rt===RGBA_ASTC_8x5_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(rt===RGBA_ASTC_8x6_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(rt===RGBA_ASTC_8x8_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(rt===RGBA_ASTC_10x5_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(rt===RGBA_ASTC_10x6_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(rt===RGBA_ASTC_10x8_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(rt===RGBA_ASTC_10x10_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(rt===RGBA_ASTC_12x10_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(rt===RGBA_ASTC_12x12_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(rt===RGBA_BPTC_Format||rt===RGB_BPTC_SIGNED_Format||rt===RGB_BPTC_UNSIGNED_Format)if(st=_.get("EXT_texture_compression_bptc"),st!==null){if(rt===RGBA_BPTC_Format)return ot===SRGBTransfer?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(rt===RGB_BPTC_SIGNED_Format)return st.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(rt===RGB_BPTC_UNSIGNED_Format)return st.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(rt===RED_RGTC1_Format||rt===SIGNED_RED_RGTC1_Format||rt===RED_GREEN_RGTC2_Format||rt===SIGNED_RED_GREEN_RGTC2_Format)if(st=_.get("EXT_texture_compression_rgtc"),st!==null){if(rt===RGBA_BPTC_Format)return st.COMPRESSED_RED_RGTC1_EXT;if(rt===SIGNED_RED_RGTC1_Format)return st.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(rt===RED_GREEN_RGTC2_Format)return st.COMPRESSED_RED_GREEN_RGTC2_EXT;if(rt===SIGNED_RED_GREEN_RGTC2_Format)return st.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return rt===UnsignedInt248Type?tt?_e.UNSIGNED_INT_24_8:(st=_.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null):_e[rt]!==void 0?_e[rt]:null}return{convert:nt}}class ArrayCamera extends PerspectiveCamera{constructor(_=[]){super(),this.isArrayCamera=!0,this.cameras=_}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(_){return this._targetRay!==null&&this._targetRay.dispatchEvent(_),this._grip!==null&&this._grip.dispatchEvent(_),this._hand!==null&&this._hand.dispatchEvent(_),this}connect(_){if(_&&_.hand){const et=this._hand;if(et)for(const tt of _.hand.values())this._getHandJoint(et,tt)}return this.dispatchEvent({type:"connected",data:_}),this}disconnect(_){return this.dispatchEvent({type:"disconnected",data:_}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(_,et,tt){let nt=null,rt=null,it=null;const st=this._targetRay,ot=this._grip,at=this._hand;if(_&&et.session.visibilityState!=="visible-blurred"){if(at&&_.hand){it=!0;for(const vt of _.hand.values()){const mt=et.getJointPose(vt,tt),pt=this._getHandJoint(at,vt);mt!==null&&(pt.matrix.fromArray(mt.transform.matrix),pt.matrix.decompose(pt.position,pt.rotation,pt.scale),pt.matrixWorldNeedsUpdate=!0,pt.jointRadius=mt.radius),pt.visible=mt!==null}const lt=at.joints["index-finger-tip"],ct=at.joints["thumb-tip"],ut=lt.position.distanceTo(ct.position),ft=.02,ht=.005;at.inputState.pinching&&ut>ft+ht?(at.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:_.handedness,target:this})):!at.inputState.pinching&&ut<=ft-ht&&(at.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:_.handedness,target:this}))}else ot!==null&&_.gripSpace&&(rt=et.getPose(_.gripSpace,tt),rt!==null&&(ot.matrix.fromArray(rt.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),ot.matrixWorldNeedsUpdate=!0,rt.linearVelocity?(ot.hasLinearVelocity=!0,ot.linearVelocity.copy(rt.linearVelocity)):ot.hasLinearVelocity=!1,rt.angularVelocity?(ot.hasAngularVelocity=!0,ot.angularVelocity.copy(rt.angularVelocity)):ot.hasAngularVelocity=!1));st!==null&&(nt=et.getPose(_.targetRaySpace,tt),nt===null&&rt!==null&&(nt=rt),nt!==null&&(st.matrix.fromArray(nt.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),st.matrixWorldNeedsUpdate=!0,nt.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(nt.linearVelocity)):st.hasLinearVelocity=!1,nt.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(nt.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return st!==null&&(st.visible=nt!==null),ot!==null&&(ot.visible=rt!==null),at!==null&&(at.visible=it!==null),this}_getHandJoint(_,et){if(_.joints[et.jointName]===void 0){const tt=new Group;tt.matrixAutoUpdate=!1,tt.visible=!1,_.joints[et.jointName]=tt,_.add(tt)}return _.joints[et.jointName]}}class WebXRManager extends EventDispatcher{constructor(_,et){super();const tt=this;let nt=null,rt=1,it=null,st="local-floor",ot=1,at=null,lt=null,ct=null,ut=null,ft=null,ht=null;const vt=et.getContextAttributes();let mt=null,pt=null;const yt=[],_t=[],St=new Vector2;let Et=null;const wt=new PerspectiveCamera;wt.layers.enable(1),wt.viewport=new Vector4;const Mt=new PerspectiveCamera;Mt.layers.enable(2),Mt.viewport=new Vector4;const At=[wt,Mt],Tt=new ArrayCamera;Tt.layers.enable(1),Tt.layers.enable(2);let Ct=null,Dt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Xt){let Qt=yt[Xt];return Qt===void 0&&(Qt=new WebXRController,yt[Xt]=Qt),Qt.getTargetRaySpace()},this.getControllerGrip=function(Xt){let Qt=yt[Xt];return Qt===void 0&&(Qt=new WebXRController,yt[Xt]=Qt),Qt.getGripSpace()},this.getHand=function(Xt){let Qt=yt[Xt];return Qt===void 0&&(Qt=new WebXRController,yt[Xt]=Qt),Qt.getHandSpace()};function $t(Xt){const Qt=_t.indexOf(Xt.inputSource);if(Qt===-1)return;const rn=yt[Qt];rn!==void 0&&(rn.update(Xt.inputSource,Xt.frame,at||it),rn.dispatchEvent({type:Xt.type,data:Xt.inputSource}))}function kt(){nt.removeEventListener("select",$t),nt.removeEventListener("selectstart",$t),nt.removeEventListener("selectend",$t),nt.removeEventListener("squeeze",$t),nt.removeEventListener("squeezestart",$t),nt.removeEventListener("squeezeend",$t),nt.removeEventListener("end",kt),nt.removeEventListener("inputsourceschange",It);for(let Xt=0;Xt<yt.length;Xt++){const Qt=_t[Xt];Qt!==null&&(_t[Xt]=null,yt[Xt].disconnect(Qt))}Ct=null,Dt=null,_.setRenderTarget(mt),ft=null,ut=null,ct=null,nt=null,pt=null,Jt.stop(),tt.isPresenting=!1,_.setPixelRatio(Et),_.setSize(St.width,St.height,!1),tt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Xt){rt=Xt,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Xt){st=Xt,tt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return at||it},this.setReferenceSpace=function(Xt){at=Xt},this.getBaseLayer=function(){return ut!==null?ut:ft},this.getBinding=function(){return ct},this.getFrame=function(){return ht},this.getSession=function(){return nt},this.setSession=async function(Xt){if(nt=Xt,nt!==null){if(mt=_.getRenderTarget(),nt.addEventListener("select",$t),nt.addEventListener("selectstart",$t),nt.addEventListener("selectend",$t),nt.addEventListener("squeeze",$t),nt.addEventListener("squeezestart",$t),nt.addEventListener("squeezeend",$t),nt.addEventListener("end",kt),nt.addEventListener("inputsourceschange",It),vt.xrCompatible!==!0&&await et.makeXRCompatible(),Et=_.getPixelRatio(),_.getSize(St),nt.renderState.layers===void 0||_.capabilities.isWebGL2===!1){const Qt={antialias:nt.renderState.layers===void 0?vt.antialias:!0,alpha:!0,depth:vt.depth,stencil:vt.stencil,framebufferScaleFactor:rt};ft=new XRWebGLLayer(nt,et,Qt),nt.updateRenderState({baseLayer:ft}),_.setPixelRatio(1),_.setSize(ft.framebufferWidth,ft.framebufferHeight,!1),pt=new WebGLRenderTarget(ft.framebufferWidth,ft.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:_.outputColorSpace,stencilBuffer:vt.stencil})}else{let Qt=null,rn=null,pn=null;vt.depth&&(pn=vt.stencil?et.DEPTH24_STENCIL8:et.DEPTH_COMPONENT24,Qt=vt.stencil?DepthStencilFormat:DepthFormat,rn=vt.stencil?UnsignedInt248Type:UnsignedIntType);const fn={colorFormat:et.RGBA8,depthFormat:pn,scaleFactor:rt};ct=new XRWebGLBinding(nt,et),ut=ct.createProjectionLayer(fn),nt.updateRenderState({layers:[ut]}),_.setPixelRatio(1),_.setSize(ut.textureWidth,ut.textureHeight,!1),pt=new WebGLRenderTarget(ut.textureWidth,ut.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ut.textureWidth,ut.textureHeight,rn,void 0,void 0,void 0,void 0,void 0,void 0,Qt),stencilBuffer:vt.stencil,colorSpace:_.outputColorSpace,samples:vt.antialias?4:0});const _n=_.properties.get(pt);_n.__ignoreDepthValues=ut.ignoreDepthValues}pt.isXRRenderTarget=!0,this.setFoveation(ot),at=null,it=await nt.requestReferenceSpace(st),Jt.setContext(nt),Jt.start(),tt.isPresenting=!0,tt.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(nt!==null)return nt.environmentBlendMode};function It(Xt){for(let Qt=0;Qt<Xt.removed.length;Qt++){const rn=Xt.removed[Qt],pn=_t.indexOf(rn);pn>=0&&(_t[pn]=null,yt[pn].disconnect(rn))}for(let Qt=0;Qt<Xt.added.length;Qt++){const rn=Xt.added[Qt];let pn=_t.indexOf(rn);if(pn===-1){for(let _n=0;_n<yt.length;_n++)if(_n>=_t.length){_t.push(rn),pn=_n;break}else if(_t[_n]===null){_t[_n]=rn,pn=_n;break}if(pn===-1)break}const fn=yt[pn];fn&&fn.connect(rn)}}const Nt=new Vector3,Gt=new Vector3;function Bt(Xt,Qt,rn){Nt.setFromMatrixPosition(Qt.matrixWorld),Gt.setFromMatrixPosition(rn.matrixWorld);const pn=Nt.distanceTo(Gt),fn=Qt.projectionMatrix.elements,_n=rn.projectionMatrix.elements,Pn=fn[14]/(fn[10]-1),Sn=fn[14]/(fn[10]+1),Cn=(fn[9]+1)/fn[5],Wt=(fn[9]-1)/fn[5],tn=(fn[8]-1)/fn[0],an=(_n[8]+1)/_n[0],vn=Pn*tn,hn=Pn*an,$n=pn/(-tn+an),En=$n*-tn;Qt.matrixWorld.decompose(Xt.position,Xt.quaternion,Xt.scale),Xt.translateX(En),Xt.translateZ($n),Xt.matrixWorld.compose(Xt.position,Xt.quaternion,Xt.scale),Xt.matrixWorldInverse.copy(Xt.matrixWorld).invert();const Mn=Pn+$n,Rn=Sn+$n,Vn=vn-En,sr=hn+(pn-En),zt=Cn*Sn/Rn*Mn,Ft=Wt*Sn/Rn*Mn;Xt.projectionMatrix.makePerspective(Vn,sr,zt,Ft,Mn,Rn),Xt.projectionMatrixInverse.copy(Xt.projectionMatrix).invert()}function Rt(Xt,Qt){Qt===null?Xt.matrixWorld.copy(Xt.matrix):Xt.matrixWorld.multiplyMatrices(Qt.matrixWorld,Xt.matrix),Xt.matrixWorldInverse.copy(Xt.matrixWorld).invert()}this.updateCamera=function(Xt){if(nt===null)return;Tt.near=Mt.near=wt.near=Xt.near,Tt.far=Mt.far=wt.far=Xt.far,(Ct!==Tt.near||Dt!==Tt.far)&&(nt.updateRenderState({depthNear:Tt.near,depthFar:Tt.far}),Ct=Tt.near,Dt=Tt.far);const Qt=Xt.parent,rn=Tt.cameras;Rt(Tt,Qt);for(let pn=0;pn<rn.length;pn++)Rt(rn[pn],Qt);rn.length===2?Bt(Tt,wt,Mt):Tt.projectionMatrix.copy(wt.projectionMatrix),Ot(Xt,Tt,Qt)};function Ot(Xt,Qt,rn){rn===null?Xt.matrix.copy(Qt.matrixWorld):(Xt.matrix.copy(rn.matrixWorld),Xt.matrix.invert(),Xt.matrix.multiply(Qt.matrixWorld)),Xt.matrix.decompose(Xt.position,Xt.quaternion,Xt.scale),Xt.updateMatrixWorld(!0),Xt.projectionMatrix.copy(Qt.projectionMatrix),Xt.projectionMatrixInverse.copy(Qt.projectionMatrixInverse),Xt.isPerspectiveCamera&&(Xt.fov=RAD2DEG*2*Math.atan(1/Xt.projectionMatrix.elements[5]),Xt.zoom=1)}this.getCamera=function(){return Tt},this.getFoveation=function(){if(!(ut===null&&ft===null))return ot},this.setFoveation=function(Xt){ot=Xt,ut!==null&&(ut.fixedFoveation=Xt),ft!==null&&ft.fixedFoveation!==void 0&&(ft.fixedFoveation=Xt)};let Ut=null;function jt(Xt,Qt){if(lt=Qt.getViewerPose(at||it),ht=Qt,lt!==null){const rn=lt.views;ft!==null&&(_.setRenderTargetFramebuffer(pt,ft.framebuffer),_.setRenderTarget(pt));let pn=!1;rn.length!==Tt.cameras.length&&(Tt.cameras.length=0,pn=!0);for(let fn=0;fn<rn.length;fn++){const _n=rn[fn];let Pn=null;if(ft!==null)Pn=ft.getViewport(_n);else{const Cn=ct.getViewSubImage(ut,_n);Pn=Cn.viewport,fn===0&&(_.setRenderTargetTextures(pt,Cn.colorTexture,ut.ignoreDepthValues?void 0:Cn.depthStencilTexture),_.setRenderTarget(pt))}let Sn=At[fn];Sn===void 0&&(Sn=new PerspectiveCamera,Sn.layers.enable(fn),Sn.viewport=new Vector4,At[fn]=Sn),Sn.matrix.fromArray(_n.transform.matrix),Sn.matrix.decompose(Sn.position,Sn.quaternion,Sn.scale),Sn.projectionMatrix.fromArray(_n.projectionMatrix),Sn.projectionMatrixInverse.copy(Sn.projectionMatrix).invert(),Sn.viewport.set(Pn.x,Pn.y,Pn.width,Pn.height),fn===0&&(Tt.matrix.copy(Sn.matrix),Tt.matrix.decompose(Tt.position,Tt.quaternion,Tt.scale)),pn===!0&&Tt.cameras.push(Sn)}}for(let rn=0;rn<yt.length;rn++){const pn=_t[rn],fn=yt[rn];pn!==null&&fn!==void 0&&fn.update(pn,Qt,at||it)}Ut&&Ut(Xt,Qt),Qt.detectedPlanes&&tt.dispatchEvent({type:"planesdetected",data:Qt}),ht=null}const Jt=new WebGLAnimation;Jt.setAnimationLoop(jt),this.setAnimationLoop=function(Xt){Ut=Xt},this.dispose=function(){}}}function WebGLMaterials(_e,_){function et(mt,pt){mt.matrixAutoUpdate===!0&&mt.updateMatrix(),pt.value.copy(mt.matrix)}function tt(mt,pt){pt.color.getRGB(mt.fogColor.value,getUnlitUniformColorSpace(_e)),pt.isFog?(mt.fogNear.value=pt.near,mt.fogFar.value=pt.far):pt.isFogExp2&&(mt.fogDensity.value=pt.density)}function nt(mt,pt,yt,_t,St){pt.isMeshBasicMaterial||pt.isMeshLambertMaterial?rt(mt,pt):pt.isMeshToonMaterial?(rt(mt,pt),ct(mt,pt)):pt.isMeshPhongMaterial?(rt(mt,pt),lt(mt,pt)):pt.isMeshStandardMaterial?(rt(mt,pt),ut(mt,pt),pt.isMeshPhysicalMaterial&&ft(mt,pt,St)):pt.isMeshMatcapMaterial?(rt(mt,pt),ht(mt,pt)):pt.isMeshDepthMaterial?rt(mt,pt):pt.isMeshDistanceMaterial?(rt(mt,pt),vt(mt,pt)):pt.isMeshNormalMaterial?rt(mt,pt):pt.isLineBasicMaterial?(it(mt,pt),pt.isLineDashedMaterial&&st(mt,pt)):pt.isPointsMaterial?ot(mt,pt,yt,_t):pt.isSpriteMaterial?at(mt,pt):pt.isShadowMaterial?(mt.color.value.copy(pt.color),mt.opacity.value=pt.opacity):pt.isShaderMaterial&&(pt.uniformsNeedUpdate=!1)}function rt(mt,pt){mt.opacity.value=pt.opacity,pt.color&&mt.diffuse.value.copy(pt.color),pt.emissive&&mt.emissive.value.copy(pt.emissive).multiplyScalar(pt.emissiveIntensity),pt.map&&(mt.map.value=pt.map,et(pt.map,mt.mapTransform)),pt.alphaMap&&(mt.alphaMap.value=pt.alphaMap,et(pt.alphaMap,mt.alphaMapTransform)),pt.bumpMap&&(mt.bumpMap.value=pt.bumpMap,et(pt.bumpMap,mt.bumpMapTransform),mt.bumpScale.value=pt.bumpScale,pt.side===BackSide&&(mt.bumpScale.value*=-1)),pt.normalMap&&(mt.normalMap.value=pt.normalMap,et(pt.normalMap,mt.normalMapTransform),mt.normalScale.value.copy(pt.normalScale),pt.side===BackSide&&mt.normalScale.value.negate()),pt.displacementMap&&(mt.displacementMap.value=pt.displacementMap,et(pt.displacementMap,mt.displacementMapTransform),mt.displacementScale.value=pt.displacementScale,mt.displacementBias.value=pt.displacementBias),pt.emissiveMap&&(mt.emissiveMap.value=pt.emissiveMap,et(pt.emissiveMap,mt.emissiveMapTransform)),pt.specularMap&&(mt.specularMap.value=pt.specularMap,et(pt.specularMap,mt.specularMapTransform)),pt.alphaTest>0&&(mt.alphaTest.value=pt.alphaTest);const yt=_.get(pt).envMap;if(yt&&(mt.envMap.value=yt,mt.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1,mt.reflectivity.value=pt.reflectivity,mt.ior.value=pt.ior,mt.refractionRatio.value=pt.refractionRatio),pt.lightMap){mt.lightMap.value=pt.lightMap;const _t=_e._useLegacyLights===!0?Math.PI:1;mt.lightMapIntensity.value=pt.lightMapIntensity*_t,et(pt.lightMap,mt.lightMapTransform)}pt.aoMap&&(mt.aoMap.value=pt.aoMap,mt.aoMapIntensity.value=pt.aoMapIntensity,et(pt.aoMap,mt.aoMapTransform))}function it(mt,pt){mt.diffuse.value.copy(pt.color),mt.opacity.value=pt.opacity,pt.map&&(mt.map.value=pt.map,et(pt.map,mt.mapTransform))}function st(mt,pt){mt.dashSize.value=pt.dashSize,mt.totalSize.value=pt.dashSize+pt.gapSize,mt.scale.value=pt.scale}function ot(mt,pt,yt,_t){mt.diffuse.value.copy(pt.color),mt.opacity.value=pt.opacity,mt.size.value=pt.size*yt,mt.scale.value=_t*.5,pt.map&&(mt.map.value=pt.map,et(pt.map,mt.uvTransform)),pt.alphaMap&&(mt.alphaMap.value=pt.alphaMap,et(pt.alphaMap,mt.alphaMapTransform)),pt.alphaTest>0&&(mt.alphaTest.value=pt.alphaTest)}function at(mt,pt){mt.diffuse.value.copy(pt.color),mt.opacity.value=pt.opacity,mt.rotation.value=pt.rotation,pt.map&&(mt.map.value=pt.map,et(pt.map,mt.mapTransform)),pt.alphaMap&&(mt.alphaMap.value=pt.alphaMap,et(pt.alphaMap,mt.alphaMapTransform)),pt.alphaTest>0&&(mt.alphaTest.value=pt.alphaTest)}function lt(mt,pt){mt.specular.value.copy(pt.specular),mt.shininess.value=Math.max(pt.shininess,1e-4)}function ct(mt,pt){pt.gradientMap&&(mt.gradientMap.value=pt.gradientMap)}function ut(mt,pt){mt.metalness.value=pt.metalness,pt.metalnessMap&&(mt.metalnessMap.value=pt.metalnessMap,et(pt.metalnessMap,mt.metalnessMapTransform)),mt.roughness.value=pt.roughness,pt.roughnessMap&&(mt.roughnessMap.value=pt.roughnessMap,et(pt.roughnessMap,mt.roughnessMapTransform)),_.get(pt).envMap&&(mt.envMapIntensity.value=pt.envMapIntensity)}function ft(mt,pt,yt){mt.ior.value=pt.ior,pt.sheen>0&&(mt.sheenColor.value.copy(pt.sheenColor).multiplyScalar(pt.sheen),mt.sheenRoughness.value=pt.sheenRoughness,pt.sheenColorMap&&(mt.sheenColorMap.value=pt.sheenColorMap,et(pt.sheenColorMap,mt.sheenColorMapTransform)),pt.sheenRoughnessMap&&(mt.sheenRoughnessMap.value=pt.sheenRoughnessMap,et(pt.sheenRoughnessMap,mt.sheenRoughnessMapTransform))),pt.clearcoat>0&&(mt.clearcoat.value=pt.clearcoat,mt.clearcoatRoughness.value=pt.clearcoatRoughness,pt.clearcoatMap&&(mt.clearcoatMap.value=pt.clearcoatMap,et(pt.clearcoatMap,mt.clearcoatMapTransform)),pt.clearcoatRoughnessMap&&(mt.clearcoatRoughnessMap.value=pt.clearcoatRoughnessMap,et(pt.clearcoatRoughnessMap,mt.clearcoatRoughnessMapTransform)),pt.clearcoatNormalMap&&(mt.clearcoatNormalMap.value=pt.clearcoatNormalMap,et(pt.clearcoatNormalMap,mt.clearcoatNormalMapTransform),mt.clearcoatNormalScale.value.copy(pt.clearcoatNormalScale),pt.side===BackSide&&mt.clearcoatNormalScale.value.negate())),pt.iridescence>0&&(mt.iridescence.value=pt.iridescence,mt.iridescenceIOR.value=pt.iridescenceIOR,mt.iridescenceThicknessMinimum.value=pt.iridescenceThicknessRange[0],mt.iridescenceThicknessMaximum.value=pt.iridescenceThicknessRange[1],pt.iridescenceMap&&(mt.iridescenceMap.value=pt.iridescenceMap,et(pt.iridescenceMap,mt.iridescenceMapTransform)),pt.iridescenceThicknessMap&&(mt.iridescenceThicknessMap.value=pt.iridescenceThicknessMap,et(pt.iridescenceThicknessMap,mt.iridescenceThicknessMapTransform))),pt.transmission>0&&(mt.transmission.value=pt.transmission,mt.transmissionSamplerMap.value=yt.texture,mt.transmissionSamplerSize.value.set(yt.width,yt.height),pt.transmissionMap&&(mt.transmissionMap.value=pt.transmissionMap,et(pt.transmissionMap,mt.transmissionMapTransform)),mt.thickness.value=pt.thickness,pt.thicknessMap&&(mt.thicknessMap.value=pt.thicknessMap,et(pt.thicknessMap,mt.thicknessMapTransform)),mt.attenuationDistance.value=pt.attenuationDistance,mt.attenuationColor.value.copy(pt.attenuationColor)),pt.anisotropy>0&&(mt.anisotropyVector.value.set(pt.anisotropy*Math.cos(pt.anisotropyRotation),pt.anisotropy*Math.sin(pt.anisotropyRotation)),pt.anisotropyMap&&(mt.anisotropyMap.value=pt.anisotropyMap,et(pt.anisotropyMap,mt.anisotropyMapTransform))),mt.specularIntensity.value=pt.specularIntensity,mt.specularColor.value.copy(pt.specularColor),pt.specularColorMap&&(mt.specularColorMap.value=pt.specularColorMap,et(pt.specularColorMap,mt.specularColorMapTransform)),pt.specularIntensityMap&&(mt.specularIntensityMap.value=pt.specularIntensityMap,et(pt.specularIntensityMap,mt.specularIntensityMapTransform))}function ht(mt,pt){pt.matcap&&(mt.matcap.value=pt.matcap)}function vt(mt,pt){const yt=_.get(pt).light;mt.referencePosition.value.setFromMatrixPosition(yt.matrixWorld),mt.nearDistance.value=yt.shadow.camera.near,mt.farDistance.value=yt.shadow.camera.far}return{refreshFogUniforms:tt,refreshMaterialUniforms:nt}}function WebGLUniformsGroups(_e,_,et,tt){let nt={},rt={},it=[];const st=et.isWebGL2?_e.getParameter(_e.MAX_UNIFORM_BUFFER_BINDINGS):0;function ot(yt,_t){const St=_t.program;tt.uniformBlockBinding(yt,St)}function at(yt,_t){let St=nt[yt.id];St===void 0&&(ht(yt),St=lt(yt),nt[yt.id]=St,yt.addEventListener("dispose",mt));const Et=_t.program;tt.updateUBOMapping(yt,Et);const wt=_.render.frame;rt[yt.id]!==wt&&(ut(yt),rt[yt.id]=wt)}function lt(yt){const _t=ct();yt.__bindingPointIndex=_t;const St=_e.createBuffer(),Et=yt.__size,wt=yt.usage;return _e.bindBuffer(_e.UNIFORM_BUFFER,St),_e.bufferData(_e.UNIFORM_BUFFER,Et,wt),_e.bindBuffer(_e.UNIFORM_BUFFER,null),_e.bindBufferBase(_e.UNIFORM_BUFFER,_t,St),St}function ct(){for(let yt=0;yt<st;yt++)if(it.indexOf(yt)===-1)return it.push(yt),yt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ut(yt){const _t=nt[yt.id],St=yt.uniforms,Et=yt.__cache;_e.bindBuffer(_e.UNIFORM_BUFFER,_t);for(let wt=0,Mt=St.length;wt<Mt;wt++){const At=St[wt];if(ft(At,wt,Et)===!0){const Tt=At.__offset,Ct=Array.isArray(At.value)?At.value:[At.value];let Dt=0;for(let $t=0;$t<Ct.length;$t++){const kt=Ct[$t],It=vt(kt);typeof kt=="number"?(At.__data[0]=kt,_e.bufferSubData(_e.UNIFORM_BUFFER,Tt+Dt,At.__data)):kt.isMatrix3?(At.__data[0]=kt.elements[0],At.__data[1]=kt.elements[1],At.__data[2]=kt.elements[2],At.__data[3]=kt.elements[0],At.__data[4]=kt.elements[3],At.__data[5]=kt.elements[4],At.__data[6]=kt.elements[5],At.__data[7]=kt.elements[0],At.__data[8]=kt.elements[6],At.__data[9]=kt.elements[7],At.__data[10]=kt.elements[8],At.__data[11]=kt.elements[0]):(kt.toArray(At.__data,Dt),Dt+=It.storage/Float32Array.BYTES_PER_ELEMENT)}_e.bufferSubData(_e.UNIFORM_BUFFER,Tt,At.__data)}}_e.bindBuffer(_e.UNIFORM_BUFFER,null)}function ft(yt,_t,St){const Et=yt.value;if(St[_t]===void 0){if(typeof Et=="number")St[_t]=Et;else{const wt=Array.isArray(Et)?Et:[Et],Mt=[];for(let At=0;At<wt.length;At++)Mt.push(wt[At].clone());St[_t]=Mt}return!0}else if(typeof Et=="number"){if(St[_t]!==Et)return St[_t]=Et,!0}else{const wt=Array.isArray(St[_t])?St[_t]:[St[_t]],Mt=Array.isArray(Et)?Et:[Et];for(let At=0;At<wt.length;At++){const Tt=wt[At];if(Tt.equals(Mt[At])===!1)return Tt.copy(Mt[At]),!0}}return!1}function ht(yt){const _t=yt.uniforms;let St=0;const Et=16;let wt=0;for(let Mt=0,At=_t.length;Mt<At;Mt++){const Tt=_t[Mt],Ct={boundary:0,storage:0},Dt=Array.isArray(Tt.value)?Tt.value:[Tt.value];for(let $t=0,kt=Dt.length;$t<kt;$t++){const It=Dt[$t],Nt=vt(It);Ct.boundary+=Nt.boundary,Ct.storage+=Nt.storage}if(Tt.__data=new Float32Array(Ct.storage/Float32Array.BYTES_PER_ELEMENT),Tt.__offset=St,Mt>0){wt=St%Et;const $t=Et-wt;wt!==0&&$t-Ct.boundary<0&&(St+=Et-wt,Tt.__offset=St)}St+=Ct.storage}return wt=St%Et,wt>0&&(St+=Et-wt),yt.__size=St,yt.__cache={},this}function vt(yt){const _t={boundary:0,storage:0};return typeof yt=="number"?(_t.boundary=4,_t.storage=4):yt.isVector2?(_t.boundary=8,_t.storage=8):yt.isVector3||yt.isColor?(_t.boundary=16,_t.storage=12):yt.isVector4?(_t.boundary=16,_t.storage=16):yt.isMatrix3?(_t.boundary=48,_t.storage=48):yt.isMatrix4?(_t.boundary=64,_t.storage=64):yt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",yt),_t}function mt(yt){const _t=yt.target;_t.removeEventListener("dispose",mt);const St=it.indexOf(_t.__bindingPointIndex);it.splice(St,1),_e.deleteBuffer(nt[_t.id]),delete nt[_t.id],delete rt[_t.id]}function pt(){for(const yt in nt)_e.deleteBuffer(nt[yt]);it=[],nt={},rt={}}return{bind:ot,update:at,dispose:pt}}class WebGLRenderer{constructor(_={}){const{canvas:et=createCanvasElement(),context:tt=null,depth:nt=!0,stencil:rt=!0,alpha:it=!1,antialias:st=!1,premultipliedAlpha:ot=!0,preserveDrawingBuffer:at=!1,powerPreference:lt="default",failIfMajorPerformanceCaveat:ct=!1}=_;this.isWebGLRenderer=!0;let ut;tt!==null?ut=tt.getContextAttributes().alpha:ut=it;const ft=new Uint32Array(4),ht=new Int32Array(4);let vt=null,mt=null;const pt=[],yt=[];this.domElement=et,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this._useLegacyLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const _t=this;let St=!1,Et=0,wt=0,Mt=null,At=-1,Tt=null;const Ct=new Vector4,Dt=new Vector4;let $t=null;const kt=new Color$1(0);let It=0,Nt=et.width,Gt=et.height,Bt=1,Rt=null,Ot=null;const Ut=new Vector4(0,0,Nt,Gt),jt=new Vector4(0,0,Nt,Gt);let Jt=!1;const Xt=new Frustum;let Qt=!1,rn=!1,pn=null;const fn=new Matrix4,_n=new Vector2,Pn=new Vector3,Sn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Cn(){return Mt===null?Bt:1}let Wt=tt;function tn(Vt,en){for(let on=0;on<Vt.length;on++){const cn=Vt[on],sn=et.getContext(cn,en);if(sn!==null)return sn}return null}try{const Vt={alpha:!0,depth:nt,stencil:rt,antialias:st,premultipliedAlpha:ot,preserveDrawingBuffer:at,powerPreference:lt,failIfMajorPerformanceCaveat:ct};if("setAttribute"in et&&et.setAttribute("data-engine",`three.js r${REVISION}`),et.addEventListener("webglcontextlost",ur,!1),et.addEventListener("webglcontextrestored",qt,!1),et.addEventListener("webglcontextcreationerror",kn,!1),Wt===null){const en=["webgl2","webgl","experimental-webgl"];if(_t.isWebGL1Renderer===!0&&en.shift(),Wt=tn(en,Vt),Wt===null)throw tn(en)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Wt instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Wt.getShaderPrecisionFormat===void 0&&(Wt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Vt){throw console.error("THREE.WebGLRenderer: "+Vt.message),Vt}let an,vn,hn,$n,En,Mn,Rn,Vn,sr,zt,Ft,Zt,gn,mn,yn,Fn,bn,Dn,qn,cr,xn,hr,Jn,jn;function Wn(){an=new WebGLExtensions(Wt),vn=new WebGLCapabilities(Wt,an,_),an.init(vn),hr=new WebGLUtils(Wt,an,vn),hn=new WebGLState(Wt,an,vn),$n=new WebGLInfo(Wt),En=new WebGLProperties,Mn=new WebGLTextures(Wt,an,hn,En,vn,hr,$n),Rn=new WebGLCubeMaps(_t),Vn=new WebGLCubeUVMaps(_t),sr=new WebGLAttributes(Wt,vn),Jn=new WebGLBindingStates(Wt,an,sr,vn),zt=new WebGLGeometries(Wt,sr,$n,Jn),Ft=new WebGLObjects(Wt,zt,sr,$n),qn=new WebGLMorphtargets(Wt,vn,Mn),Fn=new WebGLClipping(En),Zt=new WebGLPrograms(_t,Rn,Vn,an,vn,Jn,Fn),gn=new WebGLMaterials(_t,En),mn=new WebGLRenderLists,yn=new WebGLRenderStates(an,vn),Dn=new WebGLBackground(_t,Rn,Vn,hn,Ft,ut,ot),bn=new WebGLShadowMap(_t,Ft,vn),jn=new WebGLUniformsGroups(Wt,$n,vn,hn),cr=new WebGLBufferRenderer(Wt,an,$n,vn),xn=new WebGLIndexedBufferRenderer(Wt,an,$n,vn),$n.programs=Zt.programs,_t.capabilities=vn,_t.extensions=an,_t.properties=En,_t.renderLists=mn,_t.shadowMap=bn,_t.state=hn,_t.info=$n}Wn();const Nn=new WebXRManager(_t,Wt);this.xr=Nn,this.getContext=function(){return Wt},this.getContextAttributes=function(){return Wt.getContextAttributes()},this.forceContextLoss=function(){const Vt=an.get("WEBGL_lose_context");Vt&&Vt.loseContext()},this.forceContextRestore=function(){const Vt=an.get("WEBGL_lose_context");Vt&&Vt.restoreContext()},this.getPixelRatio=function(){return Bt},this.setPixelRatio=function(Vt){Vt!==void 0&&(Bt=Vt,this.setSize(Nt,Gt,!1))},this.getSize=function(Vt){return Vt.set(Nt,Gt)},this.setSize=function(Vt,en,on=!0){if(Nn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Nt=Vt,Gt=en,et.width=Math.floor(Vt*Bt),et.height=Math.floor(en*Bt),on===!0&&(et.style.width=Vt+"px",et.style.height=en+"px"),this.setViewport(0,0,Vt,en)},this.getDrawingBufferSize=function(Vt){return Vt.set(Nt*Bt,Gt*Bt).floor()},this.setDrawingBufferSize=function(Vt,en,on){Nt=Vt,Gt=en,Bt=on,et.width=Math.floor(Vt*on),et.height=Math.floor(en*on),this.setViewport(0,0,Vt,en)},this.getCurrentViewport=function(Vt){return Vt.copy(Ct)},this.getViewport=function(Vt){return Vt.copy(Ut)},this.setViewport=function(Vt,en,on,cn){Vt.isVector4?Ut.set(Vt.x,Vt.y,Vt.z,Vt.w):Ut.set(Vt,en,on,cn),hn.viewport(Ct.copy(Ut).multiplyScalar(Bt).floor())},this.getScissor=function(Vt){return Vt.copy(jt)},this.setScissor=function(Vt,en,on,cn){Vt.isVector4?jt.set(Vt.x,Vt.y,Vt.z,Vt.w):jt.set(Vt,en,on,cn),hn.scissor(Dt.copy(jt).multiplyScalar(Bt).floor())},this.getScissorTest=function(){return Jt},this.setScissorTest=function(Vt){hn.setScissorTest(Jt=Vt)},this.setOpaqueSort=function(Vt){Rt=Vt},this.setTransparentSort=function(Vt){Ot=Vt},this.getClearColor=function(Vt){return Vt.copy(Dn.getClearColor())},this.setClearColor=function(){Dn.setClearColor.apply(Dn,arguments)},this.getClearAlpha=function(){return Dn.getClearAlpha()},this.setClearAlpha=function(){Dn.setClearAlpha.apply(Dn,arguments)},this.clear=function(Vt=!0,en=!0,on=!0){let cn=0;if(Vt){let sn=!1;if(Mt!==null){const On=Mt.texture.format;sn=On===RGBAIntegerFormat||On===RGIntegerFormat||On===RedIntegerFormat}if(sn){const On=Mt.texture.type,Gn=On===UnsignedByteType||On===UnsignedIntType||On===UnsignedShortType||On===UnsignedInt248Type||On===UnsignedShort4444Type||On===UnsignedShort5551Type,Yn=Dn.getClearColor(),Zn=Dn.getClearAlpha(),tr=Yn.r,er=Yn.g,nr=Yn.b;Gn?(ft[0]=tr,ft[1]=er,ft[2]=nr,ft[3]=Zn,Wt.clearBufferuiv(Wt.COLOR,0,ft)):(ht[0]=tr,ht[1]=er,ht[2]=nr,ht[3]=Zn,Wt.clearBufferiv(Wt.COLOR,0,ht))}else cn|=Wt.COLOR_BUFFER_BIT}en&&(cn|=Wt.DEPTH_BUFFER_BIT),on&&(cn|=Wt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Wt.clear(cn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){et.removeEventListener("webglcontextlost",ur,!1),et.removeEventListener("webglcontextrestored",qt,!1),et.removeEventListener("webglcontextcreationerror",kn,!1),mn.dispose(),yn.dispose(),En.dispose(),Rn.dispose(),Vn.dispose(),Ft.dispose(),Jn.dispose(),jn.dispose(),Zt.dispose(),Nn.dispose(),Nn.removeEventListener("sessionstart",Dr),Nn.removeEventListener("sessionend",gr),pn&&(pn.dispose(),pn=null),kr.stop()};function ur(Vt){Vt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),St=!0}function qt(){console.log("THREE.WebGLRenderer: Context Restored."),St=!1;const Vt=$n.autoReset,en=bn.enabled,on=bn.autoUpdate,cn=bn.needsUpdate,sn=bn.type;Wn(),$n.autoReset=Vt,bn.enabled=en,bn.autoUpdate=on,bn.needsUpdate=cn,bn.type=sn}function kn(Vt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Vt.statusMessage)}function wn(Vt){const en=Vt.target;en.removeEventListener("dispose",wn),dn(en)}function dn(Vt){An(Vt),En.remove(Vt)}function An(Vt){const en=En.get(Vt).programs;en!==void 0&&(en.forEach(function(on){Zt.releaseProgram(on)}),Vt.isShaderMaterial&&Zt.releaseShaderCache(Vt))}this.renderBufferDirect=function(Vt,en,on,cn,sn,On){en===null&&(en=Sn);const Gn=sn.isMesh&&sn.matrixWorld.determinant()<0,Yn=Ul(Vt,en,on,cn,sn);hn.setMaterial(cn,Gn);let Zn=on.index,tr=1;if(cn.wireframe===!0){if(Zn=zt.getWireframeAttribute(on),Zn===void 0)return;tr=2}const er=on.drawRange,nr=on.attributes.position;let xr=er.start*tr,Or=(er.start+er.count)*tr;On!==null&&(xr=Math.max(xr,On.start*tr),Or=Math.min(Or,(On.start+On.count)*tr)),Zn!==null?(xr=Math.max(xr,0),Or=Math.min(Or,Zn.count)):nr!=null&&(xr=Math.max(xr,0),Or=Math.min(Or,nr.count));const yr=Or-xr;if(yr<0||yr===1/0)return;Jn.setup(sn,cn,Yn,on,Zn);let Rr,Qn=cr;if(Zn!==null&&(Rr=sr.get(Zn),Qn=xn,Qn.setIndex(Rr)),sn.isMesh)cn.wireframe===!0?(hn.setLineWidth(cn.wireframeLinewidth*Cn()),Qn.setMode(Wt.LINES)):Qn.setMode(Wt.TRIANGLES);else if(sn.isLine){let Bn=cn.linewidth;Bn===void 0&&(Bn=1),hn.setLineWidth(Bn*Cn()),sn.isLineSegments?Qn.setMode(Wt.LINES):sn.isLineLoop?Qn.setMode(Wt.LINE_LOOP):Qn.setMode(Wt.LINE_STRIP)}else sn.isPoints?Qn.setMode(Wt.POINTS):sn.isSprite&&Qn.setMode(Wt.TRIANGLES);if(sn.isBatchedMesh)Qn.renderMultiDraw(sn._multiDrawStarts,sn._multiDrawCounts,sn._multiDrawCount);else if(sn.isInstancedMesh)Qn.renderInstances(xr,yr,sn.count);else if(on.isInstancedBufferGeometry){const Bn=on._maxInstanceCount!==void 0?on._maxInstanceCount:1/0,es=Math.min(on.instanceCount,Bn);Qn.renderInstances(xr,yr,es)}else Qn.render(xr,yr)};function Kn(Vt,en,on){Vt.transparent===!0&&Vt.side===DoubleSide&&Vt.forceSinglePass===!1?(Vt.side=BackSide,Vt.needsUpdate=!0,qs(Vt,en,on),Vt.side=FrontSide,Vt.needsUpdate=!0,qs(Vt,en,on),Vt.side=DoubleSide):qs(Vt,en,on)}this.compile=function(Vt,en,on=null){on===null&&(on=Vt),mt=yn.get(on),mt.init(),yt.push(mt),on.traverseVisible(function(sn){sn.isLight&&sn.layers.test(en.layers)&&(mt.pushLight(sn),sn.castShadow&&mt.pushShadow(sn))}),Vt!==on&&Vt.traverseVisible(function(sn){sn.isLight&&sn.layers.test(en.layers)&&(mt.pushLight(sn),sn.castShadow&&mt.pushShadow(sn))}),mt.setupLights(_t._useLegacyLights);const cn=new Set;return Vt.traverse(function(sn){const On=sn.material;if(On)if(Array.isArray(On))for(let Gn=0;Gn<On.length;Gn++){const Yn=On[Gn];Kn(Yn,on,sn),cn.add(Yn)}else Kn(On,on,sn),cn.add(On)}),yt.pop(),mt=null,cn},this.compileAsync=function(Vt,en,on=null){const cn=this.compile(Vt,en,on);return new Promise(sn=>{function On(){if(cn.forEach(function(Gn){En.get(Gn).currentProgram.isReady()&&cn.delete(Gn)}),cn.size===0){sn(Vt);return}setTimeout(On,10)}an.get("KHR_parallel_shader_compile")!==null?On():setTimeout(On,10)})};let fr=null;function wr(Vt){fr&&fr(Vt)}function Dr(){kr.stop()}function gr(){kr.start()}const kr=new WebGLAnimation;kr.setAnimationLoop(wr),typeof self<"u"&&kr.setContext(self),this.setAnimationLoop=function(Vt){fr=Vt,Nn.setAnimationLoop(Vt),Vt===null?kr.stop():kr.start()},Nn.addEventListener("sessionstart",Dr),Nn.addEventListener("sessionend",gr),this.render=function(Vt,en){if(en!==void 0&&en.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(St===!0)return;Vt.matrixWorldAutoUpdate===!0&&Vt.updateMatrixWorld(),en.parent===null&&en.matrixWorldAutoUpdate===!0&&en.updateMatrixWorld(),Nn.enabled===!0&&Nn.isPresenting===!0&&(Nn.cameraAutoUpdate===!0&&Nn.updateCamera(en),en=Nn.getCamera()),Vt.isScene===!0&&Vt.onBeforeRender(_t,Vt,en,Mt),mt=yn.get(Vt,yt.length),mt.init(),yt.push(mt),fn.multiplyMatrices(en.projectionMatrix,en.matrixWorldInverse),Xt.setFromProjectionMatrix(fn),rn=this.localClippingEnabled,Qt=Fn.init(this.clippingPlanes,rn),vt=mn.get(Vt,pt.length),vt.init(),pt.push(vt),_i(Vt,en,0,_t.sortObjects),vt.finish(),_t.sortObjects===!0&&vt.sort(Rt,Ot),this.info.render.frame++,Qt===!0&&Fn.beginShadows();const on=mt.state.shadowsArray;if(bn.render(on,Vt,en),Qt===!0&&Fn.endShadows(),this.info.autoReset===!0&&this.info.reset(),Dn.render(vt,Vt),mt.setupLights(_t._useLegacyLights),en.isArrayCamera){const cn=en.cameras;for(let sn=0,On=cn.length;sn<On;sn++){const Gn=cn[sn];co(vt,Vt,Gn,Gn.viewport)}}else co(vt,Vt,en);Mt!==null&&(Mn.updateMultisampleRenderTarget(Mt),Mn.updateRenderTargetMipmap(Mt)),Vt.isScene===!0&&Vt.onAfterRender(_t,Vt,en),Jn.resetDefaultState(),At=-1,Tt=null,yt.pop(),yt.length>0?mt=yt[yt.length-1]:mt=null,pt.pop(),pt.length>0?vt=pt[pt.length-1]:vt=null};function _i(Vt,en,on,cn){if(Vt.visible===!1)return;if(Vt.layers.test(en.layers)){if(Vt.isGroup)on=Vt.renderOrder;else if(Vt.isLOD)Vt.autoUpdate===!0&&Vt.update(en);else if(Vt.isLight)mt.pushLight(Vt),Vt.castShadow&&mt.pushShadow(Vt);else if(Vt.isSprite){if(!Vt.frustumCulled||Xt.intersectsSprite(Vt)){cn&&Pn.setFromMatrixPosition(Vt.matrixWorld).applyMatrix4(fn);const Gn=Ft.update(Vt),Yn=Vt.material;Yn.visible&&vt.push(Vt,Gn,Yn,on,Pn.z,null)}}else if((Vt.isMesh||Vt.isLine||Vt.isPoints)&&(!Vt.frustumCulled||Xt.intersectsObject(Vt))){const Gn=Ft.update(Vt),Yn=Vt.material;if(cn&&(Vt.boundingSphere!==void 0?(Vt.boundingSphere===null&&Vt.computeBoundingSphere(),Pn.copy(Vt.boundingSphere.center)):(Gn.boundingSphere===null&&Gn.computeBoundingSphere(),Pn.copy(Gn.boundingSphere.center)),Pn.applyMatrix4(Vt.matrixWorld).applyMatrix4(fn)),Array.isArray(Yn)){const Zn=Gn.groups;for(let tr=0,er=Zn.length;tr<er;tr++){const nr=Zn[tr],xr=Yn[nr.materialIndex];xr&&xr.visible&&vt.push(Vt,Gn,xr,on,Pn.z,nr)}}else Yn.visible&&vt.push(Vt,Gn,Yn,on,Pn.z,null)}}const On=Vt.children;for(let Gn=0,Yn=On.length;Gn<Yn;Gn++)_i(On[Gn],en,on,cn)}function co(Vt,en,on,cn){const sn=Vt.opaque,On=Vt.transmissive,Gn=Vt.transparent;mt.setupLightsView(on),Qt===!0&&Fn.setGlobalState(_t.clippingPlanes,on),On.length>0&&uo(sn,On,en,on),cn&&hn.viewport(Ct.copy(cn)),sn.length>0&&Xs(sn,en,on),On.length>0&&Xs(On,en,on),Gn.length>0&&Xs(Gn,en,on),hn.buffers.depth.setTest(!0),hn.buffers.depth.setMask(!0),hn.buffers.color.setMask(!0),hn.setPolygonOffset(!1)}function uo(Vt,en,on,cn){if((on.isScene===!0?on.overrideMaterial:null)!==null)return;const On=vn.isWebGL2;pn===null&&(pn=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:an.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:On?4:0})),_t.getDrawingBufferSize(_n),On?pn.setSize(_n.x,_n.y):pn.setSize(floorPowerOfTwo(_n.x),floorPowerOfTwo(_n.y));const Gn=_t.getRenderTarget();_t.setRenderTarget(pn),_t.getClearColor(kt),It=_t.getClearAlpha(),It<1&&_t.setClearColor(16777215,.5),_t.clear();const Yn=_t.toneMapping;_t.toneMapping=NoToneMapping,Xs(Vt,on,cn),Mn.updateMultisampleRenderTarget(pn),Mn.updateRenderTargetMipmap(pn);let Zn=!1;for(let tr=0,er=en.length;tr<er;tr++){const nr=en[tr],xr=nr.object,Or=nr.geometry,yr=nr.material,Rr=nr.group;if(yr.side===DoubleSide&&xr.layers.test(cn.layers)){const Qn=yr.side;yr.side=BackSide,yr.needsUpdate=!0,Ps(xr,on,cn,Or,yr,Rr),yr.side=Qn,yr.needsUpdate=!0,Zn=!0}}Zn===!0&&(Mn.updateMultisampleRenderTarget(pn),Mn.updateRenderTargetMipmap(pn)),_t.setRenderTarget(Gn),_t.setClearColor(kt,It),_t.toneMapping=Yn}function Xs(Vt,en,on){const cn=en.isScene===!0?en.overrideMaterial:null;for(let sn=0,On=Vt.length;sn<On;sn++){const Gn=Vt[sn],Yn=Gn.object,Zn=Gn.geometry,tr=cn===null?Gn.material:cn,er=Gn.group;Yn.layers.test(on.layers)&&Ps(Yn,en,on,Zn,tr,er)}}function Ps(Vt,en,on,cn,sn,On){Vt.onBeforeRender(_t,en,on,cn,sn,On),Vt.modelViewMatrix.multiplyMatrices(on.matrixWorldInverse,Vt.matrixWorld),Vt.normalMatrix.getNormalMatrix(Vt.modelViewMatrix),sn.onBeforeRender(_t,en,on,cn,Vt,On),sn.transparent===!0&&sn.side===DoubleSide&&sn.forceSinglePass===!1?(sn.side=BackSide,sn.needsUpdate=!0,_t.renderBufferDirect(on,en,cn,sn,Vt,On),sn.side=FrontSide,sn.needsUpdate=!0,_t.renderBufferDirect(on,en,cn,sn,Vt,On),sn.side=DoubleSide):_t.renderBufferDirect(on,en,cn,sn,Vt,On),Vt.onAfterRender(_t,en,on,cn,sn,On)}function qs(Vt,en,on){en.isScene!==!0&&(en=Sn);const cn=En.get(Vt),sn=mt.state.lights,On=mt.state.shadowsArray,Gn=sn.state.version,Yn=Zt.getParameters(Vt,sn.state,On,en,on),Zn=Zt.getProgramCacheKey(Yn);let tr=cn.programs;cn.environment=Vt.isMeshStandardMaterial?en.environment:null,cn.fog=en.fog,cn.envMap=(Vt.isMeshStandardMaterial?Vn:Rn).get(Vt.envMap||cn.environment),tr===void 0&&(Vt.addEventListener("dispose",wn),tr=new Map,cn.programs=tr);let er=tr.get(Zn);if(er!==void 0){if(cn.currentProgram===er&&cn.lightsStateVersion===Gn)return Lo(Vt,Yn),er}else Yn.uniforms=Zt.getUniforms(Vt),Vt.onBuild(on,Yn,_t),Vt.onBeforeCompile(Yn,_t),er=Zt.acquireProgram(Yn,Zn),tr.set(Zn,er),cn.uniforms=Yn.uniforms;const nr=cn.uniforms;return(!Vt.isShaderMaterial&&!Vt.isRawShaderMaterial||Vt.clipping===!0)&&(nr.clippingPlanes=Fn.uniform),Lo(Vt,Yn),cn.needsLights=Hl(Vt),cn.lightsStateVersion=Gn,cn.needsLights&&(nr.ambientLightColor.value=sn.state.ambient,nr.lightProbe.value=sn.state.probe,nr.directionalLights.value=sn.state.directional,nr.directionalLightShadows.value=sn.state.directionalShadow,nr.spotLights.value=sn.state.spot,nr.spotLightShadows.value=sn.state.spotShadow,nr.rectAreaLights.value=sn.state.rectArea,nr.ltc_1.value=sn.state.rectAreaLTC1,nr.ltc_2.value=sn.state.rectAreaLTC2,nr.pointLights.value=sn.state.point,nr.pointLightShadows.value=sn.state.pointShadow,nr.hemisphereLights.value=sn.state.hemi,nr.directionalShadowMap.value=sn.state.directionalShadowMap,nr.directionalShadowMatrix.value=sn.state.directionalShadowMatrix,nr.spotShadowMap.value=sn.state.spotShadowMap,nr.spotLightMatrix.value=sn.state.spotLightMatrix,nr.spotLightMap.value=sn.state.spotLightMap,nr.pointShadowMap.value=sn.state.pointShadowMap,nr.pointShadowMatrix.value=sn.state.pointShadowMatrix),cn.currentProgram=er,cn.uniformsList=null,er}function Ro(Vt){if(Vt.uniformsList===null){const en=Vt.currentProgram.getUniforms();Vt.uniformsList=WebGLUniforms.seqWithValue(en.seq,Vt.uniforms)}return Vt.uniformsList}function Lo(Vt,en){const on=En.get(Vt);on.outputColorSpace=en.outputColorSpace,on.batching=en.batching,on.instancing=en.instancing,on.instancingColor=en.instancingColor,on.skinning=en.skinning,on.morphTargets=en.morphTargets,on.morphNormals=en.morphNormals,on.morphColors=en.morphColors,on.morphTargetsCount=en.morphTargetsCount,on.numClippingPlanes=en.numClippingPlanes,on.numIntersection=en.numClipIntersection,on.vertexAlphas=en.vertexAlphas,on.vertexTangents=en.vertexTangents,on.toneMapping=en.toneMapping}function Ul(Vt,en,on,cn,sn){en.isScene!==!0&&(en=Sn),Mn.resetTextureUnits();const On=en.fog,Gn=cn.isMeshStandardMaterial?en.environment:null,Yn=Mt===null?_t.outputColorSpace:Mt.isXRRenderTarget===!0?Mt.texture.colorSpace:LinearSRGBColorSpace,Zn=(cn.isMeshStandardMaterial?Vn:Rn).get(cn.envMap||Gn),tr=cn.vertexColors===!0&&!!on.attributes.color&&on.attributes.color.itemSize===4,er=!!on.attributes.tangent&&(!!cn.normalMap||cn.anisotropy>0),nr=!!on.morphAttributes.position,xr=!!on.morphAttributes.normal,Or=!!on.morphAttributes.color;let yr=NoToneMapping;cn.toneMapped&&(Mt===null||Mt.isXRRenderTarget===!0)&&(yr=_t.toneMapping);const Rr=on.morphAttributes.position||on.morphAttributes.normal||on.morphAttributes.color,Qn=Rr!==void 0?Rr.length:0,Bn=En.get(cn),es=mt.state.lights;if(Qt===!0&&(rn===!0||Vt!==Tt)){const Nr=Vt===Tt&&cn.id===At;Fn.setState(cn,Vt,Nr)}let ar=!1;cn.version===Bn.__version?(Bn.needsLights&&Bn.lightsStateVersion!==es.state.version||Bn.outputColorSpace!==Yn||sn.isBatchedMesh&&Bn.batching===!1||!sn.isBatchedMesh&&Bn.batching===!0||sn.isInstancedMesh&&Bn.instancing===!1||!sn.isInstancedMesh&&Bn.instancing===!0||sn.isSkinnedMesh&&Bn.skinning===!1||!sn.isSkinnedMesh&&Bn.skinning===!0||sn.isInstancedMesh&&Bn.instancingColor===!0&&sn.instanceColor===null||sn.isInstancedMesh&&Bn.instancingColor===!1&&sn.instanceColor!==null||Bn.envMap!==Zn||cn.fog===!0&&Bn.fog!==On||Bn.numClippingPlanes!==void 0&&(Bn.numClippingPlanes!==Fn.numPlanes||Bn.numIntersection!==Fn.numIntersection)||Bn.vertexAlphas!==tr||Bn.vertexTangents!==er||Bn.morphTargets!==nr||Bn.morphNormals!==xr||Bn.morphColors!==Or||Bn.toneMapping!==yr||vn.isWebGL2===!0&&Bn.morphTargetsCount!==Qn)&&(ar=!0):(ar=!0,Bn.__version=cn.version);let Er=Bn.currentProgram;ar===!0&&(Er=qs(cn,en,sn));let ds=!1,ts=!1,Lr=!1;const Tr=Er.getUniforms(),ps=Bn.uniforms;if(hn.useProgram(Er.program)&&(ds=!0,ts=!0,Lr=!0),cn.id!==At&&(At=cn.id,ts=!0),ds||Tt!==Vt){Tr.setValue(Wt,"projectionMatrix",Vt.projectionMatrix),Tr.setValue(Wt,"viewMatrix",Vt.matrixWorldInverse);const Nr=Tr.map.cameraPosition;Nr!==void 0&&Nr.setValue(Wt,Pn.setFromMatrixPosition(Vt.matrixWorld)),vn.logarithmicDepthBuffer&&Tr.setValue(Wt,"logDepthBufFC",2/(Math.log(Vt.far+1)/Math.LN2)),(cn.isMeshPhongMaterial||cn.isMeshToonMaterial||cn.isMeshLambertMaterial||cn.isMeshBasicMaterial||cn.isMeshStandardMaterial||cn.isShaderMaterial)&&Tr.setValue(Wt,"isOrthographic",Vt.isOrthographicCamera===!0),Tt!==Vt&&(Tt=Vt,ts=!0,Lr=!0)}if(sn.isSkinnedMesh){Tr.setOptional(Wt,sn,"bindMatrix"),Tr.setOptional(Wt,sn,"bindMatrixInverse");const Nr=sn.skeleton;Nr&&(vn.floatVertexTextures?(Nr.boneTexture===null&&Nr.computeBoneTexture(),Tr.setValue(Wt,"boneTexture",Nr.boneTexture,Mn)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}sn.isBatchedMesh&&(Tr.setOptional(Wt,sn,"batchingTexture"),Tr.setValue(Wt,"batchingTexture",sn._matricesTexture,Mn));const Ys=on.morphAttributes;if((Ys.position!==void 0||Ys.normal!==void 0||Ys.color!==void 0&&vn.isWebGL2===!0)&&qn.update(sn,on,Er),(ts||Bn.receiveShadow!==sn.receiveShadow)&&(Bn.receiveShadow=sn.receiveShadow,Tr.setValue(Wt,"receiveShadow",sn.receiveShadow)),cn.isMeshGouraudMaterial&&cn.envMap!==null&&(ps.envMap.value=Zn,ps.flipEnvMap.value=Zn.isCubeTexture&&Zn.isRenderTargetTexture===!1?-1:1),ts&&(Tr.setValue(Wt,"toneMappingExposure",_t.toneMappingExposure),Bn.needsLights&&Gl(ps,Lr),On&&cn.fog===!0&&gn.refreshFogUniforms(ps,On),gn.refreshMaterialUniforms(ps,cn,Bt,Gt,pn),WebGLUniforms.upload(Wt,Ro(Bn),ps,Mn)),cn.isShaderMaterial&&cn.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Wt,Ro(Bn),ps,Mn),cn.uniformsNeedUpdate=!1),cn.isSpriteMaterial&&Tr.setValue(Wt,"center",sn.center),Tr.setValue(Wt,"modelViewMatrix",sn.modelViewMatrix),Tr.setValue(Wt,"normalMatrix",sn.normalMatrix),Tr.setValue(Wt,"modelMatrix",sn.matrixWorld),cn.isShaderMaterial||cn.isRawShaderMaterial){const Nr=cn.uniformsGroups;for(let Ks=0,Yr=Nr.length;Ks<Yr;Ks++)if(vn.isWebGL2){const Io=Nr[Ks];jn.update(Io,Er),jn.bind(Io,Er)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Er}function Gl(Vt,en){Vt.ambientLightColor.needsUpdate=en,Vt.lightProbe.needsUpdate=en,Vt.directionalLights.needsUpdate=en,Vt.directionalLightShadows.needsUpdate=en,Vt.pointLights.needsUpdate=en,Vt.pointLightShadows.needsUpdate=en,Vt.spotLights.needsUpdate=en,Vt.spotLightShadows.needsUpdate=en,Vt.rectAreaLights.needsUpdate=en,Vt.hemisphereLights.needsUpdate=en}function Hl(Vt){return Vt.isMeshLambertMaterial||Vt.isMeshToonMaterial||Vt.isMeshPhongMaterial||Vt.isMeshStandardMaterial||Vt.isShadowMaterial||Vt.isShaderMaterial&&Vt.lights===!0}this.getActiveCubeFace=function(){return Et},this.getActiveMipmapLevel=function(){return wt},this.getRenderTarget=function(){return Mt},this.setRenderTargetTextures=function(Vt,en,on){En.get(Vt.texture).__webglTexture=en,En.get(Vt.depthTexture).__webglTexture=on;const cn=En.get(Vt);cn.__hasExternalTextures=!0,cn.__hasExternalTextures&&(cn.__autoAllocateDepthBuffer=on===void 0,cn.__autoAllocateDepthBuffer||an.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),cn.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Vt,en){const on=En.get(Vt);on.__webglFramebuffer=en,on.__useDefaultFramebuffer=en===void 0},this.setRenderTarget=function(Vt,en=0,on=0){Mt=Vt,Et=en,wt=on;let cn=!0,sn=null,On=!1,Gn=!1;if(Vt){const Zn=En.get(Vt);Zn.__useDefaultFramebuffer!==void 0?(hn.bindFramebuffer(Wt.FRAMEBUFFER,null),cn=!1):Zn.__webglFramebuffer===void 0?Mn.setupRenderTarget(Vt):Zn.__hasExternalTextures&&Mn.rebindTextures(Vt,En.get(Vt.texture).__webglTexture,En.get(Vt.depthTexture).__webglTexture);const tr=Vt.texture;(tr.isData3DTexture||tr.isDataArrayTexture||tr.isCompressedArrayTexture)&&(Gn=!0);const er=En.get(Vt).__webglFramebuffer;Vt.isWebGLCubeRenderTarget?(Array.isArray(er[en])?sn=er[en][on]:sn=er[en],On=!0):vn.isWebGL2&&Vt.samples>0&&Mn.useMultisampledRTT(Vt)===!1?sn=En.get(Vt).__webglMultisampledFramebuffer:Array.isArray(er)?sn=er[on]:sn=er,Ct.copy(Vt.viewport),Dt.copy(Vt.scissor),$t=Vt.scissorTest}else Ct.copy(Ut).multiplyScalar(Bt).floor(),Dt.copy(jt).multiplyScalar(Bt).floor(),$t=Jt;if(hn.bindFramebuffer(Wt.FRAMEBUFFER,sn)&&vn.drawBuffers&&cn&&hn.drawBuffers(Vt,sn),hn.viewport(Ct),hn.scissor(Dt),hn.setScissorTest($t),On){const Zn=En.get(Vt.texture);Wt.framebufferTexture2D(Wt.FRAMEBUFFER,Wt.COLOR_ATTACHMENT0,Wt.TEXTURE_CUBE_MAP_POSITIVE_X+en,Zn.__webglTexture,on)}else if(Gn){const Zn=En.get(Vt.texture),tr=en||0;Wt.framebufferTextureLayer(Wt.FRAMEBUFFER,Wt.COLOR_ATTACHMENT0,Zn.__webglTexture,on||0,tr)}At=-1},this.readRenderTargetPixels=function(Vt,en,on,cn,sn,On,Gn){if(!(Vt&&Vt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Yn=En.get(Vt).__webglFramebuffer;if(Vt.isWebGLCubeRenderTarget&&Gn!==void 0&&(Yn=Yn[Gn]),Yn){hn.bindFramebuffer(Wt.FRAMEBUFFER,Yn);try{const Zn=Vt.texture,tr=Zn.format,er=Zn.type;if(tr!==RGBAFormat&&hr.convert(tr)!==Wt.getParameter(Wt.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nr=er===HalfFloatType&&(an.has("EXT_color_buffer_half_float")||vn.isWebGL2&&an.has("EXT_color_buffer_float"));if(er!==UnsignedByteType&&hr.convert(er)!==Wt.getParameter(Wt.IMPLEMENTATION_COLOR_READ_TYPE)&&!(er===FloatType&&(vn.isWebGL2||an.has("OES_texture_float")||an.has("WEBGL_color_buffer_float")))&&!nr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}en>=0&&en<=Vt.width-cn&&on>=0&&on<=Vt.height-sn&&Wt.readPixels(en,on,cn,sn,hr.convert(tr),hr.convert(er),On)}finally{const Zn=Mt!==null?En.get(Mt).__webglFramebuffer:null;hn.bindFramebuffer(Wt.FRAMEBUFFER,Zn)}}},this.copyFramebufferToTexture=function(Vt,en,on=0){const cn=Math.pow(2,-on),sn=Math.floor(en.image.width*cn),On=Math.floor(en.image.height*cn);Mn.setTexture2D(en,0),Wt.copyTexSubImage2D(Wt.TEXTURE_2D,on,0,0,Vt.x,Vt.y,sn,On),hn.unbindTexture()},this.copyTextureToTexture=function(Vt,en,on,cn=0){const sn=en.image.width,On=en.image.height,Gn=hr.convert(on.format),Yn=hr.convert(on.type);Mn.setTexture2D(on,0),Wt.pixelStorei(Wt.UNPACK_FLIP_Y_WEBGL,on.flipY),Wt.pixelStorei(Wt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,on.premultiplyAlpha),Wt.pixelStorei(Wt.UNPACK_ALIGNMENT,on.unpackAlignment),en.isDataTexture?Wt.texSubImage2D(Wt.TEXTURE_2D,cn,Vt.x,Vt.y,sn,On,Gn,Yn,en.image.data):en.isCompressedTexture?Wt.compressedTexSubImage2D(Wt.TEXTURE_2D,cn,Vt.x,Vt.y,en.mipmaps[0].width,en.mipmaps[0].height,Gn,en.mipmaps[0].data):Wt.texSubImage2D(Wt.TEXTURE_2D,cn,Vt.x,Vt.y,Gn,Yn,en.image),cn===0&&on.generateMipmaps&&Wt.generateMipmap(Wt.TEXTURE_2D),hn.unbindTexture()},this.copyTextureToTexture3D=function(Vt,en,on,cn,sn=0){if(_t.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const On=Vt.max.x-Vt.min.x+1,Gn=Vt.max.y-Vt.min.y+1,Yn=Vt.max.z-Vt.min.z+1,Zn=hr.convert(cn.format),tr=hr.convert(cn.type);let er;if(cn.isData3DTexture)Mn.setTexture3D(cn,0),er=Wt.TEXTURE_3D;else if(cn.isDataArrayTexture)Mn.setTexture2DArray(cn,0),er=Wt.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Wt.pixelStorei(Wt.UNPACK_FLIP_Y_WEBGL,cn.flipY),Wt.pixelStorei(Wt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,cn.premultiplyAlpha),Wt.pixelStorei(Wt.UNPACK_ALIGNMENT,cn.unpackAlignment);const nr=Wt.getParameter(Wt.UNPACK_ROW_LENGTH),xr=Wt.getParameter(Wt.UNPACK_IMAGE_HEIGHT),Or=Wt.getParameter(Wt.UNPACK_SKIP_PIXELS),yr=Wt.getParameter(Wt.UNPACK_SKIP_ROWS),Rr=Wt.getParameter(Wt.UNPACK_SKIP_IMAGES),Qn=on.isCompressedTexture?on.mipmaps[0]:on.image;Wt.pixelStorei(Wt.UNPACK_ROW_LENGTH,Qn.width),Wt.pixelStorei(Wt.UNPACK_IMAGE_HEIGHT,Qn.height),Wt.pixelStorei(Wt.UNPACK_SKIP_PIXELS,Vt.min.x),Wt.pixelStorei(Wt.UNPACK_SKIP_ROWS,Vt.min.y),Wt.pixelStorei(Wt.UNPACK_SKIP_IMAGES,Vt.min.z),on.isDataTexture||on.isData3DTexture?Wt.texSubImage3D(er,sn,en.x,en.y,en.z,On,Gn,Yn,Zn,tr,Qn.data):on.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Wt.compressedTexSubImage3D(er,sn,en.x,en.y,en.z,On,Gn,Yn,Zn,Qn.data)):Wt.texSubImage3D(er,sn,en.x,en.y,en.z,On,Gn,Yn,Zn,tr,Qn),Wt.pixelStorei(Wt.UNPACK_ROW_LENGTH,nr),Wt.pixelStorei(Wt.UNPACK_IMAGE_HEIGHT,xr),Wt.pixelStorei(Wt.UNPACK_SKIP_PIXELS,Or),Wt.pixelStorei(Wt.UNPACK_SKIP_ROWS,yr),Wt.pixelStorei(Wt.UNPACK_SKIP_IMAGES,Rr),sn===0&&cn.generateMipmaps&&Wt.generateMipmap(er),hn.unbindTexture()},this.initTexture=function(Vt){Vt.isCubeTexture?Mn.setTextureCube(Vt,0):Vt.isData3DTexture?Mn.setTexture3D(Vt,0):Vt.isDataArrayTexture||Vt.isCompressedArrayTexture?Mn.setTexture2DArray(Vt,0):Mn.setTexture2D(Vt,0),hn.unbindTexture()},this.resetState=function(){Et=0,wt=0,Mt=null,hn.reset(),Jn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(_){this._outputColorSpace=_;const et=this.getContext();et.drawingBufferColorSpace=_===DisplayP3ColorSpace?"display-p3":"srgb",et.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(_){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!_}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set outputEncoding(_){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=_===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(_){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=_}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(_,et=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(_),this.density=et}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(_,et=1,tt=1e3){this.isFog=!0,this.name="",this.color=new Color$1(_),this.near=et,this.far=tt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(_,et){return super.copy(_,et),_.background!==null&&(this.background=_.background.clone()),_.environment!==null&&(this.environment=_.environment.clone()),_.fog!==null&&(this.fog=_.fog.clone()),this.backgroundBlurriness=_.backgroundBlurriness,this.backgroundIntensity=_.backgroundIntensity,_.overrideMaterial!==null&&(this.overrideMaterial=_.overrideMaterial.clone()),this.matrixAutoUpdate=_.matrixAutoUpdate,this}toJSON(_){const et=super.toJSON(_);return this.fog!==null&&(et.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(et.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(et.object.backgroundIntensity=this.backgroundIntensity),et}}class InterleavedBuffer{constructor(_,et){this.isInterleavedBuffer=!0,this.array=_,this.stride=et,this.count=_!==void 0?_.length/et:0,this.usage=StaticDrawUsage,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(_){_===!0&&this.version++}get updateRange(){return console.warn('THREE.InterleavedBuffer: "updateRange" is deprecated and removed in r169. Use "addUpdateRange()" instead.'),this._updateRange}setUsage(_){return this.usage=_,this}addUpdateRange(_,et){this.updateRanges.push({start:_,count:et})}clearUpdateRanges(){this.updateRanges.length=0}copy(_){return this.array=new _.array.constructor(_.array),this.count=_.count,this.stride=_.stride,this.usage=_.usage,this}copyAt(_,et,tt){_*=this.stride,tt*=et.stride;for(let nt=0,rt=this.stride;nt<rt;nt++)this.array[_+nt]=et.array[tt+nt];return this}set(_,et=0){return this.array.set(_,et),this}clone(_){_.arrayBuffers===void 0&&(_.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),_.arrayBuffers[this.array.buffer._uuid]===void 0&&(_.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const et=new this.array.constructor(_.arrayBuffers[this.array.buffer._uuid]),tt=new this.constructor(et,this.stride);return tt.setUsage(this.usage),tt}onUpload(_){return this.onUploadCallback=_,this}toJSON(_){return _.arrayBuffers===void 0&&(_.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),_.arrayBuffers[this.array.buffer._uuid]===void 0&&(_.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(_,et,tt,nt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=_,this.itemSize=et,this.offset=tt,this.normalized=nt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(_){this.data.needsUpdate=_}applyMatrix4(_){for(let et=0,tt=this.data.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.applyMatrix4(_),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(_){for(let et=0,tt=this.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.applyNormalMatrix(_),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(_){for(let et=0,tt=this.count;et<tt;et++)_vector$6.fromBufferAttribute(this,et),_vector$6.transformDirection(_),this.setXYZ(et,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.data.array[_*this.data.stride+this.offset]=et,this}setY(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.data.array[_*this.data.stride+this.offset+1]=et,this}setZ(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.data.array[_*this.data.stride+this.offset+2]=et,this}setW(_,et){return this.normalized&&(et=normalize$5(et,this.array)),this.data.array[_*this.data.stride+this.offset+3]=et,this}getX(_){let et=this.data.array[_*this.data.stride+this.offset];return this.normalized&&(et=denormalize(et,this.array)),et}getY(_){let et=this.data.array[_*this.data.stride+this.offset+1];return this.normalized&&(et=denormalize(et,this.array)),et}getZ(_){let et=this.data.array[_*this.data.stride+this.offset+2];return this.normalized&&(et=denormalize(et,this.array)),et}getW(_){let et=this.data.array[_*this.data.stride+this.offset+3];return this.normalized&&(et=denormalize(et,this.array)),et}setXY(_,et,tt){return _=_*this.data.stride+this.offset,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array)),this.data.array[_+0]=et,this.data.array[_+1]=tt,this}setXYZ(_,et,tt,nt){return _=_*this.data.stride+this.offset,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array)),this.data.array[_+0]=et,this.data.array[_+1]=tt,this.data.array[_+2]=nt,this}setXYZW(_,et,tt,nt,rt){return _=_*this.data.stride+this.offset,this.normalized&&(et=normalize$5(et,this.array),tt=normalize$5(tt,this.array),nt=normalize$5(nt,this.array),rt=normalize$5(rt,this.array)),this.data.array[_+0]=et,this.data.array[_+1]=tt,this.data.array[_+2]=nt,this.data.array[_+3]=rt,this}clone(_){if(_===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return new BufferAttribute(new this.array.constructor(et),this.itemSize,this.normalized)}else return _.interleavedBuffers===void 0&&(_.interleavedBuffers={}),_.interleavedBuffers[this.data.uuid]===void 0&&(_.interleavedBuffers[this.data.uuid]=this.data.clone(_)),new InterleavedBufferAttribute(_.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(_){if(_===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const et=[];for(let tt=0;tt<this.count;tt++){const nt=tt*this.data.stride+this.offset;for(let rt=0;rt<this.itemSize;rt++)et.push(this.data.array[nt+rt])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:et,normalized:this.normalized}}else return _.interleavedBuffers===void 0&&(_.interleavedBuffers={}),_.interleavedBuffers[this.data.uuid]===void 0&&(_.interleavedBuffers[this.data.uuid]=this.data.toJSON(_)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(_){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.alphaMap=_.alphaMap,this.rotation=_.rotation,this.sizeAttenuation=_.sizeAttenuation,this.fog=_.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(_=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const et=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),tt=new InterleavedBuffer(et,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(tt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(tt,2,3,!1))}this.geometry=_geometry,this.material=_,this.center=new Vector2(.5,.5)}raycast(_,et){_.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(_.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(_.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),_.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const tt=this.material.rotation;let nt,rt;tt!==0&&(rt=Math.cos(tt),nt=Math.sin(tt));const it=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vB.set(.5,-.5,0),_mvPosition,it,_worldScale,nt,rt),transformVertex(_vC.set(.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let st=_.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(st===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,it,_worldScale,nt,rt),_uvB.set(0,1),st=_.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),st===null))return;const ot=_.ray.origin.distanceTo(_intersectPoint);ot<_.near||ot>_.far||et.push({distance:ot,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(_,et){return super.copy(_,et),_.center!==void 0&&this.center.copy(_.center),this.material=_.material,this}}function transformVertex(_e,_,et,tt,nt,rt){_alignedPosition.subVectors(_e,et).addScalar(.5).multiply(tt),nt!==void 0?(_rotatedPosition.x=rt*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+rt*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),_e.copy(_),_e.x+=_rotatedPosition.x,_e.y+=_rotatedPosition.y,_e.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(_){super.copy(_,!1);const et=_.levels;for(let tt=0,nt=et.length;tt<nt;tt++){const rt=et[tt];this.addLevel(rt.object.clone(),rt.distance,rt.hysteresis)}return this.autoUpdate=_.autoUpdate,this}addLevel(_,et=0,tt=0){et=Math.abs(et);const nt=this.levels;let rt;for(rt=0;rt<nt.length&&!(et<nt[rt].distance);rt++);return nt.splice(rt,0,{distance:et,hysteresis:tt,object:_}),this.add(_),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(_){const et=this.levels;if(et.length>0){let tt,nt;for(tt=1,nt=et.length;tt<nt;tt++){let rt=et[tt].distance;if(et[tt].object.visible&&(rt-=rt*et[tt].hysteresis),_<rt)break}return et[tt-1].object}return null}raycast(_,et){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const nt=_.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(nt).raycast(_,et)}}update(_){const et=this.levels;if(et.length>1){_v1$2.setFromMatrixPosition(_.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const tt=_v1$2.distanceTo(_v2$1)/_.zoom;et[0].object.visible=!0;let nt,rt;for(nt=1,rt=et.length;nt<rt;nt++){let it=et[nt].distance;if(et[nt].object.visible&&(it-=it*et[nt].hysteresis),tt>=it)et[nt-1].object.visible=!1,et[nt].object.visible=!0;else break}for(this._currentLevel=nt-1;nt<rt;nt++)et[nt].object.visible=!1}}toJSON(_){const et=super.toJSON(_);this.autoUpdate===!1&&(et.object.autoUpdate=!1),et.object.levels=[];const tt=this.levels;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];et.object.levels.push({object:it.object.uuid,distance:it.distance,hysteresis:it.hysteresis})}return et}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$4=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(_,et){super(_,et),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const _=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const et=_.getAttribute("position");for(let tt=0;tt<et.count;tt++)this.getVertexPosition(tt,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const _=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const et=_.getAttribute("position");for(let tt=0;tt<et.count;tt++)this.getVertexPosition(tt,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(_,et){return super.copy(_,et),this.bindMode=_.bindMode,this.bindMatrix.copy(_.bindMatrix),this.bindMatrixInverse.copy(_.bindMatrixInverse),this.skeleton=_.skeleton,_.boundingBox!==null&&(this.boundingBox=_.boundingBox.clone()),_.boundingSphere!==null&&(this.boundingSphere=_.boundingSphere.clone()),this}raycast(_,et){const tt=this.material,nt=this.matrixWorld;tt!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(nt),_.ray.intersectsSphere(_sphere$4)!==!1&&(_inverseMatrix$2.copy(nt).invert(),_ray$2.copy(_.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(_,et,_ray$2)))}getVertexPosition(_,et){return super.getVertexPosition(_,et),this.applyBoneTransform(_,et),et}bind(_,et){this.skeleton=_,et===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),et=this.matrixWorld),this.bindMatrix.copy(et),this.bindMatrixInverse.copy(et).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const _=new Vector4,et=this.geometry.attributes.skinWeight;for(let tt=0,nt=et.count;tt<nt;tt++){_.fromBufferAttribute(et,tt);const rt=1/_.manhattanLength();rt!==1/0?_.multiplyScalar(rt):_.set(1,0,0,0),et.setXYZW(tt,_.x,_.y,_.z,_.w)}}updateMatrixWorld(_){super.updateMatrixWorld(_),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(_,et){const tt=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,_),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,_),_basePosition.copy(et).applyMatrix4(this.bindMatrix),et.set(0,0,0);for(let rt=0;rt<4;rt++){const it=_skinWeight.getComponent(rt);if(it!==0){const st=_skinIndex.getComponent(rt);_matrix4.multiplyMatrices(tt.bones[st].matrixWorld,tt.boneInverses[st]),et.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),it)}}return et.applyMatrix4(this.bindMatrixInverse)}boneTransform(_,et){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(_,et)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(_=null,et=1,tt=1,nt,rt,it,st,ot,at=NearestFilter,lt=NearestFilter,ct,ut){super(null,it,st,ot,at,lt,nt,rt,ct,ut),this.isDataTexture=!0,this.image={data:_,width:et,height:tt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(_=[],et=[]){this.uuid=generateUUID(),this.bones=_.slice(0),this.boneInverses=et,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const _=this.bones,et=this.boneInverses;if(this.boneMatrices=new Float32Array(_.length*16),et.length===0)this.calculateInverses();else if(_.length!==et.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let tt=0,nt=this.bones.length;tt<nt;tt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let _=0,et=this.bones.length;_<et;_++){const tt=new Matrix4;this.bones[_]&&tt.copy(this.bones[_].matrixWorld).invert(),this.boneInverses.push(tt)}}pose(){for(let _=0,et=this.bones.length;_<et;_++){const tt=this.bones[_];tt&&tt.matrixWorld.copy(this.boneInverses[_]).invert()}for(let _=0,et=this.bones.length;_<et;_++){const tt=this.bones[_];tt&&(tt.parent&&tt.parent.isBone?(tt.matrix.copy(tt.parent.matrixWorld).invert(),tt.matrix.multiply(tt.matrixWorld)):tt.matrix.copy(tt.matrixWorld),tt.matrix.decompose(tt.position,tt.quaternion,tt.scale))}}update(){const _=this.bones,et=this.boneInverses,tt=this.boneMatrices,nt=this.boneTexture;for(let rt=0,it=_.length;rt<it;rt++){const st=_[rt]?_[rt].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(st,et[rt]),_offsetMatrix.toArray(tt,rt*16)}nt!==null&&(nt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let _=Math.sqrt(this.bones.length*4);_=Math.ceil(_/4)*4,_=Math.max(_,4);const et=new Float32Array(_*_*4);et.set(this.boneMatrices);const tt=new DataTexture(et,_,_,RGBAFormat,FloatType);return tt.needsUpdate=!0,this.boneMatrices=et,this.boneTexture=tt,this}getBoneByName(_){for(let et=0,tt=this.bones.length;et<tt;et++){const nt=this.bones[et];if(nt.name===_)return nt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(_,et){this.uuid=_.uuid;for(let tt=0,nt=_.bones.length;tt<nt;tt++){const rt=_.bones[tt];let it=et[rt];it===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",rt),it=new Bone),this.bones.push(it),this.boneInverses.push(new Matrix4().fromArray(_.boneInverses[tt]))}return this.init(),this}toJSON(){const _={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};_.uuid=this.uuid;const et=this.bones,tt=this.boneInverses;for(let nt=0,rt=et.length;nt<rt;nt++){const it=et[nt];_.bones.push(it.uuid);const st=tt[nt];_.boneInverses.push(st.toArray())}return _}}class InstancedBufferAttribute extends BufferAttribute{constructor(_,et,tt,nt=1){super(_,et,tt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=nt}copy(_){return super.copy(_),this.meshPerAttribute=_.meshPerAttribute,this}toJSON(){const _=super.toJSON();return _.meshPerAttribute=this.meshPerAttribute,_.isInstancedBufferAttribute=!0,_}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$3=new Sphere;class InstancedMesh extends Mesh{constructor(_,et,tt){super(_,et),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(tt*16),16),this.instanceColor=null,this.count=tt,this.boundingBox=null,this.boundingSphere=null;for(let nt=0;nt<tt;nt++)this.setMatrixAt(nt,_identity)}computeBoundingBox(){const _=this.geometry,et=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),_.boundingBox===null&&_.computeBoundingBox(),this.boundingBox.makeEmpty();for(let tt=0;tt<et;tt++)this.getMatrixAt(tt,_instanceLocalMatrix),_box3.copy(_.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const _=this.geometry,et=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),_.boundingSphere===null&&_.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let tt=0;tt<et;tt++)this.getMatrixAt(tt,_instanceLocalMatrix),_sphere$3.copy(_.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$3)}copy(_,et){return super.copy(_,et),this.instanceMatrix.copy(_.instanceMatrix),_.instanceColor!==null&&(this.instanceColor=_.instanceColor.clone()),this.count=_.count,_.boundingBox!==null&&(this.boundingBox=_.boundingBox.clone()),_.boundingSphere!==null&&(this.boundingSphere=_.boundingSphere.clone()),this}getColorAt(_,et){et.fromArray(this.instanceColor.array,_*3)}getMatrixAt(_,et){et.fromArray(this.instanceMatrix.array,_*16)}raycast(_,et){const tt=this.matrixWorld,nt=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(tt),_.ray.intersectsSphere(_sphere$3)!==!1))for(let rt=0;rt<nt;rt++){this.getMatrixAt(rt,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(tt,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(_,_instanceIntersects);for(let it=0,st=_instanceIntersects.length;it<st;it++){const ot=_instanceIntersects[it];ot.instanceId=rt,ot.object=this,et.push(ot)}_instanceIntersects.length=0}}setColorAt(_,et){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),et.toArray(this.instanceColor.array,_*3)}setMatrixAt(_,et){et.toArray(this.instanceMatrix.array,_*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function sortOpaque(_e,_){return _e.z-_.z}function sortTransparent(_e,_){return _.z-_e.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(_,et){const tt=this.pool,nt=this.list;this.index>=tt.length&&tt.push({start:-1,count:-1,z:-1});const rt=tt[this.index];nt.push(rt),this.index++,rt.start=_.start,rt.count=_.count,rt.z=et}reset(){this.list.length=0,this.index=0}}const ID_ATTR_NAME="batchId",_matrix=new Matrix4,_invMatrixWorld=new Matrix4,_identityMatrix=new Matrix4,_projScreenMatrix$2=new Matrix4,_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(_e,_,et=0){const tt=_.itemSize;if(_e.isInterleavedBufferAttribute||_e.array.constructor!==_.array.constructor){const nt=_e.count;for(let rt=0;rt<nt;rt++)for(let it=0;it<tt;it++)_.setComponent(rt+et,it,_e.getComponent(rt,it))}else _.array.set(_e.array,et*tt);_.needsUpdate=!0}class BatchedMesh extends Mesh{get maxGeometryCount(){return this._maxGeometryCount}constructor(_,et,tt=et*2,nt){super(new BufferGeometry,nt),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=_,this._maxVertexCount=et,this._maxIndexCount=tt,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(_),this._multiDrawStarts=new Int32Array(_),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let _=Math.sqrt(this._maxGeometryCount*4);_=Math.ceil(_/4)*4,_=Math.max(_,4);const et=new Float32Array(_*_*4),tt=new DataTexture(et,_,_,RGBAFormat,FloatType);this._matricesTexture=tt}_initializeGeometry(_){const et=this.geometry,tt=this._maxVertexCount,nt=this._maxGeometryCount,rt=this._maxIndexCount;if(this._geometryInitialized===!1){for(const st in _.attributes){const ot=_.getAttribute(st),{array:at,itemSize:lt,normalized:ct}=ot,ut=new at.constructor(tt*lt),ft=new ot.constructor(ut,lt,ct);ft.setUsage(ot.usage),et.setAttribute(st,ft)}if(_.getIndex()!==null){const st=tt>65536?new Uint32Array(rt):new Uint16Array(rt);et.setIndex(new BufferAttribute(st,1))}const it=nt>65536?new Uint32Array(tt):new Uint16Array(tt);et.setAttribute(ID_ATTR_NAME,new BufferAttribute(it,1)),this._geometryInitialized=!0}}_validateGeometry(_){if(_.getAttribute(ID_ATTR_NAME))throw new Error(`BatchedMesh: Geometry cannot use attribute "${ID_ATTR_NAME}"`);const et=this.geometry;if(!!_.getIndex()!=!!et.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const tt in et.attributes){if(tt===ID_ATTR_NAME)continue;if(!_.hasAttribute(tt))throw new Error(`BatchedMesh: Added geometry missing "${tt}". All geometries must have consistent attributes.`);const nt=_.getAttribute(tt),rt=et.getAttribute(tt);if(nt.itemSize!==rt.itemSize||nt.normalized!==rt.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(_){return this.customSort=_,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _=this._geometryCount,et=this.boundingBox,tt=this._active;et.makeEmpty();for(let nt=0;nt<_;nt++)tt[nt]!==!1&&(this.getMatrixAt(nt,_matrix),this.getBoundingBoxAt(nt,_box$1).applyMatrix4(_matrix),et.union(_box$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _=this._geometryCount,et=this.boundingSphere,tt=this._active;et.makeEmpty();for(let nt=0;nt<_;nt++)tt[nt]!==!1&&(this.getMatrixAt(nt,_matrix),this.getBoundingSphereAt(nt,_sphere$2).applyMatrix4(_matrix),et.union(_sphere$2))}addGeometry(_,et=-1,tt=-1){if(this._initializeGeometry(_),this._validateGeometry(_),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const nt={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let rt=null;const it=this._reservedRanges,st=this._drawRanges,ot=this._bounds;this._geometryCount!==0&&(rt=it[it.length-1]),et===-1?nt.vertexCount=_.getAttribute("position").count:nt.vertexCount=et,rt===null?nt.vertexStart=0:nt.vertexStart=rt.vertexStart+rt.vertexCount;const at=_.getIndex(),lt=at!==null;if(lt&&(tt===-1?nt.indexCount=at.count:nt.indexCount=tt,rt===null?nt.indexStart=0:nt.indexStart=rt.indexStart+rt.indexCount),nt.indexStart!==-1&&nt.indexStart+nt.indexCount>this._maxIndexCount||nt.vertexStart+nt.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const ct=this._visibility,ut=this._active,ft=this._matricesTexture,ht=this._matricesTexture.image.data;ct.push(!0),ut.push(!0);const vt=this._geometryCount;this._geometryCount++,_identityMatrix.toArray(ht,vt*16),ft.needsUpdate=!0,it.push(nt),st.push({start:lt?nt.indexStart:nt.vertexStart,count:-1}),ot.push({boxInitialized:!1,box:new Box3,sphereInitialized:!1,sphere:new Sphere});const mt=this.geometry.getAttribute(ID_ATTR_NAME);for(let pt=0;pt<nt.vertexCount;pt++)mt.setX(nt.vertexStart+pt,vt);return mt.needsUpdate=!0,this.setGeometryAt(vt,_),vt}setGeometryAt(_,et){if(_>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(et);const tt=this.geometry,nt=tt.getIndex()!==null,rt=tt.getIndex(),it=et.getIndex(),st=this._reservedRanges[_];if(nt&&it.count>st.indexCount||et.attributes.position.count>st.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const ot=st.vertexStart,at=st.vertexCount;for(const ft in tt.attributes){if(ft===ID_ATTR_NAME)continue;const ht=et.getAttribute(ft),vt=tt.getAttribute(ft);copyAttributeData(ht,vt,ot);const mt=ht.itemSize;for(let pt=ht.count,yt=at;pt<yt;pt++){const _t=ot+pt;for(let St=0;St<mt;St++)vt.setComponent(_t,St,0)}vt.needsUpdate=!0}if(nt){const ft=st.indexStart;for(let ht=0;ht<it.count;ht++)rt.setX(ft+ht,ot+it.getX(ht));for(let ht=it.count,vt=st.indexCount;ht<vt;ht++)rt.setX(ft+ht,ot);rt.needsUpdate=!0}const lt=this._bounds[_];et.boundingBox!==null?(lt.box.copy(et.boundingBox),lt.boxInitialized=!0):lt.boxInitialized=!1,et.boundingSphere!==null?(lt.sphere.copy(et.boundingSphere),lt.sphereInitialized=!0):lt.sphereInitialized=!1;const ct=this._drawRanges[_],ut=et.getAttribute("position");return ct.count=nt?it.count:ut.count,this._visibilityChanged=!0,_}deleteGeometry(_){const et=this._active;return _>=et.length||et[_]===!1?this:(et[_]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(_,et){if(this._active[_]===!1)return this;const nt=this._bounds[_],rt=nt.box,it=this.geometry;if(nt.boxInitialized===!1){rt.makeEmpty();const st=it.index,ot=it.attributes.position,at=this._drawRanges[_];for(let lt=at.start,ct=at.start+at.count;lt<ct;lt++){let ut=lt;st&&(ut=st.getX(ut)),rt.expandByPoint(_vector$5.fromBufferAttribute(ot,ut))}nt.boxInitialized=!0}return et.copy(rt),et}getBoundingSphereAt(_,et){if(this._active[_]===!1)return this;const nt=this._bounds[_],rt=nt.sphere,it=this.geometry;if(nt.sphereInitialized===!1){rt.makeEmpty(),this.getBoundingBoxAt(_,_box$1),_box$1.getCenter(rt.center);const st=it.index,ot=it.attributes.position,at=this._drawRanges[_];let lt=0;for(let ct=at.start,ut=at.start+at.count;ct<ut;ct++){let ft=ct;st&&(ft=st.getX(ft)),_vector$5.fromBufferAttribute(ot,ft),lt=Math.max(lt,rt.center.distanceToSquared(_vector$5))}rt.radius=Math.sqrt(lt),nt.sphereInitialized=!0}return et.copy(rt),et}setMatrixAt(_,et){const tt=this._active,nt=this._matricesTexture,rt=this._matricesTexture.image.data,it=this._geometryCount;return _>=it||tt[_]===!1?this:(et.toArray(rt,_*16),nt.needsUpdate=!0,this)}getMatrixAt(_,et){const tt=this._active,nt=this._matricesTexture.image.data,rt=this._geometryCount;return _>=rt||tt[_]===!1?null:et.fromArray(nt,_*16)}setVisibleAt(_,et){const tt=this._visibility,nt=this._active,rt=this._geometryCount;return _>=rt||nt[_]===!1||tt[_]===et?this:(tt[_]=et,this._visibilityChanged=!0,this)}getVisibleAt(_){const et=this._visibility,tt=this._active,nt=this._geometryCount;return _>=nt||tt[_]===!1?!1:et[_]}raycast(_,et){const tt=this._visibility,nt=this._active,rt=this._drawRanges,it=this._geometryCount,st=this.matrixWorld,ot=this.geometry;_mesh.material=this.material,_mesh.geometry.index=ot.index,_mesh.geometry.attributes=ot.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let at=0;at<it;at++){if(!tt[at]||!nt[at])continue;const lt=rt[at];_mesh.geometry.setDrawRange(lt.start,lt.count),this.getMatrixAt(at,_mesh.matrixWorld).premultiply(st),this.getBoundingBoxAt(at,_mesh.geometry.boundingBox),this.getBoundingSphereAt(at,_mesh.geometry.boundingSphere),_mesh.raycast(_,_batchIntersects);for(let ct=0,ut=_batchIntersects.length;ct<ut;ct++){const ft=_batchIntersects[ct];ft.object=this,ft.batchId=at,et.push(ft)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(_){return super.copy(_),this.geometry=_.geometry.clone(),this.perObjectFrustumCulled=_.perObjectFrustumCulled,this.sortObjects=_.sortObjects,this.boundingBox=_.boundingBox!==null?_.boundingBox.clone():null,this.boundingSphere=_.boundingSphere!==null?_.boundingSphere.clone():null,this._drawRanges=_._drawRanges.map(et=>({...et})),this._reservedRanges=_._reservedRanges.map(et=>({...et})),this._visibility=_._visibility.slice(),this._active=_._active.slice(),this._bounds=_._bounds.map(et=>({boxInitialized:et.boxInitialized,box:et.box.clone(),sphereInitialized:et.sphereInitialized,sphere:et.sphere.clone()})),this._maxGeometryCount=_._maxGeometryCount,this._maxVertexCount=_._maxVertexCount,this._maxIndexCount=_._maxIndexCount,this._geometryInitialized=_._geometryInitialized,this._geometryCount=_._geometryCount,this._multiDrawCounts=_._multiDrawCounts.slice(),this._multiDrawStarts=_._multiDrawStarts.slice(),this._matricesTexture=_._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(_,et,tt,nt,rt){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const it=nt.getIndex(),st=it===null?1:it.array.BYTES_PER_ELEMENT,ot=this._visibility,at=this._multiDrawStarts,lt=this._multiDrawCounts,ct=this._drawRanges,ut=this.perObjectFrustumCulled;ut&&(_projScreenMatrix$2.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_projScreenMatrix$2,_.isWebGPURenderer?WebGPUCoordinateSystem:WebGLCoordinateSystem));let ft=0;if(this.sortObjects){_invMatrixWorld.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(tt.matrixWorld).applyMatrix4(_invMatrixWorld);for(let mt=0,pt=ot.length;mt<pt;mt++)if(ot[mt]){this.getMatrixAt(mt,_matrix),this.getBoundingSphereAt(mt,_sphere$2).applyMatrix4(_matrix);let yt=!1;if(ut&&(yt=!_frustum.intersectsSphere(_sphere$2)),!yt){const _t=_vector$5.distanceTo(_sphere$2.center);_renderList.push(ct[mt],_t)}}const ht=_renderList.list,vt=this.customSort;vt===null?ht.sort(rt.transparent?sortTransparent:sortOpaque):vt.call(this,ht,tt);for(let mt=0,pt=ht.length;mt<pt;mt++){const yt=ht[mt];at[ft]=yt.start*st,lt[ft]=yt.count,ft++}_renderList.reset()}else for(let ht=0,vt=ot.length;ht<vt;ht++)if(ot[ht]){let mt=!1;if(ut&&(this.getMatrixAt(ht,_matrix),this.getBoundingSphereAt(ht,_sphere$2).applyMatrix4(_matrix),mt=!_frustum.intersectsSphere(_sphere$2)),!mt){const pt=ct[ht];at[ft]=pt.start*st,lt[ft]=pt.count,ft++}}this._multiDrawCount=ft,this._visibilityChanged=!1}onBeforeShadow(_,et,tt,nt,rt,it){this.onBeforeRender(_,null,nt,rt,it)}}class LineBasicMaterial extends Material{constructor(_){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.linewidth=_.linewidth,this.linecap=_.linecap,this.linejoin=_.linejoin,this.fog=_.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(_=new BufferGeometry,et=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=_,this.material=et,this.updateMorphTargets()}copy(_,et){return super.copy(_,et),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}computeLineDistances(){const _=this.geometry;if(_.index===null){const et=_.attributes.position,tt=[0];for(let nt=1,rt=et.count;nt<rt;nt++)_start$1.fromBufferAttribute(et,nt-1),_end$1.fromBufferAttribute(et,nt),tt[nt]=tt[nt-1],tt[nt]+=_start$1.distanceTo(_end$1);_.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(_,et){const tt=this.geometry,nt=this.matrixWorld,rt=_.params.Line.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$1.copy(tt.boundingSphere),_sphere$1.applyMatrix4(nt),_sphere$1.radius+=rt,_.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy(_.ray).applyMatrix4(_inverseMatrix$1);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),ot=st*st,at=new Vector3,lt=new Vector3,ct=new Vector3,ut=new Vector3,ft=this.isLineSegments?2:1,ht=tt.index,mt=tt.attributes.position;if(ht!==null){const pt=Math.max(0,it.start),yt=Math.min(ht.count,it.start+it.count);for(let _t=pt,St=yt-1;_t<St;_t+=ft){const Et=ht.getX(_t),wt=ht.getX(_t+1);if(at.fromBufferAttribute(mt,Et),lt.fromBufferAttribute(mt,wt),_ray$1.distanceSqToSegment(at,lt,ut,ct)>ot)continue;ut.applyMatrix4(this.matrixWorld);const At=_.ray.origin.distanceTo(ut);At<_.near||At>_.far||et.push({distance:At,point:ct.clone().applyMatrix4(this.matrixWorld),index:_t,face:null,faceIndex:null,object:this})}}else{const pt=Math.max(0,it.start),yt=Math.min(mt.count,it.start+it.count);for(let _t=pt,St=yt-1;_t<St;_t+=ft){if(at.fromBufferAttribute(mt,_t),lt.fromBufferAttribute(mt,_t+1),_ray$1.distanceSqToSegment(at,lt,ut,ct)>ot)continue;ut.applyMatrix4(this.matrixWorld);const wt=_.ray.origin.distanceTo(ut);wt<_.near||wt>_.far||et.push({distance:wt,point:ct.clone().applyMatrix4(this.matrixWorld),index:_t,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(_,et){super(_,et),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const _=this.geometry;if(_.index===null){const et=_.attributes.position,tt=[];for(let nt=0,rt=et.count;nt<rt;nt+=2)_start.fromBufferAttribute(et,nt),_end.fromBufferAttribute(et,nt+1),tt[nt]=nt===0?0:tt[nt-1],tt[nt+1]=tt[nt]+_start.distanceTo(_end);_.setAttribute("lineDistance",new Float32BufferAttribute(tt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(_,et){super(_,et),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(_){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.alphaMap=_.alphaMap,this.size=_.size,this.sizeAttenuation=_.sizeAttenuation,this.fog=_.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(_=new BufferGeometry,et=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=_,this.material=et,this.updateMorphTargets()}copy(_,et){return super.copy(_,et),this.material=Array.isArray(_.material)?_.material.slice():_.material,this.geometry=_.geometry,this}raycast(_,et){const tt=this.geometry,nt=this.matrixWorld,rt=_.params.Points.threshold,it=tt.drawRange;if(tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere.copy(tt.boundingSphere),_sphere.applyMatrix4(nt),_sphere.radius+=rt,_.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(nt).invert(),_ray.copy(_.ray).applyMatrix4(_inverseMatrix);const st=rt/((this.scale.x+this.scale.y+this.scale.z)/3),ot=st*st,at=tt.index,ct=tt.attributes.position;if(at!==null){const ut=Math.max(0,it.start),ft=Math.min(at.count,it.start+it.count);for(let ht=ut,vt=ft;ht<vt;ht++){const mt=at.getX(ht);_position$2.fromBufferAttribute(ct,mt),testPoint(_position$2,mt,ot,nt,_,et,this)}}else{const ut=Math.max(0,it.start),ft=Math.min(ct.count,it.start+it.count);for(let ht=ut,vt=ft;ht<vt;ht++)_position$2.fromBufferAttribute(ct,ht),testPoint(_position$2,ht,ot,nt,_,et,this)}}updateMorphTargets(){const et=this.geometry.morphAttributes,tt=Object.keys(et);if(tt.length>0){const nt=et[tt[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt].name||String(rt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=rt}}}}}function testPoint(_e,_,et,tt,nt,rt,it){const st=_ray.distanceSqToPoint(_e);if(st<et){const ot=new Vector3;_ray.closestPointToPoint(_e,ot),ot.applyMatrix4(tt);const at=nt.ray.origin.distanceTo(ot);if(at<nt.near||at>nt.far)return;rt.push({distance:at,distanceToRay:Math.sqrt(st),point:ot,index:_,face:null,object:it})}}class VideoTexture extends Texture{constructor(_,et,tt,nt,rt,it,st,ot,at){super(_,et,tt,nt,rt,it,st,ot,at),this.isVideoTexture=!0,this.minFilter=it!==void 0?it:LinearFilter,this.magFilter=rt!==void 0?rt:LinearFilter,this.generateMipmaps=!1;const lt=this;function ct(){lt.needsUpdate=!0,_.requestVideoFrameCallback(ct)}"requestVideoFrameCallback"in _&&_.requestVideoFrameCallback(ct)}clone(){return new this.constructor(this.image).copy(this)}update(){const _=this.image;"requestVideoFrameCallback"in _===!1&&_.readyState>=_.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(_,et){super({width:_,height:et}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(_,et,tt,nt,rt,it,st,ot,at,lt,ct,ut){super(null,it,st,ot,at,lt,nt,rt,ct,ut),this.isCompressedTexture=!0,this.image={width:et,height:tt},this.mipmaps=_,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(_,et,tt,nt,rt,it){super(_,et,tt,rt,it),this.isCompressedArrayTexture=!0,this.image.depth=nt,this.wrapR=ClampToEdgeWrapping}}class CompressedCubeTexture extends CompressedTexture{constructor(_,et,tt){super(void 0,_[0].width,_[0].height,et,tt,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=_}}class CanvasTexture extends Texture{constructor(_,et,tt,nt,rt,it,st,ot,at){super(_,et,tt,nt,rt,it,st,ot,at),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(_,et){const tt=this.getUtoTmapping(_);return this.getPoint(tt,et)}getPoints(_=5){const et=[];for(let tt=0;tt<=_;tt++)et.push(this.getPoint(tt/_));return et}getSpacedPoints(_=5){const et=[];for(let tt=0;tt<=_;tt++)et.push(this.getPointAt(tt/_));return et}getLength(){const _=this.getLengths();return _[_.length-1]}getLengths(_=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===_+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const et=[];let tt,nt=this.getPoint(0),rt=0;et.push(0);for(let it=1;it<=_;it++)tt=this.getPoint(it/_),rt+=tt.distanceTo(nt),et.push(rt),nt=tt;return this.cacheArcLengths=et,et}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(_,et){const tt=this.getLengths();let nt=0;const rt=tt.length;let it;et?it=et:it=_*tt[rt-1];let st=0,ot=rt-1,at;for(;st<=ot;)if(nt=Math.floor(st+(ot-st)/2),at=tt[nt]-it,at<0)st=nt+1;else if(at>0)ot=nt-1;else{ot=nt;break}if(nt=ot,tt[nt]===it)return nt/(rt-1);const lt=tt[nt],ut=tt[nt+1]-lt,ft=(it-lt)/ut;return(nt+ft)/(rt-1)}getTangent(_,et){let nt=_-1e-4,rt=_+1e-4;nt<0&&(nt=0),rt>1&&(rt=1);const it=this.getPoint(nt),st=this.getPoint(rt),ot=et||(it.isVector2?new Vector2:new Vector3);return ot.copy(st).sub(it).normalize(),ot}getTangentAt(_,et){const tt=this.getUtoTmapping(_);return this.getTangent(tt,et)}computeFrenetFrames(_,et){const tt=new Vector3,nt=[],rt=[],it=[],st=new Vector3,ot=new Matrix4;for(let ft=0;ft<=_;ft++){const ht=ft/_;nt[ft]=this.getTangentAt(ht,new Vector3)}rt[0]=new Vector3,it[0]=new Vector3;let at=Number.MAX_VALUE;const lt=Math.abs(nt[0].x),ct=Math.abs(nt[0].y),ut=Math.abs(nt[0].z);lt<=at&&(at=lt,tt.set(1,0,0)),ct<=at&&(at=ct,tt.set(0,1,0)),ut<=at&&tt.set(0,0,1),st.crossVectors(nt[0],tt).normalize(),rt[0].crossVectors(nt[0],st),it[0].crossVectors(nt[0],rt[0]);for(let ft=1;ft<=_;ft++){if(rt[ft]=rt[ft-1].clone(),it[ft]=it[ft-1].clone(),st.crossVectors(nt[ft-1],nt[ft]),st.length()>Number.EPSILON){st.normalize();const ht=Math.acos(clamp$3(nt[ft-1].dot(nt[ft]),-1,1));rt[ft].applyMatrix4(ot.makeRotationAxis(st,ht))}it[ft].crossVectors(nt[ft],rt[ft])}if(et===!0){let ft=Math.acos(clamp$3(rt[0].dot(rt[_]),-1,1));ft/=_,nt[0].dot(st.crossVectors(rt[0],rt[_]))>0&&(ft=-ft);for(let ht=1;ht<=_;ht++)rt[ht].applyMatrix4(ot.makeRotationAxis(nt[ht],ft*ht)),it[ht].crossVectors(nt[ht],rt[ht])}return{tangents:nt,normals:rt,binormals:it}}clone(){return new this.constructor().copy(this)}copy(_){return this.arcLengthDivisions=_.arcLengthDivisions,this}toJSON(){const _={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return _.arcLengthDivisions=this.arcLengthDivisions,_.type=this.type,_}fromJSON(_){return this.arcLengthDivisions=_.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(_=0,et=0,tt=1,nt=1,rt=0,it=Math.PI*2,st=!1,ot=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=_,this.aY=et,this.xRadius=tt,this.yRadius=nt,this.aStartAngle=rt,this.aEndAngle=it,this.aClockwise=st,this.aRotation=ot}getPoint(_,et){const tt=et||new Vector2,nt=Math.PI*2;let rt=this.aEndAngle-this.aStartAngle;const it=Math.abs(rt)<Number.EPSILON;for(;rt<0;)rt+=nt;for(;rt>nt;)rt-=nt;rt<Number.EPSILON&&(it?rt=0:rt=nt),this.aClockwise===!0&&!it&&(rt===nt?rt=-nt:rt=rt-nt);const st=this.aStartAngle+_*rt;let ot=this.aX+this.xRadius*Math.cos(st),at=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const lt=Math.cos(this.aRotation),ct=Math.sin(this.aRotation),ut=ot-this.aX,ft=at-this.aY;ot=ut*lt-ft*ct+this.aX,at=ut*ct+ft*lt+this.aY}return tt.set(ot,at)}copy(_){return super.copy(_),this.aX=_.aX,this.aY=_.aY,this.xRadius=_.xRadius,this.yRadius=_.yRadius,this.aStartAngle=_.aStartAngle,this.aEndAngle=_.aEndAngle,this.aClockwise=_.aClockwise,this.aRotation=_.aRotation,this}toJSON(){const _=super.toJSON();return _.aX=this.aX,_.aY=this.aY,_.xRadius=this.xRadius,_.yRadius=this.yRadius,_.aStartAngle=this.aStartAngle,_.aEndAngle=this.aEndAngle,_.aClockwise=this.aClockwise,_.aRotation=this.aRotation,_}fromJSON(_){return super.fromJSON(_),this.aX=_.aX,this.aY=_.aY,this.xRadius=_.xRadius,this.yRadius=_.yRadius,this.aStartAngle=_.aStartAngle,this.aEndAngle=_.aEndAngle,this.aClockwise=_.aClockwise,this.aRotation=_.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(_,et,tt,nt,rt,it){super(_,et,tt,tt,nt,rt,it),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let _e=0,_=0,et=0,tt=0;function nt(rt,it,st,ot){_e=rt,_=st,et=-3*rt+3*it-2*st-ot,tt=2*rt-2*it+st+ot}return{initCatmullRom:function(rt,it,st,ot,at){nt(it,st,at*(st-rt),at*(ot-it))},initNonuniformCatmullRom:function(rt,it,st,ot,at,lt,ct){let ut=(it-rt)/at-(st-rt)/(at+lt)+(st-it)/lt,ft=(st-it)/lt-(ot-it)/(lt+ct)+(ot-st)/ct;ut*=lt,ft*=lt,nt(it,st,ut,ft)},calc:function(rt){const it=rt*rt,st=it*rt;return _e+_*rt+et*it+tt*st}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(_=[],et=!1,tt="centripetal",nt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=_,this.closed=et,this.curveType=tt,this.tension=nt}getPoint(_,et=new Vector3){const tt=et,nt=this.points,rt=nt.length,it=(rt-(this.closed?0:1))*_;let st=Math.floor(it),ot=it-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/rt)+1)*rt:ot===0&&st===rt-1&&(st=rt-2,ot=1);let at,lt;this.closed||st>0?at=nt[(st-1)%rt]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),at=tmp);const ct=nt[st%rt],ut=nt[(st+1)%rt];if(this.closed||st+2<rt?lt=nt[(st+2)%rt]:(tmp.subVectors(nt[rt-1],nt[rt-2]).add(nt[rt-1]),lt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ft=this.curveType==="chordal"?.5:.25;let ht=Math.pow(at.distanceToSquared(ct),ft),vt=Math.pow(ct.distanceToSquared(ut),ft),mt=Math.pow(ut.distanceToSquared(lt),ft);vt<1e-4&&(vt=1),ht<1e-4&&(ht=vt),mt<1e-4&&(mt=vt),px.initNonuniformCatmullRom(at.x,ct.x,ut.x,lt.x,ht,vt,mt),py.initNonuniformCatmullRom(at.y,ct.y,ut.y,lt.y,ht,vt,mt),pz.initNonuniformCatmullRom(at.z,ct.z,ut.z,lt.z,ht,vt,mt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(at.x,ct.x,ut.x,lt.x,this.tension),py.initCatmullRom(at.y,ct.y,ut.y,lt.y,this.tension),pz.initCatmullRom(at.z,ct.z,ut.z,lt.z,this.tension));return tt.set(px.calc(ot),py.calc(ot),pz.calc(ot)),tt}copy(_){super.copy(_),this.points=[];for(let et=0,tt=_.points.length;et<tt;et++){const nt=_.points[et];this.points.push(nt.clone())}return this.closed=_.closed,this.curveType=_.curveType,this.tension=_.tension,this}toJSON(){const _=super.toJSON();_.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];_.points.push(nt.toArray())}return _.closed=this.closed,_.curveType=this.curveType,_.tension=this.tension,_}fromJSON(_){super.fromJSON(_),this.points=[];for(let et=0,tt=_.points.length;et<tt;et++){const nt=_.points[et];this.points.push(new Vector3().fromArray(nt))}return this.closed=_.closed,this.curveType=_.curveType,this.tension=_.tension,this}}function CatmullRom(_e,_,et,tt,nt){const rt=(tt-_)*.5,it=(nt-et)*.5,st=_e*_e,ot=_e*st;return(2*et-2*tt+rt+it)*ot+(-3*et+3*tt-2*rt-it)*st+rt*_e+et}function QuadraticBezierP0(_e,_){const et=1-_e;return et*et*_}function QuadraticBezierP1(_e,_){return 2*(1-_e)*_e*_}function QuadraticBezierP2(_e,_){return _e*_e*_}function QuadraticBezier(_e,_,et,tt){return QuadraticBezierP0(_e,_)+QuadraticBezierP1(_e,et)+QuadraticBezierP2(_e,tt)}function CubicBezierP0(_e,_){const et=1-_e;return et*et*et*_}function CubicBezierP1(_e,_){const et=1-_e;return 3*et*et*_e*_}function CubicBezierP2(_e,_){return 3*(1-_e)*_e*_e*_}function CubicBezierP3(_e,_){return _e*_e*_e*_}function CubicBezier(_e,_,et,tt,nt){return CubicBezierP0(_e,_)+CubicBezierP1(_e,et)+CubicBezierP2(_e,tt)+CubicBezierP3(_e,nt)}class CubicBezierCurve extends Curve{constructor(_=new Vector2,et=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=_,this.v1=et,this.v2=tt,this.v3=nt}getPoint(_,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier(_,nt.x,rt.x,it.x,st.x),CubicBezier(_,nt.y,rt.y,it.y,st.y)),tt}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this.v3.copy(_.v3),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_.v3=this.v3.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this.v3.fromArray(_.v3),this}}class CubicBezierCurve3 extends Curve{constructor(_=new Vector3,et=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=_,this.v1=et,this.v2=tt,this.v3=nt}getPoint(_,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2,st=this.v3;return tt.set(CubicBezier(_,nt.x,rt.x,it.x,st.x),CubicBezier(_,nt.y,rt.y,it.y,st.y),CubicBezier(_,nt.z,rt.z,it.z,st.z)),tt}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this.v3.copy(_.v3),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_.v3=this.v3.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this.v3.fromArray(_.v3),this}}class LineCurve extends Curve{constructor(_=new Vector2,et=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=_,this.v2=et}getPoint(_,et=new Vector2){const tt=et;return _===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(_).add(this.v1)),tt}getPointAt(_,et){return this.getPoint(_,et)}getTangent(_,et=new Vector2){return et.subVectors(this.v2,this.v1).normalize()}getTangentAt(_,et){return this.getTangent(_,et)}copy(_){return super.copy(_),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class LineCurve3 extends Curve{constructor(_=new Vector3,et=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=_,this.v2=et}getPoint(_,et=new Vector3){const tt=et;return _===1?tt.copy(this.v2):(tt.copy(this.v2).sub(this.v1),tt.multiplyScalar(_).add(this.v1)),tt}getPointAt(_,et){return this.getPoint(_,et)}getTangent(_,et=new Vector3){return et.subVectors(this.v2,this.v1).normalize()}getTangentAt(_,et){return this.getTangent(_,et)}copy(_){return super.copy(_),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class QuadraticBezierCurve extends Curve{constructor(_=new Vector2,et=new Vector2,tt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=_,this.v1=et,this.v2=tt}getPoint(_,et=new Vector2){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(_,nt.x,rt.x,it.x),QuadraticBezier(_,nt.y,rt.y,it.y)),tt}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(_=new Vector3,et=new Vector3,tt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=_,this.v1=et,this.v2=tt}getPoint(_,et=new Vector3){const tt=et,nt=this.v0,rt=this.v1,it=this.v2;return tt.set(QuadraticBezier(_,nt.x,rt.x,it.x),QuadraticBezier(_,nt.y,rt.y,it.y),QuadraticBezier(_,nt.z,rt.z,it.z)),tt}copy(_){return super.copy(_),this.v0.copy(_.v0),this.v1.copy(_.v1),this.v2.copy(_.v2),this}toJSON(){const _=super.toJSON();return _.v0=this.v0.toArray(),_.v1=this.v1.toArray(),_.v2=this.v2.toArray(),_}fromJSON(_){return super.fromJSON(_),this.v0.fromArray(_.v0),this.v1.fromArray(_.v1),this.v2.fromArray(_.v2),this}}class SplineCurve extends Curve{constructor(_=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=_}getPoint(_,et=new Vector2){const tt=et,nt=this.points,rt=(nt.length-1)*_,it=Math.floor(rt),st=rt-it,ot=nt[it===0?it:it-1],at=nt[it],lt=nt[it>nt.length-2?nt.length-1:it+1],ct=nt[it>nt.length-3?nt.length-1:it+2];return tt.set(CatmullRom(st,ot.x,at.x,lt.x,ct.x),CatmullRom(st,ot.y,at.y,lt.y,ct.y)),tt}copy(_){super.copy(_),this.points=[];for(let et=0,tt=_.points.length;et<tt;et++){const nt=_.points[et];this.points.push(nt.clone())}return this}toJSON(){const _=super.toJSON();_.points=[];for(let et=0,tt=this.points.length;et<tt;et++){const nt=this.points[et];_.points.push(nt.toArray())}return _}fromJSON(_){super.fromJSON(_),this.points=[];for(let et=0,tt=_.points.length;et<tt;et++){const nt=_.points[et];this.points.push(new Vector2().fromArray(nt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(_){this.curves.push(_)}closePath(){const _=this.curves[0].getPoint(0),et=this.curves[this.curves.length-1].getPoint(1);if(!_.equals(et)){const tt=_.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[tt](et,_))}return this}getPoint(_,et){const tt=_*this.getLength(),nt=this.getCurveLengths();let rt=0;for(;rt<nt.length;){if(nt[rt]>=tt){const it=nt[rt]-tt,st=this.curves[rt],ot=st.getLength(),at=ot===0?0:1-it/ot;return st.getPointAt(at,et)}rt++}return null}getLength(){const _=this.getCurveLengths();return _[_.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const _=[];let et=0;for(let tt=0,nt=this.curves.length;tt<nt;tt++)et+=this.curves[tt].getLength(),_.push(et);return this.cacheLengths=_,_}getSpacedPoints(_=40){const et=[];for(let tt=0;tt<=_;tt++)et.push(this.getPoint(tt/_));return this.autoClose&&et.push(et[0]),et}getPoints(_=12){const et=[];let tt;for(let nt=0,rt=this.curves;nt<rt.length;nt++){const it=rt[nt],st=it.isEllipseCurve?_*2:it.isLineCurve||it.isLineCurve3?1:it.isSplineCurve?_*it.points.length:_,ot=it.getPoints(st);for(let at=0;at<ot.length;at++){const lt=ot[at];tt&&tt.equals(lt)||(et.push(lt),tt=lt)}}return this.autoClose&&et.length>1&&!et[et.length-1].equals(et[0])&&et.push(et[0]),et}copy(_){super.copy(_),this.curves=[];for(let et=0,tt=_.curves.length;et<tt;et++){const nt=_.curves[et];this.curves.push(nt.clone())}return this.autoClose=_.autoClose,this}toJSON(){const _=super.toJSON();_.autoClose=this.autoClose,_.curves=[];for(let et=0,tt=this.curves.length;et<tt;et++){const nt=this.curves[et];_.curves.push(nt.toJSON())}return _}fromJSON(_){super.fromJSON(_),this.autoClose=_.autoClose,this.curves=[];for(let et=0,tt=_.curves.length;et<tt;et++){const nt=_.curves[et];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}class Path extends CurvePath{constructor(_){super(),this.type="Path",this.currentPoint=new Vector2,_&&this.setFromPoints(_)}setFromPoints(_){this.moveTo(_[0].x,_[0].y);for(let et=1,tt=_.length;et<tt;et++)this.lineTo(_[et].x,_[et].y);return this}moveTo(_,et){return this.currentPoint.set(_,et),this}lineTo(_,et){const tt=new LineCurve(this.currentPoint.clone(),new Vector2(_,et));return this.curves.push(tt),this.currentPoint.set(_,et),this}quadraticCurveTo(_,et,tt,nt){const rt=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(_,et),new Vector2(tt,nt));return this.curves.push(rt),this.currentPoint.set(tt,nt),this}bezierCurveTo(_,et,tt,nt,rt,it){const st=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(_,et),new Vector2(tt,nt),new Vector2(rt,it));return this.curves.push(st),this.currentPoint.set(rt,it),this}splineThru(_){const et=[this.currentPoint.clone()].concat(_),tt=new SplineCurve(et);return this.curves.push(tt),this.currentPoint.copy(_[_.length-1]),this}arc(_,et,tt,nt,rt,it){const st=this.currentPoint.x,ot=this.currentPoint.y;return this.absarc(_+st,et+ot,tt,nt,rt,it),this}absarc(_,et,tt,nt,rt,it){return this.absellipse(_,et,tt,tt,nt,rt,it),this}ellipse(_,et,tt,nt,rt,it,st,ot){const at=this.currentPoint.x,lt=this.currentPoint.y;return this.absellipse(_+at,et+lt,tt,nt,rt,it,st,ot),this}absellipse(_,et,tt,nt,rt,it,st,ot){const at=new EllipseCurve(_,et,tt,nt,rt,it,st,ot);if(this.curves.length>0){const ct=at.getPoint(0);ct.equals(this.currentPoint)||this.lineTo(ct.x,ct.y)}this.curves.push(at);const lt=at.getPoint(1);return this.currentPoint.copy(lt),this}copy(_){return super.copy(_),this.currentPoint.copy(_.currentPoint),this}toJSON(){const _=super.toJSON();return _.currentPoint=this.currentPoint.toArray(),_}fromJSON(_){return super.fromJSON(_),this.currentPoint.fromArray(_.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(_=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],et=12,tt=0,nt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:_,segments:et,phiStart:tt,phiLength:nt},et=Math.floor(et),nt=clamp$3(nt,0,Math.PI*2);const rt=[],it=[],st=[],ot=[],at=[],lt=1/et,ct=new Vector3,ut=new Vector2,ft=new Vector3,ht=new Vector3,vt=new Vector3;let mt=0,pt=0;for(let yt=0;yt<=_.length-1;yt++)switch(yt){case 0:mt=_[yt+1].x-_[yt].x,pt=_[yt+1].y-_[yt].y,ft.x=pt*1,ft.y=-mt,ft.z=pt*0,vt.copy(ft),ft.normalize(),ot.push(ft.x,ft.y,ft.z);break;case _.length-1:ot.push(vt.x,vt.y,vt.z);break;default:mt=_[yt+1].x-_[yt].x,pt=_[yt+1].y-_[yt].y,ft.x=pt*1,ft.y=-mt,ft.z=pt*0,ht.copy(ft),ft.x+=vt.x,ft.y+=vt.y,ft.z+=vt.z,ft.normalize(),ot.push(ft.x,ft.y,ft.z),vt.copy(ht)}for(let yt=0;yt<=et;yt++){const _t=tt+yt*lt*nt,St=Math.sin(_t),Et=Math.cos(_t);for(let wt=0;wt<=_.length-1;wt++){ct.x=_[wt].x*St,ct.y=_[wt].y,ct.z=_[wt].x*Et,it.push(ct.x,ct.y,ct.z),ut.x=yt/et,ut.y=wt/(_.length-1),st.push(ut.x,ut.y);const Mt=ot[3*wt+0]*St,At=ot[3*wt+1],Tt=ot[3*wt+0]*Et;at.push(Mt,At,Tt)}}for(let yt=0;yt<et;yt++)for(let _t=0;_t<_.length-1;_t++){const St=_t+yt*_.length,Et=St,wt=St+_.length,Mt=St+_.length+1,At=St+1;rt.push(Et,wt,At),rt.push(Mt,At,wt)}this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),this.setAttribute("normal",new Float32BufferAttribute(at,3))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new LatheGeometry(_.points,_.segments,_.phiStart,_.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(_=1,et=1,tt=4,nt=8){const rt=new Path;rt.absarc(0,-et/2,_,Math.PI*1.5,0),rt.absarc(0,et/2,_,0,Math.PI*.5),super(rt.getPoints(tt),nt),this.type="CapsuleGeometry",this.parameters={radius:_,length:et,capSegments:tt,radialSegments:nt}}static fromJSON(_){return new CapsuleGeometry(_.radius,_.length,_.capSegments,_.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(_=1,et=32,tt=0,nt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:_,segments:et,thetaStart:tt,thetaLength:nt},et=Math.max(3,et);const rt=[],it=[],st=[],ot=[],at=new Vector3,lt=new Vector2;it.push(0,0,0),st.push(0,0,1),ot.push(.5,.5);for(let ct=0,ut=3;ct<=et;ct++,ut+=3){const ft=tt+ct/et*nt;at.x=_*Math.cos(ft),at.y=_*Math.sin(ft),it.push(at.x,at.y,at.z),st.push(0,0,1),lt.x=(it[ut]/_+1)/2,lt.y=(it[ut+1]/_+1)/2,ot.push(lt.x,lt.y)}for(let ct=1;ct<=et;ct++)rt.push(ct,ct+1,0);this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new CircleGeometry(_.radius,_.segments,_.thetaStart,_.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(_=1,et=1,tt=1,nt=32,rt=1,it=!1,st=0,ot=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:_,radiusBottom:et,height:tt,radialSegments:nt,heightSegments:rt,openEnded:it,thetaStart:st,thetaLength:ot};const at=this;nt=Math.floor(nt),rt=Math.floor(rt);const lt=[],ct=[],ut=[],ft=[];let ht=0;const vt=[],mt=tt/2;let pt=0;yt(),it===!1&&(_>0&&_t(!0),et>0&&_t(!1)),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ct,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2));function yt(){const St=new Vector3,Et=new Vector3;let wt=0;const Mt=(et-_)/tt;for(let At=0;At<=rt;At++){const Tt=[],Ct=At/rt,Dt=Ct*(et-_)+_;for(let $t=0;$t<=nt;$t++){const kt=$t/nt,It=kt*ot+st,Nt=Math.sin(It),Gt=Math.cos(It);Et.x=Dt*Nt,Et.y=-Ct*tt+mt,Et.z=Dt*Gt,ct.push(Et.x,Et.y,Et.z),St.set(Nt,Mt,Gt).normalize(),ut.push(St.x,St.y,St.z),ft.push(kt,1-Ct),Tt.push(ht++)}vt.push(Tt)}for(let At=0;At<nt;At++)for(let Tt=0;Tt<rt;Tt++){const Ct=vt[Tt][At],Dt=vt[Tt+1][At],$t=vt[Tt+1][At+1],kt=vt[Tt][At+1];lt.push(Ct,Dt,kt),lt.push(Dt,$t,kt),wt+=6}at.addGroup(pt,wt,0),pt+=wt}function _t(St){const Et=ht,wt=new Vector2,Mt=new Vector3;let At=0;const Tt=St===!0?_:et,Ct=St===!0?1:-1;for(let $t=1;$t<=nt;$t++)ct.push(0,mt*Ct,0),ut.push(0,Ct,0),ft.push(.5,.5),ht++;const Dt=ht;for(let $t=0;$t<=nt;$t++){const It=$t/nt*ot+st,Nt=Math.cos(It),Gt=Math.sin(It);Mt.x=Tt*Gt,Mt.y=mt*Ct,Mt.z=Tt*Nt,ct.push(Mt.x,Mt.y,Mt.z),ut.push(0,Ct,0),wt.x=Nt*.5+.5,wt.y=Gt*.5*Ct+.5,ft.push(wt.x,wt.y),ht++}for(let $t=0;$t<nt;$t++){const kt=Et+$t,It=Dt+$t;St===!0?lt.push(It,It+1,kt):lt.push(It+1,It,kt),At+=3}at.addGroup(pt,At,St===!0?1:2),pt+=At}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new CylinderGeometry(_.radiusTop,_.radiusBottom,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(_=1,et=1,tt=32,nt=1,rt=!1,it=0,st=Math.PI*2){super(0,_,et,tt,nt,rt,it,st),this.type="ConeGeometry",this.parameters={radius:_,height:et,radialSegments:tt,heightSegments:nt,openEnded:rt,thetaStart:it,thetaLength:st}}static fromJSON(_){return new ConeGeometry(_.radius,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(_=[],et=[],tt=1,nt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:_,indices:et,radius:tt,detail:nt};const rt=[],it=[];st(nt),at(tt),lt(),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(it,2)),nt===0?this.computeVertexNormals():this.normalizeNormals();function st(yt){const _t=new Vector3,St=new Vector3,Et=new Vector3;for(let wt=0;wt<et.length;wt+=3)ft(et[wt+0],_t),ft(et[wt+1],St),ft(et[wt+2],Et),ot(_t,St,Et,yt)}function ot(yt,_t,St,Et){const wt=Et+1,Mt=[];for(let At=0;At<=wt;At++){Mt[At]=[];const Tt=yt.clone().lerp(St,At/wt),Ct=_t.clone().lerp(St,At/wt),Dt=wt-At;for(let $t=0;$t<=Dt;$t++)$t===0&&At===wt?Mt[At][$t]=Tt:Mt[At][$t]=Tt.clone().lerp(Ct,$t/Dt)}for(let At=0;At<wt;At++)for(let Tt=0;Tt<2*(wt-At)-1;Tt++){const Ct=Math.floor(Tt/2);Tt%2===0?(ut(Mt[At][Ct+1]),ut(Mt[At+1][Ct]),ut(Mt[At][Ct])):(ut(Mt[At][Ct+1]),ut(Mt[At+1][Ct+1]),ut(Mt[At+1][Ct]))}}function at(yt){const _t=new Vector3;for(let St=0;St<rt.length;St+=3)_t.x=rt[St+0],_t.y=rt[St+1],_t.z=rt[St+2],_t.normalize().multiplyScalar(yt),rt[St+0]=_t.x,rt[St+1]=_t.y,rt[St+2]=_t.z}function lt(){const yt=new Vector3;for(let _t=0;_t<rt.length;_t+=3){yt.x=rt[_t+0],yt.y=rt[_t+1],yt.z=rt[_t+2];const St=mt(yt)/2/Math.PI+.5,Et=pt(yt)/Math.PI+.5;it.push(St,1-Et)}ht(),ct()}function ct(){for(let yt=0;yt<it.length;yt+=6){const _t=it[yt+0],St=it[yt+2],Et=it[yt+4],wt=Math.max(_t,St,Et),Mt=Math.min(_t,St,Et);wt>.9&&Mt<.1&&(_t<.2&&(it[yt+0]+=1),St<.2&&(it[yt+2]+=1),Et<.2&&(it[yt+4]+=1))}}function ut(yt){rt.push(yt.x,yt.y,yt.z)}function ft(yt,_t){const St=yt*3;_t.x=_[St+0],_t.y=_[St+1],_t.z=_[St+2]}function ht(){const yt=new Vector3,_t=new Vector3,St=new Vector3,Et=new Vector3,wt=new Vector2,Mt=new Vector2,At=new Vector2;for(let Tt=0,Ct=0;Tt<rt.length;Tt+=9,Ct+=6){yt.set(rt[Tt+0],rt[Tt+1],rt[Tt+2]),_t.set(rt[Tt+3],rt[Tt+4],rt[Tt+5]),St.set(rt[Tt+6],rt[Tt+7],rt[Tt+8]),wt.set(it[Ct+0],it[Ct+1]),Mt.set(it[Ct+2],it[Ct+3]),At.set(it[Ct+4],it[Ct+5]),Et.copy(yt).add(_t).add(St).divideScalar(3);const Dt=mt(Et);vt(wt,Ct+0,yt,Dt),vt(Mt,Ct+2,_t,Dt),vt(At,Ct+4,St,Dt)}}function vt(yt,_t,St,Et){Et<0&&yt.x===1&&(it[_t]=yt.x-1),St.x===0&&St.z===0&&(it[_t]=Et/2/Math.PI+.5)}function mt(yt){return Math.atan2(yt.z,-yt.x)}function pt(yt){return Math.atan2(-yt.y,Math.sqrt(yt.x*yt.x+yt.z*yt.z))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new PolyhedronGeometry(_.vertices,_.indices,_.radius,_.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(_=1,et=0){const tt=(1+Math.sqrt(5))/2,nt=1/tt,rt=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,-nt,-tt,0,-nt,tt,0,nt,-tt,0,nt,tt,0,-tt,0,-nt,tt,0,-nt,-tt,0,nt,tt,0,nt],it=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(rt,it,_,et),this.type="DodecahedronGeometry",this.parameters={radius:_,detail:et}}static fromJSON(_){return new DodecahedronGeometry(_.radius,_.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(_=null,et=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:_,thresholdAngle:et},_!==null){const nt=Math.pow(10,4),rt=Math.cos(DEG2RAD*et),it=_.getIndex(),st=_.getAttribute("position"),ot=it?it.count:st.count,at=[0,0,0],lt=["a","b","c"],ct=new Array(3),ut={},ft=[];for(let ht=0;ht<ot;ht+=3){it?(at[0]=it.getX(ht),at[1]=it.getX(ht+1),at[2]=it.getX(ht+2)):(at[0]=ht,at[1]=ht+1,at[2]=ht+2);const{a:vt,b:mt,c:pt}=_triangle;if(vt.fromBufferAttribute(st,at[0]),mt.fromBufferAttribute(st,at[1]),pt.fromBufferAttribute(st,at[2]),_triangle.getNormal(_normal),ct[0]=`${Math.round(vt.x*nt)},${Math.round(vt.y*nt)},${Math.round(vt.z*nt)}`,ct[1]=`${Math.round(mt.x*nt)},${Math.round(mt.y*nt)},${Math.round(mt.z*nt)}`,ct[2]=`${Math.round(pt.x*nt)},${Math.round(pt.y*nt)},${Math.round(pt.z*nt)}`,!(ct[0]===ct[1]||ct[1]===ct[2]||ct[2]===ct[0]))for(let yt=0;yt<3;yt++){const _t=(yt+1)%3,St=ct[yt],Et=ct[_t],wt=_triangle[lt[yt]],Mt=_triangle[lt[_t]],At=`${St}_${Et}`,Tt=`${Et}_${St}`;Tt in ut&&ut[Tt]?(_normal.dot(ut[Tt].normal)<=rt&&(ft.push(wt.x,wt.y,wt.z),ft.push(Mt.x,Mt.y,Mt.z)),ut[Tt]=null):At in ut||(ut[At]={index0:at[yt],index1:at[_t],normal:_normal.clone()})}}for(const ht in ut)if(ut[ht]){const{index0:vt,index1:mt}=ut[ht];_v0.fromBufferAttribute(st,vt),_v1$1.fromBufferAttribute(st,mt),ft.push(_v0.x,_v0.y,_v0.z),ft.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ft,3))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}}class Shape extends Path{constructor(_){super(_),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(_){const et=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++)et[tt]=this.holes[tt].getPoints(_);return et}extractPoints(_){return{shape:this.getPoints(_),holes:this.getPointsHoles(_)}}copy(_){super.copy(_),this.holes=[];for(let et=0,tt=_.holes.length;et<tt;et++){const nt=_.holes[et];this.holes.push(nt.clone())}return this}toJSON(){const _=super.toJSON();_.uuid=this.uuid,_.holes=[];for(let et=0,tt=this.holes.length;et<tt;et++){const nt=this.holes[et];_.holes.push(nt.toJSON())}return _}fromJSON(_){super.fromJSON(_),this.uuid=_.uuid,this.holes=[];for(let et=0,tt=_.holes.length;et<tt;et++){const nt=_.holes[et];this.holes.push(new Path().fromJSON(nt))}return this}}const Earcut={triangulate:function(_e,_,et=2){const tt=_&&_.length,nt=tt?_[0]*et:_e.length;let rt=linkedList(_e,0,nt,et,!0);const it=[];if(!rt||rt.next===rt.prev)return it;let st,ot,at,lt,ct,ut,ft;if(tt&&(rt=eliminateHoles(_e,_,rt,et)),_e.length>80*et){st=at=_e[0],ot=lt=_e[1];for(let ht=et;ht<nt;ht+=et)ct=_e[ht],ut=_e[ht+1],ct<st&&(st=ct),ut<ot&&(ot=ut),ct>at&&(at=ct),ut>lt&&(lt=ut);ft=Math.max(at-st,lt-ot),ft=ft!==0?32767/ft:0}return earcutLinked(rt,it,et,st,ot,ft,0),it}};function linkedList(_e,_,et,tt,nt){let rt,it;if(nt===signedArea(_e,_,et,tt)>0)for(rt=_;rt<et;rt+=tt)it=insertNode(rt,_e[rt],_e[rt+1],it);else for(rt=et-tt;rt>=_;rt-=tt)it=insertNode(rt,_e[rt],_e[rt+1],it);return it&&equals(it,it.next)&&(removeNode(it),it=it.next),it}function filterPoints(_e,_){if(!_e)return _e;_||(_=_e);let et=_e,tt;do if(tt=!1,!et.steiner&&(equals(et,et.next)||area(et.prev,et,et.next)===0)){if(removeNode(et),et=_=et.prev,et===et.next)break;tt=!0}else et=et.next;while(tt||et!==_);return _}function earcutLinked(_e,_,et,tt,nt,rt,it){if(!_e)return;!it&&rt&&indexCurve(_e,tt,nt,rt);let st=_e,ot,at;for(;_e.prev!==_e.next;){if(ot=_e.prev,at=_e.next,rt?isEarHashed(_e,tt,nt,rt):isEar(_e)){_.push(ot.i/et|0),_.push(_e.i/et|0),_.push(at.i/et|0),removeNode(_e),_e=at.next,st=at.next;continue}if(_e=at,_e===st){it?it===1?(_e=cureLocalIntersections(filterPoints(_e),_,et),earcutLinked(_e,_,et,tt,nt,rt,2)):it===2&&splitEarcut(_e,_,et,tt,nt,rt):earcutLinked(filterPoints(_e),_,et,tt,nt,rt,1);break}}}function isEar(_e){const _=_e.prev,et=_e,tt=_e.next;if(area(_,et,tt)>=0)return!1;const nt=_.x,rt=et.x,it=tt.x,st=_.y,ot=et.y,at=tt.y,lt=nt<rt?nt<it?nt:it:rt<it?rt:it,ct=st<ot?st<at?st:at:ot<at?ot:at,ut=nt>rt?nt>it?nt:it:rt>it?rt:it,ft=st>ot?st>at?st:at:ot>at?ot:at;let ht=tt.next;for(;ht!==_;){if(ht.x>=lt&&ht.x<=ut&&ht.y>=ct&&ht.y<=ft&&pointInTriangle(nt,st,rt,ot,it,at,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0)return!1;ht=ht.next}return!0}function isEarHashed(_e,_,et,tt){const nt=_e.prev,rt=_e,it=_e.next;if(area(nt,rt,it)>=0)return!1;const st=nt.x,ot=rt.x,at=it.x,lt=nt.y,ct=rt.y,ut=it.y,ft=st<ot?st<at?st:at:ot<at?ot:at,ht=lt<ct?lt<ut?lt:ut:ct<ut?ct:ut,vt=st>ot?st>at?st:at:ot>at?ot:at,mt=lt>ct?lt>ut?lt:ut:ct>ut?ct:ut,pt=zOrder(ft,ht,_,et,tt),yt=zOrder(vt,mt,_,et,tt);let _t=_e.prevZ,St=_e.nextZ;for(;_t&&_t.z>=pt&&St&&St.z<=yt;){if(_t.x>=ft&&_t.x<=vt&&_t.y>=ht&&_t.y<=mt&&_t!==nt&&_t!==it&&pointInTriangle(st,lt,ot,ct,at,ut,_t.x,_t.y)&&area(_t.prev,_t,_t.next)>=0||(_t=_t.prevZ,St.x>=ft&&St.x<=vt&&St.y>=ht&&St.y<=mt&&St!==nt&&St!==it&&pointInTriangle(st,lt,ot,ct,at,ut,St.x,St.y)&&area(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;_t&&_t.z>=pt;){if(_t.x>=ft&&_t.x<=vt&&_t.y>=ht&&_t.y<=mt&&_t!==nt&&_t!==it&&pointInTriangle(st,lt,ot,ct,at,ut,_t.x,_t.y)&&area(_t.prev,_t,_t.next)>=0)return!1;_t=_t.prevZ}for(;St&&St.z<=yt;){if(St.x>=ft&&St.x<=vt&&St.y>=ht&&St.y<=mt&&St!==nt&&St!==it&&pointInTriangle(st,lt,ot,ct,at,ut,St.x,St.y)&&area(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function cureLocalIntersections(_e,_,et){let tt=_e;do{const nt=tt.prev,rt=tt.next.next;!equals(nt,rt)&&intersects(nt,tt,tt.next,rt)&&locallyInside(nt,rt)&&locallyInside(rt,nt)&&(_.push(nt.i/et|0),_.push(tt.i/et|0),_.push(rt.i/et|0),removeNode(tt),removeNode(tt.next),tt=_e=rt),tt=tt.next}while(tt!==_e);return filterPoints(tt)}function splitEarcut(_e,_,et,tt,nt,rt){let it=_e;do{let st=it.next.next;for(;st!==it.prev;){if(it.i!==st.i&&isValidDiagonal(it,st)){let ot=splitPolygon(it,st);it=filterPoints(it,it.next),ot=filterPoints(ot,ot.next),earcutLinked(it,_,et,tt,nt,rt,0),earcutLinked(ot,_,et,tt,nt,rt,0);return}st=st.next}it=it.next}while(it!==_e)}function eliminateHoles(_e,_,et,tt){const nt=[];let rt,it,st,ot,at;for(rt=0,it=_.length;rt<it;rt++)st=_[rt]*tt,ot=rt<it-1?_[rt+1]*tt:_e.length,at=linkedList(_e,st,ot,tt,!1),at===at.next&&(at.steiner=!0),nt.push(getLeftmost(at));for(nt.sort(compareX),rt=0;rt<nt.length;rt++)et=eliminateHole(nt[rt],et);return et}function compareX(_e,_){return _e.x-_.x}function eliminateHole(_e,_){const et=findHoleBridge(_e,_);if(!et)return _;const tt=splitPolygon(et,_e);return filterPoints(tt,tt.next),filterPoints(et,et.next)}function findHoleBridge(_e,_){let et=_,tt=-1/0,nt;const rt=_e.x,it=_e.y;do{if(it<=et.y&&it>=et.next.y&&et.next.y!==et.y){const ut=et.x+(it-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(ut<=rt&&ut>tt&&(tt=ut,nt=et.x<et.next.x?et:et.next,ut===rt))return nt}et=et.next}while(et!==_);if(!nt)return null;const st=nt,ot=nt.x,at=nt.y;let lt=1/0,ct;et=nt;do rt>=et.x&&et.x>=ot&&rt!==et.x&&pointInTriangle(it<at?rt:tt,it,ot,at,it<at?tt:rt,it,et.x,et.y)&&(ct=Math.abs(it-et.y)/(rt-et.x),locallyInside(et,_e)&&(ct<lt||ct===lt&&(et.x>nt.x||et.x===nt.x&&sectorContainsSector(nt,et)))&&(nt=et,lt=ct)),et=et.next;while(et!==st);return nt}function sectorContainsSector(_e,_){return area(_e.prev,_e,_.prev)<0&&area(_.next,_e,_e.next)<0}function indexCurve(_e,_,et,tt){let nt=_e;do nt.z===0&&(nt.z=zOrder(nt.x,nt.y,_,et,tt)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==_e);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(_e){let _,et,tt,nt,rt,it,st,ot,at=1;do{for(et=_e,_e=null,rt=null,it=0;et;){for(it++,tt=et,st=0,_=0;_<at&&(st++,tt=tt.nextZ,!!tt);_++);for(ot=at;st>0||ot>0&&tt;)st!==0&&(ot===0||!tt||et.z<=tt.z)?(nt=et,et=et.nextZ,st--):(nt=tt,tt=tt.nextZ,ot--),rt?rt.nextZ=nt:_e=nt,nt.prevZ=rt,rt=nt;et=tt}rt.nextZ=null,at*=2}while(it>1);return _e}function zOrder(_e,_,et,tt,nt){return _e=(_e-et)*nt|0,_=(_-tt)*nt|0,_e=(_e|_e<<8)&16711935,_e=(_e|_e<<4)&252645135,_e=(_e|_e<<2)&858993459,_e=(_e|_e<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,_e|_<<1}function getLeftmost(_e){let _=_e,et=_e;do(_.x<et.x||_.x===et.x&&_.y<et.y)&&(et=_),_=_.next;while(_!==_e);return et}function pointInTriangle(_e,_,et,tt,nt,rt,it,st){return(nt-it)*(_-st)>=(_e-it)*(rt-st)&&(_e-it)*(tt-st)>=(et-it)*(_-st)&&(et-it)*(rt-st)>=(nt-it)*(tt-st)}function isValidDiagonal(_e,_){return _e.next.i!==_.i&&_e.prev.i!==_.i&&!intersectsPolygon(_e,_)&&(locallyInside(_e,_)&&locallyInside(_,_e)&&middleInside(_e,_)&&(area(_e.prev,_e,_.prev)||area(_e,_.prev,_))||equals(_e,_)&&area(_e.prev,_e,_e.next)>0&&area(_.prev,_,_.next)>0)}function area(_e,_,et){return(_.y-_e.y)*(et.x-_.x)-(_.x-_e.x)*(et.y-_.y)}function equals(_e,_){return _e.x===_.x&&_e.y===_.y}function intersects(_e,_,et,tt){const nt=sign(area(_e,_,et)),rt=sign(area(_e,_,tt)),it=sign(area(et,tt,_e)),st=sign(area(et,tt,_));return!!(nt!==rt&&it!==st||nt===0&&onSegment(_e,et,_)||rt===0&&onSegment(_e,tt,_)||it===0&&onSegment(et,_e,tt)||st===0&&onSegment(et,_,tt))}function onSegment(_e,_,et){return _.x<=Math.max(_e.x,et.x)&&_.x>=Math.min(_e.x,et.x)&&_.y<=Math.max(_e.y,et.y)&&_.y>=Math.min(_e.y,et.y)}function sign(_e){return _e>0?1:_e<0?-1:0}function intersectsPolygon(_e,_){let et=_e;do{if(et.i!==_e.i&&et.next.i!==_e.i&&et.i!==_.i&&et.next.i!==_.i&&intersects(et,et.next,_e,_))return!0;et=et.next}while(et!==_e);return!1}function locallyInside(_e,_){return area(_e.prev,_e,_e.next)<0?area(_e,_,_e.next)>=0&&area(_e,_e.prev,_)>=0:area(_e,_,_e.prev)<0||area(_e,_e.next,_)<0}function middleInside(_e,_){let et=_e,tt=!1;const nt=(_e.x+_.x)/2,rt=(_e.y+_.y)/2;do et.y>rt!=et.next.y>rt&&et.next.y!==et.y&&nt<(et.next.x-et.x)*(rt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next;while(et!==_e);return tt}function splitPolygon(_e,_){const et=new Node$1(_e.i,_e.x,_e.y),tt=new Node$1(_.i,_.x,_.y),nt=_e.next,rt=_.prev;return _e.next=_,_.prev=_e,et.next=nt,nt.prev=et,tt.next=et,et.prev=tt,rt.next=tt,tt.prev=rt,tt}function insertNode(_e,_,et,tt){const nt=new Node$1(_e,_,et);return tt?(nt.next=tt.next,nt.prev=tt,tt.next.prev=nt,tt.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(_e){_e.next.prev=_e.prev,_e.prev.next=_e.next,_e.prevZ&&(_e.prevZ.nextZ=_e.nextZ),_e.nextZ&&(_e.nextZ.prevZ=_e.prevZ)}function Node$1(_e,_,et){this.i=_e,this.x=_,this.y=et,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(_e,_,et,tt){let nt=0;for(let rt=_,it=et-tt;rt<et;rt+=tt)nt+=(_e[it]-_e[rt])*(_e[rt+1]+_e[it+1]),it=rt;return nt}class ShapeUtils{static area(_){const et=_.length;let tt=0;for(let nt=et-1,rt=0;rt<et;nt=rt++)tt+=_[nt].x*_[rt].y-_[rt].x*_[nt].y;return tt*.5}static isClockWise(_){return ShapeUtils.area(_)<0}static triangulateShape(_,et){const tt=[],nt=[],rt=[];removeDupEndPts(_),addContour(tt,_);let it=_.length;et.forEach(removeDupEndPts);for(let ot=0;ot<et.length;ot++)nt.push(it),it+=et[ot].length,addContour(tt,et[ot]);const st=Earcut.triangulate(tt,nt);for(let ot=0;ot<st.length;ot+=3)rt.push(st.slice(ot,ot+3));return rt}}function removeDupEndPts(_e){const _=_e.length;_>2&&_e[_-1].equals(_e[0])&&_e.pop()}function addContour(_e,_){for(let et=0;et<_.length;et++)_e.push(_[et].x),_e.push(_[et].y)}class ExtrudeGeometry extends BufferGeometry{constructor(_=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:_,options:et},_=Array.isArray(_)?_:[_];const tt=this,nt=[],rt=[];for(let st=0,ot=_.length;st<ot;st++){const at=_[st];it(at)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2)),this.computeVertexNormals();function it(st){const ot=[],at=et.curveSegments!==void 0?et.curveSegments:12,lt=et.steps!==void 0?et.steps:1,ct=et.depth!==void 0?et.depth:1;let ut=et.bevelEnabled!==void 0?et.bevelEnabled:!0,ft=et.bevelThickness!==void 0?et.bevelThickness:.2,ht=et.bevelSize!==void 0?et.bevelSize:ft-.1,vt=et.bevelOffset!==void 0?et.bevelOffset:0,mt=et.bevelSegments!==void 0?et.bevelSegments:3;const pt=et.extrudePath,yt=et.UVGenerator!==void 0?et.UVGenerator:WorldUVGenerator;let _t,St=!1,Et,wt,Mt,At;pt&&(_t=pt.getSpacedPoints(lt),St=!0,ut=!1,Et=pt.computeFrenetFrames(lt,!1),wt=new Vector3,Mt=new Vector3,At=new Vector3),ut||(mt=0,ft=0,ht=0,vt=0);const Tt=st.extractPoints(at);let Ct=Tt.shape;const Dt=Tt.holes;if(!ShapeUtils.isClockWise(Ct)){Ct=Ct.reverse();for(let Wt=0,tn=Dt.length;Wt<tn;Wt++){const an=Dt[Wt];ShapeUtils.isClockWise(an)&&(Dt[Wt]=an.reverse())}}const kt=ShapeUtils.triangulateShape(Ct,Dt),It=Ct;for(let Wt=0,tn=Dt.length;Wt<tn;Wt++){const an=Dt[Wt];Ct=Ct.concat(an)}function Nt(Wt,tn,an){return tn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Wt.clone().addScaledVector(tn,an)}const Gt=Ct.length,Bt=kt.length;function Rt(Wt,tn,an){let vn,hn,$n;const En=Wt.x-tn.x,Mn=Wt.y-tn.y,Rn=an.x-Wt.x,Vn=an.y-Wt.y,sr=En*En+Mn*Mn,zt=En*Vn-Mn*Rn;if(Math.abs(zt)>Number.EPSILON){const Ft=Math.sqrt(sr),Zt=Math.sqrt(Rn*Rn+Vn*Vn),gn=tn.x-Mn/Ft,mn=tn.y+En/Ft,yn=an.x-Vn/Zt,Fn=an.y+Rn/Zt,bn=((yn-gn)*Vn-(Fn-mn)*Rn)/(En*Vn-Mn*Rn);vn=gn+En*bn-Wt.x,hn=mn+Mn*bn-Wt.y;const Dn=vn*vn+hn*hn;if(Dn<=2)return new Vector2(vn,hn);$n=Math.sqrt(Dn/2)}else{let Ft=!1;En>Number.EPSILON?Rn>Number.EPSILON&&(Ft=!0):En<-Number.EPSILON?Rn<-Number.EPSILON&&(Ft=!0):Math.sign(Mn)===Math.sign(Vn)&&(Ft=!0),Ft?(vn=-Mn,hn=En,$n=Math.sqrt(sr)):(vn=En,hn=Mn,$n=Math.sqrt(sr/2))}return new Vector2(vn/$n,hn/$n)}const Ot=[];for(let Wt=0,tn=It.length,an=tn-1,vn=Wt+1;Wt<tn;Wt++,an++,vn++)an===tn&&(an=0),vn===tn&&(vn=0),Ot[Wt]=Rt(It[Wt],It[an],It[vn]);const Ut=[];let jt,Jt=Ot.concat();for(let Wt=0,tn=Dt.length;Wt<tn;Wt++){const an=Dt[Wt];jt=[];for(let vn=0,hn=an.length,$n=hn-1,En=vn+1;vn<hn;vn++,$n++,En++)$n===hn&&($n=0),En===hn&&(En=0),jt[vn]=Rt(an[vn],an[$n],an[En]);Ut.push(jt),Jt=Jt.concat(jt)}for(let Wt=0;Wt<mt;Wt++){const tn=Wt/mt,an=ft*Math.cos(tn*Math.PI/2),vn=ht*Math.sin(tn*Math.PI/2)+vt;for(let hn=0,$n=It.length;hn<$n;hn++){const En=Nt(It[hn],Ot[hn],vn);fn(En.x,En.y,-an)}for(let hn=0,$n=Dt.length;hn<$n;hn++){const En=Dt[hn];jt=Ut[hn];for(let Mn=0,Rn=En.length;Mn<Rn;Mn++){const Vn=Nt(En[Mn],jt[Mn],vn);fn(Vn.x,Vn.y,-an)}}}const Xt=ht+vt;for(let Wt=0;Wt<Gt;Wt++){const tn=ut?Nt(Ct[Wt],Jt[Wt],Xt):Ct[Wt];St?(Mt.copy(Et.normals[0]).multiplyScalar(tn.x),wt.copy(Et.binormals[0]).multiplyScalar(tn.y),At.copy(_t[0]).add(Mt).add(wt),fn(At.x,At.y,At.z)):fn(tn.x,tn.y,0)}for(let Wt=1;Wt<=lt;Wt++)for(let tn=0;tn<Gt;tn++){const an=ut?Nt(Ct[tn],Jt[tn],Xt):Ct[tn];St?(Mt.copy(Et.normals[Wt]).multiplyScalar(an.x),wt.copy(Et.binormals[Wt]).multiplyScalar(an.y),At.copy(_t[Wt]).add(Mt).add(wt),fn(At.x,At.y,At.z)):fn(an.x,an.y,ct/lt*Wt)}for(let Wt=mt-1;Wt>=0;Wt--){const tn=Wt/mt,an=ft*Math.cos(tn*Math.PI/2),vn=ht*Math.sin(tn*Math.PI/2)+vt;for(let hn=0,$n=It.length;hn<$n;hn++){const En=Nt(It[hn],Ot[hn],vn);fn(En.x,En.y,ct+an)}for(let hn=0,$n=Dt.length;hn<$n;hn++){const En=Dt[hn];jt=Ut[hn];for(let Mn=0,Rn=En.length;Mn<Rn;Mn++){const Vn=Nt(En[Mn],jt[Mn],vn);St?fn(Vn.x,Vn.y+_t[lt-1].y,_t[lt-1].x+an):fn(Vn.x,Vn.y,ct+an)}}}Qt(),rn();function Qt(){const Wt=nt.length/3;if(ut){let tn=0,an=Gt*tn;for(let vn=0;vn<Bt;vn++){const hn=kt[vn];_n(hn[2]+an,hn[1]+an,hn[0]+an)}tn=lt+mt*2,an=Gt*tn;for(let vn=0;vn<Bt;vn++){const hn=kt[vn];_n(hn[0]+an,hn[1]+an,hn[2]+an)}}else{for(let tn=0;tn<Bt;tn++){const an=kt[tn];_n(an[2],an[1],an[0])}for(let tn=0;tn<Bt;tn++){const an=kt[tn];_n(an[0]+Gt*lt,an[1]+Gt*lt,an[2]+Gt*lt)}}tt.addGroup(Wt,nt.length/3-Wt,0)}function rn(){const Wt=nt.length/3;let tn=0;pn(It,tn),tn+=It.length;for(let an=0,vn=Dt.length;an<vn;an++){const hn=Dt[an];pn(hn,tn),tn+=hn.length}tt.addGroup(Wt,nt.length/3-Wt,1)}function pn(Wt,tn){let an=Wt.length;for(;--an>=0;){const vn=an;let hn=an-1;hn<0&&(hn=Wt.length-1);for(let $n=0,En=lt+mt*2;$n<En;$n++){const Mn=Gt*$n,Rn=Gt*($n+1),Vn=tn+vn+Mn,sr=tn+hn+Mn,zt=tn+hn+Rn,Ft=tn+vn+Rn;Pn(Vn,sr,zt,Ft)}}}function fn(Wt,tn,an){ot.push(Wt),ot.push(tn),ot.push(an)}function _n(Wt,tn,an){Sn(Wt),Sn(tn),Sn(an);const vn=nt.length/3,hn=yt.generateTopUV(tt,nt,vn-3,vn-2,vn-1);Cn(hn[0]),Cn(hn[1]),Cn(hn[2])}function Pn(Wt,tn,an,vn){Sn(Wt),Sn(tn),Sn(vn),Sn(tn),Sn(an),Sn(vn);const hn=nt.length/3,$n=yt.generateSideWallUV(tt,nt,hn-6,hn-3,hn-2,hn-1);Cn($n[0]),Cn($n[1]),Cn($n[3]),Cn($n[1]),Cn($n[2]),Cn($n[3])}function Sn(Wt){nt.push(ot[Wt*3+0]),nt.push(ot[Wt*3+1]),nt.push(ot[Wt*3+2])}function Cn(Wt){rt.push(Wt.x),rt.push(Wt.y)}}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON(),et=this.parameters.shapes,tt=this.parameters.options;return toJSON$1(et,tt,_)}static fromJSON(_,et){const tt=[];for(let rt=0,it=_.shapes.length;rt<it;rt++){const st=et[_.shapes[rt]];tt.push(st)}const nt=_.options.extrudePath;return nt!==void 0&&(_.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(tt,_.options)}}const WorldUVGenerator={generateTopUV:function(_e,_,et,tt,nt){const rt=_[et*3],it=_[et*3+1],st=_[tt*3],ot=_[tt*3+1],at=_[nt*3],lt=_[nt*3+1];return[new Vector2(rt,it),new Vector2(st,ot),new Vector2(at,lt)]},generateSideWallUV:function(_e,_,et,tt,nt,rt){const it=_[et*3],st=_[et*3+1],ot=_[et*3+2],at=_[tt*3],lt=_[tt*3+1],ct=_[tt*3+2],ut=_[nt*3],ft=_[nt*3+1],ht=_[nt*3+2],vt=_[rt*3],mt=_[rt*3+1],pt=_[rt*3+2];return Math.abs(st-lt)<Math.abs(it-at)?[new Vector2(it,1-ot),new Vector2(at,1-ct),new Vector2(ut,1-ht),new Vector2(vt,1-pt)]:[new Vector2(st,1-ot),new Vector2(lt,1-ct),new Vector2(ft,1-ht),new Vector2(mt,1-pt)]}};function toJSON$1(_e,_,et){if(et.shapes=[],Array.isArray(_e))for(let tt=0,nt=_e.length;tt<nt;tt++){const rt=_e[tt];et.shapes.push(rt.uuid)}else et.shapes.push(_e.uuid);return et.options=Object.assign({},_),_.extrudePath!==void 0&&(et.options.extrudePath=_.extrudePath.toJSON()),et}class IcosahedronGeometry extends PolyhedronGeometry{constructor(_=1,et=0){const tt=(1+Math.sqrt(5))/2,nt=[-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,0,0,-1,tt,0,1,tt,0,-1,-tt,0,1,-tt,tt,0,-1,tt,0,1,-tt,0,-1,-tt,0,1],rt=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(nt,rt,_,et),this.type="IcosahedronGeometry",this.parameters={radius:_,detail:et}}static fromJSON(_){return new IcosahedronGeometry(_.radius,_.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(_=1,et=0){const tt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(tt,nt,_,et),this.type="OctahedronGeometry",this.parameters={radius:_,detail:et}}static fromJSON(_){return new OctahedronGeometry(_.radius,_.detail)}}class RingGeometry extends BufferGeometry{constructor(_=.5,et=1,tt=32,nt=1,rt=0,it=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:_,outerRadius:et,thetaSegments:tt,phiSegments:nt,thetaStart:rt,thetaLength:it},tt=Math.max(3,tt),nt=Math.max(1,nt);const st=[],ot=[],at=[],lt=[];let ct=_;const ut=(et-_)/nt,ft=new Vector3,ht=new Vector2;for(let vt=0;vt<=nt;vt++){for(let mt=0;mt<=tt;mt++){const pt=rt+mt/tt*it;ft.x=ct*Math.cos(pt),ft.y=ct*Math.sin(pt),ot.push(ft.x,ft.y,ft.z),at.push(0,0,1),ht.x=(ft.x/et+1)/2,ht.y=(ft.y/et+1)/2,lt.push(ht.x,ht.y)}ct+=ut}for(let vt=0;vt<nt;vt++){const mt=vt*(tt+1);for(let pt=0;pt<tt;pt++){const yt=pt+mt,_t=yt,St=yt+tt+1,Et=yt+tt+2,wt=yt+1;st.push(_t,St,wt),st.push(St,Et,wt)}}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new RingGeometry(_.innerRadius,_.outerRadius,_.thetaSegments,_.phiSegments,_.thetaStart,_.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(_=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),et=12){super(),this.type="ShapeGeometry",this.parameters={shapes:_,curveSegments:et};const tt=[],nt=[],rt=[],it=[];let st=0,ot=0;if(Array.isArray(_)===!1)at(_);else for(let lt=0;lt<_.length;lt++)at(_[lt]),this.addGroup(st,ot,lt),st+=ot,ot=0;this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2));function at(lt){const ct=nt.length/3,ut=lt.extractPoints(et);let ft=ut.shape;const ht=ut.holes;ShapeUtils.isClockWise(ft)===!1&&(ft=ft.reverse());for(let mt=0,pt=ht.length;mt<pt;mt++){const yt=ht[mt];ShapeUtils.isClockWise(yt)===!0&&(ht[mt]=yt.reverse())}const vt=ShapeUtils.triangulateShape(ft,ht);for(let mt=0,pt=ht.length;mt<pt;mt++){const yt=ht[mt];ft=ft.concat(yt)}for(let mt=0,pt=ft.length;mt<pt;mt++){const yt=ft[mt];nt.push(yt.x,yt.y,0),rt.push(0,0,1),it.push(yt.x,yt.y)}for(let mt=0,pt=vt.length;mt<pt;mt++){const yt=vt[mt],_t=yt[0]+ct,St=yt[1]+ct,Et=yt[2]+ct;tt.push(_t,St,Et),ot+=3}}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON(),et=this.parameters.shapes;return toJSON(et,_)}static fromJSON(_,et){const tt=[];for(let nt=0,rt=_.shapes.length;nt<rt;nt++){const it=et[_.shapes[nt]];tt.push(it)}return new ShapeGeometry(tt,_.curveSegments)}}function toJSON(_e,_){if(_.shapes=[],Array.isArray(_e))for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et];_.shapes.push(nt.uuid)}else _.shapes.push(_e.uuid);return _}class SphereGeometry extends BufferGeometry{constructor(_=1,et=32,tt=16,nt=0,rt=Math.PI*2,it=0,st=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:_,widthSegments:et,heightSegments:tt,phiStart:nt,phiLength:rt,thetaStart:it,thetaLength:st},et=Math.max(3,Math.floor(et)),tt=Math.max(2,Math.floor(tt));const ot=Math.min(it+st,Math.PI);let at=0;const lt=[],ct=new Vector3,ut=new Vector3,ft=[],ht=[],vt=[],mt=[];for(let pt=0;pt<=tt;pt++){const yt=[],_t=pt/tt;let St=0;pt===0&&it===0?St=.5/et:pt===tt&&ot===Math.PI&&(St=-.5/et);for(let Et=0;Et<=et;Et++){const wt=Et/et;ct.x=-_*Math.cos(nt+wt*rt)*Math.sin(it+_t*st),ct.y=_*Math.cos(it+_t*st),ct.z=_*Math.sin(nt+wt*rt)*Math.sin(it+_t*st),ht.push(ct.x,ct.y,ct.z),ut.copy(ct).normalize(),vt.push(ut.x,ut.y,ut.z),mt.push(wt+St,1-_t),yt.push(at++)}lt.push(yt)}for(let pt=0;pt<tt;pt++)for(let yt=0;yt<et;yt++){const _t=lt[pt][yt+1],St=lt[pt][yt],Et=lt[pt+1][yt],wt=lt[pt+1][yt+1];(pt!==0||it>0)&&ft.push(_t,St,wt),(pt!==tt-1||ot<Math.PI)&&ft.push(St,Et,wt)}this.setIndex(ft),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("normal",new Float32BufferAttribute(vt,3)),this.setAttribute("uv",new Float32BufferAttribute(mt,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new SphereGeometry(_.radius,_.widthSegments,_.heightSegments,_.phiStart,_.phiLength,_.thetaStart,_.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(_=1,et=0){const tt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nt=[2,1,0,0,3,2,1,3,0,2,3,1];super(tt,nt,_,et),this.type="TetrahedronGeometry",this.parameters={radius:_,detail:et}}static fromJSON(_){return new TetrahedronGeometry(_.radius,_.detail)}}class TorusGeometry extends BufferGeometry{constructor(_=1,et=.4,tt=12,nt=48,rt=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:_,tube:et,radialSegments:tt,tubularSegments:nt,arc:rt},tt=Math.floor(tt),nt=Math.floor(nt);const it=[],st=[],ot=[],at=[],lt=new Vector3,ct=new Vector3,ut=new Vector3;for(let ft=0;ft<=tt;ft++)for(let ht=0;ht<=nt;ht++){const vt=ht/nt*rt,mt=ft/tt*Math.PI*2;ct.x=(_+et*Math.cos(mt))*Math.cos(vt),ct.y=(_+et*Math.cos(mt))*Math.sin(vt),ct.z=et*Math.sin(mt),st.push(ct.x,ct.y,ct.z),lt.x=_*Math.cos(vt),lt.y=_*Math.sin(vt),ut.subVectors(ct,lt).normalize(),ot.push(ut.x,ut.y,ut.z),at.push(ht/nt),at.push(ft/tt)}for(let ft=1;ft<=tt;ft++)for(let ht=1;ht<=nt;ht++){const vt=(nt+1)*ft+ht-1,mt=(nt+1)*(ft-1)+ht-1,pt=(nt+1)*(ft-1)+ht,yt=(nt+1)*ft+ht;it.push(vt,mt,yt),it.push(mt,pt,yt)}this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2))}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new TorusGeometry(_.radius,_.tube,_.radialSegments,_.tubularSegments,_.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(_=1,et=.4,tt=64,nt=8,rt=2,it=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:_,tube:et,tubularSegments:tt,radialSegments:nt,p:rt,q:it},tt=Math.floor(tt),nt=Math.floor(nt);const st=[],ot=[],at=[],lt=[],ct=new Vector3,ut=new Vector3,ft=new Vector3,ht=new Vector3,vt=new Vector3,mt=new Vector3,pt=new Vector3;for(let _t=0;_t<=tt;++_t){const St=_t/tt*rt*Math.PI*2;yt(St,rt,it,_,ft),yt(St+.01,rt,it,_,ht),mt.subVectors(ht,ft),pt.addVectors(ht,ft),vt.crossVectors(mt,pt),pt.crossVectors(vt,mt),vt.normalize(),pt.normalize();for(let Et=0;Et<=nt;++Et){const wt=Et/nt*Math.PI*2,Mt=-et*Math.cos(wt),At=et*Math.sin(wt);ct.x=ft.x+(Mt*pt.x+At*vt.x),ct.y=ft.y+(Mt*pt.y+At*vt.y),ct.z=ft.z+(Mt*pt.z+At*vt.z),ot.push(ct.x,ct.y,ct.z),ut.subVectors(ct,ft).normalize(),at.push(ut.x,ut.y,ut.z),lt.push(_t/tt),lt.push(Et/nt)}}for(let _t=1;_t<=tt;_t++)for(let St=1;St<=nt;St++){const Et=(nt+1)*(_t-1)+(St-1),wt=(nt+1)*_t+(St-1),Mt=(nt+1)*_t+St,At=(nt+1)*(_t-1)+St;st.push(Et,wt,At),st.push(wt,Mt,At)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2));function yt(_t,St,Et,wt,Mt){const At=Math.cos(_t),Tt=Math.sin(_t),Ct=Et/St*_t,Dt=Math.cos(Ct);Mt.x=wt*(2+Dt)*.5*At,Mt.y=wt*(2+Dt)*Tt*.5,Mt.z=wt*Math.sin(Ct)*.5}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}static fromJSON(_){return new TorusKnotGeometry(_.radius,_.tube,_.tubularSegments,_.radialSegments,_.p,_.q)}}class TubeGeometry extends BufferGeometry{constructor(_=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),et=64,tt=1,nt=8,rt=!1){super(),this.type="TubeGeometry",this.parameters={path:_,tubularSegments:et,radius:tt,radialSegments:nt,closed:rt};const it=_.computeFrenetFrames(et,rt);this.tangents=it.tangents,this.normals=it.normals,this.binormals=it.binormals;const st=new Vector3,ot=new Vector3,at=new Vector2;let lt=new Vector3;const ct=[],ut=[],ft=[],ht=[];vt(),this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(ct,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2));function vt(){for(let _t=0;_t<et;_t++)mt(_t);mt(rt===!1?et:0),yt(),pt()}function mt(_t){lt=_.getPointAt(_t/et,lt);const St=it.normals[_t],Et=it.binormals[_t];for(let wt=0;wt<=nt;wt++){const Mt=wt/nt*Math.PI*2,At=Math.sin(Mt),Tt=-Math.cos(Mt);ot.x=Tt*St.x+At*Et.x,ot.y=Tt*St.y+At*Et.y,ot.z=Tt*St.z+At*Et.z,ot.normalize(),ut.push(ot.x,ot.y,ot.z),st.x=lt.x+tt*ot.x,st.y=lt.y+tt*ot.y,st.z=lt.z+tt*ot.z,ct.push(st.x,st.y,st.z)}}function pt(){for(let _t=1;_t<=et;_t++)for(let St=1;St<=nt;St++){const Et=(nt+1)*(_t-1)+(St-1),wt=(nt+1)*_t+(St-1),Mt=(nt+1)*_t+St,At=(nt+1)*(_t-1)+St;ht.push(Et,wt,At),ht.push(wt,Mt,At)}}function yt(){for(let _t=0;_t<=et;_t++)for(let St=0;St<=nt;St++)at.x=_t/et,at.y=St/nt,ft.push(at.x,at.y)}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}toJSON(){const _=super.toJSON();return _.path=this.parameters.path.toJSON(),_}static fromJSON(_){return new TubeGeometry(new Curves[_.path.type]().fromJSON(_.path),_.tubularSegments,_.radius,_.radialSegments,_.closed)}}class WireframeGeometry extends BufferGeometry{constructor(_=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:_},_!==null){const et=[],tt=new Set,nt=new Vector3,rt=new Vector3;if(_.index!==null){const it=_.attributes.position,st=_.index;let ot=_.groups;ot.length===0&&(ot=[{start:0,count:st.count,materialIndex:0}]);for(let at=0,lt=ot.length;at<lt;++at){const ct=ot[at],ut=ct.start,ft=ct.count;for(let ht=ut,vt=ut+ft;ht<vt;ht+=3)for(let mt=0;mt<3;mt++){const pt=st.getX(ht+mt),yt=st.getX(ht+(mt+1)%3);nt.fromBufferAttribute(it,pt),rt.fromBufferAttribute(it,yt),isUniqueEdge(nt,rt,tt)===!0&&(et.push(nt.x,nt.y,nt.z),et.push(rt.x,rt.y,rt.z))}}}else{const it=_.attributes.position;for(let st=0,ot=it.count/3;st<ot;st++)for(let at=0;at<3;at++){const lt=3*st+at,ct=3*st+(at+1)%3;nt.fromBufferAttribute(it,lt),rt.fromBufferAttribute(it,ct),isUniqueEdge(nt,rt,tt)===!0&&(et.push(nt.x,nt.y,nt.z),et.push(rt.x,rt.y,rt.z))}}this.setAttribute("position",new Float32BufferAttribute(et,3))}}copy(_){return super.copy(_),this.parameters=Object.assign({},_.parameters),this}}function isUniqueEdge(_e,_,et){const tt=`${_e.x},${_e.y},${_e.z}-${_.x},${_.y},${_.z}`,nt=`${_.x},${_.y},${_.z}-${_e.x},${_e.y},${_e.z}`;return et.has(tt)===!0||et.has(nt)===!0?!1:(et.add(tt),et.add(nt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(_){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.fog=_.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(_){super(_),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(_){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.defines={STANDARD:""},this.color.copy(_.color),this.roughness=_.roughness,this.metalness=_.metalness,this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.roughnessMap=_.roughnessMap,this.metalnessMap=_.metalnessMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.envMapIntensity=_.envMapIntensity,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(_){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$3(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(et){this.ior=(1+.4*et)/(1-.4*et)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(_)}get anisotropy(){return this._anisotropy}set anisotropy(_){this._anisotropy>0!=_>0&&this.version++,this._anisotropy=_}get clearcoat(){return this._clearcoat}set clearcoat(_){this._clearcoat>0!=_>0&&this.version++,this._clearcoat=_}get iridescence(){return this._iridescence}set iridescence(_){this._iridescence>0!=_>0&&this.version++,this._iridescence=_}get sheen(){return this._sheen}set sheen(_){this._sheen>0!=_>0&&this.version++,this._sheen=_}get transmission(){return this._transmission}set transmission(_){this._transmission>0!=_>0&&this.version++,this._transmission=_}copy(_){return super.copy(_),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=_.anisotropy,this.anisotropyRotation=_.anisotropyRotation,this.anisotropyMap=_.anisotropyMap,this.clearcoat=_.clearcoat,this.clearcoatMap=_.clearcoatMap,this.clearcoatRoughness=_.clearcoatRoughness,this.clearcoatRoughnessMap=_.clearcoatRoughnessMap,this.clearcoatNormalMap=_.clearcoatNormalMap,this.clearcoatNormalScale.copy(_.clearcoatNormalScale),this.ior=_.ior,this.iridescence=_.iridescence,this.iridescenceMap=_.iridescenceMap,this.iridescenceIOR=_.iridescenceIOR,this.iridescenceThicknessRange=[..._.iridescenceThicknessRange],this.iridescenceThicknessMap=_.iridescenceThicknessMap,this.sheen=_.sheen,this.sheenColor.copy(_.sheenColor),this.sheenColorMap=_.sheenColorMap,this.sheenRoughness=_.sheenRoughness,this.sheenRoughnessMap=_.sheenRoughnessMap,this.transmission=_.transmission,this.transmissionMap=_.transmissionMap,this.thickness=_.thickness,this.thicknessMap=_.thicknessMap,this.attenuationDistance=_.attenuationDistance,this.attenuationColor.copy(_.attenuationColor),this.specularIntensity=_.specularIntensity,this.specularIntensityMap=_.specularIntensityMap,this.specularColor.copy(_.specularColor),this.specularColorMap=_.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(_){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.specular.copy(_.specular),this.shininess=_.shininess,this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshToonMaterial extends Material{constructor(_){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.gradientMap=_.gradientMap,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.alphaMap=_.alphaMap,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.fog=_.fog,this}}class MeshNormalMaterial extends Material{constructor(_){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(_)}copy(_){return super.copy(_),this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.flatShading=_.flatShading,this}}class MeshLambertMaterial extends Material{constructor(_){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.color.copy(_.color),this.map=_.map,this.lightMap=_.lightMap,this.lightMapIntensity=_.lightMapIntensity,this.aoMap=_.aoMap,this.aoMapIntensity=_.aoMapIntensity,this.emissive.copy(_.emissive),this.emissiveMap=_.emissiveMap,this.emissiveIntensity=_.emissiveIntensity,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.specularMap=_.specularMap,this.alphaMap=_.alphaMap,this.envMap=_.envMap,this.combine=_.combine,this.reflectivity=_.reflectivity,this.refractionRatio=_.refractionRatio,this.wireframe=_.wireframe,this.wireframeLinewidth=_.wireframeLinewidth,this.wireframeLinecap=_.wireframeLinecap,this.wireframeLinejoin=_.wireframeLinejoin,this.flatShading=_.flatShading,this.fog=_.fog,this}}class MeshMatcapMaterial extends Material{constructor(_){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(_)}copy(_){return super.copy(_),this.defines={MATCAP:""},this.color.copy(_.color),this.matcap=_.matcap,this.map=_.map,this.bumpMap=_.bumpMap,this.bumpScale=_.bumpScale,this.normalMap=_.normalMap,this.normalMapType=_.normalMapType,this.normalScale.copy(_.normalScale),this.displacementMap=_.displacementMap,this.displacementScale=_.displacementScale,this.displacementBias=_.displacementBias,this.alphaMap=_.alphaMap,this.flatShading=_.flatShading,this.fog=_.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(_){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(_)}copy(_){return super.copy(_),this.scale=_.scale,this.dashSize=_.dashSize,this.gapSize=_.gapSize,this}}function convertArray(_e,_,et){return!_e||!et&&_e.constructor===_?_e:typeof _.BYTES_PER_ELEMENT=="number"?new _(_e):Array.prototype.slice.call(_e)}function isTypedArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function getKeyframeOrder(_e){function _(nt,rt){return _e[nt]-_e[rt]}const et=_e.length,tt=new Array(et);for(let nt=0;nt!==et;++nt)tt[nt]=nt;return tt.sort(_),tt}function sortedArray(_e,_,et){const tt=_e.length,nt=new _e.constructor(tt);for(let rt=0,it=0;it!==tt;++rt){const st=et[rt]*_;for(let ot=0;ot!==_;++ot)nt[it++]=_e[st+ot]}return nt}function flattenJSON(_e,_,et,tt){let nt=1,rt=_e[0];for(;rt!==void 0&&rt[tt]===void 0;)rt=_e[nt++];if(rt===void 0)return;let it=rt[tt];if(it!==void 0)if(Array.isArray(it))do it=rt[tt],it!==void 0&&(_.push(rt.time),et.push.apply(et,it)),rt=_e[nt++];while(rt!==void 0);else if(it.toArray!==void 0)do it=rt[tt],it!==void 0&&(_.push(rt.time),it.toArray(et,et.length)),rt=_e[nt++];while(rt!==void 0);else do it=rt[tt],it!==void 0&&(_.push(rt.time),et.push(it)),rt=_e[nt++];while(rt!==void 0)}function subclip(_e,_,et,tt,nt=30){const rt=_e.clone();rt.name=_;const it=[];for(let ot=0;ot<rt.tracks.length;++ot){const at=rt.tracks[ot],lt=at.getValueSize(),ct=[],ut=[];for(let ft=0;ft<at.times.length;++ft){const ht=at.times[ft]*nt;if(!(ht<et||ht>=tt)){ct.push(at.times[ft]);for(let vt=0;vt<lt;++vt)ut.push(at.values[ft*lt+vt])}}ct.length!==0&&(at.times=convertArray(ct,at.times.constructor),at.values=convertArray(ut,at.values.constructor),it.push(at))}rt.tracks=it;let st=1/0;for(let ot=0;ot<rt.tracks.length;++ot)st>rt.tracks[ot].times[0]&&(st=rt.tracks[ot].times[0]);for(let ot=0;ot<rt.tracks.length;++ot)rt.tracks[ot].shift(-1*st);return rt.resetDuration(),rt}function makeClipAdditive(_e,_=0,et=_e,tt=30){tt<=0&&(tt=30);const nt=et.tracks.length,rt=_/tt;for(let it=0;it<nt;++it){const st=et.tracks[it],ot=st.ValueTypeName;if(ot==="bool"||ot==="string")continue;const at=_e.tracks.find(function(pt){return pt.name===st.name&&pt.ValueTypeName===ot});if(at===void 0)continue;let lt=0;const ct=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(lt=ct/3);let ut=0;const ft=at.getValueSize();at.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ut=ft/3);const ht=st.times.length-1;let vt;if(rt<=st.times[0]){const pt=lt,yt=ct-lt;vt=st.values.slice(pt,yt)}else if(rt>=st.times[ht]){const pt=ht*ct+lt,yt=pt+ct-lt;vt=st.values.slice(pt,yt)}else{const pt=st.createInterpolant(),yt=lt,_t=ct-lt;pt.evaluate(rt),vt=pt.resultBuffer.slice(yt,_t)}ot==="quaternion"&&new Quaternion().fromArray(vt).normalize().conjugate().toArray(vt);const mt=at.times.length;for(let pt=0;pt<mt;++pt){const yt=pt*ft+ut;if(ot==="quaternion")Quaternion.multiplyQuaternionsFlat(at.values,yt,vt,0,at.values,yt);else{const _t=ft-ut*2;for(let St=0;St<_t;++St)at.values[yt+St]-=vt[St]}}}return _e.blendMode=AdditiveAnimationBlendMode,_e}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(_,et,tt,nt){this.parameterPositions=_,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new et.constructor(tt),this.sampleValues=et,this.valueSize=tt,this.settings=null,this.DefaultSettings_={}}evaluate(_){const et=this.parameterPositions;let tt=this._cachedIndex,nt=et[tt],rt=et[tt-1];e:{t:{let it;n:{r:if(!(_<nt)){for(let st=tt+2;;){if(nt===void 0){if(_<rt)break r;return tt=et.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}if(tt===st)break;if(rt=nt,nt=et[++tt],_<nt)break t}it=et.length;break n}if(!(_>=rt)){const st=et[1];_<st&&(tt=2,rt=st);for(let ot=tt-2;;){if(rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(tt===ot)break;if(nt=rt,rt=et[--tt-1],_>=rt)break t}it=tt,tt=0;break n}break e}for(;tt<it;){const st=tt+it>>>1;_<et[st]?it=st:tt=st+1}if(nt=et[tt],rt=et[tt-1],rt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===void 0)return tt=et.length,this._cachedIndex=tt,this.copySampleValue_(tt-1)}this._cachedIndex=tt,this.intervalChanged_(tt,rt,nt)}return this.interpolate_(tt,rt,_,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(_){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=_*nt;for(let it=0;it!==nt;++it)et[it]=tt[rt+it];return et}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(_,et,tt,nt){super(_,et,tt,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(_,et,tt){const nt=this.parameterPositions;let rt=_-2,it=_+1,st=nt[rt],ot=nt[it];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:rt=_,st=2*et-tt;break;case WrapAroundEnding:rt=nt.length-2,st=et+nt[rt]-nt[rt+1];break;default:rt=_,st=tt}if(ot===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:it=_,ot=2*tt-et;break;case WrapAroundEnding:it=1,ot=tt+nt[1]-nt[0];break;default:it=_-1,ot=et}const at=(tt-et)*.5,lt=this.valueSize;this._weightPrev=at/(et-st),this._weightNext=at/(ot-tt),this._offsetPrev=rt*lt,this._offsetNext=it*lt}interpolate_(_,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=_*st,at=ot-st,lt=this._offsetPrev,ct=this._offsetNext,ut=this._weightPrev,ft=this._weightNext,ht=(tt-et)/(nt-et),vt=ht*ht,mt=vt*ht,pt=-ut*mt+2*ut*vt-ut*ht,yt=(1+ut)*mt+(-1.5-2*ut)*vt+(-.5+ut)*ht+1,_t=(-1-ft)*mt+(1.5+ft)*vt+.5*ht,St=ft*mt-ft*vt;for(let Et=0;Et!==st;++Et)rt[Et]=pt*it[lt+Et]+yt*it[at+Et]+_t*it[ot+Et]+St*it[ct+Et];return rt}}class LinearInterpolant extends Interpolant{constructor(_,et,tt,nt){super(_,et,tt,nt)}interpolate_(_,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=_*st,at=ot-st,lt=(tt-et)/(nt-et),ct=1-lt;for(let ut=0;ut!==st;++ut)rt[ut]=it[at+ut]*ct+it[ot+ut]*lt;return rt}}class DiscreteInterpolant extends Interpolant{constructor(_,et,tt,nt){super(_,et,tt,nt)}interpolate_(_){return this.copySampleValue_(_-1)}}class KeyframeTrack{constructor(_,et,tt,nt){if(_===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(et===void 0||et.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+_);this.name=_,this.times=convertArray(et,this.TimeBufferType),this.values=convertArray(tt,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON(_){const et=_.constructor;let tt;if(et.toJSON!==this.toJSON)tt=et.toJSON(_);else{tt={name:_.name,times:convertArray(_.times,Array),values:convertArray(_.values,Array)};const nt=_.getInterpolation();nt!==_.DefaultInterpolation&&(tt.interpolation=nt)}return tt.type=_.ValueTypeName,tt}InterpolantFactoryMethodDiscrete(_){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),_)}InterpolantFactoryMethodLinear(_){return new LinearInterpolant(this.times,this.values,this.getValueSize(),_)}InterpolantFactoryMethodSmooth(_){return new CubicInterpolant(this.times,this.values,this.getValueSize(),_)}setInterpolation(_){let et;switch(_){case InterpolateDiscrete:et=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:et=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:et=this.InterpolantFactoryMethodSmooth;break}if(et===void 0){const tt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(_!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(tt);return console.warn("THREE.KeyframeTrack:",tt),this}return this.createInterpolant=et,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(_){if(_!==0){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]+=_}return this}scale(_){if(_!==1){const et=this.times;for(let tt=0,nt=et.length;tt!==nt;++tt)et[tt]*=_}return this}trim(_,et){const tt=this.times,nt=tt.length;let rt=0,it=nt-1;for(;rt!==nt&&tt[rt]<_;)++rt;for(;it!==-1&&tt[it]>et;)--it;if(++it,rt!==0||it!==nt){rt>=it&&(it=Math.max(it,1),rt=it-1);const st=this.getValueSize();this.times=tt.slice(rt,it),this.values=this.values.slice(rt*st,it*st)}return this}validate(){let _=!0;const et=this.getValueSize();et-Math.floor(et)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),_=!1);const tt=this.times,nt=this.values,rt=tt.length;rt===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),_=!1);let it=null;for(let st=0;st!==rt;st++){const ot=tt[st];if(typeof ot=="number"&&isNaN(ot)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,ot),_=!1;break}if(it!==null&&it>ot){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,ot,it),_=!1;break}it=ot}if(nt!==void 0&&isTypedArray(nt))for(let st=0,ot=nt.length;st!==ot;++st){const at=nt[st];if(isNaN(at)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,at),_=!1;break}}return _}optimize(){const _=this.times.slice(),et=this.values.slice(),tt=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,rt=_.length-1;let it=1;for(let st=1;st<rt;++st){let ot=!1;const at=_[st],lt=_[st+1];if(at!==lt&&(st!==1||at!==_[0]))if(nt)ot=!0;else{const ct=st*tt,ut=ct-tt,ft=ct+tt;for(let ht=0;ht!==tt;++ht){const vt=et[ct+ht];if(vt!==et[ut+ht]||vt!==et[ft+ht]){ot=!0;break}}}if(ot){if(st!==it){_[it]=_[st];const ct=st*tt,ut=it*tt;for(let ft=0;ft!==tt;++ft)et[ut+ft]=et[ct+ft]}++it}}if(rt>0){_[it]=_[rt];for(let st=rt*tt,ot=it*tt,at=0;at!==tt;++at)et[ot+at]=et[st+at];++it}return it!==_.length?(this.times=_.slice(0,it),this.values=et.slice(0,it*tt)):(this.times=_,this.values=et),this}clone(){const _=this.times.slice(),et=this.values.slice(),tt=this.constructor,nt=new tt(this.name,_,et);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(_,et,tt,nt){super(_,et,tt,nt)}interpolate_(_,et,tt,nt){const rt=this.resultBuffer,it=this.sampleValues,st=this.valueSize,ot=(tt-et)/(nt-et);let at=_*st;for(let lt=at+st;at!==lt;at+=4)Quaternion.slerpFlat(rt,0,it,at-st,it,at,ot);return rt}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(_){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),_)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(_,et=-1,tt,nt=NormalAnimationBlendMode){this.name=_,this.tracks=tt,this.duration=et,this.blendMode=nt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(_){const et=[],tt=_.tracks,nt=1/(_.fps||1);for(let it=0,st=tt.length;it!==st;++it)et.push(parseKeyframeTrack(tt[it]).scale(nt));const rt=new this(_.name,_.duration,et,_.blendMode);return rt.uuid=_.uuid,rt}static toJSON(_){const et=[],tt=_.tracks,nt={name:_.name,duration:_.duration,tracks:et,uuid:_.uuid,blendMode:_.blendMode};for(let rt=0,it=tt.length;rt!==it;++rt)et.push(KeyframeTrack.toJSON(tt[rt]));return nt}static CreateFromMorphTargetSequence(_,et,tt,nt){const rt=et.length,it=[];for(let st=0;st<rt;st++){let ot=[],at=[];ot.push((st+rt-1)%rt,st,(st+1)%rt),at.push(0,1,0);const lt=getKeyframeOrder(ot);ot=sortedArray(ot,1,lt),at=sortedArray(at,1,lt),!nt&&ot[0]===0&&(ot.push(rt),at.push(at[0])),it.push(new NumberKeyframeTrack(".morphTargetInfluences["+et[st].name+"]",ot,at).scale(1/tt))}return new this(_,-1,it)}static findByName(_,et){let tt=_;if(!Array.isArray(_)){const nt=_;tt=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<tt.length;nt++)if(tt[nt].name===et)return tt[nt];return null}static CreateClipsFromMorphTargetSequences(_,et,tt){const nt={},rt=/^([\w-]*?)([\d]+)$/;for(let st=0,ot=_.length;st<ot;st++){const at=_[st],lt=at.name.match(rt);if(lt&&lt.length>1){const ct=lt[1];let ut=nt[ct];ut||(nt[ct]=ut=[]),ut.push(at)}}const it=[];for(const st in nt)it.push(this.CreateFromMorphTargetSequence(st,nt[st],et,tt));return it}static parseAnimation(_,et){if(!_)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const tt=function(ct,ut,ft,ht,vt){if(ft.length!==0){const mt=[],pt=[];flattenJSON(ft,mt,pt,ht),mt.length!==0&&vt.push(new ct(ut,mt,pt))}},nt=[],rt=_.name||"default",it=_.fps||30,st=_.blendMode;let ot=_.length||-1;const at=_.hierarchy||[];for(let ct=0;ct<at.length;ct++){const ut=at[ct].keys;if(!(!ut||ut.length===0))if(ut[0].morphTargets){const ft={};let ht;for(ht=0;ht<ut.length;ht++)if(ut[ht].morphTargets)for(let vt=0;vt<ut[ht].morphTargets.length;vt++)ft[ut[ht].morphTargets[vt]]=-1;for(const vt in ft){const mt=[],pt=[];for(let yt=0;yt!==ut[ht].morphTargets.length;++yt){const _t=ut[ht];mt.push(_t.time),pt.push(_t.morphTarget===vt?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+vt+"]",mt,pt))}ot=ft.length*it}else{const ft=".bones["+et[ct].name+"]";tt(VectorKeyframeTrack,ft+".position",ut,"pos",nt),tt(QuaternionKeyframeTrack,ft+".quaternion",ut,"rot",nt),tt(VectorKeyframeTrack,ft+".scale",ut,"scl",nt)}}return nt.length===0?null:new this(rt,ot,nt,st)}resetDuration(){const _=this.tracks;let et=0;for(let tt=0,nt=_.length;tt!==nt;++tt){const rt=this.tracks[tt];et=Math.max(et,rt.times[rt.times.length-1])}return this.duration=et,this}trim(){for(let _=0;_<this.tracks.length;_++)this.tracks[_].trim(0,this.duration);return this}validate(){let _=!0;for(let et=0;et<this.tracks.length;et++)_=_&&this.tracks[et].validate();return _}optimize(){for(let _=0;_<this.tracks.length;_++)this.tracks[_].optimize();return this}clone(){const _=[];for(let et=0;et<this.tracks.length;et++)_.push(this.tracks[et].clone());return new this.constructor(this.name,this.duration,_,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(_e){switch(_e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+_e)}function parseKeyframeTrack(_e){if(_e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const _=getTrackTypeForValueTypeName(_e.type);if(_e.times===void 0){const et=[],tt=[];flattenJSON(_e.keys,et,tt,"value"),_e.times=et,_e.values=tt}return _.parse!==void 0?_.parse(_e):new _(_e.name,_e.times,_e.values,_e.interpolation)}const Cache={enabled:!1,files:{},add:function(_e,_){this.enabled!==!1&&(this.files[_e]=_)},get:function(_e){if(this.enabled!==!1)return this.files[_e]},remove:function(_e){delete this.files[_e]},clear:function(){this.files={}}};class LoadingManager{constructor(_,et,tt){const nt=this;let rt=!1,it=0,st=0,ot;const at=[];this.onStart=void 0,this.onLoad=_,this.onProgress=et,this.onError=tt,this.itemStart=function(lt){st++,rt===!1&&nt.onStart!==void 0&&nt.onStart(lt,it,st),rt=!0},this.itemEnd=function(lt){it++,nt.onProgress!==void 0&&nt.onProgress(lt,it,st),it===st&&(rt=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(lt){nt.onError!==void 0&&nt.onError(lt)},this.resolveURL=function(lt){return ot?ot(lt):lt},this.setURLModifier=function(lt){return ot=lt,this},this.addHandler=function(lt,ct){return at.push(lt,ct),this},this.removeHandler=function(lt){const ct=at.indexOf(lt);return ct!==-1&&at.splice(ct,2),this},this.getHandler=function(lt){for(let ct=0,ut=at.length;ct<ut;ct+=2){const ft=at[ct],ht=at[ct+1];if(ft.global&&(ft.lastIndex=0),ft.test(lt))return ht}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(_){this.manager=_!==void 0?_:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(_,et){const tt=this;return new Promise(function(nt,rt){tt.load(_,nt,et,rt)})}parse(){}setCrossOrigin(_){return this.crossOrigin=_,this}setWithCredentials(_){return this.withCredentials=_,this}setPath(_){return this.path=_,this}setResourcePath(_){return this.resourcePath=_,this}setRequestHeader(_){return this.requestHeader=_,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(_,et){super(_),this.response=et}}class FileLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){_===void 0&&(_=""),this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const rt=Cache.get(_);if(rt!==void 0)return this.manager.itemStart(_),setTimeout(()=>{et&&et(rt),this.manager.itemEnd(_)},0),rt;if(loading[_]!==void 0){loading[_].push({onLoad:et,onProgress:tt,onError:nt});return}loading[_]=[],loading[_].push({onLoad:et,onProgress:tt,onError:nt});const it=new Request(_,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,ot=this.responseType;fetch(it).then(at=>{if(at.status===200||at.status===0){if(at.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||at.body===void 0||at.body.getReader===void 0)return at;const lt=loading[_],ct=at.body.getReader(),ut=at.headers.get("Content-Length")||at.headers.get("X-File-Size"),ft=ut?parseInt(ut):0,ht=ft!==0;let vt=0;const mt=new ReadableStream({start(pt){yt();function yt(){ct.read().then(({done:_t,value:St})=>{if(_t)pt.close();else{vt+=St.byteLength;const Et=new ProgressEvent("progress",{lengthComputable:ht,loaded:vt,total:ft});for(let wt=0,Mt=lt.length;wt<Mt;wt++){const At=lt[wt];At.onProgress&&At.onProgress(Et)}pt.enqueue(St),yt()}})}}});return new Response(mt)}else throw new HttpError(`fetch for "${at.url}" responded with ${at.status}: ${at.statusText}`,at)}).then(at=>{switch(ot){case"arraybuffer":return at.arrayBuffer();case"blob":return at.blob();case"document":return at.text().then(lt=>new DOMParser().parseFromString(lt,st));case"json":return at.json();default:if(st===void 0)return at.text();{const ct=/charset="?([^;"\s]*)"?/i.exec(st),ut=ct&&ct[1]?ct[1].toLowerCase():void 0,ft=new TextDecoder(ut);return at.arrayBuffer().then(ht=>ft.decode(ht))}}}).then(at=>{Cache.add(_,at);const lt=loading[_];delete loading[_];for(let ct=0,ut=lt.length;ct<ut;ct++){const ft=lt[ct];ft.onLoad&&ft.onLoad(at)}}).catch(at=>{const lt=loading[_];if(lt===void 0)throw this.manager.itemError(_),at;delete loading[_];for(let ct=0,ut=lt.length;ct<ut;ct++){const ft=lt[ct];ft.onError&&ft.onError(at)}this.manager.itemError(_)}).finally(()=>{this.manager.itemEnd(_)}),this.manager.itemStart(_)}setResponseType(_){return this.responseType=_,this}setMimeType(_){return this.mimeType=_,this}}class AnimationLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(_,function(st){try{et(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(_)}},tt,nt)}parse(_){const et=[];for(let tt=0;tt<_.length;tt++){const nt=AnimationClip.parse(_[tt]);et.push(nt)}return et}}class CompressedTextureLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=this,it=[],st=new CompressedTexture,ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(rt.withCredentials);let at=0;function lt(ct){ot.load(_[ct],function(ut){const ft=rt.parse(ut,!0);it[ct]={width:ft.width,height:ft.height,format:ft.format,mipmaps:ft.mipmaps},at+=1,at===6&&(ft.mipmapCount===1&&(st.minFilter=LinearFilter),st.image=it,st.format=ft.format,st.needsUpdate=!0,et&&et(st))},tt,nt)}if(Array.isArray(_))for(let ct=0,ut=_.length;ct<ut;++ct)lt(ct);else ot.load(_,function(ct){const ut=rt.parse(ct,!0);if(ut.isCubemap){const ft=ut.mipmaps.length/ut.mipmapCount;for(let ht=0;ht<ft;ht++){it[ht]={mipmaps:[]};for(let vt=0;vt<ut.mipmapCount;vt++)it[ht].mipmaps.push(ut.mipmaps[ht*ut.mipmapCount+vt]),it[ht].format=ut.format,it[ht].width=ut.width,it[ht].height=ut.height}st.image=it}else st.image.width=ut.width,st.image.height=ut.height,st.mipmaps=ut.mipmaps;ut.mipmapCount===1&&(st.minFilter=LinearFilter),st.format=ut.format,st.needsUpdate=!0,et&&et(st)},tt,nt);return st}}class ImageLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const rt=this,it=Cache.get(_);if(it!==void 0)return rt.manager.itemStart(_),setTimeout(function(){et&&et(it),rt.manager.itemEnd(_)},0),it;const st=createElementNS("img");function ot(){lt(),Cache.add(_,this),et&&et(this),rt.manager.itemEnd(_)}function at(ct){lt(),nt&&nt(ct),rt.manager.itemError(_),rt.manager.itemEnd(_)}function lt(){st.removeEventListener("load",ot,!1),st.removeEventListener("error",at,!1)}return st.addEventListener("load",ot,!1),st.addEventListener("error",at,!1),_.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),rt.manager.itemStart(_),st.src=_,st}}class CubeTextureLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=new CubeTexture;rt.colorSpace=SRGBColorSpace;const it=new ImageLoader(this.manager);it.setCrossOrigin(this.crossOrigin),it.setPath(this.path);let st=0;function ot(at){it.load(_[at],function(lt){rt.images[at]=lt,st++,st===6&&(rt.needsUpdate=!0,et&&et(rt))},void 0,nt)}for(let at=0;at<_.length;++at)ot(at);return rt}}class DataTextureLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=this,it=new DataTexture,st=new FileLoader(this.manager);return st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setPath(this.path),st.setWithCredentials(rt.withCredentials),st.load(_,function(ot){let at;try{at=rt.parse(ot)}catch(lt){if(nt!==void 0)nt(lt);else{console.error(lt);return}}at.image!==void 0?it.image=at.image:at.data!==void 0&&(it.image.width=at.width,it.image.height=at.height,it.image.data=at.data),it.wrapS=at.wrapS!==void 0?at.wrapS:ClampToEdgeWrapping,it.wrapT=at.wrapT!==void 0?at.wrapT:ClampToEdgeWrapping,it.magFilter=at.magFilter!==void 0?at.magFilter:LinearFilter,it.minFilter=at.minFilter!==void 0?at.minFilter:LinearFilter,it.anisotropy=at.anisotropy!==void 0?at.anisotropy:1,at.colorSpace!==void 0?it.colorSpace=at.colorSpace:at.encoding!==void 0&&(it.encoding=at.encoding),at.flipY!==void 0&&(it.flipY=at.flipY),at.format!==void 0&&(it.format=at.format),at.type!==void 0&&(it.type=at.type),at.mipmaps!==void 0&&(it.mipmaps=at.mipmaps,it.minFilter=LinearMipmapLinearFilter),at.mipmapCount===1&&(it.minFilter=LinearFilter),at.generateMipmaps!==void 0&&(it.generateMipmaps=at.generateMipmaps),it.needsUpdate=!0,et&&et(it,at)},tt,nt),it}}class TextureLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=new Texture,it=new ImageLoader(this.manager);return it.setCrossOrigin(this.crossOrigin),it.setPath(this.path),it.load(_,function(st){rt.image=st,rt.needsUpdate=!0,et!==void 0&&et(rt)},tt,nt),rt}}class Light extends Object3D{constructor(_,et=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(_),this.intensity=et}dispose(){}copy(_,et){return super.copy(_,et),this.color.copy(_.color),this.intensity=_.intensity,this}toJSON(_){const et=super.toJSON(_);return et.object.color=this.color.getHex(),et.object.intensity=this.intensity,this.groundColor!==void 0&&(et.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(et.object.distance=this.distance),this.angle!==void 0&&(et.object.angle=this.angle),this.decay!==void 0&&(et.object.decay=this.decay),this.penumbra!==void 0&&(et.object.penumbra=this.penumbra),this.shadow!==void 0&&(et.object.shadow=this.shadow.toJSON()),et}}class HemisphereLight extends Light{constructor(_,et,tt){super(_,tt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(et)}copy(_,et){return super.copy(_,et),this.groundColor.copy(_.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(_){this.camera=_,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(_){const et=this.camera,tt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(_.matrixWorld),et.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(_.target.matrixWorld),et.lookAt(_lookTarget$1),et.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),tt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),tt.multiply(_projScreenMatrix$1)}getViewport(_){return this._viewports[_]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(_){return this.camera=_.camera.clone(),this.bias=_.bias,this.radius=_.radius,this.mapSize.copy(_.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const _={};return this.bias!==0&&(_.bias=this.bias),this.normalBias!==0&&(_.normalBias=this.normalBias),this.radius!==1&&(_.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(_.mapSize=this.mapSize.toArray()),_.camera=this.camera.toJSON(!1).object,delete _.camera.matrix,_}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(_){const et=this.camera,tt=RAD2DEG*2*_.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,rt=_.distance||et.far;(tt!==et.fov||nt!==et.aspect||rt!==et.far)&&(et.fov=tt,et.aspect=nt,et.far=rt,et.updateProjectionMatrix()),super.updateMatrices(_)}copy(_){return super.copy(_),this.focus=_.focus,this}}class SpotLight extends Light{constructor(_,et,tt=0,nt=Math.PI/3,rt=0,it=2){super(_,et),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=tt,this.angle=nt,this.penumbra=rt,this.decay=it,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(_){this.intensity=_/Math.PI}dispose(){this.shadow.dispose()}copy(_,et){return super.copy(_,et),this.distance=_.distance,this.angle=_.angle,this.penumbra=_.penumbra,this.decay=_.decay,this.target=_.target.clone(),this.shadow=_.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(_,et=0){const tt=this.camera,nt=this.matrix,rt=_.distance||tt.far;rt!==tt.far&&(tt.far=rt,tt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(_.matrixWorld),tt.position.copy(_lightPositionWorld),_lookTarget.copy(tt.position),_lookTarget.add(this._cubeDirections[et]),tt.up.copy(this._cubeUps[et]),tt.lookAt(_lookTarget),tt.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(_,et,tt=0,nt=2){super(_,et),this.isPointLight=!0,this.type="PointLight",this.distance=tt,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(_){this.intensity=_/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(_,et){return super.copy(_,et),this.distance=_.distance,this.decay=_.decay,this.shadow=_.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(_,et){super(_,et),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(_){return super.copy(_),this.target=_.target.clone(),this.shadow=_.shadow.clone(),this}}class AmbientLight extends Light{constructor(_,et){super(_,et),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(_,et,tt=10,nt=10){super(_,et),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=tt,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(_){this.intensity=_/(this.width*this.height*Math.PI)}copy(_){return super.copy(_),this.width=_.width,this.height=_.height,this}toJSON(_){const et=super.toJSON(_);return et.object.width=this.width,et.object.height=this.height,et}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let _=0;_<9;_++)this.coefficients.push(new Vector3)}set(_){for(let et=0;et<9;et++)this.coefficients[et].copy(_[et]);return this}zero(){for(let _=0;_<9;_++)this.coefficients[_].set(0,0,0);return this}getAt(_,et){const tt=_.x,nt=_.y,rt=_.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.282095),et.addScaledVector(it[1],.488603*nt),et.addScaledVector(it[2],.488603*rt),et.addScaledVector(it[3],.488603*tt),et.addScaledVector(it[4],1.092548*(tt*nt)),et.addScaledVector(it[5],1.092548*(nt*rt)),et.addScaledVector(it[6],.315392*(3*rt*rt-1)),et.addScaledVector(it[7],1.092548*(tt*rt)),et.addScaledVector(it[8],.546274*(tt*tt-nt*nt)),et}getIrradianceAt(_,et){const tt=_.x,nt=_.y,rt=_.z,it=this.coefficients;return et.copy(it[0]).multiplyScalar(.886227),et.addScaledVector(it[1],2*.511664*nt),et.addScaledVector(it[2],2*.511664*rt),et.addScaledVector(it[3],2*.511664*tt),et.addScaledVector(it[4],2*.429043*tt*nt),et.addScaledVector(it[5],2*.429043*nt*rt),et.addScaledVector(it[6],.743125*rt*rt-.247708),et.addScaledVector(it[7],2*.429043*tt*rt),et.addScaledVector(it[8],.429043*(tt*tt-nt*nt)),et}add(_){for(let et=0;et<9;et++)this.coefficients[et].add(_.coefficients[et]);return this}addScaledSH(_,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].addScaledVector(_.coefficients[tt],et);return this}scale(_){for(let et=0;et<9;et++)this.coefficients[et].multiplyScalar(_);return this}lerp(_,et){for(let tt=0;tt<9;tt++)this.coefficients[tt].lerp(_.coefficients[tt],et);return this}equals(_){for(let et=0;et<9;et++)if(!this.coefficients[et].equals(_.coefficients[et]))return!1;return!0}copy(_){return this.set(_.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(_,et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].fromArray(_,et+nt*3);return this}toArray(_=[],et=0){const tt=this.coefficients;for(let nt=0;nt<9;nt++)tt[nt].toArray(_,et+nt*3);return _}static getBasisAt(_,et){const tt=_.x,nt=_.y,rt=_.z;et[0]=.282095,et[1]=.488603*nt,et[2]=.488603*rt,et[3]=.488603*tt,et[4]=1.092548*tt*nt,et[5]=1.092548*nt*rt,et[6]=.315392*(3*rt*rt-1),et[7]=1.092548*tt*rt,et[8]=.546274*(tt*tt-nt*nt)}}class LightProbe extends Light{constructor(_=new SphericalHarmonics3,et=1){super(void 0,et),this.isLightProbe=!0,this.sh=_}copy(_){return super.copy(_),this.sh.copy(_.sh),this}fromJSON(_){return this.intensity=_.intensity,this.sh.fromArray(_.sh),this}toJSON(_){const et=super.toJSON(_);return et.object.sh=this.sh.toArray(),et}}class MaterialLoader extends Loader{constructor(_){super(_),this.textures={}}load(_,et,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load(_,function(st){try{et(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(_)}},tt,nt)}parse(_){const et=this.textures;function tt(rt){return et[rt]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",rt),et[rt]}const nt=MaterialLoader.createMaterialFromType(_.type);if(_.uuid!==void 0&&(nt.uuid=_.uuid),_.name!==void 0&&(nt.name=_.name),_.color!==void 0&&nt.color!==void 0&&nt.color.setHex(_.color),_.roughness!==void 0&&(nt.roughness=_.roughness),_.metalness!==void 0&&(nt.metalness=_.metalness),_.sheen!==void 0&&(nt.sheen=_.sheen),_.sheenColor!==void 0&&(nt.sheenColor=new Color$1().setHex(_.sheenColor)),_.sheenRoughness!==void 0&&(nt.sheenRoughness=_.sheenRoughness),_.emissive!==void 0&&nt.emissive!==void 0&&nt.emissive.setHex(_.emissive),_.specular!==void 0&&nt.specular!==void 0&&nt.specular.setHex(_.specular),_.specularIntensity!==void 0&&(nt.specularIntensity=_.specularIntensity),_.specularColor!==void 0&&nt.specularColor!==void 0&&nt.specularColor.setHex(_.specularColor),_.shininess!==void 0&&(nt.shininess=_.shininess),_.clearcoat!==void 0&&(nt.clearcoat=_.clearcoat),_.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=_.clearcoatRoughness),_.iridescence!==void 0&&(nt.iridescence=_.iridescence),_.iridescenceIOR!==void 0&&(nt.iridescenceIOR=_.iridescenceIOR),_.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=_.iridescenceThicknessRange),_.transmission!==void 0&&(nt.transmission=_.transmission),_.thickness!==void 0&&(nt.thickness=_.thickness),_.attenuationDistance!==void 0&&(nt.attenuationDistance=_.attenuationDistance),_.attenuationColor!==void 0&&nt.attenuationColor!==void 0&&nt.attenuationColor.setHex(_.attenuationColor),_.anisotropy!==void 0&&(nt.anisotropy=_.anisotropy),_.anisotropyRotation!==void 0&&(nt.anisotropyRotation=_.anisotropyRotation),_.fog!==void 0&&(nt.fog=_.fog),_.flatShading!==void 0&&(nt.flatShading=_.flatShading),_.blending!==void 0&&(nt.blending=_.blending),_.combine!==void 0&&(nt.combine=_.combine),_.side!==void 0&&(nt.side=_.side),_.shadowSide!==void 0&&(nt.shadowSide=_.shadowSide),_.opacity!==void 0&&(nt.opacity=_.opacity),_.transparent!==void 0&&(nt.transparent=_.transparent),_.alphaTest!==void 0&&(nt.alphaTest=_.alphaTest),_.alphaHash!==void 0&&(nt.alphaHash=_.alphaHash),_.depthFunc!==void 0&&(nt.depthFunc=_.depthFunc),_.depthTest!==void 0&&(nt.depthTest=_.depthTest),_.depthWrite!==void 0&&(nt.depthWrite=_.depthWrite),_.colorWrite!==void 0&&(nt.colorWrite=_.colorWrite),_.blendSrc!==void 0&&(nt.blendSrc=_.blendSrc),_.blendDst!==void 0&&(nt.blendDst=_.blendDst),_.blendEquation!==void 0&&(nt.blendEquation=_.blendEquation),_.blendSrcAlpha!==void 0&&(nt.blendSrcAlpha=_.blendSrcAlpha),_.blendDstAlpha!==void 0&&(nt.blendDstAlpha=_.blendDstAlpha),_.blendEquationAlpha!==void 0&&(nt.blendEquationAlpha=_.blendEquationAlpha),_.blendColor!==void 0&&nt.blendColor!==void 0&&nt.blendColor.setHex(_.blendColor),_.blendAlpha!==void 0&&(nt.blendAlpha=_.blendAlpha),_.stencilWriteMask!==void 0&&(nt.stencilWriteMask=_.stencilWriteMask),_.stencilFunc!==void 0&&(nt.stencilFunc=_.stencilFunc),_.stencilRef!==void 0&&(nt.stencilRef=_.stencilRef),_.stencilFuncMask!==void 0&&(nt.stencilFuncMask=_.stencilFuncMask),_.stencilFail!==void 0&&(nt.stencilFail=_.stencilFail),_.stencilZFail!==void 0&&(nt.stencilZFail=_.stencilZFail),_.stencilZPass!==void 0&&(nt.stencilZPass=_.stencilZPass),_.stencilWrite!==void 0&&(nt.stencilWrite=_.stencilWrite),_.wireframe!==void 0&&(nt.wireframe=_.wireframe),_.wireframeLinewidth!==void 0&&(nt.wireframeLinewidth=_.wireframeLinewidth),_.wireframeLinecap!==void 0&&(nt.wireframeLinecap=_.wireframeLinecap),_.wireframeLinejoin!==void 0&&(nt.wireframeLinejoin=_.wireframeLinejoin),_.rotation!==void 0&&(nt.rotation=_.rotation),_.linewidth!==void 0&&(nt.linewidth=_.linewidth),_.dashSize!==void 0&&(nt.dashSize=_.dashSize),_.gapSize!==void 0&&(nt.gapSize=_.gapSize),_.scale!==void 0&&(nt.scale=_.scale),_.polygonOffset!==void 0&&(nt.polygonOffset=_.polygonOffset),_.polygonOffsetFactor!==void 0&&(nt.polygonOffsetFactor=_.polygonOffsetFactor),_.polygonOffsetUnits!==void 0&&(nt.polygonOffsetUnits=_.polygonOffsetUnits),_.dithering!==void 0&&(nt.dithering=_.dithering),_.alphaToCoverage!==void 0&&(nt.alphaToCoverage=_.alphaToCoverage),_.premultipliedAlpha!==void 0&&(nt.premultipliedAlpha=_.premultipliedAlpha),_.forceSinglePass!==void 0&&(nt.forceSinglePass=_.forceSinglePass),_.visible!==void 0&&(nt.visible=_.visible),_.toneMapped!==void 0&&(nt.toneMapped=_.toneMapped),_.userData!==void 0&&(nt.userData=_.userData),_.vertexColors!==void 0&&(typeof _.vertexColors=="number"?nt.vertexColors=_.vertexColors>0:nt.vertexColors=_.vertexColors),_.uniforms!==void 0)for(const rt in _.uniforms){const it=_.uniforms[rt];switch(nt.uniforms[rt]={},it.type){case"t":nt.uniforms[rt].value=tt(it.value);break;case"c":nt.uniforms[rt].value=new Color$1().setHex(it.value);break;case"v2":nt.uniforms[rt].value=new Vector2().fromArray(it.value);break;case"v3":nt.uniforms[rt].value=new Vector3().fromArray(it.value);break;case"v4":nt.uniforms[rt].value=new Vector4().fromArray(it.value);break;case"m3":nt.uniforms[rt].value=new Matrix3().fromArray(it.value);break;case"m4":nt.uniforms[rt].value=new Matrix4().fromArray(it.value);break;default:nt.uniforms[rt].value=it.value}}if(_.defines!==void 0&&(nt.defines=_.defines),_.vertexShader!==void 0&&(nt.vertexShader=_.vertexShader),_.fragmentShader!==void 0&&(nt.fragmentShader=_.fragmentShader),_.glslVersion!==void 0&&(nt.glslVersion=_.glslVersion),_.extensions!==void 0)for(const rt in _.extensions)nt.extensions[rt]=_.extensions[rt];if(_.lights!==void 0&&(nt.lights=_.lights),_.clipping!==void 0&&(nt.clipping=_.clipping),_.size!==void 0&&(nt.size=_.size),_.sizeAttenuation!==void 0&&(nt.sizeAttenuation=_.sizeAttenuation),_.map!==void 0&&(nt.map=tt(_.map)),_.matcap!==void 0&&(nt.matcap=tt(_.matcap)),_.alphaMap!==void 0&&(nt.alphaMap=tt(_.alphaMap)),_.bumpMap!==void 0&&(nt.bumpMap=tt(_.bumpMap)),_.bumpScale!==void 0&&(nt.bumpScale=_.bumpScale),_.normalMap!==void 0&&(nt.normalMap=tt(_.normalMap)),_.normalMapType!==void 0&&(nt.normalMapType=_.normalMapType),_.normalScale!==void 0){let rt=_.normalScale;Array.isArray(rt)===!1&&(rt=[rt,rt]),nt.normalScale=new Vector2().fromArray(rt)}return _.displacementMap!==void 0&&(nt.displacementMap=tt(_.displacementMap)),_.displacementScale!==void 0&&(nt.displacementScale=_.displacementScale),_.displacementBias!==void 0&&(nt.displacementBias=_.displacementBias),_.roughnessMap!==void 0&&(nt.roughnessMap=tt(_.roughnessMap)),_.metalnessMap!==void 0&&(nt.metalnessMap=tt(_.metalnessMap)),_.emissiveMap!==void 0&&(nt.emissiveMap=tt(_.emissiveMap)),_.emissiveIntensity!==void 0&&(nt.emissiveIntensity=_.emissiveIntensity),_.specularMap!==void 0&&(nt.specularMap=tt(_.specularMap)),_.specularIntensityMap!==void 0&&(nt.specularIntensityMap=tt(_.specularIntensityMap)),_.specularColorMap!==void 0&&(nt.specularColorMap=tt(_.specularColorMap)),_.envMap!==void 0&&(nt.envMap=tt(_.envMap)),_.envMapIntensity!==void 0&&(nt.envMapIntensity=_.envMapIntensity),_.reflectivity!==void 0&&(nt.reflectivity=_.reflectivity),_.refractionRatio!==void 0&&(nt.refractionRatio=_.refractionRatio),_.lightMap!==void 0&&(nt.lightMap=tt(_.lightMap)),_.lightMapIntensity!==void 0&&(nt.lightMapIntensity=_.lightMapIntensity),_.aoMap!==void 0&&(nt.aoMap=tt(_.aoMap)),_.aoMapIntensity!==void 0&&(nt.aoMapIntensity=_.aoMapIntensity),_.gradientMap!==void 0&&(nt.gradientMap=tt(_.gradientMap)),_.clearcoatMap!==void 0&&(nt.clearcoatMap=tt(_.clearcoatMap)),_.clearcoatRoughnessMap!==void 0&&(nt.clearcoatRoughnessMap=tt(_.clearcoatRoughnessMap)),_.clearcoatNormalMap!==void 0&&(nt.clearcoatNormalMap=tt(_.clearcoatNormalMap)),_.clearcoatNormalScale!==void 0&&(nt.clearcoatNormalScale=new Vector2().fromArray(_.clearcoatNormalScale)),_.iridescenceMap!==void 0&&(nt.iridescenceMap=tt(_.iridescenceMap)),_.iridescenceThicknessMap!==void 0&&(nt.iridescenceThicknessMap=tt(_.iridescenceThicknessMap)),_.transmissionMap!==void 0&&(nt.transmissionMap=tt(_.transmissionMap)),_.thicknessMap!==void 0&&(nt.thicknessMap=tt(_.thicknessMap)),_.anisotropyMap!==void 0&&(nt.anisotropyMap=tt(_.anisotropyMap)),_.sheenColorMap!==void 0&&(nt.sheenColorMap=tt(_.sheenColorMap)),_.sheenRoughnessMap!==void 0&&(nt.sheenRoughnessMap=tt(_.sheenRoughnessMap)),nt}setTextures(_){return this.textures=_,this}static createMaterialFromType(_){const et={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new et[_]}}class LoaderUtils{static decodeText(_){if(typeof TextDecoder<"u")return new TextDecoder().decode(_);let et="";for(let tt=0,nt=_.length;tt<nt;tt++)et+=String.fromCharCode(_[tt]);try{return decodeURIComponent(escape(et))}catch{return et}}static extractUrlBase(_){const et=_.lastIndexOf("/");return et===-1?"./":_.slice(0,et+1)}static resolveURL(_,et){return typeof _!="string"||_===""?"":(/^https?:\/\//i.test(et)&&/^\//.test(_)&&(et=et.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(_)||/^data:.*,.*$/i.test(_)||/^blob:.*$/i.test(_)?_:et+_)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(_){return super.copy(_),this.instanceCount=_.instanceCount,this}toJSON(){const _=super.toJSON();return _.instanceCount=this.instanceCount,_.isInstancedBufferGeometry=!0,_}}class BufferGeometryLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=this,it=new FileLoader(rt.manager);it.setPath(rt.path),it.setRequestHeader(rt.requestHeader),it.setWithCredentials(rt.withCredentials),it.load(_,function(st){try{et(rt.parse(JSON.parse(st)))}catch(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(_)}},tt,nt)}parse(_){const et={},tt={};function nt(ft,ht){if(et[ht]!==void 0)return et[ht];const mt=ft.interleavedBuffers[ht],pt=rt(ft,mt.buffer),yt=getTypedArray(mt.type,pt),_t=new InterleavedBuffer(yt,mt.stride);return _t.uuid=mt.uuid,et[ht]=_t,_t}function rt(ft,ht){if(tt[ht]!==void 0)return tt[ht];const mt=ft.arrayBuffers[ht],pt=new Uint32Array(mt).buffer;return tt[ht]=pt,pt}const it=_.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,st=_.data.index;if(st!==void 0){const ft=getTypedArray(st.type,st.array);it.setIndex(new BufferAttribute(ft,1))}const ot=_.data.attributes;for(const ft in ot){const ht=ot[ft];let vt;if(ht.isInterleavedBufferAttribute){const mt=nt(_.data,ht.data);vt=new InterleavedBufferAttribute(mt,ht.itemSize,ht.offset,ht.normalized)}else{const mt=getTypedArray(ht.type,ht.array),pt=ht.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;vt=new pt(mt,ht.itemSize,ht.normalized)}ht.name!==void 0&&(vt.name=ht.name),ht.usage!==void 0&&vt.setUsage(ht.usage),it.setAttribute(ft,vt)}const at=_.data.morphAttributes;if(at)for(const ft in at){const ht=at[ft],vt=[];for(let mt=0,pt=ht.length;mt<pt;mt++){const yt=ht[mt];let _t;if(yt.isInterleavedBufferAttribute){const St=nt(_.data,yt.data);_t=new InterleavedBufferAttribute(St,yt.itemSize,yt.offset,yt.normalized)}else{const St=getTypedArray(yt.type,yt.array);_t=new BufferAttribute(St,yt.itemSize,yt.normalized)}yt.name!==void 0&&(_t.name=yt.name),vt.push(_t)}it.morphAttributes[ft]=vt}_.data.morphTargetsRelative&&(it.morphTargetsRelative=!0);const ct=_.data.groups||_.data.drawcalls||_.data.offsets;if(ct!==void 0)for(let ft=0,ht=ct.length;ft!==ht;++ft){const vt=ct[ft];it.addGroup(vt.start,vt.count,vt.materialIndex)}const ut=_.data.boundingSphere;if(ut!==void 0){const ft=new Vector3;ut.center!==void 0&&ft.fromArray(ut.center),it.boundingSphere=new Sphere(ft,ut.radius)}return _.name&&(it.name=_.name),_.userData&&(it.userData=_.userData),it}}class ObjectLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=this,it=this.path===""?LoaderUtils.extractUrlBase(_):this.path;this.resourcePath=this.resourcePath||it;const st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(_,function(ot){let at=null;try{at=JSON.parse(ot)}catch(ct){nt!==void 0&&nt(ct),console.error("THREE:ObjectLoader: Can't parse "+_+".",ct.message);return}const lt=at.metadata;if(lt===void 0||lt.type===void 0||lt.type.toLowerCase()==="geometry"){nt!==void 0&&nt(new Error("THREE.ObjectLoader: Can't load "+_)),console.error("THREE.ObjectLoader: Can't load "+_);return}rt.parse(at,et)},tt,nt)}async loadAsync(_,et){const tt=this,nt=this.path===""?LoaderUtils.extractUrlBase(_):this.path;this.resourcePath=this.resourcePath||nt;const rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials);const it=await rt.loadAsync(_,et),st=JSON.parse(it),ot=st.metadata;if(ot===void 0||ot.type===void 0||ot.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+_);return await tt.parseAsync(st)}parse(_,et){const tt=this.parseAnimations(_.animations),nt=this.parseShapes(_.shapes),rt=this.parseGeometries(_.geometries,nt),it=this.parseImages(_.images,function(){et!==void 0&&et(at)}),st=this.parseTextures(_.textures,it),ot=this.parseMaterials(_.materials,st),at=this.parseObject(_.object,rt,ot,st,tt),lt=this.parseSkeletons(_.skeletons,at);if(this.bindSkeletons(at,lt),et!==void 0){let ct=!1;for(const ut in it)if(it[ut].data instanceof HTMLImageElement){ct=!0;break}ct===!1&&et(at)}return at}async parseAsync(_){const et=this.parseAnimations(_.animations),tt=this.parseShapes(_.shapes),nt=this.parseGeometries(_.geometries,tt),rt=await this.parseImagesAsync(_.images),it=this.parseTextures(_.textures,rt),st=this.parseMaterials(_.materials,it),ot=this.parseObject(_.object,nt,st,it,et),at=this.parseSkeletons(_.skeletons,ot);return this.bindSkeletons(ot,at),ot}parseShapes(_){const et={};if(_!==void 0)for(let tt=0,nt=_.length;tt<nt;tt++){const rt=new Shape().fromJSON(_[tt]);et[rt.uuid]=rt}return et}parseSkeletons(_,et){const tt={},nt={};if(et.traverse(function(rt){rt.isBone&&(nt[rt.uuid]=rt)}),_!==void 0)for(let rt=0,it=_.length;rt<it;rt++){const st=new Skeleton().fromJSON(_[rt],nt);tt[st.uuid]=st}return tt}parseGeometries(_,et){const tt={};if(_!==void 0){const nt=new BufferGeometryLoader;for(let rt=0,it=_.length;rt<it;rt++){let st;const ot=_[rt];switch(ot.type){case"BufferGeometry":case"InstancedBufferGeometry":st=nt.parse(ot);break;default:ot.type in Geometries?st=Geometries[ot.type].fromJSON(ot,et):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${ot.type}"`)}st.uuid=ot.uuid,ot.name!==void 0&&(st.name=ot.name),ot.userData!==void 0&&(st.userData=ot.userData),tt[ot.uuid]=st}}return tt}parseMaterials(_,et){const tt={},nt={};if(_!==void 0){const rt=new MaterialLoader;rt.setTextures(et);for(let it=0,st=_.length;it<st;it++){const ot=_[it];tt[ot.uuid]===void 0&&(tt[ot.uuid]=rt.parse(ot)),nt[ot.uuid]=tt[ot.uuid]}}return nt}parseAnimations(_){const et={};if(_!==void 0)for(let tt=0;tt<_.length;tt++){const nt=_[tt],rt=AnimationClip.parse(nt);et[rt.uuid]=rt}return et}parseImages(_,et){const tt=this,nt={};let rt;function it(ot){return tt.manager.itemStart(ot),rt.load(ot,function(){tt.manager.itemEnd(ot)},void 0,function(){tt.manager.itemError(ot),tt.manager.itemEnd(ot)})}function st(ot){if(typeof ot=="string"){const at=ot,lt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(at)?at:tt.resourcePath+at;return it(lt)}else return ot.data?{data:getTypedArray(ot.type,ot.data),width:ot.width,height:ot.height}:null}if(_!==void 0&&_.length>0){const ot=new LoadingManager(et);rt=new ImageLoader(ot),rt.setCrossOrigin(this.crossOrigin);for(let at=0,lt=_.length;at<lt;at++){const ct=_[at],ut=ct.url;if(Array.isArray(ut)){const ft=[];for(let ht=0,vt=ut.length;ht<vt;ht++){const mt=ut[ht],pt=st(mt);pt!==null&&(pt instanceof HTMLImageElement?ft.push(pt):ft.push(new DataTexture(pt.data,pt.width,pt.height)))}nt[ct.uuid]=new Source(ft)}else{const ft=st(ct.url);nt[ct.uuid]=new Source(ft)}}}return nt}async parseImagesAsync(_){const et=this,tt={};let nt;async function rt(it){if(typeof it=="string"){const st=it,ot=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(st)?st:et.resourcePath+st;return await nt.loadAsync(ot)}else return it.data?{data:getTypedArray(it.type,it.data),width:it.width,height:it.height}:null}if(_!==void 0&&_.length>0){nt=new ImageLoader(this.manager),nt.setCrossOrigin(this.crossOrigin);for(let it=0,st=_.length;it<st;it++){const ot=_[it],at=ot.url;if(Array.isArray(at)){const lt=[];for(let ct=0,ut=at.length;ct<ut;ct++){const ft=at[ct],ht=await rt(ft);ht!==null&&(ht instanceof HTMLImageElement?lt.push(ht):lt.push(new DataTexture(ht.data,ht.width,ht.height)))}tt[ot.uuid]=new Source(lt)}else{const lt=await rt(ot.url);tt[ot.uuid]=new Source(lt)}}}return tt}parseTextures(_,et){function tt(rt,it){return typeof rt=="number"?rt:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",rt),it[rt])}const nt={};if(_!==void 0)for(let rt=0,it=_.length;rt<it;rt++){const st=_[rt];st.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',st.uuid),et[st.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",st.image);const ot=et[st.image],at=ot.data;let lt;Array.isArray(at)?(lt=new CubeTexture,at.length===6&&(lt.needsUpdate=!0)):(at&&at.data?lt=new DataTexture:lt=new Texture,at&&(lt.needsUpdate=!0)),lt.source=ot,lt.uuid=st.uuid,st.name!==void 0&&(lt.name=st.name),st.mapping!==void 0&&(lt.mapping=tt(st.mapping,TEXTURE_MAPPING)),st.channel!==void 0&&(lt.channel=st.channel),st.offset!==void 0&&lt.offset.fromArray(st.offset),st.repeat!==void 0&&lt.repeat.fromArray(st.repeat),st.center!==void 0&&lt.center.fromArray(st.center),st.rotation!==void 0&&(lt.rotation=st.rotation),st.wrap!==void 0&&(lt.wrapS=tt(st.wrap[0],TEXTURE_WRAPPING),lt.wrapT=tt(st.wrap[1],TEXTURE_WRAPPING)),st.format!==void 0&&(lt.format=st.format),st.internalFormat!==void 0&&(lt.internalFormat=st.internalFormat),st.type!==void 0&&(lt.type=st.type),st.colorSpace!==void 0&&(lt.colorSpace=st.colorSpace),st.encoding!==void 0&&(lt.encoding=st.encoding),st.minFilter!==void 0&&(lt.minFilter=tt(st.minFilter,TEXTURE_FILTER)),st.magFilter!==void 0&&(lt.magFilter=tt(st.magFilter,TEXTURE_FILTER)),st.anisotropy!==void 0&&(lt.anisotropy=st.anisotropy),st.flipY!==void 0&&(lt.flipY=st.flipY),st.generateMipmaps!==void 0&&(lt.generateMipmaps=st.generateMipmaps),st.premultiplyAlpha!==void 0&&(lt.premultiplyAlpha=st.premultiplyAlpha),st.unpackAlignment!==void 0&&(lt.unpackAlignment=st.unpackAlignment),st.compareFunction!==void 0&&(lt.compareFunction=st.compareFunction),st.userData!==void 0&&(lt.userData=st.userData),nt[st.uuid]=lt}return nt}parseObject(_,et,tt,nt,rt){let it;function st(ut){return et[ut]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ut),et[ut]}function ot(ut){if(ut!==void 0){if(Array.isArray(ut)){const ft=[];for(let ht=0,vt=ut.length;ht<vt;ht++){const mt=ut[ht];tt[mt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",mt),ft.push(tt[mt])}return ft}return tt[ut]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ut),tt[ut]}}function at(ut){return nt[ut]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ut),nt[ut]}let lt,ct;switch(_.type){case"Scene":it=new Scene,_.background!==void 0&&(Number.isInteger(_.background)?it.background=new Color$1(_.background):it.background=at(_.background)),_.environment!==void 0&&(it.environment=at(_.environment)),_.fog!==void 0&&(_.fog.type==="Fog"?it.fog=new Fog(_.fog.color,_.fog.near,_.fog.far):_.fog.type==="FogExp2"&&(it.fog=new FogExp2(_.fog.color,_.fog.density)),_.fog.name!==""&&(it.fog.name=_.fog.name)),_.backgroundBlurriness!==void 0&&(it.backgroundBlurriness=_.backgroundBlurriness),_.backgroundIntensity!==void 0&&(it.backgroundIntensity=_.backgroundIntensity);break;case"PerspectiveCamera":it=new PerspectiveCamera(_.fov,_.aspect,_.near,_.far),_.focus!==void 0&&(it.focus=_.focus),_.zoom!==void 0&&(it.zoom=_.zoom),_.filmGauge!==void 0&&(it.filmGauge=_.filmGauge),_.filmOffset!==void 0&&(it.filmOffset=_.filmOffset),_.view!==void 0&&(it.view=Object.assign({},_.view));break;case"OrthographicCamera":it=new OrthographicCamera(_.left,_.right,_.top,_.bottom,_.near,_.far),_.zoom!==void 0&&(it.zoom=_.zoom),_.view!==void 0&&(it.view=Object.assign({},_.view));break;case"AmbientLight":it=new AmbientLight(_.color,_.intensity);break;case"DirectionalLight":it=new DirectionalLight(_.color,_.intensity);break;case"PointLight":it=new PointLight(_.color,_.intensity,_.distance,_.decay);break;case"RectAreaLight":it=new RectAreaLight(_.color,_.intensity,_.width,_.height);break;case"SpotLight":it=new SpotLight(_.color,_.intensity,_.distance,_.angle,_.penumbra,_.decay);break;case"HemisphereLight":it=new HemisphereLight(_.color,_.groundColor,_.intensity);break;case"LightProbe":it=new LightProbe().fromJSON(_);break;case"SkinnedMesh":lt=st(_.geometry),ct=ot(_.material),it=new SkinnedMesh(lt,ct),_.bindMode!==void 0&&(it.bindMode=_.bindMode),_.bindMatrix!==void 0&&it.bindMatrix.fromArray(_.bindMatrix),_.skeleton!==void 0&&(it.skeleton=_.skeleton);break;case"Mesh":lt=st(_.geometry),ct=ot(_.material),it=new Mesh(lt,ct);break;case"InstancedMesh":lt=st(_.geometry),ct=ot(_.material);const ut=_.count,ft=_.instanceMatrix,ht=_.instanceColor;it=new InstancedMesh(lt,ct,ut),it.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ft.array),16),ht!==void 0&&(it.instanceColor=new InstancedBufferAttribute(new Float32Array(ht.array),ht.itemSize));break;case"BatchedMesh":lt=st(_.geometry),ct=ot(_.material),it=new BatchedMesh(_.maxGeometryCount,_.maxVertexCount,_.maxIndexCount,ct),it.geometry=lt,it.perObjectFrustumCulled=_.perObjectFrustumCulled,it.sortObjects=_.sortObjects,it._drawRanges=_.drawRanges,it._reservedRanges=_.reservedRanges,it._visibility=_.visibility,it._active=_.active,it._bounds=_.bounds.map(vt=>{const mt=new Box3;mt.min.fromArray(vt.boxMin),mt.max.fromArray(vt.boxMax);const pt=new Sphere;return pt.radius=vt.sphereRadius,pt.center.fromArray(vt.sphereCenter),{boxInitialized:vt.boxInitialized,box:mt,sphereInitialized:vt.sphereInitialized,sphere:pt}}),it._maxGeometryCount=_.maxGeometryCount,it._maxVertexCount=_.maxVertexCount,it._maxIndexCount=_.maxIndexCount,it._geometryInitialized=_.geometryInitialized,it._geometryCount=_.geometryCount,it._matricesTexture=at(_.matricesTexture.uuid);break;case"LOD":it=new LOD;break;case"Line":it=new Line(st(_.geometry),ot(_.material));break;case"LineLoop":it=new LineLoop(st(_.geometry),ot(_.material));break;case"LineSegments":it=new LineSegments(st(_.geometry),ot(_.material));break;case"PointCloud":case"Points":it=new Points(st(_.geometry),ot(_.material));break;case"Sprite":it=new Sprite(ot(_.material));break;case"Group":it=new Group;break;case"Bone":it=new Bone;break;default:it=new Object3D}if(it.uuid=_.uuid,_.name!==void 0&&(it.name=_.name),_.matrix!==void 0?(it.matrix.fromArray(_.matrix),_.matrixAutoUpdate!==void 0&&(it.matrixAutoUpdate=_.matrixAutoUpdate),it.matrixAutoUpdate&&it.matrix.decompose(it.position,it.quaternion,it.scale)):(_.position!==void 0&&it.position.fromArray(_.position),_.rotation!==void 0&&it.rotation.fromArray(_.rotation),_.quaternion!==void 0&&it.quaternion.fromArray(_.quaternion),_.scale!==void 0&&it.scale.fromArray(_.scale)),_.up!==void 0&&it.up.fromArray(_.up),_.castShadow!==void 0&&(it.castShadow=_.castShadow),_.receiveShadow!==void 0&&(it.receiveShadow=_.receiveShadow),_.shadow&&(_.shadow.bias!==void 0&&(it.shadow.bias=_.shadow.bias),_.shadow.normalBias!==void 0&&(it.shadow.normalBias=_.shadow.normalBias),_.shadow.radius!==void 0&&(it.shadow.radius=_.shadow.radius),_.shadow.mapSize!==void 0&&it.shadow.mapSize.fromArray(_.shadow.mapSize),_.shadow.camera!==void 0&&(it.shadow.camera=this.parseObject(_.shadow.camera))),_.visible!==void 0&&(it.visible=_.visible),_.frustumCulled!==void 0&&(it.frustumCulled=_.frustumCulled),_.renderOrder!==void 0&&(it.renderOrder=_.renderOrder),_.userData!==void 0&&(it.userData=_.userData),_.layers!==void 0&&(it.layers.mask=_.layers),_.children!==void 0){const ut=_.children;for(let ft=0;ft<ut.length;ft++)it.add(this.parseObject(ut[ft],et,tt,nt,rt))}if(_.animations!==void 0){const ut=_.animations;for(let ft=0;ft<ut.length;ft++){const ht=ut[ft];it.animations.push(rt[ht])}}if(_.type==="LOD"){_.autoUpdate!==void 0&&(it.autoUpdate=_.autoUpdate);const ut=_.levels;for(let ft=0;ft<ut.length;ft++){const ht=ut[ft],vt=it.getObjectByProperty("uuid",ht.object);vt!==void 0&&it.addLevel(vt,ht.distance,ht.hysteresis)}}return it}bindSkeletons(_,et){Object.keys(et).length!==0&&_.traverse(function(tt){if(tt.isSkinnedMesh===!0&&tt.skeleton!==void 0){const nt=et[tt.skeleton];nt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",tt.skeleton):tt.bind(nt,tt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(_){super(_),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(_){return this.options=_,this}load(_,et,tt,nt){_===void 0&&(_=""),this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_);const rt=this,it=Cache.get(_);if(it!==void 0)return rt.manager.itemStart(_),setTimeout(function(){et&&et(it),rt.manager.itemEnd(_)},0),it;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch(_,st).then(function(ot){return ot.blob()}).then(function(ot){return createImageBitmap(ot,Object.assign(rt.options,{colorSpaceConversion:"none"}))}).then(function(ot){Cache.add(_,ot),et&&et(ot),rt.manager.itemEnd(_)}).catch(function(ot){nt&&nt(ot),rt.manager.itemError(_),rt.manager.itemEnd(_)}),rt.manager.itemStart(_)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(_){_context=_}}class AudioLoader extends Loader{constructor(_){super(_)}load(_,et,tt,nt){const rt=this,it=new FileLoader(this.manager);it.setResponseType("arraybuffer"),it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(_,function(ot){try{const at=ot.slice(0);AudioContext.getContext().decodeAudioData(at,function(ct){et(ct)}).catch(st)}catch(at){st(at)}},tt,nt);function st(ot){nt?nt(ot):console.error(ot),rt.manager.itemError(_)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(_){const et=this._cache;if(et.focus!==_.focus||et.fov!==_.fov||et.aspect!==_.aspect*this.aspect||et.near!==_.near||et.far!==_.far||et.zoom!==_.zoom||et.eyeSep!==this.eyeSep){et.focus=_.focus,et.fov=_.fov,et.aspect=_.aspect*this.aspect,et.near=_.near,et.far=_.far,et.zoom=_.zoom,et.eyeSep=this.eyeSep,_projectionMatrix.copy(_.projectionMatrix);const nt=et.eyeSep/2,rt=nt*et.near/et.focus,it=et.near*Math.tan(DEG2RAD*et.fov*.5)/et.zoom;let st,ot;_eyeLeft.elements[12]=-nt,_eyeRight.elements[12]=nt,st=-it*et.aspect+rt,ot=it*et.aspect+rt,_projectionMatrix.elements[0]=2*et.near/(ot-st),_projectionMatrix.elements[8]=(ot+st)/(ot-st),this.cameraL.projectionMatrix.copy(_projectionMatrix),st=-it*et.aspect-rt,ot=it*et.aspect-rt,_projectionMatrix.elements[0]=2*et.near/(ot-st),_projectionMatrix.elements[8]=(ot+st)/(ot-st),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(_.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(_.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(_=!0){this.autoStart=_,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let _=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const et=now();_=(et-this.oldTime)/1e3,this.oldTime=et,this.elapsedTime+=_}return _}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(_){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=_,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(_){return this.gain.gain.setTargetAtTime(_,this.context.currentTime,.01),this}updateMatrixWorld(_){super.updateMatrixWorld(_);const et=this.context.listener,tt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),et.positionX){const nt=this.context.currentTime+this.timeDelta;et.positionX.linearRampToValueAtTime(_position$1.x,nt),et.positionY.linearRampToValueAtTime(_position$1.y,nt),et.positionZ.linearRampToValueAtTime(_position$1.z,nt),et.forwardX.linearRampToValueAtTime(_orientation$1.x,nt),et.forwardY.linearRampToValueAtTime(_orientation$1.y,nt),et.forwardZ.linearRampToValueAtTime(_orientation$1.z,nt),et.upX.linearRampToValueAtTime(tt.x,nt),et.upY.linearRampToValueAtTime(tt.y,nt),et.upZ.linearRampToValueAtTime(tt.z,nt)}else et.setPosition(_position$1.x,_position$1.y,_position$1.z),et.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,tt.x,tt.y,tt.z)}}class Audio extends Object3D{constructor(_){super(),this.type="Audio",this.listener=_,this.context=_.context,this.gain=this.context.createGain(),this.gain.connect(_.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(_){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=_,this.connect(),this}setMediaElementSource(_){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(_),this.connect(),this}setMediaStreamSource(_){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(_),this.connect(),this}setBuffer(_){return this.buffer=_,this.sourceType="buffer",this.autoplay&&this.play(),this}play(_=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+_;const et=this.context.createBufferSource();return et.buffer=this.buffer,et.loop=this.loop,et.loopStart=this.loopStart,et.loopEnd=this.loopEnd,et.onended=this.onEnded.bind(this),et.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=et,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let _=1,et=this.filters.length;_<et;_++)this.filters[_-1].connect(this.filters[_]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let _=1,et=this.filters.length;_<et;_++)this.filters[_-1].disconnect(this.filters[_]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(_){return _||(_=[]),this._connected===!0?(this.disconnect(),this.filters=_.slice(),this.connect()):this.filters=_.slice(),this}setDetune(_){if(this.detune=_,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(_){return this.setFilters(_?[_]:[])}setPlaybackRate(_){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=_,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(_){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=_,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(_){return this.loopStart=_,this}setLoopEnd(_){return this.loopEnd=_,this}getVolume(){return this.gain.gain.value}setVolume(_){return this.gain.gain.setTargetAtTime(_,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(_){super(_),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(_){return this.panner.refDistance=_,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(_){return this.panner.rolloffFactor=_,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(_){return this.panner.distanceModel=_,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(_){return this.panner.maxDistance=_,this}setDirectionalCone(_,et,tt){return this.panner.coneInnerAngle=_,this.panner.coneOuterAngle=et,this.panner.coneOuterGain=tt,this}updateMatrixWorld(_){if(super.updateMatrixWorld(_),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const et=this.panner;if(et.positionX){const tt=this.context.currentTime+this.listener.timeDelta;et.positionX.linearRampToValueAtTime(_position.x,tt),et.positionY.linearRampToValueAtTime(_position.y,tt),et.positionZ.linearRampToValueAtTime(_position.z,tt),et.orientationX.linearRampToValueAtTime(_orientation.x,tt),et.orientationY.linearRampToValueAtTime(_orientation.y,tt),et.orientationZ.linearRampToValueAtTime(_orientation.z,tt)}else et.setPosition(_position.x,_position.y,_position.z),et.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(_,et=2048){this.analyser=_.context.createAnalyser(),this.analyser.fftSize=et,this.data=new Uint8Array(this.analyser.frequencyBinCount),_.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let _=0;const et=this.getFrequencyData();for(let tt=0;tt<et.length;tt++)_+=et[tt];return _/et.length}}class PropertyMixer{constructor(_,et,tt){this.binding=_,this.valueSize=tt;let nt,rt,it;switch(et){case"quaternion":nt=this._slerp,rt=this._slerpAdditive,it=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(tt*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,rt=this._select,it=this._setAdditiveIdentityOther,this.buffer=new Array(tt*5);break;default:nt=this._lerp,rt=this._lerpAdditive,it=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(tt*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=rt,this._setIdentity=it,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(_,et){const tt=this.buffer,nt=this.valueSize,rt=_*nt+nt;let it=this.cumulativeWeight;if(it===0){for(let st=0;st!==nt;++st)tt[rt+st]=tt[st];it=et}else{it+=et;const st=et/it;this._mixBufferRegion(tt,rt,0,st,nt)}this.cumulativeWeight=it}accumulateAdditive(_){const et=this.buffer,tt=this.valueSize,nt=tt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(et,nt,0,_,tt),this.cumulativeWeightAdditive+=_}apply(_){const et=this.valueSize,tt=this.buffer,nt=_*et+et,rt=this.cumulativeWeight,it=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,rt<1){const ot=et*this._origIndex;this._mixBufferRegion(tt,nt,ot,1-rt,et)}it>0&&this._mixBufferRegionAdditive(tt,nt,this._addIndex*et,1,et);for(let ot=et,at=et+et;ot!==at;++ot)if(tt[ot]!==tt[ot+et]){st.setValue(tt,nt);break}}saveOriginalState(){const _=this.binding,et=this.buffer,tt=this.valueSize,nt=tt*this._origIndex;_.getValue(et,nt);for(let rt=tt,it=nt;rt!==it;++rt)et[rt]=et[nt+rt%tt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const _=this.valueSize*3;this.binding.setValue(this.buffer,_)}_setAdditiveIdentityNumeric(){const _=this._addIndex*this.valueSize,et=_+this.valueSize;for(let tt=_;tt<et;tt++)this.buffer[tt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const _=this._origIndex*this.valueSize,et=this._addIndex*this.valueSize;for(let tt=0;tt<this.valueSize;tt++)this.buffer[et+tt]=this.buffer[_+tt]}_select(_,et,tt,nt,rt){if(nt>=.5)for(let it=0;it!==rt;++it)_[et+it]=_[tt+it]}_slerp(_,et,tt,nt){Quaternion.slerpFlat(_,et,_,et,_,tt,nt)}_slerpAdditive(_,et,tt,nt,rt){const it=this._workIndex*rt;Quaternion.multiplyQuaternionsFlat(_,it,_,et,_,tt),Quaternion.slerpFlat(_,et,_,et,_,it,nt)}_lerp(_,et,tt,nt,rt){const it=1-nt;for(let st=0;st!==rt;++st){const ot=et+st;_[ot]=_[ot]*it+_[tt+st]*nt}}_lerpAdditive(_,et,tt,nt,rt){for(let it=0;it!==rt;++it){const st=et+it;_[st]=_[st]+_[tt+it]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(_,et,tt){const nt=tt||PropertyBinding.parseTrackName(et);this._targetGroup=_,this._bindings=_.subscribe_(et,nt)}getValue(_,et){this.bind();const tt=this._targetGroup.nCachedObjects_,nt=this._bindings[tt];nt!==void 0&&nt.getValue(_,et)}setValue(_,et){const tt=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=tt.length;nt!==rt;++nt)tt[nt].setValue(_,et)}bind(){const _=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=_.length;et!==tt;++et)_[et].bind()}unbind(){const _=this._bindings;for(let et=this._targetGroup.nCachedObjects_,tt=_.length;et!==tt;++et)_[et].unbind()}}class PropertyBinding{constructor(_,et,tt){this.path=et,this.parsedPath=tt||PropertyBinding.parseTrackName(et),this.node=PropertyBinding.findNode(_,this.parsedPath.nodeName),this.rootNode=_,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(_,et,tt){return _&&_.isAnimationObjectGroup?new PropertyBinding.Composite(_,et,tt):new PropertyBinding(_,et,tt)}static sanitizeNodeName(_){return _.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(_){const et=_trackRe.exec(_);if(et===null)throw new Error("PropertyBinding: Cannot parse trackName: "+_);const tt={nodeName:et[2],objectName:et[3],objectIndex:et[4],propertyName:et[5],propertyIndex:et[6]},nt=tt.nodeName&&tt.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const rt=tt.nodeName.substring(nt+1);_supportedObjectNames.indexOf(rt)!==-1&&(tt.nodeName=tt.nodeName.substring(0,nt),tt.objectName=rt)}if(tt.propertyName===null||tt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+_);return tt}static findNode(_,et){if(et===void 0||et===""||et==="."||et===-1||et===_.name||et===_.uuid)return _;if(_.skeleton){const tt=_.skeleton.getBoneByName(et);if(tt!==void 0)return tt}if(_.children){const tt=function(rt){for(let it=0;it<rt.length;it++){const st=rt[it];if(st.name===et||st.uuid===et)return st;const ot=tt(st.children);if(ot)return ot}return null},nt=tt(_.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(_,et){_[et]=this.targetObject[this.propertyName]}_getValue_array(_,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)_[et++]=tt[nt]}_getValue_arrayElement(_,et){_[et]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(_,et){this.resolvedProperty.toArray(_,et)}_setValue_direct(_,et){this.targetObject[this.propertyName]=_[et]}_setValue_direct_setNeedsUpdate(_,et){this.targetObject[this.propertyName]=_[et],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(_,et){this.targetObject[this.propertyName]=_[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(_,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=_[et++]}_setValue_array_setNeedsUpdate(_,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=_[et++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(_,et){const tt=this.resolvedProperty;for(let nt=0,rt=tt.length;nt!==rt;++nt)tt[nt]=_[et++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(_,et){this.resolvedProperty[this.propertyIndex]=_[et]}_setValue_arrayElement_setNeedsUpdate(_,et){this.resolvedProperty[this.propertyIndex]=_[et],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(_,et){this.resolvedProperty[this.propertyIndex]=_[et],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(_,et){this.resolvedProperty.fromArray(_,et)}_setValue_fromArray_setNeedsUpdate(_,et){this.resolvedProperty.fromArray(_,et),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(_,et){this.resolvedProperty.fromArray(_,et),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(_,et){this.bind(),this.getValue(_,et)}_setValue_unbound(_,et){this.bind(),this.setValue(_,et)}bind(){let _=this.node;const et=this.parsedPath,tt=et.objectName,nt=et.propertyName;let rt=et.propertyIndex;if(_||(_=PropertyBinding.findNode(this.rootNode,et.nodeName),this.node=_),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!_){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(tt){let at=et.objectIndex;switch(tt){case"materials":if(!_.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}_=_.material.materials;break;case"bones":if(!_.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}_=_.skeleton.bones;for(let lt=0;lt<_.length;lt++)if(_[lt].name===at){at=lt;break}break;case"map":if("map"in _){_=_.map;break}if(!_.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}_=_.material.map;break;default:if(_[tt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}_=_[tt]}if(at!==void 0){if(_[at]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,_);return}_=_[at]}}const it=_[nt];if(it===void 0){const at=et.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+at+"."+nt+" but it wasn't found.",_);return}let st=this.Versioning.None;this.targetObject=_,_.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:_.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let ot=this.BindingType.Direct;if(rt!==void 0){if(nt==="morphTargetInfluences"){if(!_.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!_.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}_.morphTargetDictionary[rt]!==void 0&&(rt=_.morphTargetDictionary[rt])}ot=this.BindingType.ArrayElement,this.resolvedProperty=it,this.propertyIndex=rt}else it.fromArray!==void 0&&it.toArray!==void 0?(ot=this.BindingType.HasFromToArray,this.resolvedProperty=it):Array.isArray(it)?(ot=this.BindingType.EntireArray,this.resolvedProperty=it):this.propertyName=nt;this.getValue=this.GetterByBindingType[ot],this.setValue=this.SetterByBindingTypeAndVersioning[ot][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const _={};this._indicesByUUID=_;for(let tt=0,nt=arguments.length;tt!==nt;++tt)_[arguments[tt].uuid]=tt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const et=this;this.stats={objects:{get total(){return et._objects.length},get inUse(){return this.total-et.nCachedObjects_}},get bindingsPerObject(){return et._bindings.length}}}add(){const _=this._objects,et=this._indicesByUUID,tt=this._paths,nt=this._parsedPaths,rt=this._bindings,it=rt.length;let st,ot=_.length,at=this.nCachedObjects_;for(let lt=0,ct=arguments.length;lt!==ct;++lt){const ut=arguments[lt],ft=ut.uuid;let ht=et[ft];if(ht===void 0){ht=ot++,et[ft]=ht,_.push(ut);for(let vt=0,mt=it;vt!==mt;++vt)rt[vt].push(new PropertyBinding(ut,tt[vt],nt[vt]))}else if(ht<at){st=_[ht];const vt=--at,mt=_[vt];et[mt.uuid]=ht,_[ht]=mt,et[ft]=vt,_[vt]=ut;for(let pt=0,yt=it;pt!==yt;++pt){const _t=rt[pt],St=_t[vt];let Et=_t[ht];_t[ht]=St,Et===void 0&&(Et=new PropertyBinding(ut,tt[pt],nt[pt])),_t[vt]=Et}}else _[ht]!==st&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=at}remove(){const _=this._objects,et=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_;for(let it=0,st=arguments.length;it!==st;++it){const ot=arguments[it],at=ot.uuid,lt=et[at];if(lt!==void 0&&lt>=rt){const ct=rt++,ut=_[ct];et[ut.uuid]=lt,_[lt]=ut,et[at]=ct,_[ct]=ot;for(let ft=0,ht=nt;ft!==ht;++ft){const vt=tt[ft],mt=vt[ct],pt=vt[lt];vt[lt]=mt,vt[ct]=pt}}}this.nCachedObjects_=rt}uncache(){const _=this._objects,et=this._indicesByUUID,tt=this._bindings,nt=tt.length;let rt=this.nCachedObjects_,it=_.length;for(let st=0,ot=arguments.length;st!==ot;++st){const at=arguments[st],lt=at.uuid,ct=et[lt];if(ct!==void 0)if(delete et[lt],ct<rt){const ut=--rt,ft=_[ut],ht=--it,vt=_[ht];et[ft.uuid]=ct,_[ct]=ft,et[vt.uuid]=ut,_[ut]=vt,_.pop();for(let mt=0,pt=nt;mt!==pt;++mt){const yt=tt[mt],_t=yt[ut],St=yt[ht];yt[ct]=_t,yt[ut]=St,yt.pop()}}else{const ut=--it,ft=_[ut];ut>0&&(et[ft.uuid]=ct),_[ct]=ft,_.pop();for(let ht=0,vt=nt;ht!==vt;++ht){const mt=tt[ht];mt[ct]=mt[ut],mt.pop()}}}this.nCachedObjects_=rt}subscribe_(_,et){const tt=this._bindingsIndicesByPath;let nt=tt[_];const rt=this._bindings;if(nt!==void 0)return rt[nt];const it=this._paths,st=this._parsedPaths,ot=this._objects,at=ot.length,lt=this.nCachedObjects_,ct=new Array(at);nt=rt.length,tt[_]=nt,it.push(_),st.push(et),rt.push(ct);for(let ut=lt,ft=ot.length;ut!==ft;++ut){const ht=ot[ut];ct[ut]=new PropertyBinding(ht,_,et)}return ct}unsubscribe_(_){const et=this._bindingsIndicesByPath,tt=et[_];if(tt!==void 0){const nt=this._paths,rt=this._parsedPaths,it=this._bindings,st=it.length-1,ot=it[st],at=_[st];et[at]=tt,it[tt]=ot,it.pop(),rt[tt]=rt[st],rt.pop(),nt[tt]=nt[st],nt.pop()}}}class AnimationAction{constructor(_,et,tt=null,nt=et.blendMode){this._mixer=_,this._clip=et,this._localRoot=tt,this.blendMode=nt;const rt=et.tracks,it=rt.length,st=new Array(it),ot={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let at=0;at!==it;++at){const lt=rt[at].createInterpolant(null);st[at]=lt,lt.settings=ot}this._interpolantSettings=ot,this._interpolants=st,this._propertyBindings=new Array(it),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(_){return this._startTime=_,this}setLoop(_,et){return this.loop=_,this.repetitions=et,this}setEffectiveWeight(_){return this.weight=_,this._effectiveWeight=this.enabled?_:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(_){return this._scheduleFading(_,0,1)}fadeOut(_){return this._scheduleFading(_,1,0)}crossFadeFrom(_,et,tt){if(_.fadeOut(et),this.fadeIn(et),tt){const nt=this._clip.duration,rt=_._clip.duration,it=rt/nt,st=nt/rt;_.warp(1,it,et),this.warp(st,1,et)}return this}crossFadeTo(_,et,tt){return _.crossFadeFrom(this,et,tt)}stopFading(){const _=this._weightInterpolant;return _!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(_)),this}setEffectiveTimeScale(_){return this.timeScale=_,this._effectiveTimeScale=this.paused?0:_,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(_){return this.timeScale=this._clip.duration/_,this.stopWarping()}syncWith(_){return this.time=_.time,this.timeScale=_.timeScale,this.stopWarping()}halt(_){return this.warp(this._effectiveTimeScale,0,_)}warp(_,et,tt){const nt=this._mixer,rt=nt.time,it=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=nt._lendControlInterpolant(),this._timeScaleInterpolant=st);const ot=st.parameterPositions,at=st.sampleValues;return ot[0]=rt,ot[1]=rt+tt,at[0]=_/it,at[1]=et/it,this}stopWarping(){const _=this._timeScaleInterpolant;return _!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(_)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(_,et,tt,nt){if(!this.enabled){this._updateWeight(_);return}const rt=this._startTime;if(rt!==null){const ot=(_-rt)*tt;ot<0||tt===0?et=0:(this._startTime=null,et=tt*ot)}et*=this._updateTimeScale(_);const it=this._updateTime(et),st=this._updateWeight(_);if(st>0){const ot=this._interpolants,at=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let lt=0,ct=ot.length;lt!==ct;++lt)ot[lt].evaluate(it),at[lt].accumulateAdditive(st);break;case NormalAnimationBlendMode:default:for(let lt=0,ct=ot.length;lt!==ct;++lt)ot[lt].evaluate(it),at[lt].accumulate(nt,st)}}}_updateWeight(_){let et=0;if(this.enabled){et=this.weight;const tt=this._weightInterpolant;if(tt!==null){const nt=tt.evaluate(_)[0];et*=nt,_>tt.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=et,et}_updateTimeScale(_){let et=0;if(!this.paused){et=this.timeScale;const tt=this._timeScaleInterpolant;if(tt!==null){const nt=tt.evaluate(_)[0];et*=nt,_>tt.parameterPositions[1]&&(this.stopWarping(),et===0?this.paused=!0:this.timeScale=et)}}return this._effectiveTimeScale=et,et}_updateTime(_){const et=this._clip.duration,tt=this.loop;let nt=this.time+_,rt=this._loopCount;const it=tt===LoopPingPong;if(_===0)return rt===-1?nt:it&&(rt&1)===1?et-nt:nt;if(tt===LoopOnce){rt===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=et)nt=et;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:_<0?-1:1})}}else{if(rt===-1&&(_>=0?(rt=0,this._setEndings(!0,this.repetitions===0,it)):this._setEndings(this.repetitions===0,!0,it)),nt>=et||nt<0){const st=Math.floor(nt/et);nt-=et*st,rt+=Math.abs(st);const ot=this.repetitions-rt;if(ot<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=_>0?et:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:_>0?1:-1});else{if(ot===1){const at=_<0;this._setEndings(at,!at,it)}else this._setEndings(!1,!1,it);this._loopCount=rt,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=nt;if(it&&(rt&1)===1)return et-nt}return nt}_setEndings(_,et,tt){const nt=this._interpolantSettings;tt?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):(_?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,et?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading(_,et,tt){const nt=this._mixer,rt=nt.time;let it=this._weightInterpolant;it===null&&(it=nt._lendControlInterpolant(),this._weightInterpolant=it);const st=it.parameterPositions,ot=it.sampleValues;return st[0]=rt,ot[0]=et,st[1]=rt+_,ot[1]=tt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(_){super(),this._root=_,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(_,et){const tt=_._localRoot||this._root,nt=_._clip.tracks,rt=nt.length,it=_._propertyBindings,st=_._interpolants,ot=tt.uuid,at=this._bindingsByRootAndName;let lt=at[ot];lt===void 0&&(lt={},at[ot]=lt);for(let ct=0;ct!==rt;++ct){const ut=nt[ct],ft=ut.name;let ht=lt[ft];if(ht!==void 0)++ht.referenceCount,it[ct]=ht;else{if(ht=it[ct],ht!==void 0){ht._cacheIndex===null&&(++ht.referenceCount,this._addInactiveBinding(ht,ot,ft));continue}const vt=et&&et._propertyBindings[ct].binding.parsedPath;ht=new PropertyMixer(PropertyBinding.create(tt,ft,vt),ut.ValueTypeName,ut.getValueSize()),++ht.referenceCount,this._addInactiveBinding(ht,ot,ft),it[ct]=ht}st[ct].resultBuffer=ht.buffer}}_activateAction(_){if(!this._isActiveAction(_)){if(_._cacheIndex===null){const tt=(_._localRoot||this._root).uuid,nt=_._clip.uuid,rt=this._actionsByClip[nt];this._bindAction(_,rt&&rt.knownActions[0]),this._addInactiveAction(_,nt,tt)}const et=_._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];rt.useCount++===0&&(this._lendBinding(rt),rt.saveOriginalState())}this._lendAction(_)}}_deactivateAction(_){if(this._isActiveAction(_)){const et=_._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.useCount===0&&(rt.restoreOriginalState(),this._takeBackBinding(rt))}this._takeBackAction(_)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const _=this;this.stats={actions:{get total(){return _._actions.length},get inUse(){return _._nActiveActions}},bindings:{get total(){return _._bindings.length},get inUse(){return _._nActiveBindings}},controlInterpolants:{get total(){return _._controlInterpolants.length},get inUse(){return _._nActiveControlInterpolants}}}}_isActiveAction(_){const et=_._cacheIndex;return et!==null&&et<this._nActiveActions}_addInactiveAction(_,et,tt){const nt=this._actions,rt=this._actionsByClip;let it=rt[et];if(it===void 0)it={knownActions:[_],actionByRoot:{}},_._byClipCacheIndex=0,rt[et]=it;else{const st=it.knownActions;_._byClipCacheIndex=st.length,st.push(_)}_._cacheIndex=nt.length,nt.push(_),it.actionByRoot[tt]=_}_removeInactiveAction(_){const et=this._actions,tt=et[et.length-1],nt=_._cacheIndex;tt._cacheIndex=nt,et[nt]=tt,et.pop(),_._cacheIndex=null;const rt=_._clip.uuid,it=this._actionsByClip,st=it[rt],ot=st.knownActions,at=ot[ot.length-1],lt=_._byClipCacheIndex;at._byClipCacheIndex=lt,ot[lt]=at,ot.pop(),_._byClipCacheIndex=null;const ct=st.actionByRoot,ut=(_._localRoot||this._root).uuid;delete ct[ut],ot.length===0&&delete it[rt],this._removeInactiveBindingsForAction(_)}_removeInactiveBindingsForAction(_){const et=_._propertyBindings;for(let tt=0,nt=et.length;tt!==nt;++tt){const rt=et[tt];--rt.referenceCount===0&&this._removeInactiveBinding(rt)}}_lendAction(_){const et=this._actions,tt=_._cacheIndex,nt=this._nActiveActions++,rt=et[nt];_._cacheIndex=nt,et[nt]=_,rt._cacheIndex=tt,et[tt]=rt}_takeBackAction(_){const et=this._actions,tt=_._cacheIndex,nt=--this._nActiveActions,rt=et[nt];_._cacheIndex=nt,et[nt]=_,rt._cacheIndex=tt,et[tt]=rt}_addInactiveBinding(_,et,tt){const nt=this._bindingsByRootAndName,rt=this._bindings;let it=nt[et];it===void 0&&(it={},nt[et]=it),it[tt]=_,_._cacheIndex=rt.length,rt.push(_)}_removeInactiveBinding(_){const et=this._bindings,tt=_.binding,nt=tt.rootNode.uuid,rt=tt.path,it=this._bindingsByRootAndName,st=it[nt],ot=et[et.length-1],at=_._cacheIndex;ot._cacheIndex=at,et[at]=ot,et.pop(),delete st[rt],Object.keys(st).length===0&&delete it[nt]}_lendBinding(_){const et=this._bindings,tt=_._cacheIndex,nt=this._nActiveBindings++,rt=et[nt];_._cacheIndex=nt,et[nt]=_,rt._cacheIndex=tt,et[tt]=rt}_takeBackBinding(_){const et=this._bindings,tt=_._cacheIndex,nt=--this._nActiveBindings,rt=et[nt];_._cacheIndex=nt,et[nt]=_,rt._cacheIndex=tt,et[tt]=rt}_lendControlInterpolant(){const _=this._controlInterpolants,et=this._nActiveControlInterpolants++;let tt=_[et];return tt===void 0&&(tt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),tt.__cacheIndex=et,_[et]=tt),tt}_takeBackControlInterpolant(_){const et=this._controlInterpolants,tt=_.__cacheIndex,nt=--this._nActiveControlInterpolants,rt=et[nt];_.__cacheIndex=nt,et[nt]=_,rt.__cacheIndex=tt,et[tt]=rt}clipAction(_,et,tt){const nt=et||this._root,rt=nt.uuid;let it=typeof _=="string"?AnimationClip.findByName(nt,_):_;const st=it!==null?it.uuid:_,ot=this._actionsByClip[st];let at=null;if(tt===void 0&&(it!==null?tt=it.blendMode:tt=NormalAnimationBlendMode),ot!==void 0){const ct=ot.actionByRoot[rt];if(ct!==void 0&&ct.blendMode===tt)return ct;at=ot.knownActions[0],it===null&&(it=at._clip)}if(it===null)return null;const lt=new AnimationAction(this,it,et,tt);return this._bindAction(lt,at),this._addInactiveAction(lt,st,rt),lt}existingAction(_,et){const tt=et||this._root,nt=tt.uuid,rt=typeof _=="string"?AnimationClip.findByName(tt,_):_,it=rt?rt.uuid:_,st=this._actionsByClip[it];return st!==void 0&&st.actionByRoot[nt]||null}stopAllAction(){const _=this._actions,et=this._nActiveActions;for(let tt=et-1;tt>=0;--tt)_[tt].stop();return this}update(_){_*=this.timeScale;const et=this._actions,tt=this._nActiveActions,nt=this.time+=_,rt=Math.sign(_),it=this._accuIndex^=1;for(let at=0;at!==tt;++at)et[at]._update(nt,_,rt,it);const st=this._bindings,ot=this._nActiveBindings;for(let at=0;at!==ot;++at)st[at].apply(it);return this}setTime(_){this.time=0;for(let et=0;et<this._actions.length;et++)this._actions[et].time=0;return this.update(_)}getRoot(){return this._root}uncacheClip(_){const et=this._actions,tt=_.uuid,nt=this._actionsByClip,rt=nt[tt];if(rt!==void 0){const it=rt.knownActions;for(let st=0,ot=it.length;st!==ot;++st){const at=it[st];this._deactivateAction(at);const lt=at._cacheIndex,ct=et[et.length-1];at._cacheIndex=null,at._byClipCacheIndex=null,ct._cacheIndex=lt,et[lt]=ct,et.pop(),this._removeInactiveBindingsForAction(at)}delete nt[tt]}}uncacheRoot(_){const et=_.uuid,tt=this._actionsByClip;for(const it in tt){const st=tt[it].actionByRoot,ot=st[et];ot!==void 0&&(this._deactivateAction(ot),this._removeInactiveAction(ot))}const nt=this._bindingsByRootAndName,rt=nt[et];if(rt!==void 0)for(const it in rt){const st=rt[it];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction(_,et){const tt=this.existingAction(_,et);tt!==null&&(this._deactivateAction(tt),this._removeInactiveAction(tt))}}class Uniform{constructor(_){this.value=_}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(_){return this.uniforms.push(_),this}remove(_){const et=this.uniforms.indexOf(_);return et!==-1&&this.uniforms.splice(et,1),this}setName(_){return this.name=_,this}setUsage(_){return this.usage=_,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(_){this.name=_.name,this.usage=_.usage;const et=_.uniforms;this.uniforms.length=0;for(let tt=0,nt=et.length;tt<nt;tt++)this.uniforms.push(et[tt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(_,et,tt=1){super(_,et),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=tt}copy(_){return super.copy(_),this.meshPerAttribute=_.meshPerAttribute,this}clone(_){const et=super.clone(_);return et.meshPerAttribute=this.meshPerAttribute,et}toJSON(_){const et=super.toJSON(_);return et.isInstancedInterleavedBuffer=!0,et.meshPerAttribute=this.meshPerAttribute,et}}class GLBufferAttribute{constructor(_,et,tt,nt,rt){this.isGLBufferAttribute=!0,this.name="",this.buffer=_,this.type=et,this.itemSize=tt,this.elementSize=nt,this.count=rt,this.version=0}set needsUpdate(_){_===!0&&this.version++}setBuffer(_){return this.buffer=_,this}setType(_,et){return this.type=_,this.elementSize=et,this}setItemSize(_){return this.itemSize=_,this}setCount(_){return this.count=_,this}}class Raycaster{constructor(_,et,tt=0,nt=1/0){this.ray=new Ray(_,et),this.near=tt,this.far=nt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(_,et){this.ray.set(_,et)}setFromCamera(_,et){et.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(et.matrixWorld),this.ray.direction.set(_.x,_.y,.5).unproject(et).sub(this.ray.origin).normalize(),this.camera=et):et.isOrthographicCamera?(this.ray.origin.set(_.x,_.y,(et.near+et.far)/(et.near-et.far)).unproject(et),this.ray.direction.set(0,0,-1).transformDirection(et.matrixWorld),this.camera=et):console.error("THREE.Raycaster: Unsupported camera type: "+et.type)}intersectObject(_,et=!0,tt=[]){return intersectObject(_,this,tt,et),tt.sort(ascSort),tt}intersectObjects(_,et=!0,tt=[]){for(let nt=0,rt=_.length;nt<rt;nt++)intersectObject(_[nt],this,tt,et);return tt.sort(ascSort),tt}}function ascSort(_e,_){return _e.distance-_.distance}function intersectObject(_e,_,et,tt){if(_e.layers.test(_.layers)&&_e.raycast(_,et),tt===!0){const nt=_e.children;for(let rt=0,it=nt.length;rt<it;rt++)intersectObject(nt[rt],_,et,!0)}}class Spherical{constructor(_=1,et=0,tt=0){return this.radius=_,this.phi=et,this.theta=tt,this}set(_,et,tt){return this.radius=_,this.phi=et,this.theta=tt,this}copy(_){return this.radius=_.radius,this.phi=_.phi,this.theta=_.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(_){return this.setFromCartesianCoords(_.x,_.y,_.z)}setFromCartesianCoords(_,et,tt){return this.radius=Math.sqrt(_*_+et*et+tt*tt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(_,tt),this.phi=Math.acos(clamp$3(et/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(_=1,et=0,tt=0){return this.radius=_,this.theta=et,this.y=tt,this}set(_,et,tt){return this.radius=_,this.theta=et,this.y=tt,this}copy(_){return this.radius=_.radius,this.theta=_.theta,this.y=_.y,this}setFromVector3(_){return this.setFromCartesianCoords(_.x,_.y,_.z)}setFromCartesianCoords(_,et,tt){return this.radius=Math.sqrt(_*_+tt*tt),this.theta=Math.atan2(_,tt),this.y=et,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(_=new Vector2(1/0,1/0),et=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=_,this.max=et}set(_,et){return this.min.copy(_),this.max.copy(et),this}setFromPoints(_){this.makeEmpty();for(let et=0,tt=_.length;et<tt;et++)this.expandByPoint(_[et]);return this}setFromCenterAndSize(_,et){const tt=_vector$4.copy(et).multiplyScalar(.5);return this.min.copy(_).sub(tt),this.max.copy(_).add(tt),this}clone(){return new this.constructor().copy(this)}copy(_){return this.min.copy(_.min),this.max.copy(_.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(_){return this.isEmpty()?_.set(0,0):_.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_){return this.isEmpty()?_.set(0,0):_.subVectors(this.max,this.min)}expandByPoint(_){return this.min.min(_),this.max.max(_),this}expandByVector(_){return this.min.sub(_),this.max.add(_),this}expandByScalar(_){return this.min.addScalar(-_),this.max.addScalar(_),this}containsPoint(_){return!(_.x<this.min.x||_.x>this.max.x||_.y<this.min.y||_.y>this.max.y)}containsBox(_){return this.min.x<=_.min.x&&_.max.x<=this.max.x&&this.min.y<=_.min.y&&_.max.y<=this.max.y}getParameter(_,et){return et.set((_.x-this.min.x)/(this.max.x-this.min.x),(_.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(_){return!(_.max.x<this.min.x||_.min.x>this.max.x||_.max.y<this.min.y||_.min.y>this.max.y)}clampPoint(_,et){return et.copy(_).clamp(this.min,this.max)}distanceToPoint(_){return this.clampPoint(_,_vector$4).distanceTo(_)}intersect(_){return this.min.max(_.min),this.max.min(_.max),this.isEmpty()&&this.makeEmpty(),this}union(_){return this.min.min(_.min),this.max.max(_.max),this}translate(_){return this.min.add(_),this.max.add(_),this}equals(_){return _.min.equals(this.min)&&_.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(_=new Vector3,et=new Vector3){this.start=_,this.end=et}set(_,et){return this.start.copy(_),this.end.copy(et),this}copy(_){return this.start.copy(_.start),this.end.copy(_.end),this}getCenter(_){return _.addVectors(this.start,this.end).multiplyScalar(.5)}delta(_){return _.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(_,et){return this.delta(et).multiplyScalar(_).add(this.start)}closestPointToPointParameter(_,et){_startP.subVectors(_,this.start),_startEnd.subVectors(this.end,this.start);const tt=_startEnd.dot(_startEnd);let rt=_startEnd.dot(_startP)/tt;return et&&(rt=clamp$3(rt,0,1)),rt}closestPointToPoint(_,et,tt){const nt=this.closestPointToPointParameter(_,et);return this.delta(tt).multiplyScalar(nt).add(this.start)}applyMatrix4(_){return this.start.applyMatrix4(_),this.end.applyMatrix4(_),this}equals(_){return _.start.equals(this.start)&&_.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(_,et){super(),this.light=_,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.color=et,this.type="SpotLightHelper";const tt=new BufferGeometry,nt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let it=0,st=1,ot=32;it<ot;it++,st++){const at=it/ot*Math.PI*2,lt=st/ot*Math.PI*2;nt.push(Math.cos(at),Math.sin(at),1,Math.cos(lt),Math.sin(lt),1)}tt.setAttribute("position",new Float32BufferAttribute(nt,3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(tt,rt),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const _=this.light.distance?this.light.distance:1e3,et=_*Math.tan(this.light.angle);this.cone.scale.set(et,et,_),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(_){const et=getBoneList(_),tt=new BufferGeometry,nt=[],rt=[],it=new Color$1(0,0,1),st=new Color$1(0,1,0);for(let at=0;at<et.length;at++){const lt=et[at];lt.parent&&lt.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),rt.push(it.r,it.g,it.b),rt.push(st.r,st.g,st.b))}tt.setAttribute("position",new Float32BufferAttribute(nt,3)),tt.setAttribute("color",new Float32BufferAttribute(rt,3));const ot=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(tt,ot),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=_,this.bones=et,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(_){const et=this.bones,tt=this.geometry,nt=tt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let rt=0,it=0;rt<et.length;rt++){const st=et[rt];st.parent&&st.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,st.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,st.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(it+1,_vector$2.x,_vector$2.y,_vector$2.z),it+=2)}tt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(_)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(_e){const _=[];_e.isBone===!0&&_.push(_e);for(let et=0;et<_e.children.length;et++)_.push.apply(_,getBoneList(_e.children[et]));return _}class PointLightHelper extends Mesh{constructor(_,et,tt){const nt=new SphereGeometry(et,4,2),rt=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(nt,rt),this.light=_,this.color=tt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(_,et,tt){super(),this.light=_,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="HemisphereLightHelper";const nt=new OctahedronGeometry(et);nt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const rt=nt.getAttribute("position"),it=new Float32Array(rt.count*3);nt.setAttribute("color",new BufferAttribute(it,3)),this.add(new Mesh(nt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const _=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const et=_.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let tt=0,nt=et.count;tt<nt;tt++){const rt=tt<nt/2?_color1:_color2;et.setXYZ(tt,rt.r,rt.g,rt.b)}et.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),_.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(_=10,et=10,tt=4473924,nt=8947848){tt=new Color$1(tt),nt=new Color$1(nt);const rt=et/2,it=_/et,st=_/2,ot=[],at=[];for(let ut=0,ft=0,ht=-st;ut<=et;ut++,ht+=it){ot.push(-st,0,ht,st,0,ht),ot.push(ht,0,-st,ht,0,st);const vt=ut===rt?tt:nt;vt.toArray(at,ft),ft+=3,vt.toArray(at,ft),ft+=3,vt.toArray(at,ft),ft+=3,vt.toArray(at,ft),ft+=3}const lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(ot,3)),lt.setAttribute("color",new Float32BufferAttribute(at,3));const ct=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(lt,ct),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(_=10,et=16,tt=8,nt=64,rt=4473924,it=8947848){rt=new Color$1(rt),it=new Color$1(it);const st=[],ot=[];if(et>1)for(let ct=0;ct<et;ct++){const ut=ct/et*(Math.PI*2),ft=Math.sin(ut)*_,ht=Math.cos(ut)*_;st.push(0,0,0),st.push(ft,0,ht);const vt=ct&1?rt:it;ot.push(vt.r,vt.g,vt.b),ot.push(vt.r,vt.g,vt.b)}for(let ct=0;ct<tt;ct++){const ut=ct&1?rt:it,ft=_-_/tt*ct;for(let ht=0;ht<nt;ht++){let vt=ht/nt*(Math.PI*2),mt=Math.sin(vt)*ft,pt=Math.cos(vt)*ft;st.push(mt,0,pt),ot.push(ut.r,ut.g,ut.b),vt=(ht+1)/nt*(Math.PI*2),mt=Math.sin(vt)*ft,pt=Math.cos(vt)*ft,st.push(mt,0,pt),ot.push(ut.r,ut.g,ut.b)}}const at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(st,3)),at.setAttribute("color",new Float32BufferAttribute(ot,3));const lt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(at,lt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(_,et,tt){super(),this.light=_,this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="DirectionalLightHelper",et===void 0&&(et=1);let nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute([-et,et,0,et,et,0,et,-et,0,-et,-et,0,-et,et,0],3));const rt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(nt,rt),this.add(this.lightPlane),nt=new BufferGeometry,nt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(nt,rt),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(_){const et=new BufferGeometry,tt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),nt=[],rt=[],it={};st("n1","n2"),st("n2","n4"),st("n4","n3"),st("n3","n1"),st("f1","f2"),st("f2","f4"),st("f4","f3"),st("f3","f1"),st("n1","f1"),st("n2","f2"),st("n3","f3"),st("n4","f4"),st("p","n1"),st("p","n2"),st("p","n3"),st("p","n4"),st("u1","u2"),st("u2","u3"),st("u3","u1"),st("c","t"),st("p","c"),st("cn1","cn2"),st("cn3","cn4"),st("cf1","cf2"),st("cf3","cf4");function st(ht,vt){ot(ht),ot(vt)}function ot(ht){nt.push(0,0,0),rt.push(0,0,0),it[ht]===void 0&&(it[ht]=[]),it[ht].push(nt.length/3-1)}et.setAttribute("position",new Float32BufferAttribute(nt,3)),et.setAttribute("color",new Float32BufferAttribute(rt,3)),super(et,tt),this.type="CameraHelper",this.camera=_,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=_.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=it,this.update();const at=new Color$1(16755200),lt=new Color$1(16711680),ct=new Color$1(43775),ut=new Color$1(16777215),ft=new Color$1(3355443);this.setColors(at,lt,ct,ut,ft)}setColors(_,et,tt,nt,rt){const st=this.geometry.getAttribute("color");st.setXYZ(0,_.r,_.g,_.b),st.setXYZ(1,_.r,_.g,_.b),st.setXYZ(2,_.r,_.g,_.b),st.setXYZ(3,_.r,_.g,_.b),st.setXYZ(4,_.r,_.g,_.b),st.setXYZ(5,_.r,_.g,_.b),st.setXYZ(6,_.r,_.g,_.b),st.setXYZ(7,_.r,_.g,_.b),st.setXYZ(8,_.r,_.g,_.b),st.setXYZ(9,_.r,_.g,_.b),st.setXYZ(10,_.r,_.g,_.b),st.setXYZ(11,_.r,_.g,_.b),st.setXYZ(12,_.r,_.g,_.b),st.setXYZ(13,_.r,_.g,_.b),st.setXYZ(14,_.r,_.g,_.b),st.setXYZ(15,_.r,_.g,_.b),st.setXYZ(16,_.r,_.g,_.b),st.setXYZ(17,_.r,_.g,_.b),st.setXYZ(18,_.r,_.g,_.b),st.setXYZ(19,_.r,_.g,_.b),st.setXYZ(20,_.r,_.g,_.b),st.setXYZ(21,_.r,_.g,_.b),st.setXYZ(22,_.r,_.g,_.b),st.setXYZ(23,_.r,_.g,_.b),st.setXYZ(24,et.r,et.g,et.b),st.setXYZ(25,et.r,et.g,et.b),st.setXYZ(26,et.r,et.g,et.b),st.setXYZ(27,et.r,et.g,et.b),st.setXYZ(28,et.r,et.g,et.b),st.setXYZ(29,et.r,et.g,et.b),st.setXYZ(30,et.r,et.g,et.b),st.setXYZ(31,et.r,et.g,et.b),st.setXYZ(32,tt.r,tt.g,tt.b),st.setXYZ(33,tt.r,tt.g,tt.b),st.setXYZ(34,tt.r,tt.g,tt.b),st.setXYZ(35,tt.r,tt.g,tt.b),st.setXYZ(36,tt.r,tt.g,tt.b),st.setXYZ(37,tt.r,tt.g,tt.b),st.setXYZ(38,nt.r,nt.g,nt.b),st.setXYZ(39,nt.r,nt.g,nt.b),st.setXYZ(40,rt.r,rt.g,rt.b),st.setXYZ(41,rt.r,rt.g,rt.b),st.setXYZ(42,rt.r,rt.g,rt.b),st.setXYZ(43,rt.r,rt.g,rt.b),st.setXYZ(44,rt.r,rt.g,rt.b),st.setXYZ(45,rt.r,rt.g,rt.b),st.setXYZ(46,rt.r,rt.g,rt.b),st.setXYZ(47,rt.r,rt.g,rt.b),st.setXYZ(48,rt.r,rt.g,rt.b),st.setXYZ(49,rt.r,rt.g,rt.b),st.needsUpdate=!0}update(){const _=this.geometry,et=this.pointMap,tt=1,nt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",et,_,_camera,0,0,-1),setPoint("t",et,_,_camera,0,0,1),setPoint("n1",et,_,_camera,-tt,-nt,-1),setPoint("n2",et,_,_camera,tt,-nt,-1),setPoint("n3",et,_,_camera,-tt,nt,-1),setPoint("n4",et,_,_camera,tt,nt,-1),setPoint("f1",et,_,_camera,-tt,-nt,1),setPoint("f2",et,_,_camera,tt,-nt,1),setPoint("f3",et,_,_camera,-tt,nt,1),setPoint("f4",et,_,_camera,tt,nt,1),setPoint("u1",et,_,_camera,tt*.7,nt*1.1,-1),setPoint("u2",et,_,_camera,-tt*.7,nt*1.1,-1),setPoint("u3",et,_,_camera,0,nt*2,-1),setPoint("cf1",et,_,_camera,-tt,0,1),setPoint("cf2",et,_,_camera,tt,0,1),setPoint("cf3",et,_,_camera,0,-nt,1),setPoint("cf4",et,_,_camera,0,nt,1),setPoint("cn1",et,_,_camera,-tt,0,-1),setPoint("cn2",et,_,_camera,tt,0,-1),setPoint("cn3",et,_,_camera,0,-nt,-1),setPoint("cn4",et,_,_camera,0,nt,-1),_.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(_e,_,et,tt,nt,rt,it){_vector.set(nt,rt,it).unproject(tt);const st=_[_e];if(st!==void 0){const ot=et.getAttribute("position");for(let at=0,lt=st.length;at<lt;at++)ot.setXYZ(st[at],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(_,et=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=new Float32Array(8*3),rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:et,toneMapped:!1})),this.object=_,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(_){if(_!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const et=_box.min,tt=_box.max,nt=this.geometry.attributes.position,rt=nt.array;rt[0]=tt.x,rt[1]=tt.y,rt[2]=tt.z,rt[3]=et.x,rt[4]=tt.y,rt[5]=tt.z,rt[6]=et.x,rt[7]=et.y,rt[8]=tt.z,rt[9]=tt.x,rt[10]=et.y,rt[11]=tt.z,rt[12]=tt.x,rt[13]=tt.y,rt[14]=et.z,rt[15]=et.x,rt[16]=tt.y,rt[17]=et.z,rt[18]=et.x,rt[19]=et.y,rt[20]=et.z,rt[21]=tt.x,rt[22]=et.y,rt[23]=et.z,nt.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(_){return this.object=_,this.update(),this}copy(_,et){return super.copy(_,et),this.object=_.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(_,et=16776960){const tt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],rt=new BufferGeometry;rt.setIndex(new BufferAttribute(tt,1)),rt.setAttribute("position",new Float32BufferAttribute(nt,3)),super(rt,new LineBasicMaterial({color:et,toneMapped:!1})),this.box=_,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(_){const et=this.box;et.isEmpty()||(et.getCenter(this.position),et.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(_))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(_,et=1,tt=16776960){const nt=tt,rt=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(rt,3)),it.computeBoundingSphere(),super(it,new LineBasicMaterial({color:nt,toneMapped:!1})),this.type="PlaneHelper",this.plane=_,this.size=et;const st=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(st,3)),ot.computeBoundingSphere(),this.add(new Mesh(ot,new MeshBasicMaterial({color:nt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(_){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(_)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(_=new Vector3(0,0,1),et=new Vector3(0,0,0),tt=1,nt=16776960,rt=tt*.2,it=rt*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(et),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:nt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:nt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_),this.setLength(tt,rt,it)}setDirection(_){if(_.y>.99999)this.quaternion.set(0,0,0,1);else if(_.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(_.z,0,-_.x).normalize();const et=Math.acos(_.y);this.quaternion.setFromAxisAngle(_axis,et)}}setLength(_,et=_*.2,tt=et*.2){this.line.scale.set(1,Math.max(1e-4,_-et),1),this.line.updateMatrix(),this.cone.scale.set(tt,et,tt),this.cone.position.y=_,this.cone.updateMatrix()}setColor(_){this.line.material.color.set(_),this.cone.material.color.set(_)}copy(_){return super.copy(_,!1),this.line.copy(_.line),this.cone.copy(_.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(_=1){const et=[0,0,0,_,0,0,0,0,0,0,_,0,0,0,0,0,0,_],tt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(et,3)),nt.setAttribute("color",new Float32BufferAttribute(tt,3));const rt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,rt),this.type="AxesHelper"}setColors(_,et,tt){const nt=new Color$1,rt=this.geometry.attributes.color.array;return nt.set(_),nt.toArray(rt,0),nt.toArray(rt,3),nt.set(et),nt.toArray(rt,6),nt.toArray(rt,9),nt.set(tt),nt.toArray(rt,12),nt.toArray(rt,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(_,et){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(_,et),this}lineTo(_,et){return this.currentPath.lineTo(_,et),this}quadraticCurveTo(_,et,tt,nt){return this.currentPath.quadraticCurveTo(_,et,tt,nt),this}bezierCurveTo(_,et,tt,nt,rt,it){return this.currentPath.bezierCurveTo(_,et,tt,nt,rt,it),this}splineThru(_){return this.currentPath.splineThru(_),this}toShapes(_){function et(pt){const yt=[];for(let _t=0,St=pt.length;_t<St;_t++){const Et=pt[_t],wt=new Shape;wt.curves=Et.curves,yt.push(wt)}return yt}function tt(pt,yt){const _t=yt.length;let St=!1;for(let Et=_t-1,wt=0;wt<_t;Et=wt++){let Mt=yt[Et],At=yt[wt],Tt=At.x-Mt.x,Ct=At.y-Mt.y;if(Math.abs(Ct)>Number.EPSILON){if(Ct<0&&(Mt=yt[wt],Tt=-Tt,At=yt[Et],Ct=-Ct),pt.y<Mt.y||pt.y>At.y)continue;if(pt.y===Mt.y){if(pt.x===Mt.x)return!0}else{const Dt=Ct*(pt.x-Mt.x)-Tt*(pt.y-Mt.y);if(Dt===0)return!0;if(Dt<0)continue;St=!St}}else{if(pt.y!==Mt.y)continue;if(At.x<=pt.x&&pt.x<=Mt.x||Mt.x<=pt.x&&pt.x<=At.x)return!0}}return St}const nt=ShapeUtils.isClockWise,rt=this.subPaths;if(rt.length===0)return[];let it,st,ot;const at=[];if(rt.length===1)return st=rt[0],ot=new Shape,ot.curves=st.curves,at.push(ot),at;let lt=!nt(rt[0].getPoints());lt=_?!lt:lt;const ct=[],ut=[];let ft=[],ht=0,vt;ut[ht]=void 0,ft[ht]=[];for(let pt=0,yt=rt.length;pt<yt;pt++)st=rt[pt],vt=st.getPoints(),it=nt(vt),it=_?!it:it,it?(!lt&&ut[ht]&&ht++,ut[ht]={s:new Shape,p:vt},ut[ht].s.curves=st.curves,lt&&ht++,ft[ht]=[]):ft[ht].push({h:st,p:vt[0]});if(!ut[0])return et(rt);if(ut.length>1){let pt=!1,yt=0;for(let _t=0,St=ut.length;_t<St;_t++)ct[_t]=[];for(let _t=0,St=ut.length;_t<St;_t++){const Et=ft[_t];for(let wt=0;wt<Et.length;wt++){const Mt=Et[wt];let At=!0;for(let Tt=0;Tt<ut.length;Tt++)tt(Mt.p,ut[Tt].p)&&(_t!==Tt&&yt++,At?(At=!1,ct[Tt].push(Mt)):pt=!0);At&&ct[_t].push(Mt)}}yt>0&&pt===!1&&(ft=ct)}let mt;for(let pt=0,yt=ut.length;pt<yt;pt++){ot=ut[pt].s,at.push(ot),mt=ft[pt];for(let _t=0,St=mt.length;_t<St;_t++)ot.holes.push(mt[_t].h)}return at}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,createCanvasElement,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$4(_e){let _;const et=new Set,tt=(at,lt)=>{const ct=typeof at=="function"?at(_):at;if(ct!==_){const ut=_;_=lt?ct:Object.assign({},_,ct),et.forEach(ft=>ft(_,ut))}},nt=()=>_,rt=(at,lt=nt,ct=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ut=lt(_);function ft(){const ht=lt(_);if(!ct(ut,ht)){const vt=ut;at(ut=ht,vt)}}return et.add(ft),()=>et.delete(ft)},ot={setState:tt,getState:nt,subscribe:(at,lt,ct)=>lt||ct?rt(at,lt,ct):(et.add(at),()=>et.delete(at)),destroy:()=>et.clear()};return _=_e(tt,nt,ot),ot}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$3=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$2(_e){const _=typeof _e=="function"?createStore$4(_e):_e,et=(tt=_.getState,nt=Object.is)=>{const[,rt]=reactExports.useReducer(mt=>mt+1,0),it=_.getState(),st=reactExports.useRef(it),ot=reactExports.useRef(tt),at=reactExports.useRef(nt),lt=reactExports.useRef(!1),ct=reactExports.useRef();ct.current===void 0&&(ct.current=tt(it));let ut,ft=!1;(st.current!==it||ot.current!==tt||at.current!==nt||lt.current)&&(ut=tt(it),ft=!nt(ct.current,ut)),useIsomorphicLayoutEffect$3(()=>{ft&&(ct.current=ut),st.current=it,ot.current=tt,at.current=nt,lt.current=!1});const ht=reactExports.useRef(it);useIsomorphicLayoutEffect$3(()=>{const mt=()=>{try{const yt=_.getState(),_t=ot.current(yt);at.current(ct.current,_t)||(st.current=yt,ct.current=_t,rt())}catch{lt.current=!0,rt()}},pt=_.subscribe(mt);return _.getState()!==ht.current&&mt(),pt},[]);const vt=ft?ut:ct.current;return reactExports.useDebugValue(vt),vt};return Object.assign(et,_),et[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const tt=[et,_];return{next(){const nt=tt.length<=0;return{value:tt.shift(),done:nt}}}},et}var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function _(Rt,Ot){var Ut=Rt.length;Rt.push(Ot);e:for(;0<Ut;){var jt=Ut-1>>>1,Jt=Rt[jt];if(0<nt(Jt,Ot))Rt[jt]=Ot,Rt[Ut]=Jt,Ut=jt;else break e}}function et(Rt){return Rt.length===0?null:Rt[0]}function tt(Rt){if(Rt.length===0)return null;var Ot=Rt[0],Ut=Rt.pop();if(Ut!==Ot){Rt[0]=Ut;e:for(var jt=0,Jt=Rt.length,Xt=Jt>>>1;jt<Xt;){var Qt=2*(jt+1)-1,rn=Rt[Qt],pn=Qt+1,fn=Rt[pn];if(0>nt(rn,Ut))pn<Jt&&0>nt(fn,rn)?(Rt[jt]=fn,Rt[pn]=Ut,jt=pn):(Rt[jt]=rn,Rt[Qt]=Ut,jt=Qt);else if(pn<Jt&&0>nt(fn,Ut))Rt[jt]=fn,Rt[pn]=Ut,jt=pn;else break e}}return Ot}function nt(Rt,Ot){var Ut=Rt.sortIndex-Ot.sortIndex;return Ut!==0?Ut:Rt.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;_e.unstable_now=function(){return rt.now()}}else{var it=Date,st=it.now();_e.unstable_now=function(){return it.now()-st}}var ot=[],at=[],lt=1,ct=null,ut=3,ft=!1,ht=!1,vt=!1,mt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(Rt){for(var Ot=et(at);Ot!==null;){if(Ot.callback===null)tt(at);else if(Ot.startTime<=Rt)tt(at),Ot.sortIndex=Ot.expirationTime,_(ot,Ot);else break;Ot=et(at)}}function St(Rt){if(vt=!1,_t(Rt),!ht)if(et(ot)!==null)ht=!0,Gt(Et);else{var Ot=et(at);Ot!==null&&Bt(St,Ot.startTime-Rt)}}function Et(Rt,Ot){ht=!1,vt&&(vt=!1,pt(At),At=-1),ft=!0;var Ut=ut;try{for(_t(Ot),ct=et(ot);ct!==null&&(!(ct.expirationTime>Ot)||Rt&&!Dt());){var jt=ct.callback;if(typeof jt=="function"){ct.callback=null,ut=ct.priorityLevel;var Jt=jt(ct.expirationTime<=Ot);Ot=_e.unstable_now(),typeof Jt=="function"?ct.callback=Jt:ct===et(ot)&&tt(ot),_t(Ot)}else tt(ot);ct=et(ot)}if(ct!==null)var Xt=!0;else{var Qt=et(at);Qt!==null&&Bt(St,Qt.startTime-Ot),Xt=!1}return Xt}finally{ct=null,ut=Ut,ft=!1}}var wt=!1,Mt=null,At=-1,Tt=5,Ct=-1;function Dt(){return!(_e.unstable_now()-Ct<Tt)}function $t(){if(Mt!==null){var Rt=_e.unstable_now();Ct=Rt;var Ot=!0;try{Ot=Mt(!0,Rt)}finally{Ot?kt():(wt=!1,Mt=null)}}else wt=!1}var kt;if(typeof yt=="function")kt=function(){yt($t)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Nt=It.port2;It.port1.onmessage=$t,kt=function(){Nt.postMessage(null)}}else kt=function(){mt($t,0)};function Gt(Rt){Mt=Rt,wt||(wt=!0,kt())}function Bt(Rt,Ot){At=mt(function(){Rt(_e.unstable_now())},Ot)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Rt){Rt.callback=null},_e.unstable_continueExecution=function(){ht||ft||(ht=!0,Gt(Et))},_e.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Tt=0<Rt?Math.floor(1e3/Rt):5},_e.unstable_getCurrentPriorityLevel=function(){return ut},_e.unstable_getFirstCallbackNode=function(){return et(ot)},_e.unstable_next=function(Rt){switch(ut){case 1:case 2:case 3:var Ot=3;break;default:Ot=ut}var Ut=ut;ut=Ot;try{return Rt()}finally{ut=Ut}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Rt,Ot){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Ut=ut;ut=Rt;try{return Ot()}finally{ut=Ut}},_e.unstable_scheduleCallback=function(Rt,Ot,Ut){var jt=_e.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?jt+Ut:jt):Ut=jt,Rt){case 1:var Jt=-1;break;case 2:Jt=250;break;case 5:Jt=1073741823;break;case 4:Jt=1e4;break;default:Jt=5e3}return Jt=Ut+Jt,Rt={id:lt++,callback:Ot,priorityLevel:Rt,startTime:Ut,expirationTime:Jt,sortIndex:-1},Ut>jt?(Rt.sortIndex=Ut,_(at,Rt),et(ot)===null&&Rt===et(at)&&(vt?(pt(At),At=-1):vt=!0,Bt(St,Ut-jt))):(Rt.sortIndex=Jt,_(ot,Rt),ht||ft||(ht=!0,Gt(Et))),Rt},_e.unstable_shouldYield=Dt,_e.unstable_wrapCallback=function(Rt){var Ot=ut;return function(){var Ut=ut;ut=Ot;try{return Rt.apply(this,arguments)}finally{ut=Ut}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function _e(_){var et={},tt=reactExports,nt=schedulerExports,rt=Object.assign;function it(dt){for(var gt="https://reactjs.org/docs/error-decoder.html?invariant="+dt,xt=1;xt<arguments.length;xt++)gt+="&args[]="+encodeURIComponent(arguments[xt]);return"Minified React error #"+dt+"; visit "+gt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var st=tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ot=Symbol.for("react.element"),at=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),ct=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),ht=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),St=Symbol.for("react.offscreen"),Et=Symbol.iterator;function wt(dt){return dt===null||typeof dt!="object"?null:(dt=Et&&dt[Et]||dt["@@iterator"],typeof dt=="function"?dt:null)}function Mt(dt){if(dt==null)return null;if(typeof dt=="function")return dt.displayName||dt.name||null;if(typeof dt=="string")return dt;switch(dt){case lt:return"Fragment";case at:return"Portal";case ut:return"Profiler";case ct:return"StrictMode";case mt:return"Suspense";case pt:return"SuspenseList"}if(typeof dt=="object")switch(dt.$$typeof){case ht:return(dt.displayName||"Context")+".Consumer";case ft:return(dt._context.displayName||"Context")+".Provider";case vt:var gt=dt.render;return dt=dt.displayName,dt||(dt=gt.displayName||gt.name||"",dt=dt!==""?"ForwardRef("+dt+")":"ForwardRef"),dt;case yt:return gt=dt.displayName||null,gt!==null?gt:Mt(dt.type)||"Memo";case _t:gt=dt._payload,dt=dt._init;try{return Mt(dt(gt))}catch{}}return null}function At(dt){var gt=dt.type;switch(dt.tag){case 24:return"Cache";case 9:return(gt.displayName||"Context")+".Consumer";case 10:return(gt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return dt=gt.render,dt=dt.displayName||dt.name||"",gt.displayName||(dt!==""?"ForwardRef("+dt+")":"ForwardRef");case 7:return"Fragment";case 5:return gt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mt(gt);case 8:return gt===ct?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof gt=="function")return gt.displayName||gt.name||null;if(typeof gt=="string")return gt}return null}function Tt(dt){var gt=dt,xt=dt;if(dt.alternate)for(;gt.return;)gt=gt.return;else{dt=gt;do gt=dt,gt.flags&4098&&(xt=gt.return),dt=gt.return;while(dt)}return gt.tag===3?xt:null}function Ct(dt){if(Tt(dt)!==dt)throw Error(it(188))}function Dt(dt){var gt=dt.alternate;if(!gt){if(gt=Tt(dt),gt===null)throw Error(it(188));return gt!==dt?null:dt}for(var xt=dt,bt=gt;;){var Pt=xt.return;if(Pt===null)break;var Lt=Pt.alternate;if(Lt===null){if(bt=Pt.return,bt!==null){xt=bt;continue}break}if(Pt.child===Lt.child){for(Lt=Pt.child;Lt;){if(Lt===xt)return Ct(Pt),dt;if(Lt===bt)return Ct(Pt),gt;Lt=Lt.sibling}throw Error(it(188))}if(xt.return!==bt.return)xt=Pt,bt=Lt;else{for(var Ht=!1,Yt=Pt.child;Yt;){if(Yt===xt){Ht=!0,xt=Pt,bt=Lt;break}if(Yt===bt){Ht=!0,bt=Pt,xt=Lt;break}Yt=Yt.sibling}if(!Ht){for(Yt=Lt.child;Yt;){if(Yt===xt){Ht=!0,xt=Lt,bt=Pt;break}if(Yt===bt){Ht=!0,bt=Lt,xt=Pt;break}Yt=Yt.sibling}if(!Ht)throw Error(it(189))}}if(xt.alternate!==bt)throw Error(it(190))}if(xt.tag!==3)throw Error(it(188));return xt.stateNode.current===xt?dt:gt}function $t(dt){return dt=Dt(dt),dt!==null?kt(dt):null}function kt(dt){if(dt.tag===5||dt.tag===6)return dt;for(dt=dt.child;dt!==null;){var gt=kt(dt);if(gt!==null)return gt;dt=dt.sibling}return null}function It(dt){if(dt.tag===5||dt.tag===6)return dt;for(dt=dt.child;dt!==null;){if(dt.tag!==4){var gt=It(dt);if(gt!==null)return gt}dt=dt.sibling}return null}var Nt=Array.isArray,Gt=_.getPublicInstance,Bt=_.getRootHostContext,Rt=_.getChildHostContext,Ot=_.prepareForCommit,Ut=_.resetAfterCommit,jt=_.createInstance,Jt=_.appendInitialChild,Xt=_.finalizeInitialChildren,Qt=_.prepareUpdate,rn=_.shouldSetTextContent,pn=_.createTextInstance,fn=_.scheduleTimeout,_n=_.cancelTimeout,Pn=_.noTimeout,Sn=_.isPrimaryRenderer,Cn=_.supportsMutation,Wt=_.supportsPersistence,tn=_.supportsHydration,an=_.getInstanceFromNode,vn=_.preparePortalMount,hn=_.getCurrentEventPriority,$n=_.detachDeletedInstance,En=_.supportsMicrotasks,Mn=_.scheduleMicrotask,Rn=_.supportsTestSelectors,Vn=_.findFiberRoot,sr=_.getBoundingRect,zt=_.getTextContent,Ft=_.isHiddenSubtree,Zt=_.matchAccessibilityRole,gn=_.setFocusIfFocusable,mn=_.setupIntersectionObserver,yn=_.appendChild,Fn=_.appendChildToContainer,bn=_.commitTextUpdate,Dn=_.commitMount,qn=_.commitUpdate,cr=_.insertBefore,xn=_.insertInContainerBefore,hr=_.removeChild,Jn=_.removeChildFromContainer,jn=_.resetTextContent,Wn=_.hideInstance,Nn=_.hideTextInstance,ur=_.unhideInstance,qt=_.unhideTextInstance,kn=_.clearContainer,wn=_.cloneInstance,dn=_.createContainerChildSet,An=_.appendChildToContainerChildSet,Kn=_.finalizeContainerChildren,fr=_.replaceContainerChildren,wr=_.cloneHiddenInstance,Dr=_.cloneHiddenTextInstance,gr=_.canHydrateInstance,kr=_.canHydrateTextInstance,_i=_.canHydrateSuspenseInstance,co=_.isSuspenseInstancePending,uo=_.isSuspenseInstanceFallback,Xs=_.registerSuspenseInstanceRetry,Ps=_.getNextHydratableSibling,qs=_.getFirstHydratableChild,Ro=_.getFirstHydratableChildWithinContainer,Lo=_.getFirstHydratableChildWithinSuspenseInstance,Ul=_.hydrateInstance,Gl=_.hydrateTextInstance,Hl=_.hydrateSuspenseInstance,Vt=_.getNextHydratableInstanceAfterSuspenseInstance,en=_.commitHydratedContainer,on=_.commitHydratedSuspenseInstance,cn=_.clearSuspenseBoundary,sn=_.clearSuspenseBoundaryFromContainer,On=_.shouldDeleteUnhydratedTailInstances,Gn=_.didNotMatchHydratedContainerTextInstance,Yn=_.didNotMatchHydratedTextInstance,Zn;function tr(dt){if(Zn===void 0)try{throw Error()}catch(xt){var gt=xt.stack.trim().match(/\n( *(at )?)/);Zn=gt&&gt[1]||""}return`
`+Zn+dt}var er=!1;function nr(dt,gt){if(!dt||er)return"";er=!0;var xt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(gt)if(gt=function(){throw Error()},Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(Tn){var bt=Tn}Reflect.construct(dt,[],gt)}else{try{gt.call()}catch(Tn){bt=Tn}dt.call(gt.prototype)}else{try{throw Error()}catch(Tn){bt=Tn}dt()}}catch(Tn){if(Tn&&bt&&typeof Tn.stack=="string"){for(var Pt=Tn.stack.split(`
`),Lt=bt.stack.split(`
`),Ht=Pt.length-1,Yt=Lt.length-1;1<=Ht&&0<=Yt&&Pt[Ht]!==Lt[Yt];)Yt--;for(;1<=Ht&&0<=Yt;Ht--,Yt--)if(Pt[Ht]!==Lt[Yt]){if(Ht!==1||Yt!==1)do if(Ht--,Yt--,0>Yt||Pt[Ht]!==Lt[Yt]){var un=`
`+Pt[Ht].replace(" at new "," at ");return dt.displayName&&un.includes("<anonymous>")&&(un=un.replace("<anonymous>",dt.displayName)),un}while(1<=Ht&&0<=Yt);break}}}finally{er=!1,Error.prepareStackTrace=xt}return(dt=dt?dt.displayName||dt.name:"")?tr(dt):""}var xr=Object.prototype.hasOwnProperty,Or=[],yr=-1;function Rr(dt){return{current:dt}}function Qn(dt){0>yr||(dt.current=Or[yr],Or[yr]=null,yr--)}function Bn(dt,gt){yr++,Or[yr]=dt.current,dt.current=gt}var es={},ar=Rr(es),Er=Rr(!1),ds=es;function ts(dt,gt){var xt=dt.type.contextTypes;if(!xt)return es;var bt=dt.stateNode;if(bt&&bt.__reactInternalMemoizedUnmaskedChildContext===gt)return bt.__reactInternalMemoizedMaskedChildContext;var Pt={},Lt;for(Lt in xt)Pt[Lt]=gt[Lt];return bt&&(dt=dt.stateNode,dt.__reactInternalMemoizedUnmaskedChildContext=gt,dt.__reactInternalMemoizedMaskedChildContext=Pt),Pt}function Lr(dt){return dt=dt.childContextTypes,dt!=null}function Tr(){Qn(Er),Qn(ar)}function ps(dt,gt,xt){if(ar.current!==es)throw Error(it(168));Bn(ar,gt),Bn(Er,xt)}function Ys(dt,gt,xt){var bt=dt.stateNode;if(gt=gt.childContextTypes,typeof bt.getChildContext!="function")return xt;bt=bt.getChildContext();for(var Pt in bt)if(!(Pt in gt))throw Error(it(108,At(dt)||"Unknown",Pt));return rt({},xt,bt)}function Nr(dt){return dt=(dt=dt.stateNode)&&dt.__reactInternalMemoizedMergedChildContext||es,ds=ar.current,Bn(ar,dt),Bn(Er,Er.current),!0}function Ks(dt,gt,xt){var bt=dt.stateNode;if(!bt)throw Error(it(169));xt?(dt=Ys(dt,gt,ds),bt.__reactInternalMemoizedMergedChildContext=dt,Qn(Er),Qn(ar),Bn(ar,dt)):Qn(Er),Bn(Er,xt)}var Yr=Math.clz32?Math.clz32:Tm,Io=Math.log,wm=Math.LN2;function Tm(dt){return dt>>>=0,dt===0?32:31-(Io(dt)/wm|0)|0}var $o=64,Fo=4194304;function fo(dt){switch(dt&-dt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return dt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return dt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return dt}}function ko(dt,gt){var xt=dt.pendingLanes;if(xt===0)return 0;var bt=0,Pt=dt.suspendedLanes,Lt=dt.pingedLanes,Ht=xt&268435455;if(Ht!==0){var Yt=Ht&~Pt;Yt!==0?bt=fo(Yt):(Lt&=Ht,Lt!==0&&(bt=fo(Lt)))}else Ht=xt&~Pt,Ht!==0?bt=fo(Ht):Lt!==0&&(bt=fo(Lt));if(bt===0)return 0;if(gt!==0&&gt!==bt&&!(gt&Pt)&&(Pt=bt&-bt,Lt=gt&-gt,Pt>=Lt||Pt===16&&(Lt&4194240)!==0))return gt;if(bt&4&&(bt|=xt&16),gt=dt.entangledLanes,gt!==0)for(dt=dt.entanglements,gt&=bt;0<gt;)xt=31-Yr(gt),Pt=1<<xt,bt|=dt[xt],gt&=~Pt;return bt}function Cm(dt,gt){switch(dt){case 1:case 2:case 4:return gt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return gt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(dt,gt){for(var xt=dt.suspendedLanes,bt=dt.pingedLanes,Pt=dt.expirationTimes,Lt=dt.pendingLanes;0<Lt;){var Ht=31-Yr(Lt),Yt=1<<Ht,un=Pt[Ht];un===-1?(!(Yt&xt)||Yt&bt)&&(Pt[Ht]=Cm(Yt,gt)):un<=gt&&(dt.expiredLanes|=Yt),Lt&=~Yt}}function Wl(dt){return dt=dt.pendingLanes&-1073741825,dt!==0?dt:dt&1073741824?1073741824:0}function Xl(dt){for(var gt=[],xt=0;31>xt;xt++)gt.push(dt);return gt}function ho(dt,gt,xt){dt.pendingLanes|=gt,gt!==536870912&&(dt.suspendedLanes=0,dt.pingedLanes=0),dt=dt.eventTimes,gt=31-Yr(gt),dt[gt]=xt}function Am(dt,gt){var xt=dt.pendingLanes&~gt;dt.pendingLanes=gt,dt.suspendedLanes=0,dt.pingedLanes=0,dt.expiredLanes&=gt,dt.mutableReadLanes&=gt,dt.entangledLanes&=gt,gt=dt.entanglements;var bt=dt.eventTimes;for(dt=dt.expirationTimes;0<xt;){var Pt=31-Yr(xt),Lt=1<<Pt;gt[Pt]=0,bt[Pt]=-1,dt[Pt]=-1,xt&=~Lt}}function Yl(dt,gt){var xt=dt.entangledLanes|=gt;for(dt=dt.entanglements;xt;){var bt=31-Yr(xt),Pt=1<<bt;Pt&gt|dt[bt]&gt&&(dt[bt]|=gt),xt&=~Pt}}var dr=0;function Ku(dt){return dt&=-dt,1<dt?4<dt?dt&268435455?16:536870912:4:1}var Kl=nt.unstable_scheduleCallback,Zu=nt.unstable_cancelCallback,Pm=nt.unstable_shouldYield,Dm=nt.unstable_requestPaint,Ir=nt.unstable_now,Zl=nt.unstable_ImmediatePriority,Rm=nt.unstable_UserBlockingPriority,Ql=nt.unstable_NormalPriority,Lm=nt.unstable_IdlePriority,Oo=null,ms=null;function Im(dt){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(Oo,dt,void 0,(dt.current.flags&128)===128)}catch{}}function $m(dt,gt){return dt===gt&&(dt!==0||1/dt===1/gt)||dt!==dt&&gt!==gt}var gs=typeof Object.is=="function"?Object.is:$m,Es=null,No=!1,Jl=!1;function Qu(dt){Es===null?Es=[dt]:Es.push(dt)}function Fm(dt){No=!0,Qu(dt)}function vs(){if(!Jl&&Es!==null){Jl=!0;var dt=0,gt=dr;try{var xt=Es;for(dr=1;dt<xt.length;dt++){var bt=xt[dt];do bt=bt(!0);while(bt!==null)}Es=null,No=!1}catch(Pt){throw Es!==null&&(Es=Es.slice(dt+1)),Kl(Zl,vs),Pt}finally{dr=gt,Jl=!1}}return null}var km=st.ReactCurrentBatchConfig;function Bo(dt,gt){if(gs(dt,gt))return!0;if(typeof dt!="object"||dt===null||typeof gt!="object"||gt===null)return!1;var xt=Object.keys(dt),bt=Object.keys(gt);if(xt.length!==bt.length)return!1;for(bt=0;bt<xt.length;bt++){var Pt=xt[bt];if(!xr.call(gt,Pt)||!gs(dt[Pt],gt[Pt]))return!1}return!0}function Om(dt){switch(dt.tag){case 5:return tr(dt.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 2:case 15:return dt=nr(dt.type,!1),dt;case 11:return dt=nr(dt.type.render,!1),dt;case 1:return dt=nr(dt.type,!0),dt;default:return""}}function fs(dt,gt){if(dt&&dt.defaultProps){gt=rt({},gt),dt=dt.defaultProps;for(var xt in dt)gt[xt]===void 0&&(gt[xt]=dt[xt]);return gt}return gt}var zo=Rr(null),Vo=null,Zs=null,_c=null;function eu(){_c=Zs=Vo=null}function Ju(dt,gt,xt){Sn?(Bn(zo,gt._currentValue),gt._currentValue=xt):(Bn(zo,gt._currentValue2),gt._currentValue2=xt)}function tu(dt){var gt=zo.current;Qn(zo),Sn?dt._currentValue=gt:dt._currentValue2=gt}function nu(dt,gt,xt){for(;dt!==null;){var bt=dt.alternate;if((dt.childLanes&gt)!==gt?(dt.childLanes|=gt,bt!==null&&(bt.childLanes|=gt)):bt!==null&&(bt.childLanes&gt)!==gt&&(bt.childLanes|=gt),dt===xt)break;dt=dt.return}}function Qs(dt,gt){Vo=dt,_c=Zs=null,dt=dt.dependencies,dt!==null&&dt.firstContext!==null&&(dt.lanes&gt&&(Qr=!0),dt.firstContext=null)}function ns(dt){var gt=Sn?dt._currentValue:dt._currentValue2;if(_c!==dt)if(dt={context:dt,memoizedValue:gt,next:null},Zs===null){if(Vo===null)throw Error(it(308));Zs=dt,Vo.dependencies={lanes:0,firstContext:dt}}else Zs=Zs.next=dt;return gt}var ys=null,Ds=!1;function ru(dt){dt.updateQueue={baseState:dt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(dt,gt){dt=dt.updateQueue,gt.updateQueue===dt&&(gt.updateQueue={baseState:dt.baseState,firstBaseUpdate:dt.firstBaseUpdate,lastBaseUpdate:dt.lastBaseUpdate,shared:dt.shared,effects:dt.effects})}function bs(dt,gt){return{eventTime:dt,lane:gt,tag:0,payload:null,callback:null,next:null}}function Rs(dt,gt){var xt=dt.updateQueue;xt!==null&&(xt=xt.shared,Mr!==null&&dt.mode&1&&!(lr&2)?(dt=xt.interleaved,dt===null?(gt.next=gt,ys===null?ys=[xt]:ys.push(xt)):(gt.next=dt.next,dt.next=gt),xt.interleaved=gt):(dt=xt.pending,dt===null?gt.next=gt:(gt.next=dt.next,dt.next=gt),xt.pending=gt))}function Uo(dt,gt,xt){if(gt=gt.updateQueue,gt!==null&&(gt=gt.shared,(xt&4194240)!==0)){var bt=gt.lanes;bt&=dt.pendingLanes,xt|=bt,gt.lanes=xt,Yl(dt,xt)}}function _h(dt,gt){var xt=dt.updateQueue,bt=dt.alternate;if(bt!==null&&(bt=bt.updateQueue,xt===bt)){var Pt=null,Lt=null;if(xt=xt.firstBaseUpdate,xt!==null){do{var Ht={eventTime:xt.eventTime,lane:xt.lane,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null};Lt===null?Pt=Lt=Ht:Lt=Lt.next=Ht,xt=xt.next}while(xt!==null);Lt===null?Pt=Lt=gt:Lt=Lt.next=gt}else Pt=Lt=gt;xt={baseState:bt.baseState,firstBaseUpdate:Pt,lastBaseUpdate:Lt,shared:bt.shared,effects:bt.effects},dt.updateQueue=xt;return}dt=xt.lastBaseUpdate,dt===null?xt.firstBaseUpdate=gt:dt.next=gt,xt.lastBaseUpdate=gt}function Go(dt,gt,xt,bt){var Pt=dt.updateQueue;Ds=!1;var Lt=Pt.firstBaseUpdate,Ht=Pt.lastBaseUpdate,Yt=Pt.shared.pending;if(Yt!==null){Pt.shared.pending=null;var un=Yt,Tn=un.next;un.next=null,Ht===null?Lt=Tn:Ht.next=Tn,Ht=un;var zn=dt.alternate;zn!==null&&(zn=zn.updateQueue,Yt=zn.lastBaseUpdate,Yt!==Ht&&(Yt===null?zn.firstBaseUpdate=Tn:Yt.next=Tn,zn.lastBaseUpdate=un))}if(Lt!==null){var rr=Pt.baseState;Ht=0,zn=Tn=un=null,Yt=Lt;do{var Xn=Yt.lane,vr=Yt.eventTime;if((bt&Xn)===Xn){zn!==null&&(zn=zn.next={eventTime:vr,lane:0,tag:Yt.tag,payload:Yt.payload,callback:Yt.callback,next:null});e:{var Hn=dt,Gr=Yt;switch(Xn=gt,vr=xt,Gr.tag){case 1:if(Hn=Gr.payload,typeof Hn=="function"){rr=Hn.call(vr,rr,Xn);break e}rr=Hn;break e;case 3:Hn.flags=Hn.flags&-65537|128;case 0:if(Hn=Gr.payload,Xn=typeof Hn=="function"?Hn.call(vr,rr,Xn):Hn,Xn==null)break e;rr=rt({},rr,Xn);break e;case 2:Ds=!0}}Yt.callback!==null&&Yt.lane!==0&&(dt.flags|=64,Xn=Pt.effects,Xn===null?Pt.effects=[Yt]:Xn.push(Yt))}else vr={eventTime:vr,lane:Xn,tag:Yt.tag,payload:Yt.payload,callback:Yt.callback,next:null},zn===null?(Tn=zn=vr,un=rr):zn=zn.next=vr,Ht|=Xn;if(Yt=Yt.next,Yt===null){if(Yt=Pt.shared.pending,Yt===null)break;Xn=Yt,Yt=Xn.next,Xn.next=null,Pt.lastBaseUpdate=Xn,Pt.shared.pending=null}}while(!0);if(zn===null&&(un=rr),Pt.baseState=un,Pt.firstBaseUpdate=Tn,Pt.lastBaseUpdate=zn,gt=Pt.shared.interleaved,gt!==null){Pt=gt;do Ht|=Pt.lane,Pt=Pt.next;while(Pt!==gt)}else Lt===null&&(Pt.shared.lanes=0);ao|=Ht,dt.lanes=Ht,dt.memoizedState=rr}}function _d(dt,gt,xt){if(dt=gt.effects,gt.effects=null,dt!==null)for(gt=0;gt<dt.length;gt++){var bt=dt[gt],Pt=bt.callback;if(Pt!==null){if(bt.callback=null,bt=xt,typeof Pt!="function")throw Error(it(191,Pt));Pt.call(bt)}}}var ep=new tt.Component().refs;function iu(dt,gt,xt,bt){gt=dt.memoizedState,xt=xt(bt,gt),xt=xt==null?gt:rt({},gt,xt),dt.memoizedState=xt,dt.lanes===0&&(dt.updateQueue.baseState=xt)}var Ho={isMounted:function(dt){return(dt=dt._reactInternals)?Tt(dt)===dt:!1},enqueueSetState:function(dt,gt,xt){dt=dt._reactInternals;var bt=Wr(),Pt=$s(dt),Lt=bs(bt,Pt);Lt.payload=gt,xt!=null&&(Lt.callback=xt),Rs(dt,Lt),gt=ls(dt,Pt,bt),gt!==null&&Uo(gt,dt,Pt)},enqueueReplaceState:function(dt,gt,xt){dt=dt._reactInternals;var bt=Wr(),Pt=$s(dt),Lt=bs(bt,Pt);Lt.tag=1,Lt.payload=gt,xt!=null&&(Lt.callback=xt),Rs(dt,Lt),gt=ls(dt,Pt,bt),gt!==null&&Uo(gt,dt,Pt)},enqueueForceUpdate:function(dt,gt){dt=dt._reactInternals;var xt=Wr(),bt=$s(dt),Pt=bs(xt,bt);Pt.tag=2,gt!=null&&(Pt.callback=gt),Rs(dt,Pt),gt=ls(dt,bt,xt),gt!==null&&Uo(gt,dt,bt)}};function tp(dt,gt,xt,bt,Pt,Lt,Ht){return dt=dt.stateNode,typeof dt.shouldComponentUpdate=="function"?dt.shouldComponentUpdate(bt,Lt,Ht):gt.prototype&&gt.prototype.isPureReactComponent?!Bo(xt,bt)||!Bo(Pt,Lt):!0}function np(dt,gt,xt){var bt=!1,Pt=es,Lt=gt.contextType;return typeof Lt=="object"&&Lt!==null?Lt=ns(Lt):(Pt=Lr(gt)?ds:ar.current,bt=gt.contextTypes,Lt=(bt=bt!=null)?ts(dt,Pt):es),gt=new gt(xt,Lt),dt.memoizedState=gt.state!==null&&gt.state!==void 0?gt.state:null,gt.updater=Ho,dt.stateNode=gt,gt._reactInternals=dt,bt&&(dt=dt.stateNode,dt.__reactInternalMemoizedUnmaskedChildContext=Pt,dt.__reactInternalMemoizedMaskedChildContext=Lt),gt}function rp(dt,gt,xt,bt){dt=gt.state,typeof gt.componentWillReceiveProps=="function"&&gt.componentWillReceiveProps(xt,bt),typeof gt.UNSAFE_componentWillReceiveProps=="function"&&gt.UNSAFE_componentWillReceiveProps(xt,bt),gt.state!==dt&&Ho.enqueueReplaceState(gt,gt.state,null)}function su(dt,gt,xt,bt){var Pt=dt.stateNode;Pt.props=xt,Pt.state=dt.memoizedState,Pt.refs=ep,ru(dt);var Lt=gt.contextType;typeof Lt=="object"&&Lt!==null?Pt.context=ns(Lt):(Lt=Lr(gt)?ds:ar.current,Pt.context=ts(dt,Lt)),Pt.state=dt.memoizedState,Lt=gt.getDerivedStateFromProps,typeof Lt=="function"&&(iu(dt,gt,Lt,xt),Pt.state=dt.memoizedState),typeof gt.getDerivedStateFromProps=="function"||typeof Pt.getSnapshotBeforeUpdate=="function"||typeof Pt.UNSAFE_componentWillMount!="function"&&typeof Pt.componentWillMount!="function"||(gt=Pt.state,typeof Pt.componentWillMount=="function"&&Pt.componentWillMount(),typeof Pt.UNSAFE_componentWillMount=="function"&&Pt.UNSAFE_componentWillMount(),gt!==Pt.state&&Ho.enqueueReplaceState(Pt,Pt.state,null),Go(dt,xt,Pt,bt),Pt.state=dt.memoizedState),typeof Pt.componentDidMount=="function"&&(dt.flags|=4194308)}var Js=[],eo=0,Wo=null,jo=0,rs=[],ss=0,Ns=null,ws=1,Ts="";function Bs(dt,gt){Js[eo++]=jo,Js[eo++]=Wo,Wo=dt,jo=gt}function ip(dt,gt,xt){rs[ss++]=ws,rs[ss++]=Ts,rs[ss++]=Ns,Ns=dt;var bt=ws;dt=Ts;var Pt=32-Yr(bt)-1;bt&=~(1<<Pt),xt+=1;var Lt=32-Yr(gt)+Pt;if(30<Lt){var Ht=Pt-Pt%5;Lt=(bt&(1<<Ht)-1).toString(32),bt>>=Ht,Pt-=Ht,ws=1<<32-Yr(gt)+Pt|xt<<Pt|bt,Ts=Lt+dt}else ws=1<<Lt|xt<<Pt|bt,Ts=dt}function ou(dt){dt.return!==null&&(Bs(dt,1),ip(dt,1,0))}function au(dt){for(;dt===Wo;)Wo=Js[--eo],Js[eo]=null,jo=Js[--eo],Js[eo]=null;for(;dt===Ns;)Ns=rs[--ss],rs[ss]=null,Ts=rs[--ss],rs[ss]=null,ws=rs[--ss],rs[ss]=null}var Kr=null,Zr=null,_r=!1,po=!1,hs=null;function sp(dt,gt){var xt=cs(5,null,null,0);xt.elementType="DELETED",xt.stateNode=gt,xt.return=dt,gt=dt.deletions,gt===null?(dt.deletions=[xt],dt.flags|=16):gt.push(xt)}function op(dt,gt){switch(dt.tag){case 5:return gt=gr(gt,dt.type,dt.pendingProps),gt!==null?(dt.stateNode=gt,Kr=dt,Zr=qs(gt),!0):!1;case 6:return gt=kr(gt,dt.pendingProps),gt!==null?(dt.stateNode=gt,Kr=dt,Zr=null,!0):!1;case 13:if(gt=_i(gt),gt!==null){var xt=Ns!==null?{id:ws,overflow:Ts}:null;return dt.memoizedState={dehydrated:gt,treeContext:xt,retryLane:1073741824},xt=cs(18,null,null,0),xt.stateNode=gt,xt.return=dt,dt.child=xt,Kr=dt,Zr=null,!0}return!1;default:return!1}}function lu(dt){return(dt.mode&1)!==0&&(dt.flags&128)===0}function cu(dt){if(_r){var gt=Zr;if(gt){var xt=gt;if(!op(dt,gt)){if(lu(dt))throw Error(it(418));gt=Ps(xt);var bt=Kr;gt&&op(dt,gt)?sp(bt,xt):(dt.flags=dt.flags&-4097|2,_r=!1,Kr=dt)}}else{if(lu(dt))throw Error(it(418));dt.flags=dt.flags&-4097|2,_r=!1,Kr=dt}}}function ap(dt){for(dt=dt.return;dt!==null&&dt.tag!==5&&dt.tag!==3&&dt.tag!==13;)dt=dt.return;Kr=dt}function mo(dt){if(!tn||dt!==Kr)return!1;if(!_r)return ap(dt),_r=!0,!1;if(dt.tag!==3&&(dt.tag!==5||On(dt.type)&&!rn(dt.type,dt.memoizedProps))){var gt=Zr;if(gt){if(lu(dt)){for(dt=Zr;dt;)dt=Ps(dt);throw Error(it(418))}for(;gt;)sp(dt,gt),gt=Ps(gt)}}if(ap(dt),dt.tag===13){if(!tn)throw Error(it(316));if(dt=dt.memoizedState,dt=dt!==null?dt.dehydrated:null,!dt)throw Error(it(317));Zr=Vt(dt)}else Zr=Kr?Ps(dt.stateNode):null;return!0}function to(){tn&&(Zr=Kr=null,po=_r=!1)}function uu(dt){hs===null?hs=[dt]:hs.push(dt)}function go(dt,gt,xt){if(dt=xt.ref,dt!==null&&typeof dt!="function"&&typeof dt!="object"){if(xt._owner){if(xt=xt._owner,xt){if(xt.tag!==1)throw Error(it(309));var bt=xt.stateNode}if(!bt)throw Error(it(147,dt));var Pt=bt,Lt=""+dt;return gt!==null&&gt.ref!==null&&typeof gt.ref=="function"&&gt.ref._stringRef===Lt?gt.ref:(gt=function(Ht){var Yt=Pt.refs;Yt===ep&&(Yt=Pt.refs={}),Ht===null?delete Yt[Lt]:Yt[Lt]=Ht},gt._stringRef=Lt,gt)}if(typeof dt!="string")throw Error(it(284));if(!xt._owner)throw Error(it(290,dt))}return dt}function Xo(dt,gt){throw dt=Object.prototype.toString.call(gt),Error(it(31,dt==="[object Object]"?"object with keys {"+Object.keys(gt).join(", ")+"}":dt))}function lp(dt){var gt=dt._init;return gt(dt._payload)}function cp(dt){function gt(nn,Kt){if(dt){var ln=nn.deletions;ln===null?(nn.deletions=[Kt],nn.flags|=16):ln.push(Kt)}}function xt(nn,Kt){if(!dt)return null;for(;Kt!==null;)gt(nn,Kt),Kt=Kt.sibling;return null}function bt(nn,Kt){for(nn=new Map;Kt!==null;)Kt.key!==null?nn.set(Kt.key,Kt):nn.set(Kt.index,Kt),Kt=Kt.sibling;return nn}function Pt(nn,Kt){return nn=ks(nn,Kt),nn.index=0,nn.sibling=null,nn}function Lt(nn,Kt,ln){return nn.index=ln,dt?(ln=nn.alternate,ln!==null?(ln=ln.index,ln<Kt?(nn.flags|=2,Kt):ln):(nn.flags|=2,Kt)):(nn.flags|=1048576,Kt)}function Ht(nn){return dt&&nn.alternate===null&&(nn.flags|=2),nn}function Yt(nn,Kt,ln,In){return Kt===null||Kt.tag!==6?(Kt=Xu(ln,nn.mode,In),Kt.return=nn,Kt):(Kt=Pt(Kt,ln),Kt.return=nn,Kt)}function un(nn,Kt,ln,In){var Un=ln.type;return Un===lt?zn(nn,Kt,ln.props.children,In,ln.key):Kt!==null&&(Kt.elementType===Un||typeof Un=="object"&&Un!==null&&Un.$$typeof===_t&&lp(Un)===Kt.type)?(In=Pt(Kt,ln.props),In.ref=go(nn,Kt,ln),In.return=nn,In):(In=zl(ln.type,ln.key,ln.props,null,nn.mode,In),In.ref=go(nn,Kt,ln),In.return=nn,In)}function Tn(nn,Kt,ln,In){return Kt===null||Kt.tag!==4||Kt.stateNode.containerInfo!==ln.containerInfo||Kt.stateNode.implementation!==ln.implementation?(Kt=qu(ln,nn.mode,In),Kt.return=nn,Kt):(Kt=Pt(Kt,ln.children||[]),Kt.return=nn,Kt)}function zn(nn,Kt,ln,In,Un){return Kt===null||Kt.tag!==7?(Kt=js(ln,nn.mode,In,Un),Kt.return=nn,Kt):(Kt=Pt(Kt,ln),Kt.return=nn,Kt)}function rr(nn,Kt,ln){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return Kt=Xu(""+Kt,nn.mode,ln),Kt.return=nn,Kt;if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case ot:return ln=zl(Kt.type,Kt.key,Kt.props,null,nn.mode,ln),ln.ref=go(nn,null,Kt),ln.return=nn,ln;case at:return Kt=qu(Kt,nn.mode,ln),Kt.return=nn,Kt;case _t:var In=Kt._init;return rr(nn,In(Kt._payload),ln)}if(Nt(Kt)||wt(Kt))return Kt=js(Kt,nn.mode,ln,null),Kt.return=nn,Kt;Xo(nn,Kt)}return null}function Xn(nn,Kt,ln,In){var Un=Kt!==null?Kt.key:null;if(typeof ln=="string"&&ln!==""||typeof ln=="number")return Un!==null?null:Yt(nn,Kt,""+ln,In);if(typeof ln=="object"&&ln!==null){switch(ln.$$typeof){case ot:return ln.key===Un?un(nn,Kt,ln,In):null;case at:return ln.key===Un?Tn(nn,Kt,ln,In):null;case _t:return Un=ln._init,Xn(nn,Kt,Un(ln._payload),In)}if(Nt(ln)||wt(ln))return Un!==null?null:zn(nn,Kt,ln,In,null);Xo(nn,ln)}return null}function vr(nn,Kt,ln,In,Un){if(typeof In=="string"&&In!==""||typeof In=="number")return nn=nn.get(ln)||null,Yt(Kt,nn,""+In,Un);if(typeof In=="object"&&In!==null){switch(In.$$typeof){case ot:return nn=nn.get(In.key===null?ln:In.key)||null,un(Kt,nn,In,Un);case at:return nn=nn.get(In.key===null?ln:In.key)||null,Tn(Kt,nn,In,Un);case _t:var or=In._init;return vr(nn,Kt,ln,or(In._payload),Un)}if(Nt(In)||wt(In))return nn=nn.get(ln)||null,zn(Kt,nn,In,Un,null);Xo(Kt,In)}return null}function Hn(nn,Kt,ln,In){for(var Un=null,or=null,ir=Kt,pr=Kt=0,Fr=null;ir!==null&&pr<ln.length;pr++){ir.index>pr?(Fr=ir,ir=null):Fr=ir.sibling;var mr=Xn(nn,ir,ln[pr],In);if(mr===null){ir===null&&(ir=Fr);break}dt&&ir&&mr.alternate===null&&gt(nn,ir),Kt=Lt(mr,Kt,pr),or===null?Un=mr:or.sibling=mr,or=mr,ir=Fr}if(pr===ln.length)return xt(nn,ir),_r&&Bs(nn,pr),Un;if(ir===null){for(;pr<ln.length;pr++)ir=rr(nn,ln[pr],In),ir!==null&&(Kt=Lt(ir,Kt,pr),or===null?Un=ir:or.sibling=ir,or=ir);return _r&&Bs(nn,pr),Un}for(ir=bt(nn,ir);pr<ln.length;pr++)Fr=vr(ir,nn,pr,ln[pr],In),Fr!==null&&(dt&&Fr.alternate!==null&&ir.delete(Fr.key===null?pr:Fr.key),Kt=Lt(Fr,Kt,pr),or===null?Un=Fr:or.sibling=Fr,or=Fr);return dt&&ir.forEach(function(Os){return gt(nn,Os)}),_r&&Bs(nn,pr),Un}function Gr(nn,Kt,ln,In){var Un=wt(ln);if(typeof Un!="function")throw Error(it(150));if(ln=Un.call(ln),ln==null)throw Error(it(151));for(var or=Un=null,ir=Kt,pr=Kt=0,Fr=null,mr=ln.next();ir!==null&&!mr.done;pr++,mr=ln.next()){ir.index>pr?(Fr=ir,ir=null):Fr=ir.sibling;var Os=Xn(nn,ir,mr.value,In);if(Os===null){ir===null&&(ir=Fr);break}dt&&ir&&Os.alternate===null&&gt(nn,ir),Kt=Lt(Os,Kt,pr),or===null?Un=Os:or.sibling=Os,or=Os,ir=Fr}if(mr.done)return xt(nn,ir),_r&&Bs(nn,pr),Un;if(ir===null){for(;!mr.done;pr++,mr=ln.next())mr=rr(nn,mr.value,In),mr!==null&&(Kt=Lt(mr,Kt,pr),or===null?Un=mr:or.sibling=mr,or=mr);return _r&&Bs(nn,pr),Un}for(ir=bt(nn,ir);!mr.done;pr++,mr=ln.next())mr=vr(ir,nn,pr,mr.value,In),mr!==null&&(dt&&mr.alternate!==null&&ir.delete(mr.key===null?pr:mr.key),Kt=Lt(mr,Kt,pr),or===null?Un=mr:or.sibling=mr,or=mr);return dt&&ir.forEach(function(h0){return gt(nn,h0)}),_r&&Bs(nn,pr),Un}function us(nn,Kt,ln,In){if(typeof ln=="object"&&ln!==null&&ln.type===lt&&ln.key===null&&(ln=ln.props.children),typeof ln=="object"&&ln!==null){switch(ln.$$typeof){case ot:e:{for(var Un=ln.key,or=Kt;or!==null;){if(or.key===Un){if(Un=ln.type,Un===lt){if(or.tag===7){xt(nn,or.sibling),Kt=Pt(or,ln.props.children),Kt.return=nn,nn=Kt;break e}}else if(or.elementType===Un||typeof Un=="object"&&Un!==null&&Un.$$typeof===_t&&lp(Un)===or.type){xt(nn,or.sibling),Kt=Pt(or,ln.props),Kt.ref=go(nn,or,ln),Kt.return=nn,nn=Kt;break e}xt(nn,or);break}else gt(nn,or);or=or.sibling}ln.type===lt?(Kt=js(ln.props.children,nn.mode,In,ln.key),Kt.return=nn,nn=Kt):(In=zl(ln.type,ln.key,ln.props,null,nn.mode,In),In.ref=go(nn,Kt,ln),In.return=nn,nn=In)}return Ht(nn);case at:e:{for(or=ln.key;Kt!==null;){if(Kt.key===or)if(Kt.tag===4&&Kt.stateNode.containerInfo===ln.containerInfo&&Kt.stateNode.implementation===ln.implementation){xt(nn,Kt.sibling),Kt=Pt(Kt,ln.children||[]),Kt.return=nn,nn=Kt;break e}else{xt(nn,Kt);break}else gt(nn,Kt);Kt=Kt.sibling}Kt=qu(ln,nn.mode,In),Kt.return=nn,nn=Kt}return Ht(nn);case _t:return or=ln._init,us(nn,Kt,or(ln._payload),In)}if(Nt(ln))return Hn(nn,Kt,ln,In);if(wt(ln))return Gr(nn,Kt,ln,In);Xo(nn,ln)}return typeof ln=="string"&&ln!==""||typeof ln=="number"?(ln=""+ln,Kt!==null&&Kt.tag===6?(xt(nn,Kt.sibling),Kt=Pt(Kt,ln),Kt.return=nn,nn=Kt):(xt(nn,Kt),Kt=Xu(ln,nn.mode,In),Kt.return=nn,nn=Kt),Ht(nn)):xt(nn,Kt)}return us}var no=cp(!0),up=cp(!1),vo={},os=Rr(vo),yo=Rr(vo),ro=Rr(vo);function _s(dt){if(dt===vo)throw Error(it(174));return dt}function fu(dt,gt){Bn(ro,gt),Bn(yo,dt),Bn(os,vo),dt=Bt(gt),Qn(os),Bn(os,dt)}function io(){Qn(os),Qn(yo),Qn(ro)}function fp(dt){var gt=_s(ro.current),xt=_s(os.current);gt=Rt(xt,dt.type,gt),xt!==gt&&(Bn(yo,dt),Bn(os,gt))}function hu(dt){yo.current===dt&&(Qn(os),Qn(yo))}var Sr=Rr(0);function qo(dt){for(var gt=dt;gt!==null;){if(gt.tag===13){var xt=gt.memoizedState;if(xt!==null&&(xt=xt.dehydrated,xt===null||co(xt)||uo(xt)))return gt}else if(gt.tag===19&&gt.memoizedProps.revealOrder!==void 0){if(gt.flags&128)return gt}else if(gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===dt)break;for(;gt.sibling===null;){if(gt.return===null||gt.return===dt)return null;gt=gt.return}gt.sibling.return=gt.return,gt=gt.sibling}return null}var du=[];function pu(){for(var dt=0;dt<du.length;dt++){var gt=du[dt];Sn?gt._workInProgressVersionPrimary=null:gt._workInProgressVersionSecondary=null}du.length=0}var Yo=st.ReactCurrentDispatcher,as=st.ReactCurrentBatchConfig,so=0,br=null,zr=null,$r=null,Ko=!1,_o=!1,xo=0,Nm=0;function Vr(){throw Error(it(321))}function mu(dt,gt){if(gt===null)return!1;for(var xt=0;xt<gt.length&&xt<dt.length;xt++)if(!gs(dt[xt],gt[xt]))return!1;return!0}function gu(dt,gt,xt,bt,Pt,Lt){if(so=Lt,br=gt,gt.memoizedState=null,gt.updateQueue=null,gt.lanes=0,Yo.current=dt===null||dt.memoizedState===null?Um:Gm,dt=xt(bt,Pt),_o){Lt=0;do{if(_o=!1,xo=0,25<=Lt)throw Error(it(301));Lt+=1,$r=zr=null,gt.updateQueue=null,Yo.current=Hm,dt=xt(bt,Pt)}while(_o)}if(Yo.current=ga,gt=zr!==null&&zr.next!==null,so=0,$r=zr=br=null,Ko=!1,gt)throw Error(it(300));return dt}function vu(){var dt=xo!==0;return xo=0,dt}function Cs(){var dt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?br.memoizedState=$r=dt:$r=$r.next=dt,$r}function xs(){if(zr===null){var dt=br.alternate;dt=dt!==null?dt.memoizedState:null}else dt=zr.next;var gt=$r===null?br.memoizedState:$r.next;if(gt!==null)$r=gt,zr=dt;else{if(dt===null)throw Error(it(310));zr=dt,dt={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},$r===null?br.memoizedState=$r=dt:$r=$r.next=dt}return $r}function zs(dt,gt){return typeof gt=="function"?gt(dt):gt}function Zo(dt){var gt=xs(),xt=gt.queue;if(xt===null)throw Error(it(311));xt.lastRenderedReducer=dt;var bt=zr,Pt=bt.baseQueue,Lt=xt.pending;if(Lt!==null){if(Pt!==null){var Ht=Pt.next;Pt.next=Lt.next,Lt.next=Ht}bt.baseQueue=Pt=Lt,xt.pending=null}if(Pt!==null){Lt=Pt.next,bt=bt.baseState;var Yt=Ht=null,un=null,Tn=Lt;do{var zn=Tn.lane;if((so&zn)===zn)un!==null&&(un=un.next={lane:0,action:Tn.action,hasEagerState:Tn.hasEagerState,eagerState:Tn.eagerState,next:null}),bt=Tn.hasEagerState?Tn.eagerState:dt(bt,Tn.action);else{var rr={lane:zn,action:Tn.action,hasEagerState:Tn.hasEagerState,eagerState:Tn.eagerState,next:null};un===null?(Yt=un=rr,Ht=bt):un=un.next=rr,br.lanes|=zn,ao|=zn}Tn=Tn.next}while(Tn!==null&&Tn!==Lt);un===null?Ht=bt:un.next=Yt,gs(bt,gt.memoizedState)||(Qr=!0),gt.memoizedState=bt,gt.baseState=Ht,gt.baseQueue=un,xt.lastRenderedState=bt}if(dt=xt.interleaved,dt!==null){Pt=dt;do Lt=Pt.lane,br.lanes|=Lt,ao|=Lt,Pt=Pt.next;while(Pt!==dt)}else Pt===null&&(xt.lanes=0);return[gt.memoizedState,xt.dispatch]}function Qo(dt){var gt=xs(),xt=gt.queue;if(xt===null)throw Error(it(311));xt.lastRenderedReducer=dt;var bt=xt.dispatch,Pt=xt.pending,Lt=gt.memoizedState;if(Pt!==null){xt.pending=null;var Ht=Pt=Pt.next;do Lt=dt(Lt,Ht.action),Ht=Ht.next;while(Ht!==Pt);gs(Lt,gt.memoizedState)||(Qr=!0),gt.memoizedState=Lt,gt.baseQueue===null&&(gt.baseState=Lt),xt.lastRenderedState=Lt}return[Lt,bt]}function hp(){}function dp(dt,gt){var xt=br,bt=xs(),Pt=gt(),Lt=!gs(bt.memoizedState,Pt);if(Lt&&(bt.memoizedState=Pt,Qr=!0),bt=bt.queue,Eo(gp.bind(null,xt,bt,dt),[dt]),bt.getSnapshot!==gt||Lt||$r!==null&&$r.memoizedState.tag&1){if(xt.flags|=2048,So(9,mp.bind(null,xt,bt,Pt,gt),void 0,null),Mr===null)throw Error(it(349));so&30||pp(xt,gt,Pt)}return Pt}function pp(dt,gt,xt){dt.flags|=16384,dt={getSnapshot:gt,value:xt},gt=br.updateQueue,gt===null?(gt={lastEffect:null,stores:null},br.updateQueue=gt,gt.stores=[dt]):(xt=gt.stores,xt===null?gt.stores=[dt]:xt.push(dt))}function mp(dt,gt,xt,bt){gt.value=xt,gt.getSnapshot=bt,vp(gt)&&ls(dt,1,-1)}function gp(dt,gt,xt){return xt(function(){vp(gt)&&ls(dt,1,-1)})}function vp(dt){var gt=dt.getSnapshot;dt=dt.value;try{var xt=gt();return!gs(dt,xt)}catch{return!0}}function yu(dt){var gt=Cs();return typeof dt=="function"&&(dt=dt()),gt.memoizedState=gt.baseState=dt,dt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:dt},gt.queue=dt,dt=dt.dispatch=Vm.bind(null,br,dt),[gt.memoizedState,dt]}function So(dt,gt,xt,bt){return dt={tag:dt,create:gt,destroy:xt,deps:bt,next:null},gt=br.updateQueue,gt===null?(gt={lastEffect:null,stores:null},br.updateQueue=gt,gt.lastEffect=dt.next=dt):(xt=gt.lastEffect,xt===null?gt.lastEffect=dt.next=dt:(bt=xt.next,xt.next=dt,dt.next=bt,gt.lastEffect=dt)),dt}function yp(){return xs().memoizedState}function Jo(dt,gt,xt,bt){var Pt=Cs();br.flags|=dt,Pt.memoizedState=So(1|gt,xt,void 0,bt===void 0?null:bt)}function na(dt,gt,xt,bt){var Pt=xs();bt=bt===void 0?null:bt;var Lt=void 0;if(zr!==null){var Ht=zr.memoizedState;if(Lt=Ht.destroy,bt!==null&&mu(bt,Ht.deps)){Pt.memoizedState=So(gt,xt,Lt,bt);return}}br.flags|=dt,Pt.memoizedState=So(1|gt,xt,Lt,bt)}function _u(dt,gt){return Jo(8390656,8,dt,gt)}function Eo(dt,gt){return na(2048,8,dt,gt)}function _p(dt,gt){return na(4,2,dt,gt)}function xp(dt,gt){return na(4,4,dt,gt)}function Sp(dt,gt){if(typeof gt=="function")return dt=dt(),gt(dt),function(){gt(null)};if(gt!=null)return dt=dt(),gt.current=dt,function(){gt.current=null}}function Ep(dt,gt,xt){return xt=xt!=null?xt.concat([dt]):null,na(4,4,Sp.bind(null,gt,dt),xt)}function xu(){}function bp(dt,gt){var xt=xs();gt=gt===void 0?null:gt;var bt=xt.memoizedState;return bt!==null&&gt!==null&&mu(gt,bt[1])?bt[0]:(xt.memoizedState=[dt,gt],dt)}function wp(dt,gt){var xt=xs();gt=gt===void 0?null:gt;var bt=xt.memoizedState;return bt!==null&&gt!==null&&mu(gt,bt[1])?bt[0]:(dt=dt(),xt.memoizedState=[dt,gt],dt)}function Bm(dt,gt){var xt=dr;dr=xt!==0&&4>xt?xt:4,dt(!0);var bt=as.transition;as.transition={};try{dt(!1),gt()}finally{dr=xt,as.transition=bt}}function Tp(){return xs().memoizedState}function zm(dt,gt,xt){var bt=$s(dt);xt={lane:bt,action:xt,hasEagerState:!1,eagerState:null,next:null},Cp(dt)?Mp(gt,xt):(Ap(dt,gt,xt),xt=Wr(),dt=ls(dt,bt,xt),dt!==null&&Pp(dt,gt,bt))}function Vm(dt,gt,xt){var bt=$s(dt),Pt={lane:bt,action:xt,hasEagerState:!1,eagerState:null,next:null};if(Cp(dt))Mp(gt,Pt);else{Ap(dt,gt,Pt);var Lt=dt.alternate;if(dt.lanes===0&&(Lt===null||Lt.lanes===0)&&(Lt=gt.lastRenderedReducer,Lt!==null))try{var Ht=gt.lastRenderedState,Yt=Lt(Ht,xt);if(Pt.hasEagerState=!0,Pt.eagerState=Yt,gs(Yt,Ht))return}catch{}finally{}xt=Wr(),dt=ls(dt,bt,xt),dt!==null&&Pp(dt,gt,bt)}}function Cp(dt){var gt=dt.alternate;return dt===br||gt!==null&&gt===br}function Mp(dt,gt){_o=Ko=!0;var xt=dt.pending;xt===null?gt.next=gt:(gt.next=xt.next,xt.next=gt),dt.pending=gt}function Ap(dt,gt,xt){Mr!==null&&dt.mode&1&&!(lr&2)?(dt=gt.interleaved,dt===null?(xt.next=xt,ys===null?ys=[gt]:ys.push(gt)):(xt.next=dt.next,dt.next=xt),gt.interleaved=xt):(dt=gt.pending,dt===null?xt.next=xt:(xt.next=dt.next,dt.next=xt),gt.pending=xt)}function Pp(dt,gt,xt){if(xt&4194240){var bt=gt.lanes;bt&=dt.pendingLanes,xt|=bt,gt.lanes=xt,Yl(dt,xt)}}var ga={readContext:ns,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},Um={readContext:ns,useCallback:function(dt,gt){return Cs().memoizedState=[dt,gt===void 0?null:gt],dt},useContext:ns,useEffect:_u,useImperativeHandle:function(dt,gt,xt){return xt=xt!=null?xt.concat([dt]):null,Jo(4194308,4,Sp.bind(null,gt,dt),xt)},useLayoutEffect:function(dt,gt){return Jo(4194308,4,dt,gt)},useInsertionEffect:function(dt,gt){return Jo(4,2,dt,gt)},useMemo:function(dt,gt){var xt=Cs();return gt=gt===void 0?null:gt,dt=dt(),xt.memoizedState=[dt,gt],dt},useReducer:function(dt,gt,xt){var bt=Cs();return gt=xt!==void 0?xt(gt):gt,bt.memoizedState=bt.baseState=gt,dt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dt,lastRenderedState:gt},bt.queue=dt,dt=dt.dispatch=zm.bind(null,br,dt),[bt.memoizedState,dt]},useRef:function(dt){var gt=Cs();return dt={current:dt},gt.memoizedState=dt},useState:yu,useDebugValue:xu,useDeferredValue:function(dt){var gt=yu(dt),xt=gt[0],bt=gt[1];return _u(function(){var Pt=as.transition;as.transition={};try{bt(dt)}finally{as.transition=Pt}},[dt]),xt},useTransition:function(){var dt=yu(!1),gt=dt[0];return dt=Bm.bind(null,dt[1]),Cs().memoizedState=dt,[gt,dt]},useMutableSource:function(){},useSyncExternalStore:function(dt,gt,xt){var bt=br,Pt=Cs();if(_r){if(xt===void 0)throw Error(it(407));xt=xt()}else{if(xt=gt(),Mr===null)throw Error(it(349));so&30||pp(bt,gt,xt)}Pt.memoizedState=xt;var Lt={value:xt,getSnapshot:gt};return Pt.queue=Lt,_u(gp.bind(null,bt,Lt,dt),[dt]),bt.flags|=2048,So(9,mp.bind(null,bt,Lt,xt,gt),void 0,null),xt},useId:function(){var dt=Cs(),gt=Mr.identifierPrefix;if(_r){var xt=Ts,bt=ws;xt=(bt&~(1<<32-Yr(bt)-1)).toString(32)+xt,gt=":"+gt+"R"+xt,xt=xo++,0<xt&&(gt+="H"+xt.toString(32)),gt+=":"}else xt=Nm++,gt=":"+gt+"r"+xt.toString(32)+":";return dt.memoizedState=gt},unstable_isNewReconciler:!1},Gm={readContext:ns,useCallback:bp,useContext:ns,useEffect:Eo,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:wp,useReducer:Zo,useRef:yp,useState:function(){return Zo(zs)},useDebugValue:xu,useDeferredValue:function(dt){var gt=Zo(zs),xt=gt[0],bt=gt[1];return Eo(function(){var Pt=as.transition;as.transition={};try{bt(dt)}finally{as.transition=Pt}},[dt]),xt},useTransition:function(){var dt=Zo(zs)[0],gt=xs().memoizedState;return[dt,gt]},useMutableSource:hp,useSyncExternalStore:dp,useId:Tp,unstable_isNewReconciler:!1},Hm={readContext:ns,useCallback:bp,useContext:ns,useEffect:Eo,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:xp,useMemo:wp,useReducer:Qo,useRef:yp,useState:function(){return Qo(zs)},useDebugValue:xu,useDeferredValue:function(dt){var gt=Qo(zs),xt=gt[0],bt=gt[1];return Eo(function(){var Pt=as.transition;as.transition={};try{bt(dt)}finally{as.transition=Pt}},[dt]),xt},useTransition:function(){var dt=Qo(zs)[0],gt=xs().memoizedState;return[dt,gt]},useMutableSource:hp,useSyncExternalStore:dp,useId:Tp,unstable_isNewReconciler:!1};function Su(dt,gt){try{var xt="",bt=gt;do xt+=Om(bt),bt=bt.return;while(bt);var Pt=xt}catch(Lt){Pt=`
Error generating stack: `+Lt.message+`
`+Lt.stack}return{value:dt,source:gt,stack:Pt}}function Eu(dt,gt){try{console.error(gt.value)}catch(xt){setTimeout(function(){throw xt})}}var Wm=typeof WeakMap=="function"?WeakMap:Map;function Dp(dt,gt,xt){xt=bs(-1,xt),xt.tag=3,xt.payload={element:null};var bt=gt.value;return xt.callback=function(){Ll||(Ll=!0,zu=bt),Eu(dt,gt)},xt}function Rp(dt,gt,xt){xt=bs(-1,xt),xt.tag=3;var bt=dt.type.getDerivedStateFromError;if(typeof bt=="function"){var Pt=gt.value;xt.payload=function(){return bt(Pt)},xt.callback=function(){Eu(dt,gt)}}var Lt=dt.stateNode;return Lt!==null&&typeof Lt.componentDidCatch=="function"&&(xt.callback=function(){Eu(dt,gt),typeof bt!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var Ht=gt.stack;this.componentDidCatch(gt.value,{componentStack:Ht!==null?Ht:""})}),xt}function Lp(dt,gt,xt){var bt=dt.pingCache;if(bt===null){bt=dt.pingCache=new Wm;var Pt=new Set;bt.set(gt,Pt)}else Pt=bt.get(gt),Pt===void 0&&(Pt=new Set,bt.set(gt,Pt));Pt.has(xt)||(Pt.add(xt),dt=i0.bind(null,dt,gt,xt),gt.then(dt,dt))}function Ip(dt){do{var gt;if((gt=dt.tag===13)&&(gt=dt.memoizedState,gt=gt!==null?gt.dehydrated!==null:!0),gt)return dt;dt=dt.return}while(dt!==null);return null}function $p(dt,gt,xt,bt,Pt){return dt.mode&1?(dt.flags|=65536,dt.lanes=Pt,dt):(dt===gt?dt.flags|=65536:(dt.flags|=128,xt.flags|=131072,xt.flags&=-52805,xt.tag===1&&(xt.alternate===null?xt.tag=17:(gt=bs(-1,1),gt.tag=2,Rs(xt,gt))),xt.lanes|=1),dt)}function Ss(dt){dt.flags|=4}function Fp(dt,gt){if(dt!==null&&dt.child===gt.child)return!0;if(gt.flags&16)return!1;for(dt=gt.child;dt!==null;){if(dt.flags&12854||dt.subtreeFlags&12854)return!1;dt=dt.sibling}return!0}var bo,wo,xa,ba;if(Cn)bo=function(dt,gt){for(var xt=gt.child;xt!==null;){if(xt.tag===5||xt.tag===6)Jt(dt,xt.stateNode);else if(xt.tag!==4&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===gt)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===gt)return;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}},wo=function(){},xa=function(dt,gt,xt,bt,Pt){if(dt=dt.memoizedProps,dt!==bt){var Lt=gt.stateNode,Ht=_s(os.current);xt=Qt(Lt,xt,dt,bt,Pt,Ht),(gt.updateQueue=xt)&&Ss(gt)}},ba=function(dt,gt,xt,bt){xt!==bt&&Ss(gt)};else if(Wt){bo=function(dt,gt,xt,bt){for(var Pt=gt.child;Pt!==null;){if(Pt.tag===5){var Lt=Pt.stateNode;xt&&bt&&(Lt=wr(Lt,Pt.type,Pt.memoizedProps,Pt)),Jt(dt,Lt)}else if(Pt.tag===6)Lt=Pt.stateNode,xt&&bt&&(Lt=Dr(Lt,Pt.memoizedProps,Pt)),Jt(dt,Lt);else if(Pt.tag!==4){if(Pt.tag===22&&Pt.memoizedState!==null)Lt=Pt.child,Lt!==null&&(Lt.return=Pt),bo(dt,Pt,!0,!0);else if(Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}}if(Pt===gt)break;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===gt)return;Pt=Pt.return}Pt.sibling.return=Pt.return,Pt=Pt.sibling}};var kp=function(dt,gt,xt,bt){for(var Pt=gt.child;Pt!==null;){if(Pt.tag===5){var Lt=Pt.stateNode;xt&&bt&&(Lt=wr(Lt,Pt.type,Pt.memoizedProps,Pt)),An(dt,Lt)}else if(Pt.tag===6)Lt=Pt.stateNode,xt&&bt&&(Lt=Dr(Lt,Pt.memoizedProps,Pt)),An(dt,Lt);else if(Pt.tag!==4){if(Pt.tag===22&&Pt.memoizedState!==null)Lt=Pt.child,Lt!==null&&(Lt.return=Pt),kp(dt,Pt,!0,!0);else if(Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}}if(Pt===gt)break;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===gt)return;Pt=Pt.return}Pt.sibling.return=Pt.return,Pt=Pt.sibling}};wo=function(dt,gt){var xt=gt.stateNode;if(!Fp(dt,gt)){dt=xt.containerInfo;var bt=dn(dt);kp(bt,gt,!1,!1),xt.pendingChildren=bt,Ss(gt),Kn(dt,bt)}},xa=function(dt,gt,xt,bt,Pt){var Lt=dt.stateNode,Ht=dt.memoizedProps;if((dt=Fp(dt,gt))&&Ht===bt)gt.stateNode=Lt;else{var Yt=gt.stateNode,un=_s(os.current),Tn=null;Ht!==bt&&(Tn=Qt(Yt,xt,Ht,bt,Pt,un)),dt&&Tn===null?gt.stateNode=Lt:(Lt=wn(Lt,Tn,xt,Ht,bt,gt,dt,Yt),Xt(Lt,xt,bt,Pt,un)&&Ss(gt),gt.stateNode=Lt,dt?Ss(gt):bo(Lt,gt,!1,!1))}},ba=function(dt,gt,xt,bt){xt!==bt?(dt=_s(ro.current),xt=_s(os.current),gt.stateNode=pn(bt,dt,xt,gt),Ss(gt)):gt.stateNode=dt.stateNode}}else wo=function(){},xa=function(){},ba=function(){};function To(dt,gt){if(!_r)switch(dt.tailMode){case"hidden":gt=dt.tail;for(var xt=null;gt!==null;)gt.alternate!==null&&(xt=gt),gt=gt.sibling;xt===null?dt.tail=null:xt.sibling=null;break;case"collapsed":xt=dt.tail;for(var bt=null;xt!==null;)xt.alternate!==null&&(bt=xt),xt=xt.sibling;bt===null?gt||dt.tail===null?dt.tail=null:dt.tail.sibling=null:bt.sibling=null}}function Ur(dt){var gt=dt.alternate!==null&&dt.alternate.child===dt.child,xt=0,bt=0;if(gt)for(var Pt=dt.child;Pt!==null;)xt|=Pt.lanes|Pt.childLanes,bt|=Pt.subtreeFlags&14680064,bt|=Pt.flags&14680064,Pt.return=dt,Pt=Pt.sibling;else for(Pt=dt.child;Pt!==null;)xt|=Pt.lanes|Pt.childLanes,bt|=Pt.subtreeFlags,bt|=Pt.flags,Pt.return=dt,Pt=Pt.sibling;return dt.subtreeFlags|=bt,dt.childLanes=xt,gt}function jm(dt,gt,xt){var bt=gt.pendingProps;switch(au(gt),gt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(gt),null;case 1:return Lr(gt.type)&&Tr(),Ur(gt),null;case 3:return bt=gt.stateNode,io(),Qn(Er),Qn(ar),pu(),bt.pendingContext&&(bt.context=bt.pendingContext,bt.pendingContext=null),(dt===null||dt.child===null)&&(mo(gt)?Ss(gt):dt===null||dt.memoizedState.isDehydrated&&!(gt.flags&256)||(gt.flags|=1024,hs!==null&&(Gu(hs),hs=null))),wo(dt,gt),Ur(gt),null;case 5:hu(gt),xt=_s(ro.current);var Pt=gt.type;if(dt!==null&&gt.stateNode!=null)xa(dt,gt,Pt,bt,xt),dt.ref!==gt.ref&&(gt.flags|=512,gt.flags|=2097152);else{if(!bt){if(gt.stateNode===null)throw Error(it(166));return Ur(gt),null}if(dt=_s(os.current),mo(gt)){if(!tn)throw Error(it(175));dt=Ul(gt.stateNode,gt.type,gt.memoizedProps,xt,dt,gt,!po),gt.updateQueue=dt,dt!==null&&Ss(gt)}else{var Lt=jt(Pt,bt,xt,dt,gt);bo(Lt,gt,!1,!1),gt.stateNode=Lt,Xt(Lt,Pt,bt,xt,dt)&&Ss(gt)}gt.ref!==null&&(gt.flags|=512,gt.flags|=2097152)}return Ur(gt),null;case 6:if(dt&&gt.stateNode!=null)ba(dt,gt,dt.memoizedProps,bt);else{if(typeof bt!="string"&&gt.stateNode===null)throw Error(it(166));if(dt=_s(ro.current),xt=_s(os.current),mo(gt)){if(!tn)throw Error(it(176));if(dt=gt.stateNode,bt=gt.memoizedProps,(xt=Gl(dt,bt,gt,!po))&&(Pt=Kr,Pt!==null))switch(Lt=(Pt.mode&1)!==0,Pt.tag){case 3:Gn(Pt.stateNode.containerInfo,dt,bt,Lt);break;case 5:Yn(Pt.type,Pt.memoizedProps,Pt.stateNode,dt,bt,Lt)}xt&&Ss(gt)}else gt.stateNode=pn(bt,dt,xt,gt)}return Ur(gt),null;case 13:if(Qn(Sr),bt=gt.memoizedState,_r&&Zr!==null&&gt.mode&1&&!(gt.flags&128)){for(dt=Zr;dt;)dt=Ps(dt);return to(),gt.flags|=98560,gt}if(bt!==null&&bt.dehydrated!==null){if(bt=mo(gt),dt===null){if(!bt)throw Error(it(318));if(!tn)throw Error(it(344));if(dt=gt.memoizedState,dt=dt!==null?dt.dehydrated:null,!dt)throw Error(it(317));Hl(dt,gt)}else to(),!(gt.flags&128)&&(gt.memoizedState=null),gt.flags|=4;return Ur(gt),null}return hs!==null&&(Gu(hs),hs=null),gt.flags&128?(gt.lanes=xt,gt):(bt=bt!==null,xt=!1,dt===null?mo(gt):xt=dt.memoizedState!==null,bt&&!xt&&(gt.child.flags|=8192,gt.mode&1&&(dt===null||Sr.current&1?Pr===0&&(Pr=3):Wu())),gt.updateQueue!==null&&(gt.flags|=4),Ur(gt),null);case 4:return io(),wo(dt,gt),dt===null&&vn(gt.stateNode.containerInfo),Ur(gt),null;case 10:return tu(gt.type._context),Ur(gt),null;case 17:return Lr(gt.type)&&Tr(),Ur(gt),null;case 19:if(Qn(Sr),Pt=gt.memoizedState,Pt===null)return Ur(gt),null;if(bt=(gt.flags&128)!==0,Lt=Pt.rendering,Lt===null)if(bt)To(Pt,!1);else{if(Pr!==0||dt!==null&&dt.flags&128)for(dt=gt.child;dt!==null;){if(Lt=qo(dt),Lt!==null){for(gt.flags|=128,To(Pt,!1),dt=Lt.updateQueue,dt!==null&&(gt.updateQueue=dt,gt.flags|=4),gt.subtreeFlags=0,dt=xt,bt=gt.child;bt!==null;)xt=bt,Pt=dt,xt.flags&=14680066,Lt=xt.alternate,Lt===null?(xt.childLanes=0,xt.lanes=Pt,xt.child=null,xt.subtreeFlags=0,xt.memoizedProps=null,xt.memoizedState=null,xt.updateQueue=null,xt.dependencies=null,xt.stateNode=null):(xt.childLanes=Lt.childLanes,xt.lanes=Lt.lanes,xt.child=Lt.child,xt.subtreeFlags=0,xt.deletions=null,xt.memoizedProps=Lt.memoizedProps,xt.memoizedState=Lt.memoizedState,xt.updateQueue=Lt.updateQueue,xt.type=Lt.type,Pt=Lt.dependencies,xt.dependencies=Pt===null?null:{lanes:Pt.lanes,firstContext:Pt.firstContext}),bt=bt.sibling;return Bn(Sr,Sr.current&1|2),gt.child}dt=dt.sibling}Pt.tail!==null&&Ir()>Bu&&(gt.flags|=128,bt=!0,To(Pt,!1),gt.lanes=4194304)}else{if(!bt)if(dt=qo(Lt),dt!==null){if(gt.flags|=128,bt=!0,dt=dt.updateQueue,dt!==null&&(gt.updateQueue=dt,gt.flags|=4),To(Pt,!0),Pt.tail===null&&Pt.tailMode==="hidden"&&!Lt.alternate&&!_r)return Ur(gt),null}else 2*Ir()-Pt.renderingStartTime>Bu&&xt!==1073741824&&(gt.flags|=128,bt=!0,To(Pt,!1),gt.lanes=4194304);Pt.isBackwards?(Lt.sibling=gt.child,gt.child=Lt):(dt=Pt.last,dt!==null?dt.sibling=Lt:gt.child=Lt,Pt.last=Lt)}return Pt.tail!==null?(gt=Pt.tail,Pt.rendering=gt,Pt.tail=gt.sibling,Pt.renderingStartTime=Ir(),gt.sibling=null,dt=Sr.current,Bn(Sr,bt?dt&1|2:dt&1),gt):(Ur(gt),null);case 22:case 23:return Hu(),bt=gt.memoizedState!==null,dt!==null&&dt.memoizedState!==null!==bt&&(gt.flags|=8192),bt&&gt.mode&1?Jr&1073741824&&(Ur(gt),Cn&&gt.subtreeFlags&6&&(gt.flags|=8192)):Ur(gt),null;case 24:return null;case 25:return null}throw Error(it(156,gt.tag))}var Xm=st.ReactCurrentOwner,Qr=!1;function Hr(dt,gt,xt,bt){gt.child=dt===null?up(gt,null,xt,bt):no(gt,dt.child,xt,bt)}function Op(dt,gt,xt,bt,Pt){xt=xt.render;var Lt=gt.ref;return Qs(gt,Pt),bt=gu(dt,gt,xt,bt,Lt,Pt),xt=vu(),dt!==null&&!Qr?(gt.updateQueue=dt.updateQueue,gt.flags&=-2053,dt.lanes&=~Pt,Ms(dt,gt,Pt)):(_r&&xt&&ou(gt),gt.flags|=1,Hr(dt,gt,bt,Pt),gt.child)}function Np(dt,gt,xt,bt,Pt){if(dt===null){var Lt=xt.type;return typeof Lt=="function"&&!ju(Lt)&&Lt.defaultProps===void 0&&xt.compare===null&&xt.defaultProps===void 0?(gt.tag=15,gt.type=Lt,Bp(dt,gt,Lt,bt,Pt)):(dt=zl(xt.type,null,bt,gt,gt.mode,Pt),dt.ref=gt.ref,dt.return=gt,gt.child=dt)}if(Lt=dt.child,!(dt.lanes&Pt)){var Ht=Lt.memoizedProps;if(xt=xt.compare,xt=xt!==null?xt:Bo,xt(Ht,bt)&&dt.ref===gt.ref)return Ms(dt,gt,Pt)}return gt.flags|=1,dt=ks(Lt,bt),dt.ref=gt.ref,dt.return=gt,gt.child=dt}function Bp(dt,gt,xt,bt,Pt){if(dt!==null&&Bo(dt.memoizedProps,bt)&&dt.ref===gt.ref)if(Qr=!1,(dt.lanes&Pt)!==0)dt.flags&131072&&(Qr=!0);else return gt.lanes=dt.lanes,Ms(dt,gt,Pt);return bu(dt,gt,xt,bt,Pt)}function zp(dt,gt,xt){var bt=gt.pendingProps,Pt=bt.children,Lt=dt!==null?dt.memoizedState:null;if(bt.mode==="hidden")if(!(gt.mode&1))gt.memoizedState={baseLanes:0,cachePool:null},Bn(oo,Jr),Jr|=xt;else if(xt&1073741824)gt.memoizedState={baseLanes:0,cachePool:null},bt=Lt!==null?Lt.baseLanes:xt,Bn(oo,Jr),Jr|=bt;else return dt=Lt!==null?Lt.baseLanes|xt:xt,gt.lanes=gt.childLanes=1073741824,gt.memoizedState={baseLanes:dt,cachePool:null},gt.updateQueue=null,Bn(oo,Jr),Jr|=dt,null;else Lt!==null?(bt=Lt.baseLanes|xt,gt.memoizedState=null):bt=xt,Bn(oo,Jr),Jr|=bt;return Hr(dt,gt,Pt,xt),gt.child}function Vp(dt,gt){var xt=gt.ref;(dt===null&&xt!==null||dt!==null&&dt.ref!==xt)&&(gt.flags|=512,gt.flags|=2097152)}function bu(dt,gt,xt,bt,Pt){var Lt=Lr(xt)?ds:ar.current;return Lt=ts(gt,Lt),Qs(gt,Pt),xt=gu(dt,gt,xt,bt,Lt,Pt),bt=vu(),dt!==null&&!Qr?(gt.updateQueue=dt.updateQueue,gt.flags&=-2053,dt.lanes&=~Pt,Ms(dt,gt,Pt)):(_r&&bt&&ou(gt),gt.flags|=1,Hr(dt,gt,xt,Pt),gt.child)}function Up(dt,gt,xt,bt,Pt){if(Lr(xt)){var Lt=!0;Nr(gt)}else Lt=!1;if(Qs(gt,Pt),gt.stateNode===null)dt!==null&&(dt.alternate=null,gt.alternate=null,gt.flags|=2),np(gt,xt,bt),su(gt,xt,bt,Pt),bt=!0;else if(dt===null){var Ht=gt.stateNode,Yt=gt.memoizedProps;Ht.props=Yt;var un=Ht.context,Tn=xt.contextType;typeof Tn=="object"&&Tn!==null?Tn=ns(Tn):(Tn=Lr(xt)?ds:ar.current,Tn=ts(gt,Tn));var zn=xt.getDerivedStateFromProps,rr=typeof zn=="function"||typeof Ht.getSnapshotBeforeUpdate=="function";rr||typeof Ht.UNSAFE_componentWillReceiveProps!="function"&&typeof Ht.componentWillReceiveProps!="function"||(Yt!==bt||un!==Tn)&&rp(gt,Ht,bt,Tn),Ds=!1;var Xn=gt.memoizedState;Ht.state=Xn,Go(gt,bt,Ht,Pt),un=gt.memoizedState,Yt!==bt||Xn!==un||Er.current||Ds?(typeof zn=="function"&&(iu(gt,xt,zn,bt),un=gt.memoizedState),(Yt=Ds||tp(gt,xt,Yt,bt,Xn,un,Tn))?(rr||typeof Ht.UNSAFE_componentWillMount!="function"&&typeof Ht.componentWillMount!="function"||(typeof Ht.componentWillMount=="function"&&Ht.componentWillMount(),typeof Ht.UNSAFE_componentWillMount=="function"&&Ht.UNSAFE_componentWillMount()),typeof Ht.componentDidMount=="function"&&(gt.flags|=4194308)):(typeof Ht.componentDidMount=="function"&&(gt.flags|=4194308),gt.memoizedProps=bt,gt.memoizedState=un),Ht.props=bt,Ht.state=un,Ht.context=Tn,bt=Yt):(typeof Ht.componentDidMount=="function"&&(gt.flags|=4194308),bt=!1)}else{Ht=gt.stateNode,_f(dt,gt),Yt=gt.memoizedProps,Tn=gt.type===gt.elementType?Yt:fs(gt.type,Yt),Ht.props=Tn,rr=gt.pendingProps,Xn=Ht.context,un=xt.contextType,typeof un=="object"&&un!==null?un=ns(un):(un=Lr(xt)?ds:ar.current,un=ts(gt,un));var vr=xt.getDerivedStateFromProps;(zn=typeof vr=="function"||typeof Ht.getSnapshotBeforeUpdate=="function")||typeof Ht.UNSAFE_componentWillReceiveProps!="function"&&typeof Ht.componentWillReceiveProps!="function"||(Yt!==rr||Xn!==un)&&rp(gt,Ht,bt,un),Ds=!1,Xn=gt.memoizedState,Ht.state=Xn,Go(gt,bt,Ht,Pt);var Hn=gt.memoizedState;Yt!==rr||Xn!==Hn||Er.current||Ds?(typeof vr=="function"&&(iu(gt,xt,vr,bt),Hn=gt.memoizedState),(Tn=Ds||tp(gt,xt,Tn,bt,Xn,Hn,un)||!1)?(zn||typeof Ht.UNSAFE_componentWillUpdate!="function"&&typeof Ht.componentWillUpdate!="function"||(typeof Ht.componentWillUpdate=="function"&&Ht.componentWillUpdate(bt,Hn,un),typeof Ht.UNSAFE_componentWillUpdate=="function"&&Ht.UNSAFE_componentWillUpdate(bt,Hn,un)),typeof Ht.componentDidUpdate=="function"&&(gt.flags|=4),typeof Ht.getSnapshotBeforeUpdate=="function"&&(gt.flags|=1024)):(typeof Ht.componentDidUpdate!="function"||Yt===dt.memoizedProps&&Xn===dt.memoizedState||(gt.flags|=4),typeof Ht.getSnapshotBeforeUpdate!="function"||Yt===dt.memoizedProps&&Xn===dt.memoizedState||(gt.flags|=1024),gt.memoizedProps=bt,gt.memoizedState=Hn),Ht.props=bt,Ht.state=Hn,Ht.context=un,bt=Tn):(typeof Ht.componentDidUpdate!="function"||Yt===dt.memoizedProps&&Xn===dt.memoizedState||(gt.flags|=4),typeof Ht.getSnapshotBeforeUpdate!="function"||Yt===dt.memoizedProps&&Xn===dt.memoizedState||(gt.flags|=1024),bt=!1)}return wu(dt,gt,xt,bt,Lt,Pt)}function wu(dt,gt,xt,bt,Pt,Lt){Vp(dt,gt);var Ht=(gt.flags&128)!==0;if(!bt&&!Ht)return Pt&&Ks(gt,xt,!1),Ms(dt,gt,Lt);bt=gt.stateNode,Xm.current=gt;var Yt=Ht&&typeof xt.getDerivedStateFromError!="function"?null:bt.render();return gt.flags|=1,dt!==null&&Ht?(gt.child=no(gt,dt.child,null,Lt),gt.child=no(gt,null,Yt,Lt)):Hr(dt,gt,Yt,Lt),gt.memoizedState=bt.state,Pt&&Ks(gt,xt,!0),gt.child}function Gp(dt){var gt=dt.stateNode;gt.pendingContext?ps(dt,gt.pendingContext,gt.pendingContext!==gt.context):gt.context&&ps(dt,gt.context,!1),fu(dt,gt.containerInfo)}function Hp(dt,gt,xt,bt,Pt){return to(),uu(Pt),gt.flags|=256,Hr(dt,gt,xt,bt),gt.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function yl(dt){return{baseLanes:dt,cachePool:null}}function Wp(dt,gt,xt){var bt=gt.pendingProps,Pt=Sr.current,Lt=!1,Ht=(gt.flags&128)!==0,Yt;if((Yt=Ht)||(Yt=dt!==null&&dt.memoizedState===null?!1:(Pt&2)!==0),Yt?(Lt=!0,gt.flags&=-129):(dt===null||dt.memoizedState!==null)&&(Pt|=1),Bn(Sr,Pt&1),dt===null)return cu(gt),dt=gt.memoizedState,dt!==null&&(dt=dt.dehydrated,dt!==null)?(gt.mode&1?uo(dt)?gt.lanes=8:gt.lanes=1073741824:gt.lanes=1,null):(Pt=bt.children,dt=bt.fallback,Lt?(bt=gt.mode,Lt=gt.child,Pt={mode:"hidden",children:Pt},!(bt&1)&&Lt!==null?(Lt.childLanes=0,Lt.pendingProps=Pt):Lt=Vl(Pt,bt,0,null),dt=js(dt,bt,xt,null),Lt.return=gt,dt.return=gt,Lt.sibling=dt,gt.child=Lt,gt.child.memoizedState=yl(xt),gt.memoizedState=$a,dt):Tu(gt,Pt));if(Pt=dt.memoizedState,Pt!==null){if(Yt=Pt.dehydrated,Yt!==null){if(Ht)return gt.flags&256?(gt.flags&=-257,_l(dt,gt,xt,Error(it(422)))):gt.memoizedState!==null?(gt.child=dt.child,gt.flags|=128,null):(Lt=bt.fallback,Pt=gt.mode,bt=Vl({mode:"visible",children:bt.children},Pt,0,null),Lt=js(Lt,Pt,xt,null),Lt.flags|=2,bt.return=gt,Lt.return=gt,bt.sibling=Lt,gt.child=bt,gt.mode&1&&no(gt,dt.child,null,xt),gt.child.memoizedState=yl(xt),gt.memoizedState=$a,Lt);if(!(gt.mode&1))gt=_l(dt,gt,xt,null);else if(uo(Yt))gt=_l(dt,gt,xt,Error(it(419)));else if(bt=(xt&dt.childLanes)!==0,Qr||bt){if(bt=Mr,bt!==null){switch(xt&-xt){case 4:Lt=2;break;case 16:Lt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Lt=32;break;case 536870912:Lt=268435456;break;default:Lt=0}bt=Lt&(bt.suspendedLanes|xt)?0:Lt,bt!==0&&bt!==Pt.retryLane&&(Pt.retryLane=bt,ls(dt,bt,-1))}Wu(),gt=_l(dt,gt,xt,Error(it(421)))}else co(Yt)?(gt.flags|=128,gt.child=dt.child,gt=s0.bind(null,dt),Xs(Yt,gt),gt=null):(xt=Pt.treeContext,tn&&(Zr=Lo(Yt),Kr=gt,_r=!0,hs=null,po=!1,xt!==null&&(rs[ss++]=ws,rs[ss++]=Ts,rs[ss++]=Ns,ws=xt.id,Ts=xt.overflow,Ns=gt)),gt=Tu(gt,gt.pendingProps.children),gt.flags|=4096);return gt}return Lt?(bt=Xp(dt,gt,bt.children,bt.fallback,xt),Lt=gt.child,Pt=dt.child.memoizedState,Lt.memoizedState=Pt===null?yl(xt):{baseLanes:Pt.baseLanes|xt,cachePool:null},Lt.childLanes=dt.childLanes&~xt,gt.memoizedState=$a,bt):(xt=jp(dt,gt,bt.children,xt),gt.memoizedState=null,xt)}return Lt?(bt=Xp(dt,gt,bt.children,bt.fallback,xt),Lt=gt.child,Pt=dt.child.memoizedState,Lt.memoizedState=Pt===null?yl(xt):{baseLanes:Pt.baseLanes|xt,cachePool:null},Lt.childLanes=dt.childLanes&~xt,gt.memoizedState=$a,bt):(xt=jp(dt,gt,bt.children,xt),gt.memoizedState=null,xt)}function Tu(dt,gt){return gt=Vl({mode:"visible",children:gt},dt.mode,0,null),gt.return=dt,dt.child=gt}function jp(dt,gt,xt,bt){var Pt=dt.child;return dt=Pt.sibling,xt=ks(Pt,{mode:"visible",children:xt}),!(gt.mode&1)&&(xt.lanes=bt),xt.return=gt,xt.sibling=null,dt!==null&&(bt=gt.deletions,bt===null?(gt.deletions=[dt],gt.flags|=16):bt.push(dt)),gt.child=xt}function Xp(dt,gt,xt,bt,Pt){var Lt=gt.mode;dt=dt.child;var Ht=dt.sibling,Yt={mode:"hidden",children:xt};return!(Lt&1)&&gt.child!==dt?(xt=gt.child,xt.childLanes=0,xt.pendingProps=Yt,gt.deletions=null):(xt=ks(dt,Yt),xt.subtreeFlags=dt.subtreeFlags&14680064),Ht!==null?bt=ks(Ht,bt):(bt=js(bt,Lt,Pt,null),bt.flags|=2),bt.return=gt,xt.return=gt,xt.sibling=bt,gt.child=xt,bt}function _l(dt,gt,xt,bt){return bt!==null&&uu(bt),no(gt,dt.child,null,xt),dt=Tu(gt,gt.pendingProps.children),dt.flags|=2,gt.memoizedState=null,dt}function qp(dt,gt,xt){dt.lanes|=gt;var bt=dt.alternate;bt!==null&&(bt.lanes|=gt),nu(dt.return,gt,xt)}function Cu(dt,gt,xt,bt,Pt){var Lt=dt.memoizedState;Lt===null?dt.memoizedState={isBackwards:gt,rendering:null,renderingStartTime:0,last:bt,tail:xt,tailMode:Pt}:(Lt.isBackwards=gt,Lt.rendering=null,Lt.renderingStartTime=0,Lt.last=bt,Lt.tail=xt,Lt.tailMode=Pt)}function Yp(dt,gt,xt){var bt=gt.pendingProps,Pt=bt.revealOrder,Lt=bt.tail;if(Hr(dt,gt,bt.children,xt),bt=Sr.current,bt&2)bt=bt&1|2,gt.flags|=128;else{if(dt!==null&&dt.flags&128)e:for(dt=gt.child;dt!==null;){if(dt.tag===13)dt.memoizedState!==null&&qp(dt,xt,gt);else if(dt.tag===19)qp(dt,xt,gt);else if(dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===gt)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===gt)break e;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}bt&=1}if(Bn(Sr,bt),!(gt.mode&1))gt.memoizedState=null;else switch(Pt){case"forwards":for(xt=gt.child,Pt=null;xt!==null;)dt=xt.alternate,dt!==null&&qo(dt)===null&&(Pt=xt),xt=xt.sibling;xt=Pt,xt===null?(Pt=gt.child,gt.child=null):(Pt=xt.sibling,xt.sibling=null),Cu(gt,!1,Pt,xt,Lt);break;case"backwards":for(xt=null,Pt=gt.child,gt.child=null;Pt!==null;){if(dt=Pt.alternate,dt!==null&&qo(dt)===null){gt.child=Pt;break}dt=Pt.sibling,Pt.sibling=xt,xt=Pt,Pt=dt}Cu(gt,!0,xt,null,Lt);break;case"together":Cu(gt,!1,null,null,void 0);break;default:gt.memoizedState=null}return gt.child}function Ms(dt,gt,xt){if(dt!==null&&(gt.dependencies=dt.dependencies),ao|=gt.lanes,!(xt&gt.childLanes))return null;if(dt!==null&&gt.child!==dt.child)throw Error(it(153));if(gt.child!==null){for(dt=gt.child,xt=ks(dt,dt.pendingProps),gt.child=xt,xt.return=gt;dt.sibling!==null;)dt=dt.sibling,xt=xt.sibling=ks(dt,dt.pendingProps),xt.return=gt;xt.sibling=null}return gt.child}function qm(dt,gt,xt){switch(gt.tag){case 3:Gp(gt),to();break;case 5:fp(gt);break;case 1:Lr(gt.type)&&Nr(gt);break;case 4:fu(gt,gt.stateNode.containerInfo);break;case 10:Ju(gt,gt.type._context,gt.memoizedProps.value);break;case 13:var bt=gt.memoizedState;if(bt!==null)return bt.dehydrated!==null?(Bn(Sr,Sr.current&1),gt.flags|=128,null):xt&gt.child.childLanes?Wp(dt,gt,xt):(Bn(Sr,Sr.current&1),dt=Ms(dt,gt,xt),dt!==null?dt.sibling:null);Bn(Sr,Sr.current&1);break;case 19:if(bt=(xt&gt.childLanes)!==0,dt.flags&128){if(bt)return Yp(dt,gt,xt);gt.flags|=128}var Pt=gt.memoizedState;if(Pt!==null&&(Pt.rendering=null,Pt.tail=null,Pt.lastEffect=null),Bn(Sr,Sr.current),bt)break;return null;case 22:case 23:return gt.lanes=0,zp(dt,gt,xt)}return Ms(dt,gt,xt)}function Ym(dt,gt){switch(au(gt),gt.tag){case 1:return Lr(gt.type)&&Tr(),dt=gt.flags,dt&65536?(gt.flags=dt&-65537|128,gt):null;case 3:return io(),Qn(Er),Qn(ar),pu(),dt=gt.flags,dt&65536&&!(dt&128)?(gt.flags=dt&-65537|128,gt):null;case 5:return hu(gt),null;case 13:if(Qn(Sr),dt=gt.memoizedState,dt!==null&&dt.dehydrated!==null){if(gt.alternate===null)throw Error(it(340));to()}return dt=gt.flags,dt&65536?(gt.flags=dt&-65537|128,gt):null;case 19:return Qn(Sr),null;case 4:return io(),null;case 10:return tu(gt.type._context),null;case 22:case 23:return Hu(),null;case 24:return null;default:return null}}var xl=!1,Vs=!1,Km=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function Sl(dt,gt){var xt=dt.ref;if(xt!==null)if(typeof xt=="function")try{xt(null)}catch(bt){qr(dt,gt,bt)}else xt.current=null}function Mu(dt,gt,xt){try{xt()}catch(bt){qr(dt,gt,bt)}}var Kp=!1;function Zm(dt,gt){for(Ot(dt.containerInfo),Ln=gt;Ln!==null;)if(dt=Ln,gt=dt.child,(dt.subtreeFlags&1028)!==0&&gt!==null)gt.return=dt,Ln=gt;else for(;Ln!==null;){dt=Ln;try{var xt=dt.alternate;if(dt.flags&1024)switch(dt.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var bt=xt.memoizedProps,Pt=xt.memoizedState,Lt=dt.stateNode,Ht=Lt.getSnapshotBeforeUpdate(dt.elementType===dt.type?bt:fs(dt.type,bt),Pt);Lt.__reactInternalSnapshotBeforeUpdate=Ht}break;case 3:Cn&&kn(dt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(Yt){qr(dt,dt.return,Yt)}if(gt=dt.sibling,gt!==null){gt.return=dt.return,Ln=gt;break}Ln=dt.return}return xt=Kp,Kp=!1,xt}function Us(dt,gt,xt){var bt=gt.updateQueue;if(bt=bt!==null?bt.lastEffect:null,bt!==null){var Pt=bt=bt.next;do{if((Pt.tag&dt)===dt){var Lt=Pt.destroy;Pt.destroy=void 0,Lt!==void 0&&Mu(gt,xt,Lt)}Pt=Pt.next}while(Pt!==bt)}}function Co(dt,gt){if(gt=gt.updateQueue,gt=gt!==null?gt.lastEffect:null,gt!==null){var xt=gt=gt.next;do{if((xt.tag&dt)===dt){var bt=xt.create;xt.destroy=bt()}xt=xt.next}while(xt!==gt)}}function Au(dt){var gt=dt.ref;if(gt!==null){var xt=dt.stateNode;switch(dt.tag){case 5:dt=Gt(xt);break;default:dt=xt}typeof gt=="function"?gt(dt):gt.current=dt}}function Zp(dt,gt,xt){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(Oo,gt)}catch{}switch(gt.tag){case 0:case 11:case 14:case 15:if(dt=gt.updateQueue,dt!==null&&(dt=dt.lastEffect,dt!==null)){var bt=dt=dt.next;do{var Pt=bt,Lt=Pt.destroy;Pt=Pt.tag,Lt!==void 0&&(Pt&2||Pt&4)&&Mu(gt,xt,Lt),bt=bt.next}while(bt!==dt)}break;case 1:if(Sl(gt,xt),dt=gt.stateNode,typeof dt.componentWillUnmount=="function")try{dt.props=gt.memoizedProps,dt.state=gt.memoizedState,dt.componentWillUnmount()}catch(Ht){qr(gt,xt,Ht)}break;case 5:Sl(gt,xt);break;case 4:Cn?rm(dt,gt,xt):Wt&&Wt&&(gt=gt.stateNode.containerInfo,xt=dn(gt),fr(gt,xt))}}function Qp(dt,gt,xt){for(var bt=gt;;)if(Zp(dt,bt,xt),bt.child===null||Cn&&bt.tag===4){if(bt===gt)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===gt)return;bt=bt.return}bt.sibling.return=bt.return,bt=bt.sibling}else bt.child.return=bt,bt=bt.child}function Jp(dt){var gt=dt.alternate;gt!==null&&(dt.alternate=null,Jp(gt)),dt.child=null,dt.deletions=null,dt.sibling=null,dt.tag===5&&(gt=dt.stateNode,gt!==null&&$n(gt)),dt.stateNode=null,dt.return=null,dt.dependencies=null,dt.memoizedProps=null,dt.memoizedState=null,dt.pendingProps=null,dt.stateNode=null,dt.updateQueue=null}function em(dt){return dt.tag===5||dt.tag===3||dt.tag===4}function tm(dt){e:for(;;){for(;dt.sibling===null;){if(dt.return===null||em(dt.return))return null;dt=dt.return}for(dt.sibling.return=dt.return,dt=dt.sibling;dt.tag!==5&&dt.tag!==6&&dt.tag!==18;){if(dt.flags&2||dt.child===null||dt.tag===4)continue e;dt.child.return=dt,dt=dt.child}if(!(dt.flags&2))return dt.stateNode}}function nm(dt){if(Cn){e:{for(var gt=dt.return;gt!==null;){if(em(gt))break e;gt=gt.return}throw Error(it(160))}var xt=gt;switch(xt.tag){case 5:gt=xt.stateNode,xt.flags&32&&(jn(gt),xt.flags&=-33),xt=tm(dt),Du(dt,xt,gt);break;case 3:case 4:gt=xt.stateNode.containerInfo,xt=tm(dt),Pu(dt,xt,gt);break;default:throw Error(it(161))}}}function Pu(dt,gt,xt){var bt=dt.tag;if(bt===5||bt===6)dt=dt.stateNode,gt?xn(xt,dt,gt):Fn(xt,dt);else if(bt!==4&&(dt=dt.child,dt!==null))for(Pu(dt,gt,xt),dt=dt.sibling;dt!==null;)Pu(dt,gt,xt),dt=dt.sibling}function Du(dt,gt,xt){var bt=dt.tag;if(bt===5||bt===6)dt=dt.stateNode,gt?cr(xt,dt,gt):yn(xt,dt);else if(bt!==4&&(dt=dt.child,dt!==null))for(Du(dt,gt,xt),dt=dt.sibling;dt!==null;)Du(dt,gt,xt),dt=dt.sibling}function rm(dt,gt,xt){for(var bt=gt,Pt=!1,Lt,Ht;;){if(!Pt){Pt=bt.return;e:for(;;){if(Pt===null)throw Error(it(160));switch(Lt=Pt.stateNode,Pt.tag){case 5:Ht=!1;break e;case 3:Lt=Lt.containerInfo,Ht=!0;break e;case 4:Lt=Lt.containerInfo,Ht=!0;break e}Pt=Pt.return}Pt=!0}if(bt.tag===5||bt.tag===6)Qp(dt,bt,xt),Ht?Jn(Lt,bt.stateNode):hr(Lt,bt.stateNode);else if(bt.tag===18)Ht?sn(Lt,bt.stateNode):cn(Lt,bt.stateNode);else if(bt.tag===4){if(bt.child!==null){Lt=bt.stateNode.containerInfo,Ht=!0,bt.child.return=bt,bt=bt.child;continue}}else if(Zp(dt,bt,xt),bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===gt)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===gt)return;bt=bt.return,bt.tag===4&&(Pt=!1)}bt.sibling.return=bt.return,bt=bt.sibling}}function Ru(dt,gt){if(Cn){switch(gt.tag){case 0:case 11:case 14:case 15:Us(3,gt,gt.return),Co(3,gt),Us(5,gt,gt.return);return;case 1:return;case 5:var xt=gt.stateNode;if(xt!=null){var bt=gt.memoizedProps;dt=dt!==null?dt.memoizedProps:bt;var Pt=gt.type,Lt=gt.updateQueue;gt.updateQueue=null,Lt!==null&&qn(xt,Lt,Pt,dt,bt,gt)}return;case 6:if(gt.stateNode===null)throw Error(it(162));xt=gt.memoizedProps,bn(gt.stateNode,dt!==null?dt.memoizedProps:xt,xt);return;case 3:tn&&dt!==null&&dt.memoizedState.isDehydrated&&en(gt.stateNode.containerInfo);return;case 12:return;case 13:El(gt);return;case 19:El(gt);return;case 17:return}throw Error(it(163))}switch(gt.tag){case 0:case 11:case 14:case 15:Us(3,gt,gt.return),Co(3,gt),Us(5,gt,gt.return);return;case 12:return;case 13:El(gt);return;case 19:El(gt);return;case 3:tn&&dt!==null&&dt.memoizedState.isDehydrated&&en(gt.stateNode.containerInfo);break;case 22:case 23:return}e:if(Wt){switch(gt.tag){case 1:case 5:case 6:break e;case 3:case 4:gt=gt.stateNode,fr(gt.containerInfo,gt.pendingChildren);break e}throw Error(it(163))}}function El(dt){var gt=dt.updateQueue;if(gt!==null){dt.updateQueue=null;var xt=dt.stateNode;xt===null&&(xt=dt.stateNode=new Km),gt.forEach(function(bt){var Pt=o0.bind(null,dt,bt);xt.has(bt)||(xt.add(bt),bt.then(Pt,Pt))})}}function Qm(dt,gt){for(Ln=gt;Ln!==null;){gt=Ln;var xt=gt.deletions;if(xt!==null)for(var bt=0;bt<xt.length;bt++){var Pt=xt[bt];try{var Lt=dt;Cn?rm(Lt,Pt,gt):Qp(Lt,Pt,gt);var Ht=Pt.alternate;Ht!==null&&(Ht.return=null),Pt.return=null}catch(Un){qr(Pt,gt,Un)}}if(xt=gt.child,gt.subtreeFlags&12854&&xt!==null)xt.return=gt,Ln=xt;else for(;Ln!==null;){gt=Ln;try{var Yt=gt.flags;if(Yt&32&&Cn&&jn(gt.stateNode),Yt&512){var un=gt.alternate;if(un!==null){var Tn=un.ref;Tn!==null&&(typeof Tn=="function"?Tn(null):Tn.current=null)}}if(Yt&8192)switch(gt.tag){case 13:if(gt.memoizedState!==null){var zn=gt.alternate;(zn===null||zn.memoizedState===null)&&(Nu=Ir())}break;case 22:var rr=gt.memoizedState!==null,Xn=gt.alternate,vr=Xn!==null&&Xn.memoizedState!==null;if(xt=gt,Cn){e:if(bt=xt,Pt=rr,Lt=null,Cn)for(var Hn=bt;;){if(Hn.tag===5){if(Lt===null){Lt=Hn;var Gr=Hn.stateNode;Pt?Wn(Gr):ur(Hn.stateNode,Hn.memoizedProps)}}else if(Hn.tag===6){if(Lt===null){var us=Hn.stateNode;Pt?Nn(us):qt(us,Hn.memoizedProps)}}else if((Hn.tag!==22&&Hn.tag!==23||Hn.memoizedState===null||Hn===bt)&&Hn.child!==null){Hn.child.return=Hn,Hn=Hn.child;continue}if(Hn===bt)break;for(;Hn.sibling===null;){if(Hn.return===null||Hn.return===bt)break e;Lt===Hn&&(Lt=null),Hn=Hn.return}Lt===Hn&&(Lt=null),Hn.sibling.return=Hn.return,Hn=Hn.sibling}}if(rr&&!vr&&xt.mode&1){Ln=xt;for(var nn=xt.child;nn!==null;){for(xt=Ln=nn;Ln!==null;){bt=Ln;var Kt=bt.child;switch(bt.tag){case 0:case 11:case 14:case 15:Us(4,bt,bt.return);break;case 1:Sl(bt,bt.return);var ln=bt.stateNode;if(typeof ln.componentWillUnmount=="function"){var In=bt.return;try{ln.props=bt.memoizedProps,ln.state=bt.memoizedState,ln.componentWillUnmount()}catch(Un){qr(bt,In,Un)}}break;case 5:Sl(bt,bt.return);break;case 22:if(bt.memoizedState!==null){om(xt);continue}}Kt!==null?(Kt.return=bt,Ln=Kt):om(xt)}nn=nn.sibling}}}switch(Yt&4102){case 2:nm(gt),gt.flags&=-3;break;case 6:nm(gt),gt.flags&=-3,Ru(gt.alternate,gt);break;case 4096:gt.flags&=-4097;break;case 4100:gt.flags&=-4097,Ru(gt.alternate,gt);break;case 4:Ru(gt.alternate,gt)}}catch(Un){qr(gt,gt.return,Un)}if(xt=gt.sibling,xt!==null){xt.return=gt.return,Ln=xt;break}Ln=gt.return}}}function Jm(dt,gt,xt){Ln=dt,im(dt)}function im(dt,gt,xt){for(var bt=(dt.mode&1)!==0;Ln!==null;){var Pt=Ln,Lt=Pt.child;if(Pt.tag===22&&bt){var Ht=Pt.memoizedState!==null||xl;if(!Ht){var Yt=Pt.alternate,un=Yt!==null&&Yt.memoizedState!==null||Vs;Yt=xl;var Tn=Vs;if(xl=Ht,(Vs=un)&&!Tn)for(Ln=Pt;Ln!==null;)Ht=Ln,un=Ht.child,Ht.tag===22&&Ht.memoizedState!==null?am(Pt):un!==null?(un.return=Ht,Ln=un):am(Pt);for(;Lt!==null;)Ln=Lt,im(Lt),Lt=Lt.sibling;Ln=Pt,xl=Yt,Vs=Tn}sm(dt)}else Pt.subtreeFlags&8772&&Lt!==null?(Lt.return=Pt,Ln=Lt):sm(dt)}}function sm(dt){for(;Ln!==null;){var gt=Ln;if(gt.flags&8772){var xt=gt.alternate;try{if(gt.flags&8772)switch(gt.tag){case 0:case 11:case 15:Vs||Co(5,gt);break;case 1:var bt=gt.stateNode;if(gt.flags&4&&!Vs)if(xt===null)bt.componentDidMount();else{var Pt=gt.elementType===gt.type?xt.memoizedProps:fs(gt.type,xt.memoizedProps);bt.componentDidUpdate(Pt,xt.memoizedState,bt.__reactInternalSnapshotBeforeUpdate)}var Lt=gt.updateQueue;Lt!==null&&_d(gt,Lt,bt);break;case 3:var Ht=gt.updateQueue;if(Ht!==null){if(xt=null,gt.child!==null)switch(gt.child.tag){case 5:xt=Gt(gt.child.stateNode);break;case 1:xt=gt.child.stateNode}_d(gt,Ht,xt)}break;case 5:var Yt=gt.stateNode;xt===null&&gt.flags&4&&Dn(Yt,gt.type,gt.memoizedProps,gt);break;case 6:break;case 4:break;case 12:break;case 13:if(tn&&gt.memoizedState===null){var un=gt.alternate;if(un!==null){var Tn=un.memoizedState;if(Tn!==null){var zn=Tn.dehydrated;zn!==null&&on(zn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(it(163))}Vs||gt.flags&512&&Au(gt)}catch(rr){qr(gt,gt.return,rr)}}if(gt===dt){Ln=null;break}if(xt=gt.sibling,xt!==null){xt.return=gt.return,Ln=xt;break}Ln=gt.return}}function om(dt){for(;Ln!==null;){var gt=Ln;if(gt===dt){Ln=null;break}var xt=gt.sibling;if(xt!==null){xt.return=gt.return,Ln=xt;break}Ln=gt.return}}function am(dt){for(;Ln!==null;){var gt=Ln;try{switch(gt.tag){case 0:case 11:case 15:var xt=gt.return;try{Co(4,gt)}catch(un){qr(gt,xt,un)}break;case 1:var bt=gt.stateNode;if(typeof bt.componentDidMount=="function"){var Pt=gt.return;try{bt.componentDidMount()}catch(un){qr(gt,Pt,un)}}var Lt=gt.return;try{Au(gt)}catch(un){qr(gt,Lt,un)}break;case 5:var Ht=gt.return;try{Au(gt)}catch(un){qr(gt,Ht,un)}}}catch(un){qr(gt,gt.return,un)}if(gt===dt){Ln=null;break}var Yt=gt.sibling;if(Yt!==null){Yt.return=gt.return,Ln=Yt;break}Ln=gt.return}}var Tl=0,Cl=1,Ml=2,Al=3,Pl=4;if(typeof Symbol=="function"&&Symbol.for){var Mo=Symbol.for;Tl=Mo("selector.component"),Cl=Mo("selector.has_pseudo_class"),Ml=Mo("selector.role"),Al=Mo("selector.test_id"),Pl=Mo("selector.text")}function Lu(dt){var gt=an(dt);if(gt!=null){if(typeof gt.memoizedProps["data-testname"]!="string")throw Error(it(364));return gt}if(dt=Vn(dt),dt===null)throw Error(it(362));return dt.stateNode.current}function Iu(dt,gt){switch(gt.$$typeof){case Tl:if(dt.type===gt.value)return!0;break;case Cl:e:{gt=gt.value,dt=[dt,0];for(var xt=0;xt<dt.length;){var bt=dt[xt++],Pt=dt[xt++],Lt=gt[Pt];if(bt.tag!==5||!Ft(bt)){for(;Lt!=null&&Iu(bt,Lt);)Pt++,Lt=gt[Pt];if(Pt===gt.length){gt=!0;break e}else for(bt=bt.child;bt!==null;)dt.push(bt,Pt),bt=bt.sibling}}gt=!1}return gt;case Ml:if(dt.tag===5&&Zt(dt.stateNode,gt.value))return!0;break;case Pl:if((dt.tag===5||dt.tag===6)&&(dt=zt(dt),dt!==null&&0<=dt.indexOf(gt.value)))return!0;break;case Al:if(dt.tag===5&&(dt=dt.memoizedProps["data-testname"],typeof dt=="string"&&dt.toLowerCase()===gt.value.toLowerCase()))return!0;break;default:throw Error(it(365))}return!1}function $u(dt){switch(dt.$$typeof){case Tl:return"<"+(Mt(dt.value)||"Unknown")+">";case Cl:return":has("+($u(dt)||"")+")";case Ml:return'[role="'+dt.value+'"]';case Pl:return'"'+dt.value+'"';case Al:return'[data-testname="'+dt.value+'"]';default:throw Error(it(365))}}function lm(dt,gt){var xt=[];dt=[dt,0];for(var bt=0;bt<dt.length;){var Pt=dt[bt++],Lt=dt[bt++],Ht=gt[Lt];if(Pt.tag!==5||!Ft(Pt)){for(;Ht!=null&&Iu(Pt,Ht);)Lt++,Ht=gt[Lt];if(Lt===gt.length)xt.push(Pt);else for(Pt=Pt.child;Pt!==null;)dt.push(Pt,Lt),Pt=Pt.sibling}}return xt}function Fu(dt,gt){if(!Rn)throw Error(it(363));dt=Lu(dt),dt=lm(dt,gt),gt=[],dt=Array.from(dt);for(var xt=0;xt<dt.length;){var bt=dt[xt++];if(bt.tag===5)Ft(bt)||gt.push(bt.stateNode);else for(bt=bt.child;bt!==null;)dt.push(bt),bt=bt.sibling}return gt}var _g=Math.ceil,Dl=st.ReactCurrentDispatcher,ku=st.ReactCurrentOwner,Cr=st.ReactCurrentBatchConfig,lr=0,Mr=null,Ar=null,Br=0,Jr=0,oo=Rr(0),Pr=0,Ao=null,ao=0,Rl=0,Ou=0,Po=null,jr=null,Nu=0,Bu=1/0;function lo(){Bu=Ir()+500}var Ll=!1,zu=null,Ls=null,Il=!1,Is=null,$l=0,Do=0,Vu=null,Fl=-1,Ol=0;function Wr(){return lr&6?Ir():Fl!==-1?Fl:Fl=Ir()}function $s(dt){return dt.mode&1?lr&2&&Br!==0?Br&-Br:km.transition!==null?(Ol===0&&(dt=$o,$o<<=1,!($o&4194240)&&($o=64),Ol=dt),Ol):(dt=dr,dt!==0?dt:hn()):1}function ls(dt,gt,xt){if(50<Do)throw Do=0,Vu=null,Error(it(185));var bt=Nl(dt,gt);return bt===null?null:(ho(bt,gt,xt),(!(lr&2)||bt!==Mr)&&(bt===Mr&&(!(lr&2)&&(Rl|=gt),Pr===4&&Fs(bt,Br)),Xr(bt,xt),gt===1&&lr===0&&!(dt.mode&1)&&(lo(),No&&vs())),bt)}function Nl(dt,gt){dt.lanes|=gt;var xt=dt.alternate;for(xt!==null&&(xt.lanes|=gt),xt=dt,dt=dt.return;dt!==null;)dt.childLanes|=gt,xt=dt.alternate,xt!==null&&(xt.childLanes|=gt),xt=dt,dt=dt.return;return xt.tag===3?xt.stateNode:null}function Xr(dt,gt){var xt=dt.callbackNode;Mm(dt,gt);var bt=ko(dt,dt===Mr?Br:0);if(bt===0)xt!==null&&Zu(xt),dt.callbackNode=null,dt.callbackPriority=0;else if(gt=bt&-bt,dt.callbackPriority!==gt){if(xt!=null&&Zu(xt),gt===1)dt.tag===0?Fm(um.bind(null,dt)):Qu(um.bind(null,dt)),En?Mn(function(){lr===0&&vs()}):Kl(Zl,vs),xt=null;else{switch(Ku(bt)){case 1:xt=Zl;break;case 4:xt=Rm;break;case 16:xt=Ql;break;case 536870912:xt=Lm;break;default:xt=Ql}xt=_m(xt,cm.bind(null,dt))}dt.callbackPriority=gt,dt.callbackNode=xt}}function cm(dt,gt){if(Fl=-1,Ol=0,lr&6)throw Error(it(327));var xt=dt.callbackNode;if(Ws()&&dt.callbackNode!==xt)return null;var bt=ko(dt,dt===Mr?Br:0);if(bt===0)return null;if(bt&30||bt&dt.expiredLanes||gt)gt=Bl(dt,bt);else{gt=bt;var Pt=lr;lr|=2;var Lt=dm();(Mr!==dt||Br!==gt)&&(lo(),Gs(dt,gt));do try{n0();break}catch(Yt){hm(dt,Yt)}while(!0);eu(),Dl.current=Lt,lr=Pt,Ar!==null?gt=0:(Mr=null,Br=0,gt=Pr)}if(gt!==0){if(gt===2&&(Pt=Wl(dt),Pt!==0&&(bt=Pt,gt=Uu(dt,Pt))),gt===1)throw xt=Ao,Gs(dt,0),Fs(dt,bt),Xr(dt,Ir()),xt;if(gt===6)Fs(dt,bt);else{if(Pt=dt.current.alternate,!(bt&30)&&!e0(Pt)&&(gt=Bl(dt,bt),gt===2&&(Lt=Wl(dt),Lt!==0&&(bt=Lt,gt=Uu(dt,Lt))),gt===1))throw xt=Ao,Gs(dt,0),Fs(dt,bt),Xr(dt,Ir()),xt;switch(dt.finishedWork=Pt,dt.finishedLanes=bt,gt){case 0:case 1:throw Error(it(345));case 2:Hs(dt,jr);break;case 3:if(Fs(dt,bt),(bt&130023424)===bt&&(gt=Nu+500-Ir(),10<gt)){if(ko(dt,0)!==0)break;if(Pt=dt.suspendedLanes,(Pt&bt)!==bt){Wr(),dt.pingedLanes|=dt.suspendedLanes&Pt;break}dt.timeoutHandle=fn(Hs.bind(null,dt,jr),gt);break}Hs(dt,jr);break;case 4:if(Fs(dt,bt),(bt&4194240)===bt)break;for(gt=dt.eventTimes,Pt=-1;0<bt;){var Ht=31-Yr(bt);Lt=1<<Ht,Ht=gt[Ht],Ht>Pt&&(Pt=Ht),bt&=~Lt}if(bt=Pt,bt=Ir()-bt,bt=(120>bt?120:480>bt?480:1080>bt?1080:1920>bt?1920:3e3>bt?3e3:4320>bt?4320:1960*_g(bt/1960))-bt,10<bt){dt.timeoutHandle=fn(Hs.bind(null,dt,jr),bt);break}Hs(dt,jr);break;case 5:Hs(dt,jr);break;default:throw Error(it(329))}}}return Xr(dt,Ir()),dt.callbackNode===xt?cm.bind(null,dt):null}function Uu(dt,gt){var xt=Po;return dt.current.memoizedState.isDehydrated&&(Gs(dt,gt).flags|=256),dt=Bl(dt,gt),dt!==2&&(gt=jr,jr=xt,gt!==null&&Gu(gt)),dt}function Gu(dt){jr===null?jr=dt:jr.push.apply(jr,dt)}function e0(dt){for(var gt=dt;;){if(gt.flags&16384){var xt=gt.updateQueue;if(xt!==null&&(xt=xt.stores,xt!==null))for(var bt=0;bt<xt.length;bt++){var Pt=xt[bt],Lt=Pt.getSnapshot;Pt=Pt.value;try{if(!gs(Lt(),Pt))return!1}catch{return!1}}}if(xt=gt.child,gt.subtreeFlags&16384&&xt!==null)xt.return=gt,gt=xt;else{if(gt===dt)break;for(;gt.sibling===null;){if(gt.return===null||gt.return===dt)return!0;gt=gt.return}gt.sibling.return=gt.return,gt=gt.sibling}}return!0}function Fs(dt,gt){for(gt&=~Ou,gt&=~Rl,dt.suspendedLanes|=gt,dt.pingedLanes&=~gt,dt=dt.expirationTimes;0<gt;){var xt=31-Yr(gt),bt=1<<xt;dt[xt]=-1,gt&=~bt}}function um(dt){if(lr&6)throw Error(it(327));Ws();var gt=ko(dt,0);if(!(gt&1))return Xr(dt,Ir()),null;var xt=Bl(dt,gt);if(dt.tag!==0&&xt===2){var bt=Wl(dt);bt!==0&&(gt=bt,xt=Uu(dt,bt))}if(xt===1)throw xt=Ao,Gs(dt,0),Fs(dt,gt),Xr(dt,Ir()),xt;if(xt===6)throw Error(it(345));return dt.finishedWork=dt.current.alternate,dt.finishedLanes=gt,Hs(dt,jr),Xr(dt,Ir()),null}function fm(dt){Is!==null&&Is.tag===0&&!(lr&6)&&Ws();var gt=lr;lr|=1;var xt=Cr.transition,bt=dr;try{if(Cr.transition=null,dr=1,dt)return dt()}finally{dr=bt,Cr.transition=xt,lr=gt,!(lr&6)&&vs()}}function Hu(){Jr=oo.current,Qn(oo)}function Gs(dt,gt){dt.finishedWork=null,dt.finishedLanes=0;var xt=dt.timeoutHandle;if(xt!==Pn&&(dt.timeoutHandle=Pn,_n(xt)),Ar!==null)for(xt=Ar.return;xt!==null;){var bt=xt;switch(au(bt),bt.tag){case 1:bt=bt.type.childContextTypes,bt!=null&&Tr();break;case 3:io(),Qn(Er),Qn(ar),pu();break;case 5:hu(bt);break;case 4:io();break;case 13:Qn(Sr);break;case 19:Qn(Sr);break;case 10:tu(bt.type._context);break;case 22:case 23:Hu()}xt=xt.return}if(Mr=dt,Ar=dt=ks(dt.current,null),Br=Jr=gt,Pr=0,Ao=null,Ou=Rl=ao=0,jr=Po=null,ys!==null){for(gt=0;gt<ys.length;gt++)if(xt=ys[gt],bt=xt.interleaved,bt!==null){xt.interleaved=null;var Pt=bt.next,Lt=xt.pending;if(Lt!==null){var Ht=Lt.next;Lt.next=Pt,bt.next=Ht}xt.pending=bt}ys=null}return dt}function hm(dt,gt){do{var xt=Ar;try{if(eu(),Yo.current=ga,Ko){for(var bt=br.memoizedState;bt!==null;){var Pt=bt.queue;Pt!==null&&(Pt.pending=null),bt=bt.next}Ko=!1}if(so=0,$r=zr=br=null,_o=!1,xo=0,ku.current=null,xt===null||xt.return===null){Pr=1,Ao=gt,Ar=null;break}e:{var Lt=dt,Ht=xt.return,Yt=xt,un=gt;if(gt=Br,Yt.flags|=32768,un!==null&&typeof un=="object"&&typeof un.then=="function"){var Tn=un,zn=Yt,rr=zn.tag;if(!(zn.mode&1)&&(rr===0||rr===11||rr===15)){var Xn=zn.alternate;Xn?(zn.updateQueue=Xn.updateQueue,zn.memoizedState=Xn.memoizedState,zn.lanes=Xn.lanes):(zn.updateQueue=null,zn.memoizedState=null)}var vr=Ip(Ht);if(vr!==null){vr.flags&=-257,$p(vr,Ht,Yt,Lt,gt),vr.mode&1&&Lp(Lt,Tn,gt),gt=vr,un=Tn;var Hn=gt.updateQueue;if(Hn===null){var Gr=new Set;Gr.add(un),gt.updateQueue=Gr}else Hn.add(un);break e}else{if(!(gt&1)){Lp(Lt,Tn,gt),Wu();break e}un=Error(it(426))}}else if(_r&&Yt.mode&1){var us=Ip(Ht);if(us!==null){!(us.flags&65536)&&(us.flags|=256),$p(us,Ht,Yt,Lt,gt),uu(un);break e}}Lt=un,Pr!==4&&(Pr=2),Po===null?Po=[Lt]:Po.push(Lt),un=Su(un,Yt),Yt=Ht;do{switch(Yt.tag){case 3:Yt.flags|=65536,gt&=-gt,Yt.lanes|=gt;var nn=Dp(Yt,un,gt);_h(Yt,nn);break e;case 1:Lt=un;var Kt=Yt.type,ln=Yt.stateNode;if(!(Yt.flags&128)&&(typeof Kt.getDerivedStateFromError=="function"||ln!==null&&typeof ln.componentDidCatch=="function"&&(Ls===null||!Ls.has(ln)))){Yt.flags|=65536,gt&=-gt,Yt.lanes|=gt;var In=Rp(Yt,Lt,gt);_h(Yt,In);break e}}Yt=Yt.return}while(Yt!==null)}mm(xt)}catch(Un){gt=Un,Ar===xt&&xt!==null&&(Ar=xt=xt.return);continue}break}while(!0)}function dm(){var dt=Dl.current;return Dl.current=ga,dt===null?ga:dt}function Wu(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Mr===null||!(ao&268435455)&&!(Rl&268435455)||Fs(Mr,Br)}function Bl(dt,gt){var xt=lr;lr|=2;var bt=dm();Mr===dt&&Br===gt||Gs(dt,gt);do try{t0();break}catch(Pt){hm(dt,Pt)}while(!0);if(eu(),lr=xt,Dl.current=bt,Ar!==null)throw Error(it(261));return Mr=null,Br=0,Pr}function t0(){for(;Ar!==null;)pm(Ar)}function n0(){for(;Ar!==null&&!Pm();)pm(Ar)}function pm(dt){var gt=ym(dt.alternate,dt,Jr);dt.memoizedProps=dt.pendingProps,gt===null?mm(dt):Ar=gt,ku.current=null}function mm(dt){var gt=dt;do{var xt=gt.alternate;if(dt=gt.return,gt.flags&32768){if(xt=Ym(xt,gt),xt!==null){xt.flags&=32767,Ar=xt;return}if(dt!==null)dt.flags|=32768,dt.subtreeFlags=0,dt.deletions=null;else{Pr=6,Ar=null;return}}else if(xt=jm(xt,gt,Jr),xt!==null){Ar=xt;return}if(gt=gt.sibling,gt!==null){Ar=gt;return}Ar=gt=dt}while(gt!==null);Pr===0&&(Pr=5)}function Hs(dt,gt){var xt=dr,bt=Cr.transition;try{Cr.transition=null,dr=1,r0(dt,gt,xt)}finally{Cr.transition=bt,dr=xt}return null}function r0(dt,gt,xt){do Ws();while(Is!==null);if(lr&6)throw Error(it(327));var bt=dt.finishedWork,Pt=dt.finishedLanes;if(bt===null)return null;if(dt.finishedWork=null,dt.finishedLanes=0,bt===dt.current)throw Error(it(177));dt.callbackNode=null,dt.callbackPriority=0;var Lt=bt.lanes|bt.childLanes;if(Am(dt,Lt),dt===Mr&&(Ar=Mr=null,Br=0),!(bt.subtreeFlags&2064)&&!(bt.flags&2064)||Il||(Il=!0,_m(Ql,function(){return Ws(),null})),Lt=(bt.flags&15990)!==0,bt.subtreeFlags&15990||Lt){Lt=Cr.transition,Cr.transition=null;var Ht=dr;dr=1;var Yt=lr;lr|=4,ku.current=null,Zm(dt,bt),Qm(dt,bt),Ut(dt.containerInfo),dt.current=bt,Jm(bt),Dm(),lr=Yt,dr=Ht,Cr.transition=Lt}else dt.current=bt;if(Il&&(Il=!1,Is=dt,$l=Pt),Lt=dt.pendingLanes,Lt===0&&(Ls=null),Im(bt.stateNode),Xr(dt,Ir()),gt!==null)for(xt=dt.onRecoverableError,bt=0;bt<gt.length;bt++)xt(gt[bt]);if(Ll)throw Ll=!1,dt=zu,zu=null,dt;return $l&1&&dt.tag!==0&&Ws(),Lt=dt.pendingLanes,Lt&1?dt===Vu?Do++:(Do=0,Vu=dt):Do=0,vs(),null}function Ws(){if(Is!==null){var dt=Ku($l),gt=Cr.transition,xt=dr;try{if(Cr.transition=null,dr=16>dt?16:dt,Is===null)var bt=!1;else{if(dt=Is,Is=null,$l=0,lr&6)throw Error(it(331));var Pt=lr;for(lr|=4,Ln=dt.current;Ln!==null;){var Lt=Ln,Ht=Lt.child;if(Ln.flags&16){var Yt=Lt.deletions;if(Yt!==null){for(var un=0;un<Yt.length;un++){var Tn=Yt[un];for(Ln=Tn;Ln!==null;){var zn=Ln;switch(zn.tag){case 0:case 11:case 15:Us(8,zn,Lt)}var rr=zn.child;if(rr!==null)rr.return=zn,Ln=rr;else for(;Ln!==null;){zn=Ln;var Xn=zn.sibling,vr=zn.return;if(Jp(zn),zn===Tn){Ln=null;break}if(Xn!==null){Xn.return=vr,Ln=Xn;break}Ln=vr}}}var Hn=Lt.alternate;if(Hn!==null){var Gr=Hn.child;if(Gr!==null){Hn.child=null;do{var us=Gr.sibling;Gr.sibling=null,Gr=us}while(Gr!==null)}}Ln=Lt}}if(Lt.subtreeFlags&2064&&Ht!==null)Ht.return=Lt,Ln=Ht;else e:for(;Ln!==null;){if(Lt=Ln,Lt.flags&2048)switch(Lt.tag){case 0:case 11:case 15:Us(9,Lt,Lt.return)}var nn=Lt.sibling;if(nn!==null){nn.return=Lt.return,Ln=nn;break e}Ln=Lt.return}}var Kt=dt.current;for(Ln=Kt;Ln!==null;){Ht=Ln;var ln=Ht.child;if(Ht.subtreeFlags&2064&&ln!==null)ln.return=Ht,Ln=ln;else e:for(Ht=Kt;Ln!==null;){if(Yt=Ln,Yt.flags&2048)try{switch(Yt.tag){case 0:case 11:case 15:Co(9,Yt)}}catch(Un){qr(Yt,Yt.return,Un)}if(Yt===Ht){Ln=null;break e}var In=Yt.sibling;if(In!==null){In.return=Yt.return,Ln=In;break e}Ln=Yt.return}}if(lr=Pt,vs(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(Oo,dt)}catch{}bt=!0}return bt}finally{dr=xt,Cr.transition=gt}}return!1}function gm(dt,gt,xt){gt=Su(xt,gt),gt=Dp(dt,gt,1),Rs(dt,gt),gt=Wr(),dt=Nl(dt,1),dt!==null&&(ho(dt,1,gt),Xr(dt,gt))}function qr(dt,gt,xt){if(dt.tag===3)gm(dt,dt,xt);else for(;gt!==null;){if(gt.tag===3){gm(gt,dt,xt);break}else if(gt.tag===1){var bt=gt.stateNode;if(typeof gt.type.getDerivedStateFromError=="function"||typeof bt.componentDidCatch=="function"&&(Ls===null||!Ls.has(bt))){dt=Su(xt,dt),dt=Rp(gt,dt,1),Rs(gt,dt),dt=Wr(),gt=Nl(gt,1),gt!==null&&(ho(gt,1,dt),Xr(gt,dt));break}}gt=gt.return}}function i0(dt,gt,xt){var bt=dt.pingCache;bt!==null&&bt.delete(gt),gt=Wr(),dt.pingedLanes|=dt.suspendedLanes&xt,Mr===dt&&(Br&xt)===xt&&(Pr===4||Pr===3&&(Br&130023424)===Br&&500>Ir()-Nu?Gs(dt,0):Ou|=xt),Xr(dt,gt)}function vm(dt,gt){gt===0&&(dt.mode&1?(gt=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):gt=1);var xt=Wr();dt=Nl(dt,gt),dt!==null&&(ho(dt,gt,xt),Xr(dt,xt))}function s0(dt){var gt=dt.memoizedState,xt=0;gt!==null&&(xt=gt.retryLane),vm(dt,xt)}function o0(dt,gt){var xt=0;switch(dt.tag){case 13:var bt=dt.stateNode,Pt=dt.memoizedState;Pt!==null&&(xt=Pt.retryLane);break;case 19:bt=dt.stateNode;break;default:throw Error(it(314))}bt!==null&&bt.delete(gt),vm(dt,xt)}var ym;ym=function(dt,gt,xt){if(dt!==null)if(dt.memoizedProps!==gt.pendingProps||Er.current)Qr=!0;else{if(!(dt.lanes&xt)&&!(gt.flags&128))return Qr=!1,qm(dt,gt,xt);Qr=!!(dt.flags&131072)}else Qr=!1,_r&&gt.flags&1048576&&ip(gt,jo,gt.index);switch(gt.lanes=0,gt.tag){case 2:var bt=gt.type;dt!==null&&(dt.alternate=null,gt.alternate=null,gt.flags|=2),dt=gt.pendingProps;var Pt=ts(gt,ar.current);Qs(gt,xt),Pt=gu(null,gt,bt,dt,Pt,xt);var Lt=vu();return gt.flags|=1,typeof Pt=="object"&&Pt!==null&&typeof Pt.render=="function"&&Pt.$$typeof===void 0?(gt.tag=1,gt.memoizedState=null,gt.updateQueue=null,Lr(bt)?(Lt=!0,Nr(gt)):Lt=!1,gt.memoizedState=Pt.state!==null&&Pt.state!==void 0?Pt.state:null,ru(gt),Pt.updater=Ho,gt.stateNode=Pt,Pt._reactInternals=gt,su(gt,bt,dt,xt),gt=wu(null,gt,bt,!0,Lt,xt)):(gt.tag=0,_r&&Lt&&ou(gt),Hr(null,gt,Pt,xt),gt=gt.child),gt;case 16:bt=gt.elementType;e:{switch(dt!==null&&(dt.alternate=null,gt.alternate=null,gt.flags|=2),dt=gt.pendingProps,Pt=bt._init,bt=Pt(bt._payload),gt.type=bt,Pt=gt.tag=l0(bt),dt=fs(bt,dt),Pt){case 0:gt=bu(null,gt,bt,dt,xt);break e;case 1:gt=Up(null,gt,bt,dt,xt);break e;case 11:gt=Op(null,gt,bt,dt,xt);break e;case 14:gt=Np(null,gt,bt,fs(bt.type,dt),xt);break e}throw Error(it(306,bt,""))}return gt;case 0:return bt=gt.type,Pt=gt.pendingProps,Pt=gt.elementType===bt?Pt:fs(bt,Pt),bu(dt,gt,bt,Pt,xt);case 1:return bt=gt.type,Pt=gt.pendingProps,Pt=gt.elementType===bt?Pt:fs(bt,Pt),Up(dt,gt,bt,Pt,xt);case 3:e:{if(Gp(gt),dt===null)throw Error(it(387));bt=gt.pendingProps,Lt=gt.memoizedState,Pt=Lt.element,_f(dt,gt),Go(gt,bt,null,xt);var Ht=gt.memoizedState;if(bt=Ht.element,tn&&Lt.isDehydrated)if(Lt={element:bt,isDehydrated:!1,cache:Ht.cache,transitions:Ht.transitions},gt.updateQueue.baseState=Lt,gt.memoizedState=Lt,gt.flags&256){Pt=Error(it(423)),gt=Hp(dt,gt,bt,xt,Pt);break e}else if(bt!==Pt){Pt=Error(it(424)),gt=Hp(dt,gt,bt,xt,Pt);break e}else for(tn&&(Zr=Ro(gt.stateNode.containerInfo),Kr=gt,_r=!0,hs=null,po=!1),xt=up(gt,null,bt,xt),gt.child=xt;xt;)xt.flags=xt.flags&-3|4096,xt=xt.sibling;else{if(to(),bt===Pt){gt=Ms(dt,gt,xt);break e}Hr(dt,gt,bt,xt)}gt=gt.child}return gt;case 5:return fp(gt),dt===null&&cu(gt),bt=gt.type,Pt=gt.pendingProps,Lt=dt!==null?dt.memoizedProps:null,Ht=Pt.children,rn(bt,Pt)?Ht=null:Lt!==null&&rn(bt,Lt)&&(gt.flags|=32),Vp(dt,gt),Hr(dt,gt,Ht,xt),gt.child;case 6:return dt===null&&cu(gt),null;case 13:return Wp(dt,gt,xt);case 4:return fu(gt,gt.stateNode.containerInfo),bt=gt.pendingProps,dt===null?gt.child=no(gt,null,bt,xt):Hr(dt,gt,bt,xt),gt.child;case 11:return bt=gt.type,Pt=gt.pendingProps,Pt=gt.elementType===bt?Pt:fs(bt,Pt),Op(dt,gt,bt,Pt,xt);case 7:return Hr(dt,gt,gt.pendingProps,xt),gt.child;case 8:return Hr(dt,gt,gt.pendingProps.children,xt),gt.child;case 12:return Hr(dt,gt,gt.pendingProps.children,xt),gt.child;case 10:e:{if(bt=gt.type._context,Pt=gt.pendingProps,Lt=gt.memoizedProps,Ht=Pt.value,Ju(gt,bt,Ht),Lt!==null)if(gs(Lt.value,Ht)){if(Lt.children===Pt.children&&!Er.current){gt=Ms(dt,gt,xt);break e}}else for(Lt=gt.child,Lt!==null&&(Lt.return=gt);Lt!==null;){var Yt=Lt.dependencies;if(Yt!==null){Ht=Lt.child;for(var un=Yt.firstContext;un!==null;){if(un.context===bt){if(Lt.tag===1){un=bs(-1,xt&-xt),un.tag=2;var Tn=Lt.updateQueue;if(Tn!==null){Tn=Tn.shared;var zn=Tn.pending;zn===null?un.next=un:(un.next=zn.next,zn.next=un),Tn.pending=un}}Lt.lanes|=xt,un=Lt.alternate,un!==null&&(un.lanes|=xt),nu(Lt.return,xt,gt),Yt.lanes|=xt;break}un=un.next}}else if(Lt.tag===10)Ht=Lt.type===gt.type?null:Lt.child;else if(Lt.tag===18){if(Ht=Lt.return,Ht===null)throw Error(it(341));Ht.lanes|=xt,Yt=Ht.alternate,Yt!==null&&(Yt.lanes|=xt),nu(Ht,xt,gt),Ht=Lt.sibling}else Ht=Lt.child;if(Ht!==null)Ht.return=Lt;else for(Ht=Lt;Ht!==null;){if(Ht===gt){Ht=null;break}if(Lt=Ht.sibling,Lt!==null){Lt.return=Ht.return,Ht=Lt;break}Ht=Ht.return}Lt=Ht}Hr(dt,gt,Pt.children,xt),gt=gt.child}return gt;case 9:return Pt=gt.type,bt=gt.pendingProps.children,Qs(gt,xt),Pt=ns(Pt),bt=bt(Pt),gt.flags|=1,Hr(dt,gt,bt,xt),gt.child;case 14:return bt=gt.type,Pt=fs(bt,gt.pendingProps),Pt=fs(bt.type,Pt),Np(dt,gt,bt,Pt,xt);case 15:return Bp(dt,gt,gt.type,gt.pendingProps,xt);case 17:return bt=gt.type,Pt=gt.pendingProps,Pt=gt.elementType===bt?Pt:fs(bt,Pt),dt!==null&&(dt.alternate=null,gt.alternate=null,gt.flags|=2),gt.tag=1,Lr(bt)?(dt=!0,Nr(gt)):dt=!1,Qs(gt,xt),np(gt,bt,Pt),su(gt,bt,Pt,xt),wu(null,gt,bt,!0,dt,xt);case 19:return Yp(dt,gt,xt);case 22:return zp(dt,gt,xt)}throw Error(it(156,gt.tag))};function _m(dt,gt){return Kl(dt,gt)}function a0(dt,gt,xt,bt){this.tag=dt,this.key=xt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=gt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(dt,gt,xt,bt){return new a0(dt,gt,xt,bt)}function ju(dt){return dt=dt.prototype,!(!dt||!dt.isReactComponent)}function l0(dt){if(typeof dt=="function")return ju(dt)?1:0;if(dt!=null){if(dt=dt.$$typeof,dt===vt)return 11;if(dt===yt)return 14}return 2}function ks(dt,gt){var xt=dt.alternate;return xt===null?(xt=cs(dt.tag,gt,dt.key,dt.mode),xt.elementType=dt.elementType,xt.type=dt.type,xt.stateNode=dt.stateNode,xt.alternate=dt,dt.alternate=xt):(xt.pendingProps=gt,xt.type=dt.type,xt.flags=0,xt.subtreeFlags=0,xt.deletions=null),xt.flags=dt.flags&14680064,xt.childLanes=dt.childLanes,xt.lanes=dt.lanes,xt.child=dt.child,xt.memoizedProps=dt.memoizedProps,xt.memoizedState=dt.memoizedState,xt.updateQueue=dt.updateQueue,gt=dt.dependencies,xt.dependencies=gt===null?null:{lanes:gt.lanes,firstContext:gt.firstContext},xt.sibling=dt.sibling,xt.index=dt.index,xt.ref=dt.ref,xt}function zl(dt,gt,xt,bt,Pt,Lt){var Ht=2;if(bt=dt,typeof dt=="function")ju(dt)&&(Ht=1);else if(typeof dt=="string")Ht=5;else e:switch(dt){case lt:return js(xt.children,Pt,Lt,gt);case ct:Ht=8,Pt|=8;break;case ut:return dt=cs(12,xt,gt,Pt|2),dt.elementType=ut,dt.lanes=Lt,dt;case mt:return dt=cs(13,xt,gt,Pt),dt.elementType=mt,dt.lanes=Lt,dt;case pt:return dt=cs(19,xt,gt,Pt),dt.elementType=pt,dt.lanes=Lt,dt;case St:return Vl(xt,Pt,Lt,gt);default:if(typeof dt=="object"&&dt!==null)switch(dt.$$typeof){case ft:Ht=10;break e;case ht:Ht=9;break e;case vt:Ht=11;break e;case yt:Ht=14;break e;case _t:Ht=16,bt=null;break e}throw Error(it(130,dt==null?dt:typeof dt,""))}return gt=cs(Ht,xt,gt,Pt),gt.elementType=dt,gt.type=bt,gt.lanes=Lt,gt}function js(dt,gt,xt,bt){return dt=cs(7,dt,bt,gt),dt.lanes=xt,dt}function Vl(dt,gt,xt,bt){return dt=cs(22,dt,bt,gt),dt.elementType=St,dt.lanes=xt,dt.stateNode={},dt}function Xu(dt,gt,xt){return dt=cs(6,dt,null,gt),dt.lanes=xt,dt}function qu(dt,gt,xt){return gt=cs(4,dt.children!==null?dt.children:[],dt.key,gt),gt.lanes=xt,gt.stateNode={containerInfo:dt.containerInfo,pendingChildren:null,implementation:dt.implementation},gt}function c0(dt,gt,xt,bt,Pt){this.tag=gt,this.containerInfo=dt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=bt,this.onRecoverableError=Pt,tn&&(this.mutableSourceEagerHydrationData=null)}function xm(dt,gt,xt,bt,Pt,Lt,Ht,Yt,un){return dt=new c0(dt,gt,xt,Yt,un),gt===1?(gt=1,Lt===!0&&(gt|=8)):gt=0,Lt=cs(3,null,null,gt),dt.current=Lt,Lt.stateNode=dt,Lt.memoizedState={element:bt,isDehydrated:xt,cache:null,transitions:null},ru(Lt),dt}function Sm(dt){if(!dt)return es;dt=dt._reactInternals;e:{if(Tt(dt)!==dt||dt.tag!==1)throw Error(it(170));var gt=dt;do{switch(gt.tag){case 3:gt=gt.stateNode.context;break e;case 1:if(Lr(gt.type)){gt=gt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}gt=gt.return}while(gt!==null);throw Error(it(171))}if(dt.tag===1){var xt=dt.type;if(Lr(xt))return Ys(dt,xt,gt)}return gt}function Em(dt){var gt=dt._reactInternals;if(gt===void 0)throw typeof dt.render=="function"?Error(it(188)):(dt=Object.keys(dt).join(","),Error(it(268,dt)));return dt=$t(gt),dt===null?null:dt.stateNode}function bm(dt,gt){if(dt=dt.memoizedState,dt!==null&&dt.dehydrated!==null){var xt=dt.retryLane;dt.retryLane=xt!==0&&xt<gt?xt:gt}}function Yu(dt,gt){bm(dt,gt),(dt=dt.alternate)&&bm(dt,gt)}function u0(dt){return dt=$t(dt),dt===null?null:dt.stateNode}function f0(){return null}return et.attemptContinuousHydration=function(dt){if(dt.tag===13){var gt=Wr();ls(dt,134217728,gt),Yu(dt,134217728)}},et.attemptHydrationAtCurrentPriority=function(dt){if(dt.tag===13){var gt=Wr(),xt=$s(dt);ls(dt,xt,gt),Yu(dt,xt)}},et.attemptSynchronousHydration=function(dt){switch(dt.tag){case 3:var gt=dt.stateNode;if(gt.current.memoizedState.isDehydrated){var xt=fo(gt.pendingLanes);xt!==0&&(Yl(gt,xt|1),Xr(gt,Ir()),!(lr&6)&&(lo(),vs()))}break;case 13:var bt=Wr();fm(function(){return ls(dt,1,bt)}),Yu(dt,1)}},et.batchedUpdates=function(dt,gt){var xt=lr;lr|=1;try{return dt(gt)}finally{lr=xt,lr===0&&(lo(),No&&vs())}},et.createComponentSelector=function(dt){return{$$typeof:Tl,value:dt}},et.createContainer=function(dt,gt,xt,bt,Pt,Lt,Ht){return xm(dt,gt,!1,null,xt,bt,Pt,Lt,Ht)},et.createHasPseudoClassSelector=function(dt){return{$$typeof:Cl,value:dt}},et.createHydrationContainer=function(dt,gt,xt,bt,Pt,Lt,Ht,Yt,un){return dt=xm(xt,bt,!0,dt,Pt,Lt,Ht,Yt,un),dt.context=Sm(null),xt=dt.current,bt=Wr(),Pt=$s(xt),Lt=bs(bt,Pt),Lt.callback=gt??null,Rs(xt,Lt),dt.current.lanes=Pt,ho(dt,Pt,bt),Xr(dt,bt),dt},et.createPortal=function(dt,gt,xt){var bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:at,key:bt==null?null:""+bt,children:dt,containerInfo:gt,implementation:xt}},et.createRoleSelector=function(dt){return{$$typeof:Ml,value:dt}},et.createTestNameSelector=function(dt){return{$$typeof:Al,value:dt}},et.createTextSelector=function(dt){return{$$typeof:Pl,value:dt}},et.deferredUpdates=function(dt){var gt=dr,xt=Cr.transition;try{return Cr.transition=null,dr=16,dt()}finally{dr=gt,Cr.transition=xt}},et.discreteUpdates=function(dt,gt,xt,bt,Pt){var Lt=dr,Ht=Cr.transition;try{return Cr.transition=null,dr=1,dt(gt,xt,bt,Pt)}finally{dr=Lt,Cr.transition=Ht,lr===0&&lo()}},et.findAllNodes=Fu,et.findBoundingRects=function(dt,gt){if(!Rn)throw Error(it(363));gt=Fu(dt,gt),dt=[];for(var xt=0;xt<gt.length;xt++)dt.push(sr(gt[xt]));for(gt=dt.length-1;0<gt;gt--){xt=dt[gt];for(var bt=xt.x,Pt=bt+xt.width,Lt=xt.y,Ht=Lt+xt.height,Yt=gt-1;0<=Yt;Yt--)if(gt!==Yt){var un=dt[Yt],Tn=un.x,zn=Tn+un.width,rr=un.y,Xn=rr+un.height;if(bt>=Tn&&Lt>=rr&&Pt<=zn&&Ht<=Xn){dt.splice(gt,1);break}else if(bt!==Tn||xt.width!==un.width||Xn<Lt||rr>Ht){if(!(Lt!==rr||xt.height!==un.height||zn<bt||Tn>Pt)){Tn>bt&&(un.width+=Tn-bt,un.x=bt),zn<Pt&&(un.width=Pt-Tn),dt.splice(gt,1);break}}else{rr>Lt&&(un.height+=rr-Lt,un.y=Lt),Xn<Ht&&(un.height=Ht-rr),dt.splice(gt,1);break}}}return dt},et.findHostInstance=Em,et.findHostInstanceWithNoPortals=function(dt){return dt=Dt(dt),dt=dt!==null?It(dt):null,dt===null?null:dt.stateNode},et.findHostInstanceWithWarning=function(dt){return Em(dt)},et.flushControlled=function(dt){var gt=lr;lr|=1;var xt=Cr.transition,bt=dr;try{Cr.transition=null,dr=1,dt()}finally{dr=bt,Cr.transition=xt,lr=gt,lr===0&&(lo(),vs())}},et.flushPassiveEffects=Ws,et.flushSync=fm,et.focusWithin=function(dt,gt){if(!Rn)throw Error(it(363));for(dt=Lu(dt),gt=lm(dt,gt),gt=Array.from(gt),dt=0;dt<gt.length;){var xt=gt[dt++];if(!Ft(xt)){if(xt.tag===5&&gn(xt.stateNode))return!0;for(xt=xt.child;xt!==null;)gt.push(xt),xt=xt.sibling}}return!1},et.getCurrentUpdatePriority=function(){return dr},et.getFindAllNodesFailureDescription=function(dt,gt){if(!Rn)throw Error(it(363));var xt=0,bt=[];dt=[Lu(dt),0];for(var Pt=0;Pt<dt.length;){var Lt=dt[Pt++],Ht=dt[Pt++],Yt=gt[Ht];if((Lt.tag!==5||!Ft(Lt))&&(Iu(Lt,Yt)&&(bt.push($u(Yt)),Ht++,Ht>xt&&(xt=Ht)),Ht<gt.length))for(Lt=Lt.child;Lt!==null;)dt.push(Lt,Ht),Lt=Lt.sibling}if(xt<gt.length){for(dt=[];xt<gt.length;xt++)dt.push($u(gt[xt]));return`findAllNodes was able to match part of the selector:
  `+(bt.join(" > ")+`

No matching component was found for:
  `)+dt.join(" > ")}return null},et.getPublicRootInstance=function(dt){if(dt=dt.current,!dt.child)return null;switch(dt.child.tag){case 5:return Gt(dt.child.stateNode);default:return dt.child.stateNode}},et.injectIntoDevTools=function(dt){if(dt={bundleType:dt.bundleType,version:dt.version,rendererPackageName:dt.rendererPackageName,rendererConfig:dt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:st.ReactCurrentDispatcher,findHostInstanceByFiber:u0,findFiberByHostInstance:dt.findFiberByHostInstance||f0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")dt=!1;else{var gt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(gt.isDisabled||!gt.supportsFiber)dt=!0;else{try{Oo=gt.inject(dt),ms=gt}catch{}dt=!!gt.checkDCE}}return dt},et.isAlreadyRendering=function(){return!1},et.observeVisibleRects=function(dt,gt,xt,bt){if(!Rn)throw Error(it(363));dt=Fu(dt,gt);var Pt=mn(dt,xt,bt).disconnect;return{disconnect:function(){Pt()}}},et.registerMutableSourceForHydration=function(dt,gt){var xt=gt._getVersion;xt=xt(gt._source),dt.mutableSourceEagerHydrationData==null?dt.mutableSourceEagerHydrationData=[gt,xt]:dt.mutableSourceEagerHydrationData.push(gt,xt)},et.runWithPriority=function(dt,gt){var xt=dr;try{return dr=dt,gt()}finally{dr=xt}},et.shouldError=function(){return null},et.shouldSuspend=function(){return!1},et.updateContainer=function(dt,gt,xt,bt){var Pt=gt.current,Lt=Wr(),Ht=$s(Pt);return xt=Sm(xt),gt.context===null?gt.context=xt:gt.pendingContext=xt,gt=bs(Lt,Ht),gt.payload={element:dt},bt=bt===void 0?null:bt,bt!==null&&(gt.callback=bt),Rs(Pt,gt),dt=ls(Pt,Ht,Lt),dt!==null&&Uo(dt,Pt,Ht),Ht},et};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),isPromise=_e=>typeof _e=="object"&&typeof _e.then=="function",globalCache=[];function shallowEqualArrays(_e,_,et=(tt,nt)=>tt===nt){if(_e===_)return!0;if(!_e||!_)return!1;const tt=_e.length;if(_.length!==tt)return!1;for(let nt=0;nt<tt;nt++)if(!et(_e[nt],_[nt]))return!1;return!0}function query(_e,_=null,et=!1,tt={}){_===null&&(_=[_e]);for(const rt of globalCache)if(shallowEqualArrays(_,rt.keys,rt.equal)){if(et)return;if(Object.prototype.hasOwnProperty.call(rt,"error"))throw rt.error;if(Object.prototype.hasOwnProperty.call(rt,"response"))return tt.lifespan&&tt.lifespan>0&&(rt.timeout&&clearTimeout(rt.timeout),rt.timeout=setTimeout(rt.remove,tt.lifespan)),rt.response;if(!et)throw rt.promise}const nt={keys:_,equal:tt.equal,remove:()=>{const rt=globalCache.indexOf(nt);rt!==-1&&globalCache.splice(rt,1)},promise:(isPromise(_e)?_e:_e(..._)).then(rt=>{nt.response=rt,tt.lifespan&&tt.lifespan>0&&(nt.timeout=setTimeout(nt.remove,tt.lifespan))}).catch(rt=>nt.error=rt)};if(globalCache.push(nt),!et)throw nt.promise}const suspend=(_e,_,et)=>query(_e,_,!1,et),preload=(_e,_,et)=>void query(_e,_,!0,et),clear=_e=>{if(_e===void 0||_e.length===0)globalCache.splice(0,globalCache.length);else{const _=globalCache.find(et=>shallowEqualArrays(_e,et.keys,et.equal));_&&_.remove()}},catalogue={},extend$2=_e=>void Object.assign(catalogue,_e);function createRenderer(_e,_){function et(lt,{args:ct=[],attach:ut,...ft},ht){let vt=`${lt[0].toUpperCase()}${lt.slice(1)}`,mt;if(lt==="primitive"){if(ft.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const pt=ft.object;mt=prepare(pt,{type:lt,root:ht,attach:ut,primitive:!0})}else{const pt=catalogue[vt];if(!pt)throw new Error(`R3F: ${vt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(ct))throw new Error("R3F: The args prop must be an array!");mt=prepare(new pt(...ct),{type:lt,root:ht,attach:ut,memoizedProps:{args:ct}})}return mt.__r3f.attach===void 0&&(mt instanceof BufferGeometry?mt.__r3f.attach="geometry":mt instanceof Material&&(mt.__r3f.attach="material")),vt!=="inject"&&applyProps$1(mt,ft),mt}function tt(lt,ct){let ut=!1;if(ct){var ft,ht;(ft=ct.__r3f)!=null&&ft.attach?attach(lt,ct,ct.__r3f.attach):ct.isObject3D&&lt.isObject3D&&(lt.add(ct),ut=!0),ut||(ht=lt.__r3f)==null||ht.objects.push(ct),ct.__r3f||prepare(ct,{}),ct.__r3f.parent=lt,updateInstance(ct),invalidateInstance(ct)}}function nt(lt,ct,ut){let ft=!1;if(ct){var ht,vt;if((ht=ct.__r3f)!=null&&ht.attach)attach(lt,ct,ct.__r3f.attach);else if(ct.isObject3D&&lt.isObject3D){ct.parent=lt,ct.dispatchEvent({type:"added"});const mt=lt.children.filter(yt=>yt!==ct),pt=mt.indexOf(ut);lt.children=[...mt.slice(0,pt),ct,...mt.slice(pt)],ft=!0}ft||(vt=lt.__r3f)==null||vt.objects.push(ct),ct.__r3f||prepare(ct,{}),ct.__r3f.parent=lt,updateInstance(ct),invalidateInstance(ct)}}function rt(lt,ct,ut=!1){lt&&[...lt].forEach(ft=>it(ct,ft,ut))}function it(lt,ct,ut){if(ct){var ft,ht,vt;if(ct.__r3f&&(ct.__r3f.parent=null),(ft=lt.__r3f)!=null&&ft.objects&&(lt.__r3f.objects=lt.__r3f.objects.filter(St=>St!==ct)),(ht=ct.__r3f)!=null&&ht.attach)detach(lt,ct,ct.__r3f.attach);else if(ct.isObject3D&&lt.isObject3D){var mt;lt.remove(ct),(mt=ct.__r3f)!=null&&mt.root&&removeInteractivity(ct.__r3f.root,ct)}const yt=(vt=ct.__r3f)==null?void 0:vt.primitive,_t=!yt&&(ut===void 0?ct.dispose!==null:ut);if(!yt){var pt;rt((pt=ct.__r3f)==null?void 0:pt.objects,ct,_t),rt(ct.children,ct,_t)}if(delete ct.__r3f,_t&&ct.dispose&&ct.type!=="Scene"){const St=()=>{try{ct.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,St):St()}invalidateInstance(lt)}}function st(lt,ct,ut,ft){var ht;const vt=(ht=lt.__r3f)==null?void 0:ht.parent;if(!vt)return;const mt=et(ct,ut,lt.__r3f.root);if(lt.children){for(const pt of lt.children)pt.__r3f&&tt(mt,pt);lt.children=lt.children.filter(pt=>!pt.__r3f)}lt.__r3f.objects.forEach(pt=>tt(mt,pt)),lt.__r3f.objects=[],lt.__r3f.autoRemovedBeforeAppend||it(vt,lt),mt.parent&&(mt.__r3f.autoRemovedBeforeAppend=!0),tt(vt,mt),mt.raycast&&mt.__r3f.eventCount&&mt.__r3f.root.getState().internal.interaction.push(mt),[ft,ft.alternate].forEach(pt=>{pt!==null&&(pt.stateNode=mt,pt.ref&&(typeof pt.ref=="function"?pt.ref(mt):pt.ref.current=mt))})}const ot=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:et,removeChild:it,appendChild:tt,appendInitialChild:tt,insertBefore:nt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(lt,ct)=>{if(!ct)return;const ut=lt.getState().scene;ut.__r3f&&(ut.__r3f.root=lt,tt(ut,ct))},removeChildFromContainer:(lt,ct)=>{ct&&it(lt.getState().scene,ct)},insertInContainerBefore:(lt,ct,ut)=>{if(!ct||!ut)return;const ft=lt.getState().scene;ft.__r3f&&nt(ft,ct,ut)},getRootHostContext:()=>null,getChildHostContext:lt=>lt,finalizeInitialChildren(lt){var ct;return!!((ct=lt==null?void 0:lt.__r3f)!=null?ct:{}).handlers},prepareUpdate(lt,ct,ut,ft){var ht;if(((ht=lt==null?void 0:lt.__r3f)!=null?ht:{}).primitive&&ft.object&&ft.object!==lt)return[!0];{const{args:mt=[],children:pt,...yt}=ft,{args:_t=[],children:St,...Et}=ut;if(!Array.isArray(mt))throw new Error("R3F: the args prop must be an array!");if(mt.some((Mt,At)=>Mt!==_t[At]))return[!0];const wt=diffProps(lt,yt,Et,!0);return wt.changes.length?[!1,wt]:null}},commitUpdate(lt,[ct,ut],ft,ht,vt,mt){ct?st(lt,ft,vt,mt):applyProps$1(lt,ut)},commitMount(lt,ct,ut,ft){var ht;const vt=(ht=lt.__r3f)!=null?ht:{};lt.raycast&&vt.handlers&&vt.eventCount&&lt.__r3f.root.getState().internal.interaction.push(lt)},getPublicInstance:lt=>lt,prepareForCommit:()=>null,preparePortalMount:lt=>prepare(lt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(lt){var ct;const{attach:ut,parent:ft}=(ct=lt.__r3f)!=null?ct:{};ut&&ft&&detach(ft,lt,ut),lt.isObject3D&&(lt.visible=!1),invalidateInstance(lt)},unhideInstance(lt,ct){var ut;const{attach:ft,parent:ht}=(ut=lt.__r3f)!=null?ut:{};ft&&ht&&attach(ht,lt,ft),(lt.isObject3D&&ct.visible==null||ct.visible)&&(lt.visible=!0),invalidateInstance(lt)},createTextInstance:ot,hideTextInstance:ot,unhideTextInstance:ot,getCurrentEventPriority:()=>_?_():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document$1,_window$navigator$1;const hasColorSpace=_e=>"colorSpace"in _e||"outputColorSpace"in _e,getColorManagement=()=>{var _e;return(_e=catalogue.ColorManagement)!=null?_e:null},isOrthographicCamera=_e=>_e&&_e.isOrthographicCamera,isRef=_e=>_e&&_e.hasOwnProperty("current"),useIsomorphicLayoutEffect$2=typeof window<"u"&&((_window$document$1=window.document)!=null&&_window$document$1.createElement||((_window$navigator$1=window.navigator)==null?void 0:_window$navigator$1.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(_e){const _=reactExports.useRef(_e);return useIsomorphicLayoutEffect$2(()=>void(_.current=_e),[_e]),_}function Block({set:_e}){return useIsomorphicLayoutEffect$2(()=>(_e(new Promise(()=>null)),()=>_e(!1)),[_e]),null}class ErrorBoundary extends reactExports.Component{constructor(..._){super(..._),this.state={error:!1}}componentDidCatch(_){this.props.set(_)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=_e=>_e&&!!_e.memoized&&!!_e.changes;function calculateDpr(_e){var _;const et=typeof window<"u"?(_=window.devicePixelRatio)!=null?_:2:1;return Array.isArray(_e)?Math.min(Math.max(_e[0],et),_e[1]):_e}const getRootState=_e=>{var _;return(_=_e.__r3f)==null?void 0:_.root.getState()},is={obj:_e=>_e===Object(_e)&&!is.arr(_e)&&typeof _e!="function",fun:_e=>typeof _e=="function",str:_e=>typeof _e=="string",num:_e=>typeof _e=="number",boo:_e=>typeof _e=="boolean",und:_e=>_e===void 0,arr:_e=>Array.isArray(_e),equ(_e,_,{arrays:et="shallow",objects:tt="reference",strict:nt=!0}={}){if(typeof _e!=typeof _||!!_e!=!!_)return!1;if(is.str(_e)||is.num(_e))return _e===_;const rt=is.obj(_e);if(rt&&tt==="reference")return _e===_;const it=is.arr(_e);if(it&&et==="reference")return _e===_;if((it||rt)&&_e===_)return!0;let st;for(st in _e)if(!(st in _))return!1;if(rt&&et==="shallow"&&tt==="shallow"){for(st in nt?_:_e)if(!is.equ(_e[st],_[st],{strict:nt,objects:"reference"}))return!1}else for(st in nt?_:_e)if(_e[st]!==_[st])return!1;if(is.und(st)){if(it&&_e.length===0&&_.length===0||rt&&Object.keys(_e).length===0&&Object.keys(_).length===0)return!0;if(_e!==_)return!1}return!0}};function buildGraph(_e){const _={nodes:{},materials:{}};return _e&&_e.traverse(et=>{et.name&&(_.nodes[et.name]=et),et.material&&!_.materials[et.material.name]&&(_.materials[et.material.name]=et.material)}),_}function dispose(_e){_e.dispose&&_e.type!=="Scene"&&_e.dispose();for(const _ in _e)_.dispose==null||_.dispose(),delete _e[_]}function prepare(_e,_){const et=_e;return et.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,..._},_e}function resolve(_e,_){let et=_e;if(_.includes("-")){const tt=_.split("-"),nt=tt.pop();return et=tt.reduce((rt,it)=>rt[it],_e),{target:et,key:nt}}else return{target:et,key:_}}const INDEX_REGEX=/-\d+$/;function attach(_e,_,et){if(is.str(et)){if(INDEX_REGEX.test(et)){const rt=et.replace(INDEX_REGEX,""),{target:it,key:st}=resolve(_e,rt);Array.isArray(it[st])||(it[st]=[])}const{target:tt,key:nt}=resolve(_e,et);_.__r3f.previousAttach=tt[nt],tt[nt]=_}else _.__r3f.previousAttach=et(_e,_)}function detach(_e,_,et){var tt,nt;if(is.str(et)){const{target:rt,key:it}=resolve(_e,et),st=_.__r3f.previousAttach;st===void 0?delete rt[it]:rt[it]=st}else(tt=_.__r3f)==null||tt.previousAttach==null||tt.previousAttach(_e,_);(nt=_.__r3f)==null||delete nt.previousAttach}function diffProps(_e,{children:_,key:et,ref:tt,...nt},{children:rt,key:it,ref:st,...ot}={},at=!1){var lt;const ct=(lt=_e==null?void 0:_e.__r3f)!=null?lt:{},ut=Object.entries(nt),ft=[];if(at){const vt=Object.keys(ot);for(let mt=0;mt<vt.length;mt++)nt.hasOwnProperty(vt[mt])||ut.unshift([vt[mt],DEFAULT+"remove"])}ut.forEach(([vt,mt])=>{var pt;if((pt=_e.__r3f)!=null&&pt.primitive&&vt==="object"||is.equ(mt,ot[vt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(vt))return ft.push([vt,mt,!0,[]]);let yt=[];vt.includes("-")&&(yt=vt.split("-")),ft.push([vt,mt,!1,yt]);for(const _t in nt){const St=nt[_t];_t.startsWith(`${vt}-`)&&ft.push([_t,St,!1,_t.split("-")])}});const ht={...nt};return ct.memoizedProps&&ct.memoizedProps.args&&(ht.args=ct.memoizedProps.args),ct.memoizedProps&&ct.memoizedProps.attach&&(ht.attach=ct.memoizedProps.attach),{memoized:ht,changes:ft}}const __DEV__=typeof process<"u"&&!1;function applyProps$1(_e,_){var et,tt,nt;const rt=(et=_e.__r3f)!=null?et:{},it=rt.root,st=(tt=it==null||it.getState==null?void 0:it.getState())!=null?tt:{},{memoized:ot,changes:at}=isDiffSet(_)?_:diffProps(_e,_),lt=rt.eventCount;_e.__r3f&&(_e.__r3f.memoizedProps=ot);for(let ut=0;ut<at.length;ut++){let[ft,ht,vt,mt]=at[ut];if(hasColorSpace(_e)){const St="srgb",Et="srgb-linear";ft==="encoding"?(ft="colorSpace",ht=ht===3001?St:Et):ft==="outputEncoding"&&(ft="outputColorSpace",ht=ht===3001?St:Et)}let pt=_e,yt=pt[ft];if(mt.length&&(yt=mt.reduce((_t,St)=>_t[St],_e),!(yt&&yt.set))){const[_t,...St]=mt.reverse();pt=St.reverse().reduce((Et,wt)=>Et[wt],_e),ft=_t}if(ht===DEFAULT+"remove")if(pt.constructor){let _t=DEFAULTS.get(pt.constructor);_t||(_t=new pt.constructor,DEFAULTS.set(pt.constructor,_t)),ht=_t[ft]}else ht=0;if(vt)ht?rt.handlers[ft]=ht:delete rt.handlers[ft],rt.eventCount=Object.keys(rt.handlers).length;else if(yt&&yt.set&&(yt.copy||yt instanceof Layers)){if(Array.isArray(ht))yt.fromArray?yt.fromArray(ht):yt.set(...ht);else if(yt.copy&&ht&&ht.constructor&&(__DEV__?yt.constructor.name===ht.constructor.name:yt.constructor===ht.constructor))yt.copy(ht);else if(ht!==void 0){const _t=yt instanceof Color$1;!_t&&yt.setScalar?yt.setScalar(ht):yt instanceof Layers&&ht instanceof Layers?yt.mask=ht.mask:yt.set(ht),!getColorManagement()&&!st.linear&&_t&&yt.convertSRGBToLinear()}}else if(pt[ft]=ht,pt[ft]instanceof Texture&&pt[ft].format===RGBAFormat&&pt[ft].type===UnsignedByteType){const _t=pt[ft];hasColorSpace(_t)&&hasColorSpace(st.gl)?_t.colorSpace=st.gl.outputColorSpace:_t.encoding=st.gl.outputEncoding}invalidateInstance(_e)}if(rt.parent&&st.internal&&_e.raycast&&lt!==rt.eventCount){const ut=st.internal.interaction.indexOf(_e);ut>-1&&st.internal.interaction.splice(ut,1),rt.eventCount&&st.internal.interaction.push(_e)}return!(at.length===1&&at[0][0]==="onUpdate")&&at.length&&(nt=_e.__r3f)!=null&&nt.parent&&updateInstance(_e),_e}function invalidateInstance(_e){var _,et;const tt=(_=_e.__r3f)==null||(et=_.root)==null||et.getState==null?void 0:et.getState();tt&&tt.internal.frames===0&&tt.invalidate()}function updateInstance(_e){_e.onUpdate==null||_e.onUpdate(_e)}function updateCamera(_e,_){_e.manual||(isOrthographicCamera(_e)?(_e.left=_.width/-2,_e.right=_.width/2,_e.top=_.height/2,_e.bottom=_.height/-2):_e.aspect=_.width/_.height,_e.updateProjectionMatrix(),_e.updateMatrixWorld())}function makeId(_e){return(_e.eventObject||_e.object).uuid+"/"+_e.index+_e.instanceId}function getEventPriority(){var _e;const _=typeof self<"u"&&self||typeof window<"u"&&window;if(!_)return constantsExports.DefaultEventPriority;switch((_e=_.event)==null?void 0:_e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(_e,_,et,tt){const nt=et.get(_);nt&&(et.delete(_),et.size===0&&(_e.delete(tt),nt.target.releasePointerCapture(tt)))}function removeInteractivity(_e,_){const{internal:et}=_e.getState();et.interaction=et.interaction.filter(tt=>tt!==_),et.initialHits=et.initialHits.filter(tt=>tt!==_),et.hovered.forEach((tt,nt)=>{(tt.eventObject===_||tt.object===_)&&et.hovered.delete(nt)}),et.capturedMap.forEach((tt,nt)=>{releaseInternalPointerCapture(et.capturedMap,_,tt,nt)})}function createEvents(_e){function _(ot){const{internal:at}=_e.getState(),lt=ot.offsetX-at.initialClick[0],ct=ot.offsetY-at.initialClick[1];return Math.round(Math.sqrt(lt*lt+ct*ct))}function et(ot){return ot.filter(at=>["Move","Over","Enter","Out","Leave"].some(lt=>{var ct;return(ct=at.__r3f)==null?void 0:ct.handlers["onPointer"+lt]}))}function tt(ot,at){const lt=_e.getState(),ct=new Set,ut=[],ft=at?at(lt.internal.interaction):lt.internal.interaction;for(let pt=0;pt<ft.length;pt++){const yt=getRootState(ft[pt]);yt&&(yt.raycaster.camera=void 0)}lt.previousRoot||lt.events.compute==null||lt.events.compute(ot,lt);function ht(pt){const yt=getRootState(pt);if(!yt||!yt.events.enabled||yt.raycaster.camera===null)return[];if(yt.raycaster.camera===void 0){var _t;yt.events.compute==null||yt.events.compute(ot,yt,(_t=yt.previousRoot)==null?void 0:_t.getState()),yt.raycaster.camera===void 0&&(yt.raycaster.camera=null)}return yt.raycaster.camera?yt.raycaster.intersectObject(pt,!0):[]}let vt=ft.flatMap(ht).sort((pt,yt)=>{const _t=getRootState(pt.object),St=getRootState(yt.object);return!_t||!St?pt.distance-yt.distance:St.events.priority-_t.events.priority||pt.distance-yt.distance}).filter(pt=>{const yt=makeId(pt);return ct.has(yt)?!1:(ct.add(yt),!0)});lt.events.filter&&(vt=lt.events.filter(vt,lt));for(const pt of vt){let yt=pt.object;for(;yt;){var mt;(mt=yt.__r3f)!=null&&mt.eventCount&&ut.push({...pt,eventObject:yt}),yt=yt.parent}}if("pointerId"in ot&&lt.internal.capturedMap.has(ot.pointerId))for(let pt of lt.internal.capturedMap.get(ot.pointerId).values())ct.has(makeId(pt.intersection))||ut.push(pt.intersection);return ut}function nt(ot,at,lt,ct){const ut=_e.getState();if(ot.length){const ft={stopped:!1};for(const ht of ot){const vt=getRootState(ht.object)||ut,{raycaster:mt,pointer:pt,camera:yt,internal:_t}=vt,St=new Vector3(pt.x,pt.y,0).unproject(yt),Et=Ct=>{var Dt,$t;return(Dt=($t=_t.capturedMap.get(Ct))==null?void 0:$t.has(ht.eventObject))!=null?Dt:!1},wt=Ct=>{const Dt={intersection:ht,target:at.target};_t.capturedMap.has(Ct)?_t.capturedMap.get(Ct).set(ht.eventObject,Dt):_t.capturedMap.set(Ct,new Map([[ht.eventObject,Dt]])),at.target.setPointerCapture(Ct)},Mt=Ct=>{const Dt=_t.capturedMap.get(Ct);Dt&&releaseInternalPointerCapture(_t.capturedMap,ht.eventObject,Dt,Ct)};let At={};for(let Ct in at){let Dt=at[Ct];typeof Dt!="function"&&(At[Ct]=Dt)}let Tt={...ht,...At,pointer:pt,intersections:ot,stopped:ft.stopped,delta:lt,unprojectedPoint:St,ray:mt.ray,camera:yt,stopPropagation(){const Ct="pointerId"in at&&_t.capturedMap.get(at.pointerId);if((!Ct||Ct.has(ht.eventObject))&&(Tt.stopped=ft.stopped=!0,_t.hovered.size&&Array.from(_t.hovered.values()).find(Dt=>Dt.eventObject===ht.eventObject))){const Dt=ot.slice(0,ot.indexOf(ht));rt([...Dt,ht])}},target:{hasPointerCapture:Et,setPointerCapture:wt,releasePointerCapture:Mt},currentTarget:{hasPointerCapture:Et,setPointerCapture:wt,releasePointerCapture:Mt},nativeEvent:at};if(ct(Tt),ft.stopped===!0)break}}return ot}function rt(ot){const{internal:at}=_e.getState();for(const lt of at.hovered.values())if(!ot.length||!ot.find(ct=>ct.object===lt.object&&ct.index===lt.index&&ct.instanceId===lt.instanceId)){const ut=lt.eventObject.__r3f,ft=ut==null?void 0:ut.handlers;if(at.hovered.delete(makeId(lt)),ut!=null&&ut.eventCount){const ht={...lt,intersections:ot};ft.onPointerOut==null||ft.onPointerOut(ht),ft.onPointerLeave==null||ft.onPointerLeave(ht)}}}function it(ot,at){for(let lt=0;lt<at.length;lt++){const ct=at[lt].__r3f;ct==null||ct.handlers.onPointerMissed==null||ct.handlers.onPointerMissed(ot)}}function st(ot){switch(ot){case"onPointerLeave":case"onPointerCancel":return()=>rt([]);case"onLostPointerCapture":return at=>{const{internal:lt}=_e.getState();"pointerId"in at&&lt.capturedMap.has(at.pointerId)&&requestAnimationFrame(()=>{lt.capturedMap.has(at.pointerId)&&(lt.capturedMap.delete(at.pointerId),rt([]))})}}return function(lt){const{onPointerMissed:ct,internal:ut}=_e.getState();ut.lastEvent.current=lt;const ft=ot==="onPointerMove",ht=ot==="onClick"||ot==="onContextMenu"||ot==="onDoubleClick",mt=tt(lt,ft?et:void 0),pt=ht?_(lt):0;ot==="onPointerDown"&&(ut.initialClick=[lt.offsetX,lt.offsetY],ut.initialHits=mt.map(_t=>_t.eventObject)),ht&&!mt.length&&pt<=2&&(it(lt,ut.interaction),ct&&ct(lt)),ft&&rt(mt);function yt(_t){const St=_t.eventObject,Et=St.__r3f,wt=Et==null?void 0:Et.handlers;if(Et!=null&&Et.eventCount)if(ft){if(wt.onPointerOver||wt.onPointerEnter||wt.onPointerOut||wt.onPointerLeave){const Mt=makeId(_t),At=ut.hovered.get(Mt);At?At.stopped&&_t.stopPropagation():(ut.hovered.set(Mt,_t),wt.onPointerOver==null||wt.onPointerOver(_t),wt.onPointerEnter==null||wt.onPointerEnter(_t))}wt.onPointerMove==null||wt.onPointerMove(_t)}else{const Mt=wt[ot];Mt?(!ht||ut.initialHits.includes(St))&&(it(lt,ut.interaction.filter(At=>!ut.initialHits.includes(At))),Mt(_t)):ht&&ut.initialHits.includes(St)&&it(lt,ut.interaction.filter(At=>!ut.initialHits.includes(At)))}}nt(mt,lt,pt,yt)}}return{handlePointer:st}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=_e=>!!(_e!=null&&_e.render),context=reactExports.createContext(null),createStore$3=(_e,_)=>{const et=create$2((st,ot)=>{const at=new Vector3,lt=new Vector3,ct=new Vector3;function ut(pt=ot().camera,yt=lt,_t=ot().size){const{width:St,height:Et,top:wt,left:Mt}=_t,At=St/Et;yt instanceof Vector3?ct.copy(yt):ct.set(...yt);const Tt=pt.getWorldPosition(at).distanceTo(ct);if(isOrthographicCamera(pt))return{width:St/pt.zoom,height:Et/pt.zoom,top:wt,left:Mt,factor:1,distance:Tt,aspect:At};{const Ct=pt.fov*Math.PI/180,Dt=2*Math.tan(Ct/2)*Tt,$t=Dt*(St/Et);return{width:$t,height:Dt,top:wt,left:Mt,factor:St/$t,distance:Tt,aspect:At}}}let ft;const ht=pt=>st(yt=>({performance:{...yt.performance,current:pt}})),vt=new Vector2;return{set:st,get:ot,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(pt=1)=>_e(ot(),pt),advance:(pt,yt)=>_(pt,yt,ot()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:vt,mouse:vt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const pt=ot();ft&&clearTimeout(ft),pt.performance.current!==pt.performance.min&&ht(pt.performance.min),ft=setTimeout(()=>ht(ot().performance.max),pt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ut},setEvents:pt=>st(yt=>({...yt,events:{...yt.events,...pt}})),setSize:(pt,yt,_t,St,Et)=>{const wt=ot().camera,Mt={width:pt,height:yt,top:St||0,left:Et||0,updateStyle:_t};st(At=>({size:Mt,viewport:{...At.viewport,...ut(wt,lt,Mt)}}))},setDpr:pt=>st(yt=>{const _t=calculateDpr(pt);return{viewport:{...yt.viewport,dpr:_t,initialDpr:yt.viewport.initialDpr||_t}}}),setFrameloop:(pt="always")=>{const yt=ot().clock;yt.stop(),yt.elapsedTime=0,pt!=="never"&&(yt.start(),yt.elapsedTime=0),st(()=>({frameloop:pt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(pt,yt,_t)=>{const St=ot().internal;return St.priority=St.priority+(yt>0?1:0),St.subscribers.push({ref:pt,priority:yt,store:_t}),St.subscribers=St.subscribers.sort((Et,wt)=>Et.priority-wt.priority),()=>{const Et=ot().internal;Et!=null&&Et.subscribers&&(Et.priority=Et.priority-(yt>0?1:0),Et.subscribers=Et.subscribers.filter(wt=>wt.ref!==pt))}}}}}),tt=et.getState();let nt=tt.size,rt=tt.viewport.dpr,it=tt.camera;return et.subscribe(()=>{const{camera:st,size:ot,viewport:at,gl:lt,set:ct}=et.getState();if(ot.width!==nt.width||ot.height!==nt.height||at.dpr!==rt){var ut;nt=ot,rt=at.dpr,updateCamera(st,ot),lt.setPixelRatio(at.dpr);const ft=(ut=ot.updateStyle)!=null?ut:typeof HTMLCanvasElement<"u"&&lt.domElement instanceof HTMLCanvasElement;lt.setSize(ot.width,ot.height,ft)}st!==it&&(it=st,ct(ft=>({viewport:{...ft.viewport,...ft.viewport.getCurrentViewport(st)}})))}),et.subscribe(st=>_e(st)),et};let i$4,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(_e,_){if(_e.size)for(const{callback:et}of _e.values())et(_)}function flushGlobalEffects(_e,_){switch(_e){case"before":return run(globalEffects,_);case"after":return run(globalAfterEffects,_);case"tail":return run(globalTailEffects,_)}}let subscribers,subscription;function render$1(_e,_,et){let tt=_.clock.getDelta();for(_.frameloop==="never"&&typeof _e=="number"&&(tt=_e-_.clock.elapsedTime,_.clock.oldTime=_.clock.elapsedTime,_.clock.elapsedTime=_e),subscribers=_.internal.subscribers,i$4=0;i$4<subscribers.length;i$4++)subscription=subscribers[i$4],subscription.ref.current(subscription.store.getState(),tt,et);return!_.internal.priority&&_.gl.render&&_.gl.render(_.scene,_.camera),_.internal.frames=Math.max(0,_.internal.frames-1),_.frameloop==="always"?1:_.internal.frames}function createLoop(_e){let _=!1,et,tt,nt;function rt(ot){tt=requestAnimationFrame(rt),_=!0,et=0,flushGlobalEffects("before",ot);for(const lt of _e.values()){var at;nt=lt.store.getState(),nt.internal.active&&(nt.frameloop==="always"||nt.internal.frames>0)&&!((at=nt.gl.xr)!=null&&at.isPresenting)&&(et+=render$1(ot,nt))}if(flushGlobalEffects("after",ot),et===0)return flushGlobalEffects("tail",ot),_=!1,cancelAnimationFrame(tt)}function it(ot,at=1){var lt;if(!ot)return _e.forEach(ct=>it(ct.store.getState()),at);(lt=ot.gl.xr)!=null&&lt.isPresenting||!ot.internal.active||ot.frameloop==="never"||(ot.internal.frames=Math.min(60,ot.internal.frames+at),_||(_=!0,requestAnimationFrame(rt)))}function st(ot,at=!0,lt,ct){if(at&&flushGlobalEffects("before",ot),lt)render$1(ot,lt,ct);else for(const ut of _e.values())render$1(ot,ut.store.getState());at&&flushGlobalEffects("after",ot)}return{loop:rt,invalidate:it,advance:st}}function useInstanceHandle(_e){const _=reactExports.useRef(null);return useIsomorphicLayoutEffect$2(()=>void(_.current=_e.current.__r3f),[_e]),_}function useStore$1(){const _e=reactExports.useContext(context);if(!_e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return _e}function useThree(_e=et=>et,_){return useStore$1()(_e,_)}function useFrame(_e,_=0){const et=useStore$1(),tt=et.getState().internal.subscribe,nt=useMutableCallback(_e);return useIsomorphicLayoutEffect$2(()=>tt(nt,_,et),[_,tt,et]),null}const memoizedLoaders=new WeakMap;function loadingFn(_e,_){return function(et,...tt){let nt=memoizedLoaders.get(et);return nt||(nt=new et,memoizedLoaders.set(et,nt)),_e&&_e(nt),Promise.all(tt.map(rt=>new Promise((it,st)=>nt.load(rt,ot=>{ot.scene&&Object.assign(ot,buildGraph(ot.scene)),it(ot)},_,ot=>st(new Error(`Could not load ${rt}: ${ot==null?void 0:ot.message}`)))))).finally(()=>nt.dispose==null?void 0:nt.dispose())}}function useLoader(_e,_,et,tt){const nt=Array.isArray(_)?_:[_],rt=suspend(loadingFn(et,tt),[_e,...nt],{equal:is.equ});return Array.isArray(_)?rt:rt[0]}useLoader.preload=function(_e,_,et){const tt=Array.isArray(_)?_:[_];return preload(loadingFn(et),[_e,...tt])};useLoader.clear=function(_e,_){const et=Array.isArray(_)?_:[_];return clear([_e,...et])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(_e,_)=>{const et=typeof _e=="function"?_e(_):_e;return isRenderer(et)?et:new WebGLRenderer({powerPreference:"high-performance",canvas:_,antialias:!0,alpha:!0,..._e})};function computeInitialSize(_e,_){const et=typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement;if(_){const{width:tt,height:nt,top:rt,left:it,updateStyle:st=et}=_;return{width:tt,height:nt,top:rt,left:it,updateStyle:st}}else if(typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement&&_e.parentElement){const{width:tt,height:nt,top:rt,left:it}=_e.parentElement.getBoundingClientRect();return{width:tt,height:nt,top:rt,left:it,updateStyle:et}}else if(typeof OffscreenCanvas<"u"&&_e instanceof OffscreenCanvas)return{width:_e.width,height:_e.height,top:0,left:0,updateStyle:et};return{width:0,height:0,top:0,left:0}}function createRoot(_e){const _=roots.get(_e),et=_==null?void 0:_.fiber,tt=_==null?void 0:_.store;_&&console.warn("R3F.createRoot should only be called once!");const nt=typeof reportError=="function"?reportError:console.error,rt=tt||createStore$3(invalidate,advance),it=et||reconciler.createContainer(rt,constantsExports.ConcurrentRoot,null,!1,null,"",nt,null);_||roots.set(_e,{fiber:it,store:rt});let st,ot=!1,at;return{configure(lt={}){let{gl:ct,size:ut,scene:ft,events:ht,onCreated:vt,shadows:mt=!1,linear:pt=!1,flat:yt=!1,legacy:_t=!1,orthographic:St=!1,frameloop:Et="always",dpr:wt=[1,2],performance:Mt,raycaster:At,camera:Tt,onPointerMissed:Ct}=lt,Dt=rt.getState(),$t=Dt.gl;Dt.gl||Dt.set({gl:$t=createRendererInstance(ct,_e)});let kt=Dt.raycaster;kt||Dt.set({raycaster:kt=new Raycaster});const{params:It,...Nt}=At||{};if(is.equ(Nt,kt,shallowLoose)||applyProps(kt,{...Nt}),is.equ(It,kt.params,shallowLoose)||applyProps(kt,{params:{...kt.params,...It}}),!Dt.camera||Dt.camera===at&&!is.equ(at,Tt,shallowLoose)){at=Tt;const Jt=Tt instanceof Camera,Xt=Jt?Tt:St?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);Jt||(Xt.position.z=5,Tt&&applyProps(Xt,Tt),!Dt.camera&&!(Tt!=null&&Tt.rotation)&&Xt.lookAt(0,0,0)),Dt.set({camera:Xt}),kt.camera=Xt}if(!Dt.scene){let Jt;ft instanceof Scene?Jt=ft:(Jt=new Scene,ft&&applyProps(Jt,ft)),Dt.set({scene:prepare(Jt)})}if(!Dt.xr){var Gt;const Jt=(rn,pn)=>{const fn=rt.getState();fn.frameloop!=="never"&&advance(rn,!0,fn,pn)},Xt=()=>{const rn=rt.getState();rn.gl.xr.enabled=rn.gl.xr.isPresenting,rn.gl.xr.setAnimationLoop(rn.gl.xr.isPresenting?Jt:null),rn.gl.xr.isPresenting||invalidate(rn)},Qt={connect(){const rn=rt.getState().gl;rn.xr.addEventListener("sessionstart",Xt),rn.xr.addEventListener("sessionend",Xt)},disconnect(){const rn=rt.getState().gl;rn.xr.removeEventListener("sessionstart",Xt),rn.xr.removeEventListener("sessionend",Xt)}};typeof((Gt=$t.xr)==null?void 0:Gt.addEventListener)=="function"&&Qt.connect(),Dt.set({xr:Qt})}if($t.shadowMap){const Jt=$t.shadowMap.enabled,Xt=$t.shadowMap.type;if($t.shadowMap.enabled=!!mt,is.boo(mt))$t.shadowMap.type=PCFSoftShadowMap;else if(is.str(mt)){var Bt;const Qt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};$t.shadowMap.type=(Bt=Qt[mt])!=null?Bt:PCFSoftShadowMap}else is.obj(mt)&&Object.assign($t.shadowMap,mt);(Jt!==$t.shadowMap.enabled||Xt!==$t.shadowMap.type)&&($t.shadowMap.needsUpdate=!0)}const Rt=getColorManagement();Rt&&("enabled"in Rt?Rt.enabled=!_t:"legacyMode"in Rt&&(Rt.legacyMode=_t)),applyProps($t,{outputEncoding:pt?3e3:3001,toneMapping:yt?NoToneMapping:ACESFilmicToneMapping}),Dt.legacy!==_t&&Dt.set(()=>({legacy:_t})),Dt.linear!==pt&&Dt.set(()=>({linear:pt})),Dt.flat!==yt&&Dt.set(()=>({flat:yt})),ct&&!is.fun(ct)&&!isRenderer(ct)&&!is.equ(ct,$t,shallowLoose)&&applyProps($t,ct),ht&&!Dt.events.handlers&&Dt.set({events:ht(rt)});const jt=computeInitialSize(_e,ut);return is.equ(jt,Dt.size,shallowLoose)||Dt.setSize(jt.width,jt.height,jt.updateStyle,jt.top,jt.left),wt&&Dt.viewport.dpr!==calculateDpr(wt)&&Dt.setDpr(wt),Dt.frameloop!==Et&&Dt.setFrameloop(Et),Dt.onPointerMissed||Dt.set({onPointerMissed:Ct}),Mt&&!is.equ(Mt,Dt.performance,shallowLoose)&&Dt.set(Jt=>({performance:{...Jt.performance,...Mt}})),st=vt,ot=!0,this},render(lt){return ot||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:rt,children:lt,onCreated:st,rootElement:_e}),it,null,()=>{}),rt},unmount(){unmountComponentAtNode(_e)}}}function Provider({store:_e,children:_,onCreated:et,rootElement:tt}){return useIsomorphicLayoutEffect$2(()=>{const nt=_e.getState();nt.set(rt=>({internal:{...rt.internal,active:!0}})),et&&et(nt),_e.getState().events.connected||nt.events.connect==null||nt.events.connect(tt)},[]),reactExports.createElement(context.Provider,{value:_e},_)}function unmountComponentAtNode(_e,_){const et=roots.get(_e),tt=et==null?void 0:et.fiber;if(tt){const nt=et==null?void 0:et.store.getState();nt&&(nt.internal.active=!1),reconciler.updateContainer(null,tt,null,()=>{nt&&setTimeout(()=>{try{var rt,it,st,ot;nt.events.disconnect==null||nt.events.disconnect(),(rt=nt.gl)==null||(it=rt.renderLists)==null||it.dispose==null||it.dispose(),(st=nt.gl)==null||st.forceContextLoss==null||st.forceContextLoss(),(ot=nt.gl)!=null&&ot.xr&&nt.xr.disconnect(),dispose(nt),roots.delete(_e)}catch{}},500)})}}function createPortal(_e,_,et){return reactExports.createElement(Portal$1,{key:_.uuid,children:_e,container:_,state:et})}function Portal$1({state:_e={},children:_,container:et}){const{events:tt,size:nt,...rt}=_e,it=useStore$1(),[st]=reactExports.useState(()=>new Raycaster),[ot]=reactExports.useState(()=>new Vector2),at=reactExports.useCallback((ct,ut)=>{const ft={...ct};Object.keys(ct).forEach(vt=>{(privateKeys.includes(vt)||ct[vt]!==ut[vt]&&ut[vt])&&delete ft[vt]});let ht;if(ut&&nt){const vt=ut.camera;ht=ct.viewport.getCurrentViewport(vt,new Vector3,nt),vt!==ct.camera&&updateCamera(vt,nt)}return{...ft,scene:et,raycaster:st,pointer:ot,mouse:ot,previousRoot:it,events:{...ct.events,...ut==null?void 0:ut.events,...tt},size:{...ct.size,...nt},viewport:{...ct.viewport,...ht},...rt}},[_e]),[lt]=reactExports.useState(()=>{const ct=it.getState();return create$2((ft,ht)=>({...ct,scene:et,raycaster:st,pointer:ot,mouse:ot,previousRoot:it,events:{...ct.events,...tt},size:{...ct.size,...nt},...rt,set:ft,get:ht,setEvents:vt=>ft(mt=>({...mt,events:{...mt.events,...vt}}))}))});return reactExports.useEffect(()=>{const ct=it.subscribe(ut=>lt.setState(ft=>at(ut,ft)));return()=>{ct(),lt.destroy()}},[]),reactExports.useEffect(()=>{lt.setState(ct=>at(it.getState(),ct))},[at]),reactExports.createElement(reactExports.Fragment,null,reconciler.createPortal(reactExports.createElement(context.Provider,{value:lt},_),lt,null))}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce$1(_e,_,et){var tt,nt,rt,it,st;_==null&&(_=100);function ot(){var lt=Date.now()-it;lt<_&&lt>=0?tt=setTimeout(ot,_-lt):(tt=null,et||(st=_e.apply(rt,nt),rt=nt=null))}var at=function(){rt=this,nt=arguments,it=Date.now();var lt=et&&!tt;return tt||(tt=setTimeout(ot,_)),lt&&(st=_e.apply(rt,nt),rt=nt=null),st};return at.clear=function(){tt&&(clearTimeout(tt),tt=null)},at.flush=function(){tt&&(st=_e.apply(rt,nt),rt=nt=null,clearTimeout(tt),tt=null)},at}debounce$1.debounce=debounce$1;var debounce_1=debounce$1;const createDebounce=getDefaultExportFromCjs(debounce_1);function useMeasure(_e){let{debounce:_,scroll:et,polyfill:tt,offsetSize:nt}=_e===void 0?{debounce:0,scroll:!1,offsetSize:!1}:_e;const rt=tt||(typeof window>"u"?class{}:window.ResizeObserver);if(!rt)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[it,st]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),ot=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:it}),at=_?typeof _=="number"?_:_.scroll:null,lt=_?typeof _=="number"?_:_.resize:null,ct=reactExports.useRef(!1);reactExports.useEffect(()=>(ct.current=!0,()=>void(ct.current=!1)));const[ut,ft,ht]=reactExports.useMemo(()=>{const yt=()=>{if(!ot.current.element)return;const{left:_t,top:St,width:Et,height:wt,bottom:Mt,right:At,x:Tt,y:Ct}=ot.current.element.getBoundingClientRect(),Dt={left:_t,top:St,width:Et,height:wt,bottom:Mt,right:At,x:Tt,y:Ct};ot.current.element instanceof HTMLElement&&nt&&(Dt.height=ot.current.element.offsetHeight,Dt.width=ot.current.element.offsetWidth),Object.freeze(Dt),ct.current&&!areBoundsEqual(ot.current.lastBounds,Dt)&&st(ot.current.lastBounds=Dt)};return[yt,lt?createDebounce(yt,lt):yt,at?createDebounce(yt,at):yt]},[st,nt,at,lt]);function vt(){ot.current.scrollContainers&&(ot.current.scrollContainers.forEach(yt=>yt.removeEventListener("scroll",ht,!0)),ot.current.scrollContainers=null),ot.current.resizeObserver&&(ot.current.resizeObserver.disconnect(),ot.current.resizeObserver=null)}function mt(){ot.current.element&&(ot.current.resizeObserver=new rt(ht),ot.current.resizeObserver.observe(ot.current.element),et&&ot.current.scrollContainers&&ot.current.scrollContainers.forEach(yt=>yt.addEventListener("scroll",ht,{capture:!0,passive:!0})))}const pt=yt=>{!yt||yt===ot.current.element||(vt(),ot.current.element=yt,ot.current.scrollContainers=findScrollContainers(yt),mt())};return useOnWindowScroll(ht,!!et),useOnWindowResize(ft),reactExports.useEffect(()=>{vt(),mt()},[et,ht,ft]),reactExports.useEffect(()=>vt,[]),[pt,it,ut]}function useOnWindowResize(_e){reactExports.useEffect(()=>{const _=_e;return window.addEventListener("resize",_),()=>void window.removeEventListener("resize",_)},[_e])}function useOnWindowScroll(_e,_){reactExports.useEffect(()=>{if(_){const et=_e;return window.addEventListener("scroll",et,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",et,!0)}},[_e,_])}function findScrollContainers(_e){const _=[];if(!_e||_e===document.body)return _;const{overflow:et,overflowX:tt,overflowY:nt}=window.getComputedStyle(_e);return[et,tt,nt].some(rt=>rt==="auto"||rt==="scroll")&&_.push(_e),[..._,...findScrollContainers(_e.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(_e,_)=>keys.every(et=>_e[et]===_[et]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(_e,_,et)=>_ in _e?__defProp(_e,_,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[_]=et,__spreadValues=(_e,_)=>{for(var et in _||(_={}))__hasOwnProp.call(_,et)&&__defNormalProp(_e,et,_[et]);if(__getOwnPropSymbols)for(var et of __getOwnPropSymbols(_))__propIsEnum.call(_,et)&&__defNormalProp(_e,et,_[et]);return _e},__spreadProps=(_e,_)=>__defProps(_e,__getOwnPropDescs(_)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(_e,_,et){if(!_e)return;if(et(_e)===!0)return _e;let tt=_e.child;for(;tt;){const nt=traverseFiber(tt,_,et);if(nt)return nt;tt=tt.sibling}}function wrapContext(_e){try{return Object.defineProperties(_e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return _e}}const error=console.error;console.error=function(){const _e=[...arguments].join("");if(_e!=null&&_e.startsWith("Warning:")&&_e.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const _e=reactExports.useContext(FiberContext);if(_e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _=reactExports.useId();return reactExports.useMemo(()=>{for(const tt of[_e,_e==null?void 0:_e.alternate]){if(!tt)continue;const nt=traverseFiber(tt,!1,rt=>{let it=rt.memoizedState;for(;it;){if(it.memoizedState===_)return!0;it=it.next}});if(nt)return nt}},[_e,_])}function useContextMap(){const _e=useFiber(),[_]=reactExports.useState(()=>new Map);_.clear();let et=_e;for(;et;){if(et.type&&typeof et.type=="object"){const nt=et.type._context===void 0&&et.type.Provider===et.type?et.type:et.type._context;nt&&nt!==FiberContext&&!_.has(nt)&&_.set(nt,reactExports.useContext(wrapContext(nt)))}et=et.return}return _}function useContextBridge(){const _e=useContextMap();return reactExports.useMemo(()=>Array.from(_e.keys()).reduce((_,et)=>tt=>reactExports.createElement(_,null,reactExports.createElement(et.Provider,__spreadProps(__spreadValues({},tt),{value:_e.get(et)}))),_=>reactExports.createElement(FiberProvider,__spreadValues({},_))),[_e])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(_e){const{handlePointer:_}=createEvents(_e);return{priority:1,enabled:!0,compute(et,tt,nt){tt.pointer.set(et.offsetX/tt.size.width*2-1,-(et.offsetY/tt.size.height)*2+1),tt.raycaster.setFromCamera(tt.pointer,tt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((et,tt)=>({...et,[tt]:_(tt)}),{}),update:()=>{var et;const{events:tt,internal:nt}=_e.getState();(et=nt.lastEvent)!=null&&et.current&&tt.handlers&&tt.handlers.onPointerMove(nt.lastEvent.current)},connect:et=>{var tt;const{set:nt,events:rt}=_e.getState();rt.disconnect==null||rt.disconnect(),nt(it=>({events:{...it.events,connected:et}})),Object.entries((tt=rt.handlers)!=null?tt:[]).forEach(([it,st])=>{const[ot,at]=DOM_EVENTS[it];et.addEventListener(ot,st,{passive:at})})},disconnect:()=>{const{set:et,events:tt}=_e.getState();if(tt.connected){var nt;Object.entries((nt=tt.handlers)!=null?nt:[]).forEach(([rt,it])=>{if(tt&&tt.connected instanceof HTMLElement){const[st]=DOM_EVENTS[rt];tt.connected.removeEventListener(st,it)}}),et(rt=>({events:{...rt.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function _e({children:_,fallback:et,resize:tt,style:nt,gl:rt,events:it=createPointerEvents,eventSource:st,eventPrefix:ot,shadows:at,linear:lt,flat:ct,legacy:ut,orthographic:ft,frameloop:ht,dpr:vt,performance:mt,raycaster:pt,camera:yt,scene:_t,onPointerMissed:St,onCreated:Et,...wt},Mt){reactExports.useMemo(()=>extend$2(THREE),[]);const At=useContextBridge(),[Tt,Ct]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...tt}),Dt=reactExports.useRef(null),$t=reactExports.useRef(null);reactExports.useImperativeHandle(Mt,()=>Dt.current);const kt=useMutableCallback(St),[It,Nt]=reactExports.useState(!1),[Gt,Bt]=reactExports.useState(!1);if(It)throw It;if(Gt)throw Gt;const Rt=reactExports.useRef(null);useIsomorphicLayoutEffect$2(()=>{const Ut=Dt.current;Ct.width>0&&Ct.height>0&&Ut&&(Rt.current||(Rt.current=createRoot(Ut)),Rt.current.configure({gl:rt,events:it,shadows:at,linear:lt,flat:ct,legacy:ut,orthographic:ft,frameloop:ht,dpr:vt,performance:mt,raycaster:pt,camera:yt,scene:_t,size:Ct,onPointerMissed:(...jt)=>kt.current==null?void 0:kt.current(...jt),onCreated:jt=>{jt.events.connect==null||jt.events.connect(st?isRef(st)?st.current:st:$t.current),ot&&jt.setEvents({compute:(Jt,Xt)=>{const Qt=Jt[ot+"X"],rn=Jt[ot+"Y"];Xt.pointer.set(Qt/Xt.size.width*2-1,-(rn/Xt.size.height)*2+1),Xt.raycaster.setFromCamera(Xt.pointer,Xt.camera)}}),Et==null||Et(jt)}}),Rt.current.render(reactExports.createElement(At,null,reactExports.createElement(ErrorBoundary,{set:Bt},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:Nt})},_)))))}),reactExports.useEffect(()=>{const Ut=Dt.current;if(Ut)return()=>unmountComponentAtNode(Ut)},[]);const Ot=st?"none":"auto";return reactExports.createElement("div",_extends$1({ref:$t,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Ot,...nt}},wt),reactExports.createElement("div",{ref:Tt,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:Dt,style:{display:"block"}},et)))}),Canvas$1=reactExports.forwardRef(function _e(_,et){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$1({},_,{ref:et})))});function clamp$2(_e,_,et){return Math.max(_,Math.min(_e,et))}const V$2={toVector(_e,_){return _e===void 0&&(_e=_),Array.isArray(_e)?_e:[_e,_e]},add(_e,_){return[_e[0]+_[0],_e[1]+_[1]]},sub(_e,_){return[_e[0]-_[0],_e[1]-_[1]]},addTo(_e,_){_e[0]+=_[0],_e[1]+=_[1]},subTo(_e,_){_e[0]-=_[0],_e[1]-=_[1]}};function rubberband(_e,_,et){return _===0||Math.abs(_)===1/0?Math.pow(_e,et*5):_e*_*et/(_+et*_e)}function rubberbandIfOutOfBounds(_e,_,et,tt=.15){return tt===0?clamp$2(_e,_,et):_e<_?-rubberband(_-_e,et-_,tt)+_:_e>et?+rubberband(_e-et,et-_,tt)+et:_e}function computeRubberband(_e,[_,et],[tt,nt]){const[[rt,it],[st,ot]]=_e;return[rubberbandIfOutOfBounds(_,rt,it,tt),rubberbandIfOutOfBounds(et,st,ot,nt)]}function _toPrimitive(_e,_){if(typeof _e!="object"||_e===null)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _toPropertyKey(_e){var _=_toPrimitive(_e,"string");return typeof _=="symbol"?_:String(_)}function _defineProperty$3(_e,_,et){return _=_toPropertyKey(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function ownKeys$3(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2$1(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$3(Object(et),!0).forEach(function(tt){_defineProperty$3(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$3(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(_e){return _e?_e[0].toUpperCase()+_e.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(_e=!1,_){return _e&&!actionsWithoutCaptureSupported.includes(_)}function toHandlerProp(_e,_="",et=!1){const tt=EVENT_TYPE_MAP[_e],nt=tt&&tt[_]||_;return"on"+capitalize(_e)+capitalize(nt)+(hasCapture(et,nt)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(_e){let _=_e.substring(2).toLowerCase();const et=!!~_.indexOf("passive");et&&(_=_.replace("passive",""));const tt=pointerCaptureEvents.includes(_)?"capturecapture":"capture",nt=!!~_.indexOf(tt);return nt&&(_=_.replace("capture","")),{device:_,capture:nt,passive:et}}function toDomEventType(_e,_=""){const et=EVENT_TYPE_MAP[_e],tt=et&&et[_]||_;return _e+tt}function isTouch(_e){return"touches"in _e}function getPointerType(_e){return isTouch(_e)?"touch":"pointerType"in _e?_e.pointerType:"mouse"}function getCurrentTargetTouchList(_e){return Array.from(_e.touches).filter(_=>{var et,tt;return _.target===_e.currentTarget||((et=_e.currentTarget)===null||et===void 0||(tt=et.contains)===null||tt===void 0?void 0:tt.call(et,_.target))})}function getTouchList(_e){return _e.type==="touchend"||_e.type==="touchcancel"?_e.changedTouches:_e.targetTouches}function getValueEvent(_e){return isTouch(_e)?getTouchList(_e)[0]:_e}function touchIds(_e){return getCurrentTargetTouchList(_e).map(_=>_.identifier)}function pointerId(_e){const _=getValueEvent(_e);return isTouch(_e)?_.identifier:_.pointerId}function pointerValues(_e){const _=getValueEvent(_e);return[_.clientX,_.clientY]}function getEventDetails(_e){const _={};if("buttons"in _e&&(_.buttons=_e.buttons),"shiftKey"in _e){const{shiftKey:et,altKey:tt,metaKey:nt,ctrlKey:rt}=_e;Object.assign(_,{shiftKey:et,altKey:tt,metaKey:nt,ctrlKey:rt})}return _}function call(_e,..._){return typeof _e=="function"?_e(..._):_e}function noop$1(){}function chain(..._e){return _e.length===0?noop$1:_e.length===1?_e[0]:function(){let _;for(const et of _e)_=et.apply(this,arguments)||_;return _}}function assignDefault(_e,_){return Object.assign({},_,_e||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(_,et,tt){this.ctrl=_,this.args=et,this.key=tt,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(_){this.ctrl.state[this.key]=_}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:_,shared:et,ingKey:tt,args:nt}=this;et[tt]=_._active=_.active=_._blocked=_._force=!1,_._step=[!1,!1],_.intentional=!1,_._movement=[0,0],_._distance=[0,0],_._direction=[0,0],_._delta=[0,0],_._bounds=[[-1/0,1/0],[-1/0,1/0]],_.args=nt,_.axis=void 0,_.memo=void 0,_.elapsedTime=_.timeDelta=0,_.direction=[0,0],_.distance=[0,0],_.overflow=[0,0],_._movementBound=[!1,!1],_.velocity=[0,0],_.movement=[0,0],_.delta=[0,0],_.timeStamp=0}start(_){const et=this.state,tt=this.config;et._active||(this.reset(),this.computeInitial(),et._active=!0,et.target=_.target,et.currentTarget=_.currentTarget,et.lastOffset=tt.from?call(tt.from,et):et.offset,et.offset=et.lastOffset,et.startTime=et.timeStamp=_.timeStamp)}computeValues(_){const et=this.state;et._values=_,et.values=this.config.transform(_)}computeInitial(){const _=this.state;_._initial=_._values,_.initial=_.values}compute(_){const{state:et,config:tt,shared:nt}=this;et.args=this.args;let rt=0;if(_&&(et.event=_,tt.preventDefault&&_.cancelable&&et.event.preventDefault(),et.type=_.type,nt.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,nt.locked=!!document.pointerLockElement,Object.assign(nt,getEventDetails(_)),nt.down=nt.pressed=nt.buttons%2===1||nt.touches>0,rt=_.timeStamp-et.timeStamp,et.timeStamp=_.timeStamp,et.elapsedTime=et.timeStamp-et.startTime),et._active){const wt=et._delta.map(Math.abs);V$2.addTo(et._distance,wt)}this.axisIntent&&this.axisIntent(_);const[it,st]=et._movement,[ot,at]=tt.threshold,{_step:lt,values:ct}=et;if(tt.hasCustomTransform?(lt[0]===!1&&(lt[0]=Math.abs(it)>=ot&&ct[0]),lt[1]===!1&&(lt[1]=Math.abs(st)>=at&&ct[1])):(lt[0]===!1&&(lt[0]=Math.abs(it)>=ot&&Math.sign(it)*ot),lt[1]===!1&&(lt[1]=Math.abs(st)>=at&&Math.sign(st)*at)),et.intentional=lt[0]!==!1||lt[1]!==!1,!et.intentional)return;const ut=[0,0];if(tt.hasCustomTransform){const[wt,Mt]=ct;ut[0]=lt[0]!==!1?wt-lt[0]:0,ut[1]=lt[1]!==!1?Mt-lt[1]:0}else ut[0]=lt[0]!==!1?it-lt[0]:0,ut[1]=lt[1]!==!1?st-lt[1]:0;this.restrictToAxis&&!et._blocked&&this.restrictToAxis(ut);const ft=et.offset,ht=et._active&&!et._blocked||et.active;ht&&(et.first=et._active&&!et.active,et.last=!et._active&&et.active,et.active=nt[this.ingKey]=et._active,_&&(et.first&&("bounds"in tt&&(et._bounds=call(tt.bounds,et)),this.setup&&this.setup()),et.movement=ut,this.computeOffset()));const[vt,mt]=et.offset,[[pt,yt],[_t,St]]=et._bounds;et.overflow=[vt<pt?-1:vt>yt?1:0,mt<_t?-1:mt>St?1:0],et._movementBound[0]=et.overflow[0]?et._movementBound[0]===!1?et._movement[0]:et._movementBound[0]:!1,et._movementBound[1]=et.overflow[1]?et._movementBound[1]===!1?et._movement[1]:et._movementBound[1]:!1;const Et=et._active?tt.rubberband||[0,0]:[0,0];if(et.offset=computeRubberband(et._bounds,et.offset,Et),et.delta=V$2.sub(et.offset,ft),this.computeMovement(),ht&&(!et.last||rt>BEFORE_LAST_KINEMATICS_DELAY)){et.delta=V$2.sub(et.offset,ft);const wt=et.delta.map(Math.abs);V$2.addTo(et.distance,wt),et.direction=et.delta.map(Math.sign),et._direction=et._delta.map(Math.sign),!et.first&&rt>0&&(et.velocity=[wt[0]/rt,wt[1]/rt],et.timeDelta=rt)}}emit(){const _=this.state,et=this.shared,tt=this.config;if(_._active||this.clean(),(_._blocked||!_.intentional)&&!_._force&&!tt.triggerAllEvents)return;const nt=this.handler(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},et),_),{},{[this.aliasKey]:_.values}));nt!==void 0&&(_.memo=nt)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([_e,_],et){const tt=Math.abs(_e),nt=Math.abs(_);if(tt>nt&&tt>et)return"x";if(nt>tt&&nt>et)return"y"}class CoordinatesEngine extends Engine{constructor(..._){super(..._),_defineProperty$3(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V$2.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V$2.sub(this.state.offset,this.state.lastOffset)}axisIntent(_){const et=this.state,tt=this.config;if(!et.axis&&_){const nt=typeof tt.axisThreshold=="object"?tt.axisThreshold[getPointerType(_)]:tt.axisThreshold;et.axis=selectAxis(et._movement,nt)}et._blocked=(tt.lockDirection||!!tt.axis)&&!et.axis||!!tt.axis&&tt.axis!==et.axis}restrictToAxis(_){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":_[1]=0;break;case"y":_[0]=0;break}}}const identity$1=_e=>_e,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(_e=!0){return _e},eventOptions(_e,_,et){return _objectSpread2$1(_objectSpread2$1({},et.shared.eventOptions),_e)},preventDefault(_e=!1){return _e},triggerAllEvents(_e=!1){return _e},rubberband(_e=0){switch(_e){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V$2.toVector(_e)}},from(_e){if(typeof _e=="function")return _e;if(_e!=null)return V$2.toVector(_e)},transform(_e,_,et){const tt=_e||et.shared.transform;return this.hasCustomTransform=!!tt,tt||identity$1},threshold(_e){return V$2.toVector(_e,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{axis(_e,_,{axis:et}){if(this.lockDirection=et==="lock",!this.lockDirection)return et},axisThreshold(_e=DEFAULT_AXIS_THRESHOLD){return _e},bounds(_e={}){if(typeof _e=="function")return rt=>coordinatesConfigResolver.bounds(_e(rt));if("current"in _e)return()=>_e.current;if(typeof HTMLElement=="function"&&_e instanceof HTMLElement)return _e;const{left:_=-1/0,right:et=1/0,top:tt=-1/0,bottom:nt=1/0}=_e;return[[_,et],[tt,nt]]}}),KEYS_DELTA_MAP={ArrowRight:(_e,_=1)=>[_e*_,0],ArrowLeft:(_e,_=1)=>[-1*_e*_,0],ArrowUp:(_e,_=1)=>[0,-1*_e*_],ArrowDown:(_e,_=1)=>[0,_e*_]};class DragEngine extends CoordinatesEngine{constructor(..._){super(..._),_defineProperty$3(this,"ingKey","dragging")}reset(){super.reset();const _=this.state;_._pointerId=void 0,_._pointerActive=!1,_._keyboardActive=!1,_._preventScroll=!1,_._delayed=!1,_.swipe=[0,0],_.tap=!1,_.canceled=!1,_.cancel=this.cancel.bind(this)}setup(){const _=this.state;if(_._bounds instanceof HTMLElement){const et=_._bounds.getBoundingClientRect(),tt=_.currentTarget.getBoundingClientRect(),nt={left:et.left-tt.left+_.offset[0],right:et.right-tt.right+_.offset[0],top:et.top-tt.top+_.offset[1],bottom:et.bottom-tt.bottom+_.offset[1]};_._bounds=coordinatesConfigResolver.bounds(nt)}}cancel(){const _=this.state;_.canceled||(_.canceled=!0,_._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(_){const et=this.config,tt=this.state;if(_.buttons!=null&&(Array.isArray(et.pointerButtons)?!et.pointerButtons.includes(_.buttons):et.pointerButtons!==-1&&et.pointerButtons!==_.buttons))return;const nt=this.ctrl.setEventIds(_);et.pointerCapture&&_.target.setPointerCapture(_.pointerId),!(nt&&nt.size>1&&tt._pointerActive)&&(this.start(_),this.setupPointer(_),tt._pointerId=pointerId(_),tt._pointerActive=!0,this.computeValues(pointerValues(_)),this.computeInitial(),et.preventScrollAxis&&getPointerType(_)!=="mouse"?(tt._active=!1,this.setupScrollPrevention(_)):et.delay>0?(this.setupDelayTrigger(_),et.triggerAllEvents&&(this.compute(_),this.emit())):this.startPointerDrag(_))}startPointerDrag(_){const et=this.state;et._active=!0,et._preventScroll=!0,et._delayed=!1,this.compute(_),this.emit()}pointerMove(_){const et=this.state,tt=this.config;if(!et._pointerActive)return;const nt=pointerId(_);if(et._pointerId!==void 0&&nt!==et._pointerId)return;const rt=pointerValues(_);if(document.pointerLockElement===_.target?et._delta=[_.movementX,_.movementY]:(et._delta=V$2.sub(rt,et._values),this.computeValues(rt)),V$2.addTo(et._movement,et._delta),this.compute(_),et._delayed&&et.intentional){this.timeoutStore.remove("dragDelay"),et.active=!1,this.startPointerDrag(_);return}if(tt.preventScrollAxis&&!et._preventScroll)if(et.axis)if(et.axis===tt.preventScrollAxis||tt.preventScrollAxis==="xy"){et._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(_);return}else return;this.emit()}pointerUp(_){this.ctrl.setEventIds(_);try{this.config.pointerCapture&&_.target.hasPointerCapture(_.pointerId)&&_.target.releasePointerCapture(_.pointerId)}catch{}const et=this.state,tt=this.config;if(!et._active||!et._pointerActive)return;const nt=pointerId(_);if(et._pointerId!==void 0&&nt!==et._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(_);const[rt,it]=et._distance;if(et.tap=rt<=tt.tapsThreshold&&it<=tt.tapsThreshold,et.tap&&tt.filterTaps)et._force=!0;else{const[st,ot]=et._delta,[at,lt]=et._movement,[ct,ut]=tt.swipe.velocity,[ft,ht]=tt.swipe.distance,vt=tt.swipe.duration;if(et.elapsedTime<vt){const mt=Math.abs(st/et.timeDelta),pt=Math.abs(ot/et.timeDelta);mt>ct&&Math.abs(at)>ft&&(et.swipe[0]=Math.sign(st)),pt>ut&&Math.abs(lt)>ht&&(et.swipe[1]=Math.sign(ot))}}this.emit()}pointerClick(_){!this.state.tap&&_.detail>0&&(_.preventDefault(),_.stopPropagation())}setupPointer(_){const et=this.config,tt=et.device;et.pointerLock&&_.currentTarget.requestPointerLock(),et.pointerCapture||(this.eventStore.add(this.sharedConfig.window,tt,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,tt,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,tt,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(_){this.state._preventScroll&&_.cancelable&&_.preventDefault()}setupScrollPrevention(_){this.state._preventScroll=!1,persistEvent(_);const et=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",et),this.eventStore.add(this.sharedConfig.window,"touch","cancel",et),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,_)}setupDelayTrigger(_){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(_)},this.config.delay)}keyDown(_){const et=KEYS_DELTA_MAP[_.key];if(et){const tt=this.state,nt=_.shiftKey?10:_.altKey?.1:1;this.start(_),tt._delta=et(this.config.keyboardDisplacement,nt),tt._keyboardActive=!0,V$2.addTo(tt._movement,tt._delta),this.compute(_),this.emit()}}keyUp(_){_.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(_),this.emit())}bind(_){const et=this.config.device;_(et,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(_(et,"change",this.pointerMove.bind(this)),_(et,"end",this.pointerUp.bind(this)),_(et,"cancel",this.pointerUp.bind(this)),_("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(_("key","down",this.keyDown.bind(this)),_("key","up",this.keyUp.bind(this))),this.config.filterTaps&&_("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(_e){"persist"in _e&&typeof _e.persist=="function"&&_e.persist()}const isBrowser=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser,gesture:supportsGestureEvents(),touch:supportsTouchEvents(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{device(_e,_,{pointer:{touch:et=!1,lock:tt=!1,mouse:nt=!1}={}}){return this.pointerLock=tt&&SUPPORT.pointerLock,SUPPORT.touch&&et?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!nt?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(_e,_,{preventScroll:et}){if(this.preventScrollDelay=typeof et=="number"?et:et||et===void 0&&_e?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||et===!1))return _e||(et!==void 0?"y":void 0)},pointerCapture(_e,_,{pointer:{capture:et=!0,buttons:tt=1,keys:nt=!0}={}}){return this.pointerButtons=tt,this.keys=nt,!this.pointerLock&&this.device==="pointer"&&et},threshold(_e,_,{filterTaps:et=!1,tapsThreshold:tt=3,axis:nt=void 0}){const rt=V$2.toVector(_e,et?tt:nt?1:0);return this.filterTaps=et,this.tapsThreshold=tt,rt},swipe({velocity:_e=DEFAULT_SWIPE_VELOCITY,distance:_=DEFAULT_SWIPE_DISTANCE,duration:et=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V$2.toVector(_e)),distance:this.transform(V$2.toVector(_)),duration:et}},delay(_e=0){switch(_e){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return _e}},axisThreshold(_e){return _e?_objectSpread2$1(_objectSpread2$1({},DEFAULT_DRAG_AXIS_THRESHOLD),_e):DEFAULT_DRAG_AXIS_THRESHOLD},keyboardDisplacement(_e=DEFAULT_KEYBOARD_DISPLACEMENT){return _e}});_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{device(_e,_,{shared:et,pointer:{touch:tt=!1}={}}){if(et.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&tt)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(_e,_,{scaleBounds:et={},angleBounds:tt={}}){const nt=it=>{const st=assignDefault(call(et,it),{min:-1/0,max:1/0});return[st.min,st.max]},rt=it=>{const st=assignDefault(call(tt,it),{min:-1/0,max:1/0});return[st.min,st.max]};return typeof et!="function"&&typeof tt!="function"?[nt(),rt()]:it=>[nt(it),rt(it)]},threshold(_e,_,et){return this.lockDirection=et.axis==="lock",V$2.toVector(_e,this.lockDirection?[.1,3]:0)},modifierKey(_e){return _e===void 0?"ctrlKey":_e},pinchOnWheel(_e=!0){return _e}});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(_e=!0)=>_e});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(_e=!0)=>_e});const EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(_e){EngineMap.set(_e.key,_e.engine),ConfigResolverMap.set(_e.key,_e.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};function _objectWithoutPropertiesLoose$2(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_.indexOf(nt)>=0)&&(et[nt]=_e[nt]);return et}function _objectWithoutProperties$2(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$2(_e,_),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}const sharedConfigResolver={target(_e){if(_e)return()=>"current"in _e?_e.current:_e},enabled(_e=!0){return _e},window(_e=SUPPORT.isBrowser?window:void 0){return _e},eventOptions({passive:_e=!0,capture:_=!1}={}){return{passive:_e,capture:_}},transform(_e){return _e}},_excluded$c=["target","eventOptions","window","enabled","transform"];function resolveWith(_e={},_){const et={};for(const[tt,nt]of Object.entries(_))switch(typeof nt){case"function":et[tt]=nt.call(et,_e[tt],tt,_e);break;case"object":et[tt]=resolveWith(_e[tt],nt);break;case"boolean":nt&&(et[tt]=_e[tt]);break}return et}function parse$1(_e,_,et={}){const tt=_e,{target:nt,eventOptions:rt,window:it,enabled:st,transform:ot}=tt,at=_objectWithoutProperties$2(tt,_excluded$c);if(et.shared=resolveWith({target:nt,eventOptions:rt,window:it,enabled:st,transform:ot},sharedConfigResolver),_){const lt=ConfigResolverMap.get(_);et[_]=resolveWith(_objectSpread2$1({shared:et.shared},at),lt)}else for(const lt in at){const ct=ConfigResolverMap.get(lt);ct&&(et[lt]=resolveWith(_objectSpread2$1({shared:et.shared},at[lt]),ct))}return et}class EventStore{constructor(_,et){_defineProperty$3(this,"_listeners",new Set),this._ctrl=_,this._gestureKey=et}add(_,et,tt,nt,rt){const it=this._listeners,st=toDomEventType(et,tt),ot=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},at=_objectSpread2$1(_objectSpread2$1({},ot),rt);_.addEventListener(st,nt,at);const lt=()=>{_.removeEventListener(st,nt,at),it.delete(lt)};return it.add(lt),lt}clean(){this._listeners.forEach(_=>_()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty$3(this,"_timeouts",new Map)}add(_,et,tt=140,...nt){this.remove(_),this._timeouts.set(_,window.setTimeout(et,tt,...nt))}remove(_){const et=this._timeouts.get(_);et&&window.clearTimeout(et)}clean(){this._timeouts.forEach(_=>void window.clearTimeout(_)),this._timeouts.clear()}}class Controller{constructor(_){_defineProperty$3(this,"gestures",new Set),_defineProperty$3(this,"_targetEventStore",new EventStore(this)),_defineProperty$3(this,"gestureEventStores",{}),_defineProperty$3(this,"gestureTimeoutStores",{}),_defineProperty$3(this,"handlers",{}),_defineProperty$3(this,"config",{}),_defineProperty$3(this,"pointerIds",new Set),_defineProperty$3(this,"touchIds",new Set),_defineProperty$3(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,_)}setEventIds(_){if(isTouch(_))return this.touchIds=new Set(touchIds(_)),this.touchIds;if("pointerId"in _)return _.type==="pointerup"||_.type==="pointercancel"?this.pointerIds.delete(_.pointerId):_.type==="pointerdown"&&this.pointerIds.add(_.pointerId),this.pointerIds}applyHandlers(_,et){this.handlers=_,this.nativeHandlers=et}applyConfig(_,et){this.config=parse$1(_,et,this.config)}clean(){this._targetEventStore.clean();for(const _ of this.gestures)this.gestureEventStores[_].clean(),this.gestureTimeoutStores[_].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(..._){const et=this.config.shared,tt={};let nt;if(!(et.target&&(nt=et.target(),!nt))){if(et.enabled){for(const it of this.gestures){const st=this.config[it],ot=bindToProps(tt,st.eventOptions,!!nt);if(st.enabled){const at=EngineMap.get(it);new at(this,_,it).bind(ot)}}const rt=bindToProps(tt,et.eventOptions,!!nt);for(const it in this.nativeHandlers)rt(it,"",st=>this.nativeHandlers[it](_objectSpread2$1(_objectSpread2$1({},this.state.shared),{},{event:st,args:_})),void 0,!0)}for(const rt in tt)tt[rt]=chain(...tt[rt]);if(!nt)return tt;for(const rt in tt){const{device:it,capture:st,passive:ot}=parseProp(rt);this._targetEventStore.add(nt,it,"",tt[rt],{capture:st,passive:ot})}}}}function setupGesture(_e,_){_e.gestures.add(_),_e.gestureEventStores[_]=new EventStore(_e,_),_e.gestureTimeoutStores[_]=new TimeoutStore}function resolveGestures(_e,_){_.drag&&setupGesture(_e,"drag"),_.wheel&&setupGesture(_e,"wheel"),_.scroll&&setupGesture(_e,"scroll"),_.move&&setupGesture(_e,"move"),_.pinch&&setupGesture(_e,"pinch"),_.hover&&setupGesture(_e,"hover")}const bindToProps=(_e,_,et)=>(tt,nt,rt,it={},st=!1)=>{var ot,at;const lt=(ot=it.capture)!==null&&ot!==void 0?ot:_.capture,ct=(at=it.passive)!==null&&at!==void 0?at:_.passive;let ut=st?tt:toHandlerProp(tt,nt,lt);et&&ct&&(ut+="Passive"),_e[ut]=_e[ut]||[],_e[ut].push(rt)};function useRecognizers(_e,_={},et,tt){const nt=React.useMemo(()=>new Controller(_e),[]);if(nt.applyHandlers(_e,tt),nt.applyConfig(_,et),React.useEffect(nt.effect.bind(nt)),React.useEffect(()=>nt.clean.bind(nt),[]),_.target===void 0)return nt.bind.bind(nt)}function useDrag$1(_e,_){return registerAction(dragAction),useRecognizers({drag:_e},_||{},"drag")}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(tt,nt,rt,it,st,ot){if(ot!==ReactPropTypesSecret){var at=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw at.name="Invariant Violation",at}}_e.isRequired=_e;function _(){return _e}var et={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:_,element:_e,elementType:_e,instanceOf:_,node:_e,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return et.PropTypes=et,et};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function Preload({all:_e,scene:_,camera:et}){const tt=useThree(({gl:it})=>it),nt=useThree(({camera:it})=>it),rt=useThree(({scene:it})=>it);return reactExports.useLayoutEffect(()=>{const it=[];_e&&(_||rt).traverse(at=>{at.visible===!1&&(it.push(at),at.visible=!0)}),tt.compile(_||rt,et||nt);const st=new WebGLCubeRenderTarget(128);new CubeCamera(.01,1e5,st).update(tt,_||rt),st.dispose(),it.forEach(at=>at.visible=!1)},[]),null}function $6ed0406888f73fc4$var$setRef(_e,_){typeof _e=="function"?_e(_):_e!=null&&(_e.current=_)}function $6ed0406888f73fc4$export$43e446d32b3d21af(..._e){return _=>_e.forEach(et=>$6ed0406888f73fc4$var$setRef(et,_))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(..._e){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(..._e),_e)}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((_e,_)=>{const{children:et,...tt}=_e,nt=reactExports.Children.toArray(et),rt=nt.find($5e63c961fc1ce211$var$isSlottable);if(rt){const it=rt.props.children,st=nt.map(ot=>ot===rt?reactExports.Children.count(it)>1?reactExports.Children.only(null):reactExports.isValidElement(it)?it.props.children:null:ot);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},tt,{ref:_}),reactExports.isValidElement(it)?reactExports.cloneElement(it,void 0,st):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},tt,{ref:_}),et)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((_e,_)=>{const{children:et,...tt}=_e;return reactExports.isValidElement(et)?reactExports.cloneElement(et,{...$5e63c961fc1ce211$var$mergeProps(tt,et.props),ref:_?$6ed0406888f73fc4$export$43e446d32b3d21af(_,et.ref):et.ref}):reactExports.Children.count(et)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:_e})=>reactExports.createElement(reactExports.Fragment,null,_e);function $5e63c961fc1ce211$var$isSlottable(_e){return reactExports.isValidElement(_e)&&_e.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(_e,_){const et={..._};for(const tt in _){const nt=_e[tt],rt=_[tt];/^on[A-Z]/.test(tt)?nt&&rt?et[tt]=(...st)=>{rt(...st),nt(...st)}:nt&&(et[tt]=nt):tt==="style"?et[tt]={...nt,...rt}:tt==="className"&&(et[tt]=[nt,rt].filter(Boolean).join(" "))}return{..._e,...et}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((_e,_)=>{const et=reactExports.forwardRef((tt,nt)=>{const{asChild:rt,...it}=tt,st=rt?$5e63c961fc1ce211$export$8c6ed5c666ac1360:_;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(st,_extends$1({},it,{ref:nt}))});return et.displayName=`Primitive.${_}`,{..._e,[_]:et}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(_e,_){_e&&reactDomExports.flushSync(()=>_e.dispatchEvent(_))}const $f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((_e,_)=>{var et;const{container:tt=globalThis==null||(et=globalThis.document)===null||et===void 0?void 0:et.body,...nt}=_e;return tt?ReactDOM.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},nt,{ref:_})),tt):null}),$f1701beae083dbae$export$be92b6f5f03c0fe9=$f1701beae083dbae$export$602eac185826482c;var has=Object.prototype.hasOwnProperty;function dequal(_e,_){var et,tt;if(_e===_)return!0;if(_e&&_&&(et=_e.constructor)===_.constructor){if(et===Date)return _e.getTime()===_.getTime();if(et===RegExp)return _e.toString()===_.toString();if(et===Array){if((tt=_e.length)===_.length)for(;tt--&&dequal(_e[tt],_[tt]););return tt===-1}if(!et||typeof _e=="object"){tt=0;for(et in _e)if(has.call(_e,et)&&++tt&&!has.call(_,et)||!(et in _)||!dequal(_e[et],_[et]))return!1;return Object.keys(_).length===tt}}return _e!==_e&&_!==_}function shallow(_e,_){if(Object.is(_e,_))return!0;if(typeof _e!="object"||_e===null||typeof _!="object"||_===null)return!1;const et=Object.keys(_e);if(et.length!==Object.keys(_).length)return!1;for(let tt=0;tt<et.length;tt++)if(!Object.prototype.hasOwnProperty.call(_,et[tt])||!Object.is(_e[et[tt]],_[et[tt]]))return!1;return!0}var Rule=function _e(_,et,tt,nt){this.name=_,this.fn=et,this.args=tt,this.modifiers=nt};Rule.prototype._test=function _e(_){var et=this.fn;try{testAux(this.modifiers.slice(),et,this)(_)}catch{et=function(){return!1}}try{return testAux(this.modifiers.slice(),et,this)(_)}catch{return!1}};Rule.prototype._check=function _e(_){try{testAux(this.modifiers.slice(),this.fn,this)(_)}catch{if(testAux(this.modifiers.slice(),function(tt){return tt},this)(!1))return}if(!testAux(this.modifiers.slice(),this.fn,this)(_))throw null};Rule.prototype._testAsync=function _e(_){var et=this;return new Promise(function(tt,nt){testAsyncAux(et.modifiers.slice(),et.fn,et)(_).then(function(rt){rt?tt(_):nt(null)}).catch(function(rt){return nt(rt)})})};function pickFn(_e,_){return _===void 0&&(_="simple"),typeof _e=="object"?_e[_]:_e}function testAux(_e,_,et){if(_e.length){var tt=_e.shift(),nt=testAux(_e,_,et);return tt.perform(nt,et)}else return pickFn(_)}function testAsyncAux(_e,_,et){if(_e.length){var tt=_e.shift(),nt=testAsyncAux(_e,_,et);return tt.performAsync(nt,et)}else return function(rt){return Promise.resolve(pickFn(_,"async")(rt))}}var Modifier=function _e(_,et,tt){this.name=_,this.perform=et,this.performAsync=tt},ValidationError=function(_e){function _(et,tt,nt,rt){for(var it=[],st=arguments.length-4;st-- >0;)it[st]=arguments[st+4];_e.call(this,it),_e.captureStackTrace&&_e.captureStackTrace(this,_),this.rule=et,this.value=tt,this.cause=nt,this.target=rt}return _e&&(_.__proto__=_e),_.prototype=Object.create(_e&&_e.prototype),_.prototype.constructor=_,_}(Error),Context=function _e(_,et){_===void 0&&(_=[]),et===void 0&&(et=[]),this.chain=_,this.nextRuleModifiers=et};Context.prototype._applyRule=function _e(_,et){var tt=this;return function(){for(var nt=[],rt=arguments.length;rt--;)nt[rt]=arguments[rt];return tt.chain.push(new Rule(et,_.apply(tt,nt),nt,tt.nextRuleModifiers)),tt.nextRuleModifiers=[],tt}};Context.prototype._applyModifier=function _e(_,et){return this.nextRuleModifiers.push(new Modifier(et,_.simple,_.async)),this};Context.prototype._clone=function _e(){return new Context(this.chain.slice(),this.nextRuleModifiers.slice())};Context.prototype.test=function _e(_){return this.chain.every(function(et){return et._test(_)})};Context.prototype.testAll=function _e(_){var et=[];return this.chain.forEach(function(tt){try{tt._check(_)}catch(nt){et.push(new ValidationError(tt,_,nt))}}),et};Context.prototype.check=function _e(_){this.chain.forEach(function(et){try{et._check(_)}catch(tt){throw new ValidationError(et,_,tt)}})};Context.prototype.testAsync=function _e(_){var et=this;return new Promise(function(tt,nt){executeAsyncRules(_,et.chain.slice(),tt,nt)})};function executeAsyncRules(_e,_,et,tt){if(_.length){var nt=_.shift();nt._testAsync(_e).then(function(){executeAsyncRules(_e,_,et,tt)},function(rt){tt(new ValidationError(nt,_e,rt))})}else et(_e)}var consideredEmpty=function(_e,_){return _&&typeof _e=="string"&&_e.trim().length===0?!0:_e==null};function optional(_e,_){return _===void 0&&(_=!1),{simple:function(et){return consideredEmpty(et,_)||_e.check(et)===void 0},async:function(et){return consideredEmpty(et,_)||_e.testAsync(et)}}}function v8n(){return typeof Proxy<"u"?proxyContext(new Context):proxylessContext(new Context)}var customRules={};v8n.extend=function(_e){Object.assign(customRules,_e)};v8n.clearCustomRules=function(){customRules={}};function proxyContext(_e){return new Proxy(_e,{get:function(et,tt){if(tt in et)return et[tt];var nt=proxyContext(_e._clone());if(tt in availableModifiers)return nt._applyModifier(availableModifiers[tt],tt);if(tt in customRules)return nt._applyRule(customRules[tt],tt);if(tt in availableRules)return nt._applyRule(availableRules[tt],tt)}})}function proxylessContext(_e){var _=function(nt,rt){return Object.keys(nt).forEach(function(it){rt[it]=function(){for(var st=[],ot=arguments.length;ot--;)st[ot]=arguments[ot];var at=proxylessContext(rt._clone()),lt=at._applyRule(nt[it],it).apply(void 0,st);return lt}}),rt},et=_(availableRules,_e),tt=_(customRules,et);return Object.keys(availableModifiers).forEach(function(nt){Object.defineProperty(tt,nt,{get:function(){var rt=proxylessContext(tt._clone());return rt._applyModifier(availableModifiers[nt],nt)}})}),tt}var availableModifiers={not:{simple:function(_e){return function(_){return!_e(_)}},async:function(_e){return function(_){return Promise.resolve(_e(_)).then(function(et){return!et}).catch(function(){return!0})}}},some:{simple:function(_e){return function(_){return split$1(_).some(function(et){try{return _e(et)}catch{return!1}})}},async:function(_e){return function(_){return Promise.all(split$1(_).map(function(et){try{return _e(et).catch(function(){return!1})}catch{return!1}})).then(function(et){return et.some(Boolean)})}}},every:{simple:function(_e){return function(_){return _!==!1&&split$1(_).every(_e)}},async:function(_e){return function(_){return Promise.all(split$1(_).map(_e)).then(function(et){return et.every(Boolean)})}}},strict:{simple:function(_e,_){return function(et){return isSchemaRule(_)&&et&&typeof et=="object"?Object.keys(_.args[0]).length===Object.keys(et).length&&_e(et):_e(et)}},async:function(_e,_){return function(et){return Promise.resolve(_e(et)).then(function(tt){return isSchemaRule(_)&&et&&typeof et=="object"?Object.keys(_.args[0]).length===Object.keys(et).length&&tt:tt}).catch(function(){return!1})}}}};function isSchemaRule(_e){return _e&&_e.name==="schema"&&_e.args.length>0&&typeof _e.args[0]=="object"}function split$1(_e){return typeof _e=="string"?_e.split(""):_e}var availableRules={equal:function(_e){return function(_){return _==_e}},exact:function(_e){return function(_){return _===_e}},number:function(_e){return _e===void 0&&(_e=!0),function(_){return typeof _=="number"&&(_e||isFinite(_))}},integer:function(){return function(_e){var _=Number.isInteger||isIntegerPolyfill;return _(_e)}},numeric:function(){return function(_e){return!isNaN(parseFloat(_e))&&isFinite(_e)}},string:function(){return testType("string")},boolean:function(){return testType("boolean")},undefined:function(){return testType("undefined")},null:function(){return testType("null")},array:function(){return testType("array")},object:function(){return testType("object")},instanceOf:function(_e){return function(_){return _ instanceof _e}},pattern:function(_e){return function(_){return _e.test(_)}},lowercase:function(){return function(_e){return typeof _e=="boolean"||_e===_e.toLowerCase()&&_e.trim()!==""}},uppercase:function(){return function(_e){return _e===_e.toUpperCase()&&_e.trim()!==""}},vowel:function(){return function(_e){return/^[aeiou]+$/i.test(_e)}},consonant:function(){return function(_e){return/^(?=[^aeiou])([a-z]+)$/i.test(_e)}},first:function(_e){return function(_){return _[0]==_e}},last:function(_e){return function(_){return _[_.length-1]==_e}},empty:function(){return function(_e){return _e.length===0}},length:function(_e,_){return function(et){return et.length>=_e&&et.length<=(_||_e)}},minLength:function(_e){return function(_){return _.length>=_e}},maxLength:function(_e){return function(_){return _.length<=_e}},negative:function(){return function(_e){return _e<0}},positive:function(){return function(_e){return _e>=0}},between:function(_e,_){return function(et){return et>=_e&&et<=_}},range:function(_e,_){return function(et){return et>=_e&&et<=_}},lessThan:function(_e){return function(_){return _<_e}},lessThanOrEqual:function(_e){return function(_){return _<=_e}},greaterThan:function(_e){return function(_){return _>_e}},greaterThanOrEqual:function(_e){return function(_){return _>=_e}},even:function(){return function(_e){return _e%2===0}},odd:function(){return function(_e){return _e%2!==0}},includes:function(_e){return function(_){return~_.indexOf(_e)}},schema:function(_e){return testSchema(_e)},passesAnyOf:function(){for(var _e=[],_=arguments.length;_--;)_e[_]=arguments[_];return function(et){return _e.some(function(tt){return tt.test(et)})}},optional};function testType(_e){return function(_){return Array.isArray(_)&&_e==="array"||_===null&&_e==="null"||typeof _===_e}}function isIntegerPolyfill(_e){return typeof _e=="number"&&isFinite(_e)&&Math.floor(_e)===_e}function testSchema(_e){return{simple:function(_){var et=[];if(Object.keys(_e).forEach(function(tt){var nt=_e[tt];try{nt.check((_||{})[tt])}catch(rt){rt.target=tt,et.push(rt)}}),et.length>0)throw et;return!0},async:function(_){var et=[],tt=Object.keys(_e).map(function(nt){var rt=_e[nt];return rt.testAsync((_||{})[nt]).catch(function(it){it.target=nt,et.push(it)})});return Promise.all(tt).then(function(){if(et.length>0)throw et;return!0})}}}var e$3="colors",t$4="sizes",r$3="space",n$4={gap:r$3,gridGap:r$3,columnGap:r$3,gridColumnGap:r$3,rowGap:r$3,gridRowGap:r$3,inset:r$3,insetBlock:r$3,insetBlockEnd:r$3,insetBlockStart:r$3,insetInline:r$3,insetInlineEnd:r$3,insetInlineStart:r$3,margin:r$3,marginTop:r$3,marginRight:r$3,marginBottom:r$3,marginLeft:r$3,marginBlock:r$3,marginBlockEnd:r$3,marginBlockStart:r$3,marginInline:r$3,marginInlineEnd:r$3,marginInlineStart:r$3,padding:r$3,paddingTop:r$3,paddingRight:r$3,paddingBottom:r$3,paddingLeft:r$3,paddingBlock:r$3,paddingBlockEnd:r$3,paddingBlockStart:r$3,paddingInline:r$3,paddingInlineEnd:r$3,paddingInlineStart:r$3,top:r$3,right:r$3,bottom:r$3,left:r$3,scrollMargin:r$3,scrollMarginTop:r$3,scrollMarginRight:r$3,scrollMarginBottom:r$3,scrollMarginLeft:r$3,scrollMarginX:r$3,scrollMarginY:r$3,scrollMarginBlock:r$3,scrollMarginBlockEnd:r$3,scrollMarginBlockStart:r$3,scrollMarginInline:r$3,scrollMarginInlineEnd:r$3,scrollMarginInlineStart:r$3,scrollPadding:r$3,scrollPaddingTop:r$3,scrollPaddingRight:r$3,scrollPaddingBottom:r$3,scrollPaddingLeft:r$3,scrollPaddingX:r$3,scrollPaddingY:r$3,scrollPaddingBlock:r$3,scrollPaddingBlockEnd:r$3,scrollPaddingBlockStart:r$3,scrollPaddingInline:r$3,scrollPaddingInlineEnd:r$3,scrollPaddingInlineStart:r$3,fontSize:"fontSizes",background:e$3,backgroundColor:e$3,backgroundImage:e$3,borderImage:e$3,border:e$3,borderBlock:e$3,borderBlockEnd:e$3,borderBlockStart:e$3,borderBottom:e$3,borderBottomColor:e$3,borderColor:e$3,borderInline:e$3,borderInlineEnd:e$3,borderInlineStart:e$3,borderLeft:e$3,borderLeftColor:e$3,borderRight:e$3,borderRightColor:e$3,borderTop:e$3,borderTopColor:e$3,caretColor:e$3,color:e$3,columnRuleColor:e$3,fill:e$3,outline:e$3,outlineColor:e$3,stroke:e$3,textDecorationColor:e$3,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t$4,minBlockSize:t$4,maxBlockSize:t$4,inlineSize:t$4,minInlineSize:t$4,maxInlineSize:t$4,width:t$4,minWidth:t$4,maxWidth:t$4,height:t$4,minHeight:t$4,maxHeight:t$4,flexBasis:t$4,gridTemplateColumns:t$4,gridTemplateRows:t$4,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i$3=(_e,_)=>typeof _=="function"?{"()":Function.prototype.toString.call(_)}:_,o$2=()=>{const _e=Object.create(null);return(_,et,...tt)=>{const nt=(rt=>JSON.stringify(rt,i$3))(_);return nt in _e?_e[nt]:_e[nt]=et(_,...tt)}},l$3=Symbol.for("sxs.internal"),s$3=(_e,_)=>Object.defineProperties(_e,Object.getOwnPropertyDescriptors(_)),a$1=_e=>{for(const _ in _e)return!0;return!1},{hasOwnProperty:c$2}=Object.prototype,d$2=_e=>_e.includes("-")?_e:_e.replace(/[A-Z]/g,_=>"-"+_.toLowerCase()),g$2=/\s+(?![^()]*\))/,p$4=_e=>_=>_e(...typeof _=="string"?String(_).split(g$2):[_]),u$4={appearance:_e=>({WebkitAppearance:_e,appearance:_e}),backfaceVisibility:_e=>({WebkitBackfaceVisibility:_e,backfaceVisibility:_e}),backdropFilter:_e=>({WebkitBackdropFilter:_e,backdropFilter:_e}),backgroundClip:_e=>({WebkitBackgroundClip:_e,backgroundClip:_e}),boxDecorationBreak:_e=>({WebkitBoxDecorationBreak:_e,boxDecorationBreak:_e}),clipPath:_e=>({WebkitClipPath:_e,clipPath:_e}),content:_e=>({content:_e.includes('"')||_e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(_e)?_e:`"${_e}"`}),hyphens:_e=>({WebkitHyphens:_e,hyphens:_e}),maskImage:_e=>({WebkitMaskImage:_e,maskImage:_e}),maskSize:_e=>({WebkitMaskSize:_e,maskSize:_e}),tabSize:_e=>({MozTabSize:_e,tabSize:_e}),textSizeAdjust:_e=>({WebkitTextSizeAdjust:_e,textSizeAdjust:_e}),userSelect:_e=>({WebkitUserSelect:_e,userSelect:_e}),marginBlock:p$4((_e,_)=>({marginBlockStart:_e,marginBlockEnd:_||_e})),marginInline:p$4((_e,_)=>({marginInlineStart:_e,marginInlineEnd:_||_e})),maxSize:p$4((_e,_)=>({maxBlockSize:_e,maxInlineSize:_||_e})),minSize:p$4((_e,_)=>({minBlockSize:_e,minInlineSize:_||_e})),paddingBlock:p$4((_e,_)=>({paddingBlockStart:_e,paddingBlockEnd:_||_e})),paddingInline:p$4((_e,_)=>({paddingInlineStart:_e,paddingInlineEnd:_||_e}))},h$4=/([\d.]+)([^]*)/,f$2=(_e,_)=>_e.length?_e.reduce((et,tt)=>(et.push(..._.map(nt=>nt.includes("&")?nt.replace(/&/g,/[ +>|~]/.test(tt)&&/&.*&/.test(nt)?`:is(${tt})`:tt):tt+" "+nt)),et),[]):_,m$3=(_e,_)=>_e in b$2&&typeof _=="string"?_.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(et,tt,nt,rt)=>tt+(nt==="stretch"?`-moz-available${rt};${d$2(_e)}:${tt}-webkit-fill-available`:`-moz-fit-content${rt};${d$2(_e)}:${tt}fit-content`)+rt):String(_),b$2={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S$2=_e=>_e?_e+"-":"",k$3=(_e,_,et)=>_e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(tt,nt,rt,it,st)=>it=="$"==!!rt?tt:(nt||it=="--"?"calc(":"")+"var(--"+(it==="$"?S$2(_)+(st.includes("$")?"":S$2(et))+st.replace(/\$/g,"-"):st)+")"+(nt||it=="--"?"*"+(nt||"")+(rt||"1")+")":"")),y$2=/\s*,\s*(?![^()]*\))/,B=Object.prototype.toString,$$2=(_e,_,et,tt,nt)=>{let rt,it,st;const ot=(at,lt,ct)=>{let ut,ft;const ht=vt=>{for(ut in vt){const yt=ut.charCodeAt(0)===64,_t=yt&&Array.isArray(vt[ut])?vt[ut]:[vt[ut]];for(ft of _t){const St=/[A-Z]/.test(pt=ut)?pt:pt.replace(/-[^]/g,wt=>wt[1].toUpperCase()),Et=typeof ft=="object"&&ft&&ft.toString===B&&(!tt.utils[St]||!lt.length);if(St in tt.utils&&!Et){const wt=tt.utils[St];if(wt!==it){it=wt,ht(wt(ft)),it=null;continue}}else if(St in u$4){const wt=u$4[St];if(wt!==st){st=wt,ht(wt(ft)),st=null;continue}}if(yt&&(mt=ut.slice(1)in tt.media?"@media "+tt.media[ut.slice(1)]:ut,ut=mt.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(wt,Mt,At,Tt,Ct,Dt)=>{const $t=h$4.test(Mt),kt=.0625*($t?-1:1),[It,Nt]=$t?[Tt,Mt]:[Mt,Tt];return"("+(At[0]==="="?"":At[0]===">"===$t?"max-":"min-")+It+":"+(At[0]!=="="&&At.length===1?Nt.replace(h$4,(Gt,Bt,Rt)=>Number(Bt)+kt*(At===">"?1:-1)+Rt):Nt)+(Ct?") and ("+(Ct[0]===">"?"min-":"max-")+It+":"+(Ct.length===1?Dt.replace(h$4,(Gt,Bt,Rt)=>Number(Bt)+kt*(Ct===">"?-1:1)+Rt):Dt):"")+")"})),Et){const wt=yt?ct.concat(ut):[...ct],Mt=yt?[...lt]:f$2(lt,ut.split(y$2));rt!==void 0&&nt(x$1(...rt)),rt=void 0,ot(ft,Mt,wt)}else rt===void 0&&(rt=[[],lt,ct]),ut=yt||ut.charCodeAt(0)!==36?ut:`--${S$2(tt.prefix)}${ut.slice(1).replace(/\$/g,"-")}`,ft=Et?ft:typeof ft=="number"?ft&&St in I$2?String(ft)+"px":String(ft):k$3(m$3(St,ft??""),tt.prefix,tt.themeMap[St]),rt[0].push(`${yt?`${ut} `:`${d$2(ut)}:`}${ft}`)}}var mt,pt};ht(at),rt!==void 0&&nt(x$1(...rt)),rt=void 0};ot(_e,_,et)},x$1=(_e,_,et)=>`${et.map(tt=>`${tt}{`).join("")}${_.length?`${_.join(",")}{`:""}${_e.join(";")}${_.length?"}":""}${Array(et.length?et.length+1:0).join("}")}`,I$2={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R=_e=>String.fromCharCode(_e+(_e>25?39:97)),z=_e=>(_=>{let et,tt="";for(et=Math.abs(_);et>52;et=et/52|0)tt=R(et%52)+tt;return R(et%52)+tt})(((_,et)=>{let tt=et.length;for(;tt;)_=33*_^et.charCodeAt(--tt);return _})(5381,JSON.stringify(_e))>>>0),W=["themed","global","styled","onevar","resonevar","allvar","inline"],j$1=_e=>{if(_e.href&&!_e.href.startsWith(location.origin))return!1;try{return!!_e.cssRules}catch{return!1}},E=_e=>{let _;const et=()=>{const{cssRules:nt}=_.sheet;return[].map.call(nt,(rt,it)=>{const{cssText:st}=rt;let ot="";if(st.startsWith("--sxs"))return"";if(nt[it-1]&&(ot=nt[it-1].cssText).startsWith("--sxs")){if(!rt.cssRules.length)return"";for(const at in _.rules)if(_.rules[at].group===rt)return`--sxs{--sxs:${[..._.rules[at].cache].join(" ")}}${st}`;return rt.cssRules.length?`${ot}${st}`:""}return st}).join("")},tt=()=>{if(_){const{rules:st,sheet:ot}=_;if(!ot.deleteRule){for(;Object(Object(ot.cssRules)[0]).type===3;)ot.cssRules.splice(0,1);ot.cssRules=[]}for(const at in st)delete st[at]}const nt=Object(_e).styleSheets||[];for(const st of nt)if(j$1(st)){for(let ot=0,at=st.cssRules;at[ot];++ot){const lt=Object(at[ot]);if(lt.type!==1)continue;const ct=Object(at[ot+1]);if(ct.type!==4)continue;++ot;const{cssText:ut}=lt;if(!ut.startsWith("--sxs"))continue;const ft=ut.slice(14,-3).trim().split(/\s+/),ht=W[ft[0]];ht&&(_||(_={sheet:st,reset:tt,rules:{},toString:et}),_.rules[ht]={group:ct,index:ot,cache:new Set(ft)})}if(_)break}if(!_){const st=(ot,at)=>({type:at,cssRules:[],insertRule(lt,ct){this.cssRules.splice(ct,0,st(lt,{import:3,undefined:1}[(lt.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return ot==="@media{}"?`@media{${[].map.call(this.cssRules,lt=>lt.cssText).join("")}}`:ot}});_={sheet:_e?(_e.head||_e).appendChild(document.createElement("style")).sheet:st("","text/css"),rules:{},reset:tt,toString:et}}const{sheet:rt,rules:it}=_;for(let st=W.length-1;st>=0;--st){const ot=W[st];if(!it[ot]){const at=W[st+1],lt=it[at]?it[at].index:rt.cssRules.length;rt.insertRule("@media{}",lt),rt.insertRule(`--sxs{--sxs:${st}}`,lt),it[ot]={group:rt.cssRules[lt+1],index:lt,cache:new Set([st])}}v$3(it[ot])}};return tt(),_},v$3=_e=>{const _=_e.group;let et=_.cssRules.length;_e.apply=tt=>{try{_.insertRule(tt,et),++et}catch{}}},T$1=Symbol(),w$2=o$2(),M$1=(_e,_)=>w$2(_e,()=>(...et)=>{let tt={type:null,composers:new Set};for(const nt of et)if(nt!=null)if(nt[l$3]){tt.type==null&&(tt.type=nt[l$3].type);for(const rt of nt[l$3].composers)tt.composers.add(rt)}else nt.constructor!==Object||nt.$$typeof?tt.type==null&&(tt.type=nt):tt.composers.add(C(nt,_e));return tt.type==null&&(tt.type="span"),tt.composers.size||tt.composers.add(["PJLV",{},[],[],{},[]]),P(_e,tt,_)}),C=({variants:_e,compoundVariants:_,defaultVariants:et,...tt},nt)=>{const rt=`${S$2(nt.prefix)}c-${z(tt)}`,it=[],st=[],ot=Object.create(null),at=[];for(const ut in et)ot[ut]=String(et[ut]);if(typeof _e=="object"&&_e)for(const ut in _e){lt=ot,ct=ut,c$2.call(lt,ct)||(ot[ut]="undefined");const ft=_e[ut];for(const ht in ft){const vt={[ut]:String(ht)};String(ht)==="undefined"&&at.push(ut);const mt=ft[ht],pt=[vt,mt,!a$1(mt)];it.push(pt)}}var lt,ct;if(typeof _=="object"&&_)for(const ut of _){let{css:ft,...ht}=ut;ft=typeof ft=="object"&&ft||{};for(const mt in ht)ht[mt]=String(ht[mt]);const vt=[ht,ft,!a$1(ft)];st.push(vt)}return[rt,tt,it,st,ot,at]},P=(_e,_,et)=>{const[tt,nt,rt,it]=L$1(_.composers),st=typeof _.type=="function"||_.type.$$typeof?(ct=>{function ut(){for(let ft=0;ft<ut[T$1].length;ft++){const[ht,vt]=ut[T$1][ft];ct.rules[ht].apply(vt)}return ut[T$1]=[],null}return ut[T$1]=[],ut.rules={},W.forEach(ft=>ut.rules[ft]={apply:ht=>ut[T$1].push([ft,ht])}),ut})(et):null,ot=(st||et).rules,at=`.${tt}${nt.length>1?`:where(.${nt.slice(1).join(".")})`:""}`,lt=ct=>{ct=typeof ct=="object"&&ct||A;const{css:ut,...ft}=ct,ht={};for(const pt in rt)if(delete ft[pt],pt in ct){let yt=ct[pt];typeof yt=="object"&&yt?ht[pt]={"@initial":rt[pt],...yt}:(yt=String(yt),ht[pt]=yt!=="undefined"||it.has(pt)?yt:rt[pt])}else ht[pt]=rt[pt];const vt=new Set([...nt]);for(const[pt,yt,_t,St]of _.composers){et.rules.styled.cache.has(pt)||(et.rules.styled.cache.add(pt),$$2(yt,[`.${pt}`],[],_e,Mt=>{ot.styled.apply(Mt)}));const Et=O(_t,ht,_e.media),wt=O(St,ht,_e.media,!0);for(const Mt of Et)if(Mt!==void 0)for(const[At,Tt,Ct]of Mt){const Dt=`${pt}-${z(Tt)}-${At}`;vt.add(Dt);const $t=(Ct?et.rules.resonevar:et.rules.onevar).cache,kt=Ct?ot.resonevar:ot.onevar;$t.has(Dt)||($t.add(Dt),$$2(Tt,[`.${Dt}`],[],_e,It=>{kt.apply(It)}))}for(const Mt of wt)if(Mt!==void 0)for(const[At,Tt]of Mt){const Ct=`${pt}-${z(Tt)}-${At}`;vt.add(Ct),et.rules.allvar.cache.has(Ct)||(et.rules.allvar.cache.add(Ct),$$2(Tt,[`.${Ct}`],[],_e,Dt=>{ot.allvar.apply(Dt)}))}}if(typeof ut=="object"&&ut){const pt=`${tt}-i${z(ut)}-css`;vt.add(pt),et.rules.inline.cache.has(pt)||(et.rules.inline.cache.add(pt),$$2(ut,[`.${pt}`],[],_e,yt=>{ot.inline.apply(yt)}))}for(const pt of String(ct.className||"").trim().split(/\s+/))pt&&vt.add(pt);const mt=ft.className=[...vt].join(" ");return{type:_.type,className:mt,selector:at,props:ft,toString:()=>mt,deferredInjector:st}};return s$3(lt,{className:tt,selector:at,[l$3]:_,toString:()=>(et.rules.styled.cache.has(tt)||lt(),tt)})},L$1=_e=>{let _="";const et=[],tt={},nt=[];for(const[rt,,,,it,st]of _e){_===""&&(_=rt),et.push(rt),nt.push(...st);for(const ot in it){const at=it[ot];(tt[ot]===void 0||at!=="undefined"||st.includes(at))&&(tt[ot]=at)}}return[_,et,tt,new Set(nt)]},O=(_e,_,et,tt)=>{const nt=[];e:for(let[rt,it,st]of _e){if(st)continue;let ot,at=0,lt=!1;for(ot in rt){const ct=rt[ot];let ut=_[ot];if(ut!==ct){if(typeof ut!="object"||!ut)continue e;{let ft,ht,vt=0;for(const mt in ut){if(ct===String(ut[mt])){if(mt!=="@initial"){const pt=mt.slice(1);(ht=ht||[]).push(pt in et?et[pt]:mt.replace(/^@media ?/,"")),lt=!0}at+=vt,ft=!0}++vt}if(ht&&ht.length&&(it={["@media "+ht.join(", ")]:it}),!ft)continue e}}}(nt[at]=nt[at]||[]).push([tt?"cv":`${ot}-${rt[ot]}`,it,lt])}return nt},A={},N$1=o$2(),D=(_e,_)=>N$1(_e,()=>(...et)=>{const tt=()=>{for(let nt of et){nt=typeof nt=="object"&&nt||{};let rt=z(nt);if(!_.rules.global.cache.has(rt)){if(_.rules.global.cache.add(rt),"@import"in nt){let it=[].indexOf.call(_.sheet.cssRules,_.rules.themed.group)-1;for(let st of[].concat(nt["@import"]))st=st.includes('"')||st.includes("'")?st:`"${st}"`,_.sheet.insertRule(`@import ${st};`,it++);delete nt["@import"]}$$2(nt,[],[],_e,it=>{_.rules.global.apply(it)})}}return""};return s$3(tt,{toString:tt})}),H$1=o$2(),V$1=(_e,_)=>H$1(_e,()=>et=>{const tt=`${S$2(_e.prefix)}k-${z(et)}`,nt=()=>{if(!_.rules.global.cache.has(tt)){_.rules.global.cache.add(tt);const rt=[];$$2(et,[],[],_e,st=>rt.push(st));const it=`@keyframes ${tt}{${rt.join("")}}`;_.rules.global.apply(it)}return tt};return s$3(nt,{get name(){return nt()},toString:nt})}),G=class{constructor(_e,_,et,tt){this.token=_e==null?"":String(_e),this.value=_==null?"":String(_),this.scale=et==null?"":String(et),this.prefix=tt==null?"":String(tt)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S$2(this.prefix)+S$2(this.scale)+this.token}toString(){return this.computedValue}},F$1=o$2(),J$1=(_e,_)=>F$1(_e,()=>(et,tt)=>{tt=typeof et=="object"&&et||Object(tt);const nt=`.${et=(et=typeof et=="string"?et:"")||`${S$2(_e.prefix)}t-${z(tt)}`}`,rt={},it=[];for(const ot in tt){rt[ot]={};for(const at in tt[ot]){const lt=`--${S$2(_e.prefix)}${ot}-${at}`,ct=k$3(String(tt[ot][at]),_e.prefix,ot);rt[ot][at]=new G(at,ct,ot,_e.prefix),it.push(`${lt}:${ct}`)}}const st=()=>{if(it.length&&!_.rules.themed.cache.has(et)){_.rules.themed.cache.add(et);const ot=`${tt===_e.theme?":root,":""}.${et}{${it.join(";")}}`;_.rules.themed.apply(ot)}return et};return{...rt,get className(){return st()},selector:nt,toString:st}}),U$1=o$2(),Y$1=o$2(),q$3=_e=>{const _=(et=>{let tt=!1;const nt=U$1(et,rt=>{tt=!0;const it="prefix"in(rt=typeof rt=="object"&&rt||{})?String(rt.prefix):"",st=typeof rt.media=="object"&&rt.media||{},ot=typeof rt.root=="object"?rt.root||null:globalThis.document||null,at=typeof rt.theme=="object"&&rt.theme||{},lt={prefix:it,media:st,theme:at,themeMap:typeof rt.themeMap=="object"&&rt.themeMap||{...n$4},utils:typeof rt.utils=="object"&&rt.utils||{}},ct=E(ot),ut={css:M$1(lt,ct),globalCss:D(lt,ct),keyframes:V$1(lt,ct),createTheme:J$1(lt,ct),reset(){ct.reset(),ut.theme.toString()},theme:{},sheet:ct,config:lt,prefix:it,getCssText:ct.toString,toString:ct.toString};return String(ut.theme=ut.createTheme(at)),ut});return tt||nt.reset(),nt})(_e);return _.styled=(({config:et,sheet:tt})=>Y$1(et,()=>{const nt=M$1(et,tt);return(...rt)=>{const it=nt(...rt),st=it[l$3].type,ot=React.forwardRef((at,lt)=>{const ct=at&&at.as||st,{props:ut,deferredInjector:ft}=it(at);return delete ut.as,ut.ref=lt,ft?React.createElement(React.Fragment,null,React.createElement(ct,ut),React.createElement(ft,null)):React.createElement(ct,ut)});return ot.className=it.className,ot.displayName=`Styled.${st.displayName||st.name||st}`,ot.selector=it.selector,ot.toString=()=>it.selector,ot[l$3]=it[l$3],ot}}))(_),_};function $e42e1063c40fb3ef$export$b9ecd428b558ff10(_e,_,{checkForDefaultPrevented:et=!0}={}){return function(nt){if(_e==null||_e(nt),et===!1||!nt.defaultPrevented)return _==null?void 0:_(nt)}}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(_e,_=[]){let et=[];function tt(rt,it){const st=reactExports.createContext(it),ot=et.length;et=[...et,it];function at(ct){const{scope:ut,children:ft,...ht}=ct,vt=(ut==null?void 0:ut[_e][ot])||st,mt=reactExports.useMemo(()=>ht,Object.values(ht));return reactExports.createElement(vt.Provider,{value:mt},ft)}function lt(ct,ut){const ft=(ut==null?void 0:ut[_e][ot])||st,ht=reactExports.useContext(ft);if(ht)return ht;if(it!==void 0)return it;throw new Error(`\`${ct}\` must be used within \`${rt}\``)}return at.displayName=rt+"Provider",[at,lt]}const nt=()=>{const rt=et.map(it=>reactExports.createContext(it));return function(st){const ot=(st==null?void 0:st[_e])||rt;return reactExports.useMemo(()=>({[`__scope${_e}`]:{...st,[_e]:ot}}),[st,ot])}};return nt.scopeName=_e,[tt,$c512c27ab02ef895$var$composeContextScopes(nt,..._)]}function $c512c27ab02ef895$var$composeContextScopes(..._e){const _=_e[0];if(_e.length===1)return _;const et=()=>{const tt=_e.map(nt=>({useScope:nt(),scopeName:nt.scopeName}));return function(rt){const it=tt.reduce((st,{useScope:ot,scopeName:at})=>{const ct=ot(rt)[`__scope${at}`];return{...st,...ct}},{});return reactExports.useMemo(()=>({[`__scope${_.scopeName}`]:it}),[it])}};return et.scopeName=_.scopeName,et}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e){const _=reactExports.useRef(_e);return reactExports.useEffect(()=>{_.current=_e}),reactExports.useMemo(()=>(...et)=>{var tt;return(tt=_.current)===null||tt===void 0?void 0:tt.call(_,...et)},[])}function $addc16e1bbe58fd0$export$3a72a57244d6e765(_e,_=globalThis==null?void 0:globalThis.document){const et=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e);reactExports.useEffect(()=>{const tt=nt=>{nt.key==="Escape"&&et(nt)};return _.addEventListener("keydown",tt),()=>_.removeEventListener("keydown",tt)},[et,_])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((_e,_)=>{var et;const{disableOutsidePointerEvents:tt=!1,onEscapeKeyDown:nt,onPointerDownOutside:rt,onFocusOutside:it,onInteractOutside:st,onDismiss:ot,...at}=_e,lt=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[ct,ut]=reactExports.useState(null),ft=(et=ct==null?void 0:ct.ownerDocument)!==null&&et!==void 0?et:globalThis==null?void 0:globalThis.document,[,ht]=reactExports.useState({}),vt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,At=>ut(At)),mt=Array.from(lt.layers),[pt]=[...lt.layersWithOutsidePointerEventsDisabled].slice(-1),yt=mt.indexOf(pt),_t=ct?mt.indexOf(ct):-1,St=lt.layersWithOutsidePointerEventsDisabled.size>0,Et=_t>=yt,wt=$5cb92bef7577960e$var$usePointerDownOutside(At=>{const Tt=At.target,Ct=[...lt.branches].some(Dt=>Dt.contains(Tt));!Et||Ct||(rt==null||rt(At),st==null||st(At),At.defaultPrevented||ot==null||ot())},ft),Mt=$5cb92bef7577960e$var$useFocusOutside(At=>{const Tt=At.target;[...lt.branches].some(Dt=>Dt.contains(Tt))||(it==null||it(At),st==null||st(At),At.defaultPrevented||ot==null||ot())},ft);return $addc16e1bbe58fd0$export$3a72a57244d6e765(At=>{_t===lt.layers.size-1&&(nt==null||nt(At),!At.defaultPrevented&&ot&&(At.preventDefault(),ot()))},ft),reactExports.useEffect(()=>{if(ct)return tt&&(lt.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=ft.body.style.pointerEvents,ft.body.style.pointerEvents="none"),lt.layersWithOutsidePointerEventsDisabled.add(ct)),lt.layers.add(ct),$5cb92bef7577960e$var$dispatchUpdate(),()=>{tt&&lt.layersWithOutsidePointerEventsDisabled.size===1&&(ft.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[ct,ft,tt,lt]),reactExports.useEffect(()=>()=>{ct&&(lt.layers.delete(ct),lt.layersWithOutsidePointerEventsDisabled.delete(ct),$5cb92bef7577960e$var$dispatchUpdate())},[ct,lt]),reactExports.useEffect(()=>{const At=()=>ht({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,At),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,At)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},at,{ref:vt,style:{pointerEvents:St?Et?"auto":"none":void 0,..._e.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onFocusCapture,Mt.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onBlurCapture,Mt.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerDownCapture,wt.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(_e,_=globalThis==null?void 0:globalThis.document){const et=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e),tt=reactExports.useRef(!1),nt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const rt=st=>{if(st.target&&!tt.current){let at=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,et,ot,{discrete:!0})};const ot={originalEvent:st};st.pointerType==="touch"?(_.removeEventListener("click",nt.current),nt.current=at,_.addEventListener("click",nt.current,{once:!0})):at()}else _.removeEventListener("click",nt.current);tt.current=!1},it=window.setTimeout(()=>{_.addEventListener("pointerdown",rt)},0);return()=>{window.clearTimeout(it),_.removeEventListener("pointerdown",rt),_.removeEventListener("click",nt.current)}},[_,et]),{onPointerDownCapture:()=>tt.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(_e,_=globalThis==null?void 0:globalThis.document){const et=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_e),tt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const nt=rt=>{rt.target&&!tt.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,et,{originalEvent:rt},{discrete:!1})};return _.addEventListener("focusin",nt),()=>_.removeEventListener("focusin",nt)},[_,et]),{onFocusCapture:()=>tt.current=!0,onBlurCapture:()=>tt.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const _e=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(_e)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(_e,_,et,{discrete:tt}){const nt=et.originalEvent.target,rt=new CustomEvent(_e,{bubbles:!1,cancelable:!0,detail:et});_&&nt.addEventListener(_e,_,{once:!0}),tt?$8927f6f2acc4f386$export$6d1a0317bde7de7f(nt,rt):nt.dispatchEvent(rt)}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react.useId||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(_e){const[_,et]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{et(tt=>tt??String($1746a345f3d73bb7$var$count++))},[_e]),_?`radix-${_}`:""}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(_e,_,et){return max(_e,min(_,et))}function evaluate$1(_e,_){return typeof _e=="function"?_e(_):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,_,et){et===void 0&&(et=!1);const tt=getAlignment(_e),nt=getAlignmentAxis(_e),rt=getAxisLength(nt);let it=nt==="x"?tt===(et?"end":"start")?"right":"left":tt==="start"?"bottom":"top";return _.reference[rt]>_.floating[rt]&&(it=getOppositePlacement(it)),[it,getOppositePlacement(it)]}function getExpandedPlacements(_e){const _=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),_,getOppositeAlignmentPlacement(_)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,_=>oppositeAlignmentMap[_])}function getSideList(_e,_,et){const tt=["left","right"],nt=["right","left"],rt=["top","bottom"],it=["bottom","top"];switch(_e){case"top":case"bottom":return et?_?nt:tt:_?tt:nt;case"left":case"right":return _?rt:it;default:return[]}}function getOppositeAxisPlacements(_e,_,et,tt){const nt=getAlignment(_e);let rt=getSideList(getSide(_e),et==="start",tt);return nt&&(rt=rt.map(it=>it+"-"+nt),_&&(rt=rt.concat(rt.map(getOppositeAlignmentPlacement)))),rt}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,_=>oppositeSideMap[_])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:_,y:et,width:tt,height:nt}=_e;return{width:tt,height:nt,top:et,left:_,right:_+tt,bottom:et+nt,x:_,y:et}}function computeCoordsFromPlacement(_e,_,et){let{reference:tt,floating:nt}=_e;const rt=getSideAxis(_),it=getAlignmentAxis(_),st=getAxisLength(it),ot=getSide(_),at=rt==="y",lt=tt.x+tt.width/2-nt.width/2,ct=tt.y+tt.height/2-nt.height/2,ut=tt[st]/2-nt[st]/2;let ft;switch(ot){case"top":ft={x:lt,y:tt.y-nt.height};break;case"bottom":ft={x:lt,y:tt.y+tt.height};break;case"right":ft={x:tt.x+tt.width,y:ct};break;case"left":ft={x:tt.x-nt.width,y:ct};break;default:ft={x:tt.x,y:tt.y}}switch(getAlignment(_)){case"start":ft[it]-=ut*(et&&at?-1:1);break;case"end":ft[it]+=ut*(et&&at?-1:1);break}return ft}const computePosition$1=async(_e,_,et)=>{const{placement:tt="bottom",strategy:nt="absolute",middleware:rt=[],platform:it}=et,st=rt.filter(Boolean),ot=await(it.isRTL==null?void 0:it.isRTL(_));let at=await it.getElementRects({reference:_e,floating:_,strategy:nt}),{x:lt,y:ct}=computeCoordsFromPlacement(at,tt,ot),ut=tt,ft={},ht=0;for(let vt=0;vt<st.length;vt++){const{name:mt,fn:pt}=st[vt],{x:yt,y:_t,data:St,reset:Et}=await pt({x:lt,y:ct,initialPlacement:tt,placement:ut,strategy:nt,middlewareData:ft,rects:at,platform:it,elements:{reference:_e,floating:_}});lt=yt??lt,ct=_t??ct,ft={...ft,[mt]:{...ft[mt],...St}},Et&&ht<=50&&(ht++,typeof Et=="object"&&(Et.placement&&(ut=Et.placement),Et.rects&&(at=Et.rects===!0?await it.getElementRects({reference:_e,floating:_,strategy:nt}):Et.rects),{x:lt,y:ct}=computeCoordsFromPlacement(at,ut,ot)),vt=-1)}return{x:lt,y:ct,placement:ut,strategy:nt,middlewareData:ft}};async function detectOverflow(_e,_){var et;_===void 0&&(_={});const{x:tt,y:nt,platform:rt,rects:it,elements:st,strategy:ot}=_e,{boundary:at="clippingAncestors",rootBoundary:lt="viewport",elementContext:ct="floating",altBoundary:ut=!1,padding:ft=0}=evaluate$1(_,_e),ht=getPaddingObject(ft),mt=st[ut?ct==="floating"?"reference":"floating":ct],pt=rectToClientRect(await rt.getClippingRect({element:(et=await(rt.isElement==null?void 0:rt.isElement(mt)))==null||et?mt:mt.contextElement||await(rt.getDocumentElement==null?void 0:rt.getDocumentElement(st.floating)),boundary:at,rootBoundary:lt,strategy:ot})),yt=ct==="floating"?{x:tt,y:nt,width:it.floating.width,height:it.floating.height}:it.reference,_t=await(rt.getOffsetParent==null?void 0:rt.getOffsetParent(st.floating)),St=await(rt.isElement==null?void 0:rt.isElement(_t))?await(rt.getScale==null?void 0:rt.getScale(_t))||{x:1,y:1}:{x:1,y:1},Et=rectToClientRect(rt.convertOffsetParentRelativeRectToViewportRelativeRect?await rt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:st,rect:yt,offsetParent:_t,strategy:ot}):yt);return{top:(pt.top-Et.top+ht.top)/St.y,bottom:(Et.bottom-pt.bottom+ht.bottom)/St.y,left:(pt.left-Et.left+ht.left)/St.x,right:(Et.right-pt.right+ht.right)/St.x}}const arrow$3=_e=>({name:"arrow",options:_e,async fn(_){const{x:et,y:tt,placement:nt,rects:rt,platform:it,elements:st,middlewareData:ot}=_,{element:at,padding:lt=0}=evaluate$1(_e,_)||{};if(at==null)return{};const ct=getPaddingObject(lt),ut={x:et,y:tt},ft=getAlignmentAxis(nt),ht=getAxisLength(ft),vt=await it.getDimensions(at),mt=ft==="y",pt=mt?"top":"left",yt=mt?"bottom":"right",_t=mt?"clientHeight":"clientWidth",St=rt.reference[ht]+rt.reference[ft]-ut[ft]-rt.floating[ht],Et=ut[ft]-rt.reference[ft],wt=await(it.getOffsetParent==null?void 0:it.getOffsetParent(at));let Mt=wt?wt[_t]:0;(!Mt||!await(it.isElement==null?void 0:it.isElement(wt)))&&(Mt=st.floating[_t]||rt.floating[ht]);const At=St/2-Et/2,Tt=Mt/2-vt[ht]/2-1,Ct=min(ct[pt],Tt),Dt=min(ct[yt],Tt),$t=Ct,kt=Mt-vt[ht]-Dt,It=Mt/2-vt[ht]/2+At,Nt=clamp$1($t,It,kt),Gt=!ot.arrow&&getAlignment(nt)!=null&&It!==Nt&&rt.reference[ht]/2-(It<$t?Ct:Dt)-vt[ht]/2<0,Bt=Gt?It<$t?It-$t:It-kt:0;return{[ft]:ut[ft]+Bt,data:{[ft]:Nt,centerOffset:It-Nt-Bt,...Gt&&{alignmentOffset:Bt}},reset:Gt}}}),flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn(_){var et,tt;const{placement:nt,middlewareData:rt,rects:it,initialPlacement:st,platform:ot,elements:at}=_,{mainAxis:lt=!0,crossAxis:ct=!0,fallbackPlacements:ut,fallbackStrategy:ft="bestFit",fallbackAxisSideDirection:ht="none",flipAlignment:vt=!0,...mt}=evaluate$1(_e,_);if((et=rt.arrow)!=null&&et.alignmentOffset)return{};const pt=getSide(nt),yt=getSide(st)===st,_t=await(ot.isRTL==null?void 0:ot.isRTL(at.floating)),St=ut||(yt||!vt?[getOppositePlacement(st)]:getExpandedPlacements(st));!ut&&ht!=="none"&&St.push(...getOppositeAxisPlacements(st,vt,ht,_t));const Et=[st,...St],wt=await detectOverflow(_,mt),Mt=[];let At=((tt=rt.flip)==null?void 0:tt.overflows)||[];if(lt&&Mt.push(wt[pt]),ct){const $t=getAlignmentSides(nt,it,_t);Mt.push(wt[$t[0]],wt[$t[1]])}if(At=[...At,{placement:nt,overflows:Mt}],!Mt.every($t=>$t<=0)){var Tt,Ct;const $t=(((Tt=rt.flip)==null?void 0:Tt.index)||0)+1,kt=Et[$t];if(kt)return{data:{index:$t,overflows:At},reset:{placement:kt}};let It=(Ct=At.filter(Nt=>Nt.overflows[0]<=0).sort((Nt,Gt)=>Nt.overflows[1]-Gt.overflows[1])[0])==null?void 0:Ct.placement;if(!It)switch(ft){case"bestFit":{var Dt;const Nt=(Dt=At.map(Gt=>[Gt.placement,Gt.overflows.filter(Bt=>Bt>0).reduce((Bt,Rt)=>Bt+Rt,0)]).sort((Gt,Bt)=>Gt[1]-Bt[1])[0])==null?void 0:Dt[0];Nt&&(It=Nt);break}case"initialPlacement":It=st;break}if(nt!==It)return{reset:{placement:It}}}return{}}}};function getSideOffsets(_e,_){return{top:_e.top-_.height,right:_e.right-_.width,bottom:_e.bottom-_.height,left:_e.left-_.width}}function isAnySideFullyClipped(_e){return sides.some(_=>_e[_]>=0)}const hide$2=function(_e){return _e===void 0&&(_e={}),{name:"hide",options:_e,async fn(_){const{rects:et}=_,{strategy:tt="referenceHidden",...nt}=evaluate$1(_e,_);switch(tt){case"referenceHidden":{const rt=await detectOverflow(_,{...nt,elementContext:"reference"}),it=getSideOffsets(rt,et.reference);return{data:{referenceHiddenOffsets:it,referenceHidden:isAnySideFullyClipped(it)}}}case"escaped":{const rt=await detectOverflow(_,{...nt,altBoundary:!0}),it=getSideOffsets(rt,et.floating);return{data:{escapedOffsets:it,escaped:isAnySideFullyClipped(it)}}}default:return{}}}}};async function convertValueToCoords(_e,_){const{placement:et,platform:tt,elements:nt}=_e,rt=await(tt.isRTL==null?void 0:tt.isRTL(nt.floating)),it=getSide(et),st=getAlignment(et),ot=getSideAxis(et)==="y",at=["left","top"].includes(it)?-1:1,lt=rt&&ot?-1:1,ct=evaluate$1(_,_e);let{mainAxis:ut,crossAxis:ft,alignmentAxis:ht}=typeof ct=="number"?{mainAxis:ct,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ct};return st&&typeof ht=="number"&&(ft=st==="end"?ht*-1:ht),ot?{x:ft*lt,y:ut*at}:{x:ut*at,y:ft*lt}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn(_){var et,tt;const{x:nt,y:rt,placement:it,middlewareData:st}=_,ot=await convertValueToCoords(_,_e);return it===((et=st.offset)==null?void 0:et.placement)&&(tt=st.arrow)!=null&&tt.alignmentOffset?{}:{x:nt+ot.x,y:rt+ot.y,data:{...ot,placement:it}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn(_){const{x:et,y:tt,placement:nt}=_,{mainAxis:rt=!0,crossAxis:it=!1,limiter:st={fn:mt=>{let{x:pt,y:yt}=mt;return{x:pt,y:yt}}},...ot}=evaluate$1(_e,_),at={x:et,y:tt},lt=await detectOverflow(_,ot),ct=getSideAxis(getSide(nt)),ut=getOppositeAxis(ct);let ft=at[ut],ht=at[ct];if(rt){const mt=ut==="y"?"top":"left",pt=ut==="y"?"bottom":"right",yt=ft+lt[mt],_t=ft-lt[pt];ft=clamp$1(yt,ft,_t)}if(it){const mt=ct==="y"?"top":"left",pt=ct==="y"?"bottom":"right",yt=ht+lt[mt],_t=ht-lt[pt];ht=clamp$1(yt,ht,_t)}const vt=st.fn({..._,[ut]:ft,[ct]:ht});return{...vt,data:{x:vt.x-et,y:vt.y-tt}}}}},limitShift$2=function(_e){return _e===void 0&&(_e={}),{options:_e,fn(_){const{x:et,y:tt,placement:nt,rects:rt,middlewareData:it}=_,{offset:st=0,mainAxis:ot=!0,crossAxis:at=!0}=evaluate$1(_e,_),lt={x:et,y:tt},ct=getSideAxis(nt),ut=getOppositeAxis(ct);let ft=lt[ut],ht=lt[ct];const vt=evaluate$1(st,_),mt=typeof vt=="number"?{mainAxis:vt,crossAxis:0}:{mainAxis:0,crossAxis:0,...vt};if(ot){const _t=ut==="y"?"height":"width",St=rt.reference[ut]-rt.floating[_t]+mt.mainAxis,Et=rt.reference[ut]+rt.reference[_t]-mt.mainAxis;ft<St?ft=St:ft>Et&&(ft=Et)}if(at){var pt,yt;const _t=ut==="y"?"width":"height",St=["top","left"].includes(getSide(nt)),Et=rt.reference[ct]-rt.floating[_t]+(St&&((pt=it.offset)==null?void 0:pt[ct])||0)+(St?0:mt.crossAxis),wt=rt.reference[ct]+rt.reference[_t]+(St?0:((yt=it.offset)==null?void 0:yt[ct])||0)-(St?mt.crossAxis:0);ht<Et?ht=Et:ht>wt&&(ht=wt)}return{[ut]:ft,[ct]:ht}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn(_){const{placement:et,rects:tt,platform:nt,elements:rt}=_,{apply:it=()=>{},...st}=evaluate$1(_e,_),ot=await detectOverflow(_,st),at=getSide(et),lt=getAlignment(et),ct=getSideAxis(et)==="y",{width:ut,height:ft}=tt.floating;let ht,vt;at==="top"||at==="bottom"?(ht=at,vt=lt===(await(nt.isRTL==null?void 0:nt.isRTL(rt.floating))?"start":"end")?"left":"right"):(vt=at,ht=lt==="end"?"top":"bottom");const mt=ft-ot.top-ot.bottom,pt=ut-ot.left-ot.right,yt=min(ft-ot[ht],mt),_t=min(ut-ot[vt],pt),St=!_.middlewareData.shift;let Et=yt,wt=_t;if(ct?wt=lt||St?min(_t,pt):pt:Et=lt||St?min(yt,mt):mt,St&&!lt){const At=max(ot.left,0),Tt=max(ot.right,0),Ct=max(ot.top,0),Dt=max(ot.bottom,0);ct?wt=ut-2*(At!==0||Tt!==0?At+Tt:max(ot.left,ot.right)):Et=ft-2*(Ct!==0||Dt!==0?Ct+Dt:max(ot.top,ot.bottom))}await it({..._,availableWidth:wt,availableHeight:Et});const Mt=await nt.getDimensions(rt.floating);return ut!==Mt.width||ft!==Mt.height?{reset:{rects:!0}}:{}}}};function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var _;return(_e==null||(_=_e.ownerDocument)==null?void 0:_.defaultView)||window}function getDocumentElement(_e){var _;return(_=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:_.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:_,overflowX:et,overflowY:tt,display:nt}=getComputedStyle$1(_e);return/auto|scroll|overlay|hidden|clip/.test(_+tt+et)&&!["inline","contents"].includes(nt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isContainingBlock(_e){const _=isWebKit(),et=getComputedStyle$1(_e);return et.transform!=="none"||et.perspective!=="none"||(et.containerType?et.containerType!=="normal":!1)||!_&&(et.backdropFilter?et.backdropFilter!=="none":!1)||!_&&(et.filter?et.filter!=="none":!1)||["transform","perspective","filter"].some(tt=>(et.willChange||"").includes(tt))||["paint","layout","strict","content"].some(tt=>(et.contain||"").includes(tt))}function getContainingBlock(_e){let _=getParentNode(_e);for(;isHTMLElement(_)&&!isLastTraversableNode(_);){if(isContainingBlock(_))return _;_=getParentNode(_)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$1(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const _=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot(_)?_.host:_}function getNearestOverflowAncestor(_e){const _=getParentNode(_e);return isLastTraversableNode(_)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement(_)&&isOverflowElement(_)?_:getNearestOverflowAncestor(_)}function getOverflowAncestors(_e,_,et){var tt;_===void 0&&(_=[]),et===void 0&&(et=!0);const nt=getNearestOverflowAncestor(_e),rt=nt===((tt=_e.ownerDocument)==null?void 0:tt.body),it=getWindow(nt);return rt?_.concat(it,it.visualViewport||[],isOverflowElement(nt)?nt:[],it.frameElement&&et?getOverflowAncestors(it.frameElement):[]):_.concat(nt,getOverflowAncestors(nt,[],et))}function getCssDimensions(_e){const _=getComputedStyle$1(_e);let et=parseFloat(_.width)||0,tt=parseFloat(_.height)||0;const nt=isHTMLElement(_e),rt=nt?_e.offsetWidth:et,it=nt?_e.offsetHeight:tt,st=round(et)!==rt||round(tt)!==it;return st&&(et=rt,tt=it),{width:et,height:tt,$:st}}function unwrapElement(_e){return isElement(_e)?_e:_e.contextElement}function getScale(_e){const _=unwrapElement(_e);if(!isHTMLElement(_))return createCoords(1);const et=_.getBoundingClientRect(),{width:tt,height:nt,$:rt}=getCssDimensions(_);let it=(rt?round(et.width):et.width)/tt,st=(rt?round(et.height):et.height)/nt;return(!it||!Number.isFinite(it))&&(it=1),(!st||!Number.isFinite(st))&&(st=1),{x:it,y:st}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const _=getWindow(_e);return!isWebKit()||!_.visualViewport?noOffsets:{x:_.visualViewport.offsetLeft,y:_.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,_,et){return _===void 0&&(_=!1),!et||_&&et!==getWindow(_e)?!1:_}function getBoundingClientRect(_e,_,et,tt){_===void 0&&(_=!1),et===void 0&&(et=!1);const nt=_e.getBoundingClientRect(),rt=unwrapElement(_e);let it=createCoords(1);_&&(tt?isElement(tt)&&(it=getScale(tt)):it=getScale(_e));const st=shouldAddVisualOffsets(rt,et,tt)?getVisualOffsets(rt):createCoords(0);let ot=(nt.left+st.x)/it.x,at=(nt.top+st.y)/it.y,lt=nt.width/it.x,ct=nt.height/it.y;if(rt){const ut=getWindow(rt),ft=tt&&isElement(tt)?getWindow(tt):tt;let ht=ut,vt=ht.frameElement;for(;vt&&tt&&ft!==ht;){const mt=getScale(vt),pt=vt.getBoundingClientRect(),yt=getComputedStyle$1(vt),_t=pt.left+(vt.clientLeft+parseFloat(yt.paddingLeft))*mt.x,St=pt.top+(vt.clientTop+parseFloat(yt.paddingTop))*mt.y;ot*=mt.x,at*=mt.y,lt*=mt.x,ct*=mt.y,ot+=_t,at+=St,ht=getWindow(vt),vt=ht.frameElement}}return rectToClientRect({width:lt,height:ct,x:ot,y:at})}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(_e){return topLayerSelectors.some(_=>{try{return _e.matches(_)}catch{return!1}})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:_,rect:et,offsetParent:tt,strategy:nt}=_e;const rt=nt==="fixed",it=getDocumentElement(tt),st=_?isTopLayer(_.floating):!1;if(tt===it||st&&rt)return et;let ot={scrollLeft:0,scrollTop:0},at=createCoords(1);const lt=createCoords(0),ct=isHTMLElement(tt);if((ct||!ct&&!rt)&&((getNodeName(tt)!=="body"||isOverflowElement(it))&&(ot=getNodeScroll(tt)),isHTMLElement(tt))){const ut=getBoundingClientRect(tt);at=getScale(tt),lt.x=ut.x+tt.clientLeft,lt.y=ut.y+tt.clientTop}return{width:et.width*at.x,height:et.height*at.y,x:et.x*at.x-ot.scrollLeft*at.x+lt.x,y:et.y*at.y-ot.scrollTop*at.y+lt.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const _=getDocumentElement(_e),et=getNodeScroll(_e),tt=_e.ownerDocument.body,nt=max(_.scrollWidth,_.clientWidth,tt.scrollWidth,tt.clientWidth),rt=max(_.scrollHeight,_.clientHeight,tt.scrollHeight,tt.clientHeight);let it=-et.scrollLeft+getWindowScrollBarX(_e);const st=-et.scrollTop;return getComputedStyle$1(tt).direction==="rtl"&&(it+=max(_.clientWidth,tt.clientWidth)-nt),{width:nt,height:rt,x:it,y:st}}function getViewportRect(_e,_){const et=getWindow(_e),tt=getDocumentElement(_e),nt=et.visualViewport;let rt=tt.clientWidth,it=tt.clientHeight,st=0,ot=0;if(nt){rt=nt.width,it=nt.height;const at=isWebKit();(!at||at&&_==="fixed")&&(st=nt.offsetLeft,ot=nt.offsetTop)}return{width:rt,height:it,x:st,y:ot}}function getInnerBoundingClientRect(_e,_){const et=getBoundingClientRect(_e,!0,_==="fixed"),tt=et.top+_e.clientTop,nt=et.left+_e.clientLeft,rt=isHTMLElement(_e)?getScale(_e):createCoords(1),it=_e.clientWidth*rt.x,st=_e.clientHeight*rt.y,ot=nt*rt.x,at=tt*rt.y;return{width:it,height:st,x:ot,y:at}}function getClientRectFromClippingAncestor(_e,_,et){let tt;if(_==="viewport")tt=getViewportRect(_e,et);else if(_==="document")tt=getDocumentRect(getDocumentElement(_e));else if(isElement(_))tt=getInnerBoundingClientRect(_,et);else{const nt=getVisualOffsets(_e);tt={..._,x:_.x-nt.x,y:_.y-nt.y}}return rectToClientRect(tt)}function hasFixedPositionAncestor(_e,_){const et=getParentNode(_e);return et===_||!isElement(et)||isLastTraversableNode(et)?!1:getComputedStyle$1(et).position==="fixed"||hasFixedPositionAncestor(et,_)}function getClippingElementAncestors(_e,_){const et=_.get(_e);if(et)return et;let tt=getOverflowAncestors(_e,[],!1).filter(st=>isElement(st)&&getNodeName(st)!=="body"),nt=null;const rt=getComputedStyle$1(_e).position==="fixed";let it=rt?getParentNode(_e):_e;for(;isElement(it)&&!isLastTraversableNode(it);){const st=getComputedStyle$1(it),ot=isContainingBlock(it);!ot&&st.position==="fixed"&&(nt=null),(rt?!ot&&!nt:!ot&&st.position==="static"&&!!nt&&["absolute","fixed"].includes(nt.position)||isOverflowElement(it)&&!ot&&hasFixedPositionAncestor(_e,it))?tt=tt.filter(lt=>lt!==it):nt=st,it=getParentNode(it)}return _.set(_e,tt),tt}function getClippingRect(_e){let{element:_,boundary:et,rootBoundary:tt,strategy:nt}=_e;const it=[...et==="clippingAncestors"?isTopLayer(_)?[]:getClippingElementAncestors(_,this._c):[].concat(et),tt],st=it[0],ot=it.reduce((at,lt)=>{const ct=getClientRectFromClippingAncestor(_,lt,nt);return at.top=max(ct.top,at.top),at.right=min(ct.right,at.right),at.bottom=min(ct.bottom,at.bottom),at.left=max(ct.left,at.left),at},getClientRectFromClippingAncestor(_,st,nt));return{width:ot.right-ot.left,height:ot.bottom-ot.top,x:ot.left,y:ot.top}}function getDimensions(_e){const{width:_,height:et}=getCssDimensions(_e);return{width:_,height:et}}function getRectRelativeToOffsetParent(_e,_,et){const tt=isHTMLElement(_),nt=getDocumentElement(_),rt=et==="fixed",it=getBoundingClientRect(_e,!0,rt,_);let st={scrollLeft:0,scrollTop:0};const ot=createCoords(0);if(tt||!tt&&!rt)if((getNodeName(_)!=="body"||isOverflowElement(nt))&&(st=getNodeScroll(_)),tt){const ct=getBoundingClientRect(_,!0,rt,_);ot.x=ct.x+_.clientLeft,ot.y=ct.y+_.clientTop}else nt&&(ot.x=getWindowScrollBarX(nt));const at=it.left+st.scrollLeft-ot.x,lt=it.top+st.scrollTop-ot.y;return{x:at,y:lt,width:it.width,height:it.height}}function isStaticPositioned(_e){return getComputedStyle$1(_e).position==="static"}function getTrueOffsetParent(_e,_){return!isHTMLElement(_e)||getComputedStyle$1(_e).position==="fixed"?null:_?_(_e):_e.offsetParent}function getOffsetParent(_e,_){const et=getWindow(_e);if(isTopLayer(_e))return et;if(!isHTMLElement(_e)){let nt=getParentNode(_e);for(;nt&&!isLastTraversableNode(nt);){if(isElement(nt)&&!isStaticPositioned(nt))return nt;nt=getParentNode(nt)}return et}let tt=getTrueOffsetParent(_e,_);for(;tt&&isTableElement(tt)&&isStaticPositioned(tt);)tt=getTrueOffsetParent(tt,_);return tt&&isLastTraversableNode(tt)&&isStaticPositioned(tt)&&!isContainingBlock(tt)?et:tt||getContainingBlock(_e)||et}const getElementRects=async function(_e){const _=this.getOffsetParent||getOffsetParent,et=this.getDimensions,tt=await et(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await _(_e.floating),_e.strategy),floating:{x:0,y:0,width:tt.width,height:tt.height}}};function isRTL(_e){return getComputedStyle$1(_e).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(_e,_){let et=null,tt;const nt=getDocumentElement(_e);function rt(){var st;clearTimeout(tt),(st=et)==null||st.disconnect(),et=null}function it(st,ot){st===void 0&&(st=!1),ot===void 0&&(ot=1),rt();const{left:at,top:lt,width:ct,height:ut}=_e.getBoundingClientRect();if(st||_(),!ct||!ut)return;const ft=floor(lt),ht=floor(nt.clientWidth-(at+ct)),vt=floor(nt.clientHeight-(lt+ut)),mt=floor(at),yt={rootMargin:-ft+"px "+-ht+"px "+-vt+"px "+-mt+"px",threshold:max(0,min(1,ot))||1};let _t=!0;function St(Et){const wt=Et[0].intersectionRatio;if(wt!==ot){if(!_t)return it();wt?it(!1,wt):tt=setTimeout(()=>{it(!1,1e-7)},1e3)}_t=!1}try{et=new IntersectionObserver(St,{...yt,root:nt.ownerDocument})}catch{et=new IntersectionObserver(St,yt)}et.observe(_e)}return it(!0),rt}function autoUpdate(_e,_,et,tt){tt===void 0&&(tt={});const{ancestorScroll:nt=!0,ancestorResize:rt=!0,elementResize:it=typeof ResizeObserver=="function",layoutShift:st=typeof IntersectionObserver=="function",animationFrame:ot=!1}=tt,at=unwrapElement(_e),lt=nt||rt?[...at?getOverflowAncestors(at):[],...getOverflowAncestors(_)]:[];lt.forEach(pt=>{nt&&pt.addEventListener("scroll",et,{passive:!0}),rt&&pt.addEventListener("resize",et)});const ct=at&&st?observeMove(at,et):null;let ut=-1,ft=null;it&&(ft=new ResizeObserver(pt=>{let[yt]=pt;yt&&yt.target===at&&ft&&(ft.unobserve(_),cancelAnimationFrame(ut),ut=requestAnimationFrame(()=>{var _t;(_t=ft)==null||_t.observe(_)})),et()}),at&&!ot&&ft.observe(at),ft.observe(_));let ht,vt=ot?getBoundingClientRect(_e):null;ot&&mt();function mt(){const pt=getBoundingClientRect(_e);vt&&(pt.x!==vt.x||pt.y!==vt.y||pt.width!==vt.width||pt.height!==vt.height)&&et(),vt=pt,ht=requestAnimationFrame(mt)}return et(),()=>{var pt;lt.forEach(yt=>{nt&&yt.removeEventListener("scroll",et),rt&&yt.removeEventListener("resize",et)}),ct==null||ct(),(pt=ft)==null||pt.disconnect(),ft=null,ot&&cancelAnimationFrame(ht)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(_e,_,et)=>{const tt=new Map,nt={platform,...et},rt={...nt.platform,_c:tt};return computePosition$1(_e,_,{...nt,platform:rt})};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,_){if(_e===_)return!0;if(typeof _e!=typeof _)return!1;if(typeof _e=="function"&&_e.toString()===_.toString())return!0;let et,tt,nt;if(_e&&_&&typeof _e=="object"){if(Array.isArray(_e)){if(et=_e.length,et!==_.length)return!1;for(tt=et;tt--!==0;)if(!deepEqual(_e[tt],_[tt]))return!1;return!0}if(nt=Object.keys(_e),et=nt.length,et!==Object.keys(_).length)return!1;for(tt=et;tt--!==0;)if(!{}.hasOwnProperty.call(_,nt[tt]))return!1;for(tt=et;tt--!==0;){const rt=nt[tt];if(!(rt==="_owner"&&_e.$$typeof)&&!deepEqual(_e[rt],_[rt]))return!1}return!0}return _e!==_e&&_!==_}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,_){const et=getDPR(_e);return Math.round(_*et)/et}function useLatestRef(_e){const _=reactExports.useRef(_e);return index(()=>{_.current=_e}),_}function useFloating(_e){_e===void 0&&(_e={});const{placement:_="bottom",strategy:et="absolute",middleware:tt=[],platform:nt,elements:{reference:rt,floating:it}={},transform:st=!0,whileElementsMounted:ot,open:at}=_e,[lt,ct]=reactExports.useState({x:0,y:0,strategy:et,placement:_,middlewareData:{},isPositioned:!1}),[ut,ft]=reactExports.useState(tt);deepEqual(ut,tt)||ft(tt);const[ht,vt]=reactExports.useState(null),[mt,pt]=reactExports.useState(null),yt=reactExports.useCallback(Bt=>{Bt!==wt.current&&(wt.current=Bt,vt(Bt))},[]),_t=reactExports.useCallback(Bt=>{Bt!==Mt.current&&(Mt.current=Bt,pt(Bt))},[]),St=rt||ht,Et=it||mt,wt=reactExports.useRef(null),Mt=reactExports.useRef(null),At=reactExports.useRef(lt),Tt=ot!=null,Ct=useLatestRef(ot),Dt=useLatestRef(nt),$t=reactExports.useCallback(()=>{if(!wt.current||!Mt.current)return;const Bt={placement:_,strategy:et,middleware:ut};Dt.current&&(Bt.platform=Dt.current),computePosition(wt.current,Mt.current,Bt).then(Rt=>{const Ot={...Rt,isPositioned:!0};kt.current&&!deepEqual(At.current,Ot)&&(At.current=Ot,reactDomExports.flushSync(()=>{ct(Ot)}))})},[ut,_,et,Dt]);index(()=>{at===!1&&At.current.isPositioned&&(At.current.isPositioned=!1,ct(Bt=>({...Bt,isPositioned:!1})))},[at]);const kt=reactExports.useRef(!1);index(()=>(kt.current=!0,()=>{kt.current=!1}),[]),index(()=>{if(St&&(wt.current=St),Et&&(Mt.current=Et),St&&Et){if(Ct.current)return Ct.current(St,Et,$t);$t()}},[St,Et,$t,Ct,Tt]);const It=reactExports.useMemo(()=>({reference:wt,floating:Mt,setReference:yt,setFloating:_t}),[yt,_t]),Nt=reactExports.useMemo(()=>({reference:St,floating:Et}),[St,Et]),Gt=reactExports.useMemo(()=>{const Bt={position:et,left:0,top:0};if(!Nt.floating)return Bt;const Rt=roundByDPR(Nt.floating,lt.x),Ot=roundByDPR(Nt.floating,lt.y);return st?{...Bt,transform:"translate("+Rt+"px, "+Ot+"px)",...getDPR(Nt.floating)>=1.5&&{willChange:"transform"}}:{position:et,left:Rt,top:Ot}},[et,st,Nt.floating,lt.x,lt.y]);return reactExports.useMemo(()=>({...lt,update:$t,refs:It,elements:Nt,floatingStyles:Gt}),[lt,$t,It,Nt,Gt])}const arrow$1=_e=>{function _(et){return{}.hasOwnProperty.call(et,"current")}return{name:"arrow",options:_e,fn(et){const{element:tt,padding:nt}=typeof _e=="function"?_e(et):_e;return tt&&_(tt)?tt.current!=null?arrow$2({element:tt.current,padding:nt}).fn(et):{}:tt?arrow$2({element:tt,padding:nt}).fn(et):{}}}},offset=(_e,_)=>({...offset$1(_e),options:[_e,_]}),shift=(_e,_)=>({...shift$1(_e),options:[_e,_]}),limitShift=(_e,_)=>({...limitShift$1(_e),options:[_e,_]}),flip=(_e,_)=>({...flip$1(_e),options:[_e,_]}),size=(_e,_)=>({...size$1(_e),options:[_e,_]}),hide=(_e,_)=>({...hide$1(_e),options:[_e,_]}),arrow=(_e,_)=>({...arrow$1(_e),options:[_e,_]}),$7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((_e,_)=>{const{children:et,width:tt=10,height:nt=5,...rt}=_e;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends$1({},rt,{ref:_,width:tt,height:nt,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),_e.asChild?et:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(_e){const[_,et]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(_e){et({width:_e.offsetWidth,height:_e.offsetHeight});const tt=new ResizeObserver(nt=>{if(!Array.isArray(nt)||!nt.length)return;const rt=nt[0];let it,st;if("borderBoxSize"in rt){const ot=rt.borderBoxSize,at=Array.isArray(ot)?ot[0]:ot;it=at.inlineSize,st=at.blockSize}else it=_e.offsetWidth,st=_e.offsetHeight;et({width:it,height:st})});return tt.observe(_e,{box:"border-box"}),()=>tt.unobserve(_e)}else et(void 0)},[_e]),_}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=_e=>{const{__scopePopper:_,children:et}=_e,[tt,nt]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:_,anchor:tt,onAnchorChange:nt},et)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((_e,_)=>{const{__scopePopper:et,virtualRef:tt,...nt}=_e,rt=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,et),it=reactExports.useRef(null),st=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,it);return reactExports.useEffect(()=>{rt.onAnchorChange((tt==null?void 0:tt.current)||it.current)}),tt?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},nt,{ref:st}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((_e,_)=>{var et,tt,nt,rt,it,st,ot,at;const{__scopePopper:lt,side:ct="bottom",sideOffset:ut=0,align:ft="center",alignOffset:ht=0,arrowPadding:vt=0,avoidCollisions:mt=!0,collisionBoundary:pt=[],collisionPadding:yt=0,sticky:_t="partial",hideWhenDetached:St=!1,updatePositionStrategy:Et="optimized",onPlaced:wt,...Mt}=_e,At=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,lt),[Tt,Ct]=reactExports.useState(null),Dt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,vn=>Ct(vn)),[$t,kt]=reactExports.useState(null),It=$db6c3485150b8e66$export$1ab7ae714698c4b8($t),Nt=(et=It==null?void 0:It.width)!==null&&et!==void 0?et:0,Gt=(tt=It==null?void 0:It.height)!==null&&tt!==void 0?tt:0,Bt=ct+(ft!=="center"?"-"+ft:""),Rt=typeof yt=="number"?yt:{top:0,right:0,bottom:0,left:0,...yt},Ot=Array.isArray(pt)?pt:[pt],Ut=Ot.length>0,jt={padding:Rt,boundary:Ot.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:Ut},{refs:Jt,floatingStyles:Xt,placement:Qt,isPositioned:rn,middlewareData:pn}=useFloating({strategy:"fixed",placement:Bt,whileElementsMounted:(...vn)=>autoUpdate(...vn,{animationFrame:Et==="always"}),elements:{reference:At.anchor},middleware:[offset({mainAxis:ut+Gt,alignmentAxis:ht}),mt&&shift({mainAxis:!0,crossAxis:!1,limiter:_t==="partial"?limitShift():void 0,...jt}),mt&&flip({...jt}),size({...jt,apply:({elements:vn,rects:hn,availableWidth:$n,availableHeight:En})=>{const{width:Mn,height:Rn}=hn.reference,Vn=vn.floating.style;Vn.setProperty("--radix-popper-available-width",`${$n}px`),Vn.setProperty("--radix-popper-available-height",`${En}px`),Vn.setProperty("--radix-popper-anchor-width",`${Mn}px`),Vn.setProperty("--radix-popper-anchor-height",`${Rn}px`)}}),$t&&arrow({element:$t,padding:vt}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:Nt,arrowHeight:Gt}),St&&hide({strategy:"referenceHidden",...jt})]}),[fn,_n]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Qt),Pn=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(wt);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{rn&&(Pn==null||Pn())},[rn,Pn]);const Sn=(nt=pn.arrow)===null||nt===void 0?void 0:nt.x,Cn=(rt=pn.arrow)===null||rt===void 0?void 0:rt.y,Wt=((it=pn.arrow)===null||it===void 0?void 0:it.centerOffset)!==0,[tn,an]=reactExports.useState();return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{Tt&&an(window.getComputedStyle(Tt).zIndex)},[Tt]),reactExports.createElement("div",{ref:Jt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Xt,transform:rn?Xt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tn,"--radix-popper-transform-origin":[(st=pn.transformOrigin)===null||st===void 0?void 0:st.x,(ot=pn.transformOrigin)===null||ot===void 0?void 0:ot.y].join(" ")},dir:_e.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:lt,placedSide:fn,onArrowChange:kt,arrowX:Sn,arrowY:Cn,shouldHideArrow:Wt},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({"data-side":fn,"data-align":_n},Mt,{ref:Dt,style:{...Mt.style,animation:rn?void 0:"none",opacity:(at=pn.hide)!==null&&at!==void 0&&at.referenceHidden?0:void 0}}))))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function _e(_,et){const{__scopePopper:tt,...nt}=_,rt=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,tt),it=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[rt.placedSide];return reactExports.createElement("span",{ref:rt.onArrowChange,style:{position:"absolute",left:rt.arrowX,top:rt.arrowY,[it]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[rt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[rt.placedSide],visibility:rt.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends$1({},nt,{ref:et,style:{...nt.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isNotNull(_e){return _e!==null}const $cf1ac5d9fe0e8206$var$transformOrigin=_e=>({name:"transformOrigin",options:_e,fn(_){var et,tt,nt,rt,it;const{placement:st,rects:ot,middlewareData:at}=_,ct=((et=at.arrow)===null||et===void 0?void 0:et.centerOffset)!==0,ut=ct?0:_e.arrowWidth,ft=ct?0:_e.arrowHeight,[ht,vt]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(st),mt={start:"0%",center:"50%",end:"100%"}[vt],pt=((tt=(nt=at.arrow)===null||nt===void 0?void 0:nt.x)!==null&&tt!==void 0?tt:0)+ut/2,yt=((rt=(it=at.arrow)===null||it===void 0?void 0:it.y)!==null&&rt!==void 0?rt:0)+ft/2;let _t="",St="";return ht==="bottom"?(_t=ct?mt:`${pt}px`,St=`${-ft}px`):ht==="top"?(_t=ct?mt:`${pt}px`,St=`${ot.floating.height+ft}px`):ht==="right"?(_t=`${-ft}px`,St=ct?mt:`${yt}px`):ht==="left"&&(_t=`${ot.floating.width+ft}px`,St=ct?mt:`${yt}px`),{data:{x:_t,y:St}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(_e){const[_,et="center"]=_e.split("-");return[_,et]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;function $fe963b355347cc68$export$3e6543de14f8614f(_e,_){return reactExports.useReducer((et,tt)=>{const nt=_[et][tt];return nt??et},_e)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=_e=>{const{present:_,children:et}=_e,tt=$921a889cee6df7e8$var$usePresence(_),nt=typeof et=="function"?et({present:tt.isPresent}):reactExports.Children.only(et),rt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(tt.ref,nt.ref);return typeof et=="function"||tt.isPresent?reactExports.cloneElement(nt,{ref:rt}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(_e){const[_,et]=reactExports.useState(),tt=reactExports.useRef({}),nt=reactExports.useRef(_e),rt=reactExports.useRef("none"),it=_e?"mounted":"unmounted",[st,ot]=$fe963b355347cc68$export$3e6543de14f8614f(it,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const at=$921a889cee6df7e8$var$getAnimationName(tt.current);rt.current=st==="mounted"?at:"none"},[st]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const at=tt.current,lt=nt.current;if(lt!==_e){const ut=rt.current,ft=$921a889cee6df7e8$var$getAnimationName(at);_e?ot("MOUNT"):ft==="none"||(at==null?void 0:at.display)==="none"?ot("UNMOUNT"):ot(lt&&ut!==ft?"ANIMATION_OUT":"UNMOUNT"),nt.current=_e}},[_e,ot]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(_){const at=ct=>{const ft=$921a889cee6df7e8$var$getAnimationName(tt.current).includes(ct.animationName);ct.target===_&&ft&&reactDomExports.flushSync(()=>ot("ANIMATION_END"))},lt=ct=>{ct.target===_&&(rt.current=$921a889cee6df7e8$var$getAnimationName(tt.current))};return _.addEventListener("animationstart",lt),_.addEventListener("animationcancel",at),_.addEventListener("animationend",at),()=>{_.removeEventListener("animationstart",lt),_.removeEventListener("animationcancel",at),_.removeEventListener("animationend",at)}}else ot("ANIMATION_END")},[_,ot]),{isPresent:["mounted","unmountSuspended"].includes(st),ref:reactExports.useCallback(at=>{at&&(tt.current=getComputedStyle(at)),et(at)},[])}}function $921a889cee6df7e8$var$getAnimationName(_e){return(_e==null?void 0:_e.animationName)||"none"}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:_e,defaultProp:_,onChange:et=()=>{}}){const[tt,nt]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:_,onChange:et}),rt=_e!==void 0,it=rt?_e:tt,st=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(et),ot=reactExports.useCallback(at=>{if(rt){const ct=typeof at=="function"?at(_e):at;ct!==_e&&st(ct)}else nt(at)},[rt,_e,nt,st]);return[it,ot]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:_e,onChange:_}){const et=reactExports.useState(_e),[tt]=et,nt=reactExports.useRef(tt),rt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_);return reactExports.useEffect(()=>{nt.current!==tt&&(rt(tt),nt.current=tt)},[tt,nt,rt]),et}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((_e,_)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$1({},_e,{ref:_,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",..._e.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$export$28c660c63b792dea=_e=>{const{__scopeTooltip:_,children:et,open:tt,defaultOpen:nt=!1,onOpenChange:rt,disableHoverableContent:it,delayDuration:st}=_e,ot=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME,_e.__scopeTooltip),at=$a093c7e1ec25a057$var$usePopperScope(_),[lt,ct]=reactExports.useState(null),ut=$1746a345f3d73bb7$export$f680877a34711e37(),ft=reactExports.useRef(0),ht=it??ot.disableHoverableContent,vt=st??ot.delayDuration,mt=reactExports.useRef(!1),[pt=!1,yt]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:tt,defaultProp:nt,onChange:Mt=>{Mt?(ot.onOpen(),document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN))):ot.onClose(),rt==null||rt(Mt)}}),_t=reactExports.useMemo(()=>pt?mt.current?"delayed-open":"instant-open":"closed",[pt]),St=reactExports.useCallback(()=>{window.clearTimeout(ft.current),mt.current=!1,yt(!0)},[yt]),Et=reactExports.useCallback(()=>{window.clearTimeout(ft.current),yt(!1)},[yt]),wt=reactExports.useCallback(()=>{window.clearTimeout(ft.current),ft.current=window.setTimeout(()=>{mt.current=!0,yt(!0)},vt)},[vt,yt]);return reactExports.useEffect(()=>()=>window.clearTimeout(ft.current),[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,at,reactExports.createElement($a093c7e1ec25a057$var$TooltipContextProvider,{scope:_,contentId:ut,open:pt,stateAttribute:_t,trigger:lt,onTriggerChange:ct,onTriggerEnter:reactExports.useCallback(()=>{ot.isOpenDelayed?wt():St()},[ot.isOpenDelayed,wt,St]),onTriggerLeave:reactExports.useCallback(()=>{ht?Et():window.clearTimeout(ft.current)},[Et,ht]),onOpen:St,onClose:Et,disableHoverableContent:ht},et))},$a093c7e1ec25a057$var$TRIGGER_NAME="TooltipTrigger",$a093c7e1ec25a057$export$8c610744efcf8a1d=reactExports.forwardRef((_e,_)=>{const{__scopeTooltip:et,...tt}=_e,nt=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME,et),rt=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME,et),it=$a093c7e1ec25a057$var$usePopperScope(et),st=reactExports.useRef(null),ot=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,st,nt.onTriggerChange),at=reactExports.useRef(!1),lt=reactExports.useRef(!1),ct=reactExports.useCallback(()=>at.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",ct),[ct]),reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$1({asChild:!0},it),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$1({"aria-describedby":nt.open?nt.contentId:void 0,"data-state":nt.stateAttribute},tt,{ref:ot,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerMove,ut=>{ut.pointerType!=="touch"&&!lt.current&&!rt.isPointerInTransitRef.current&&(nt.onTriggerEnter(),lt.current=!0)}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerLeave,()=>{nt.onTriggerLeave(),lt.current=!1}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onPointerDown,()=>{at.current=!0,document.addEventListener("pointerup",ct,{once:!0})}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onFocus,()=>{at.current||nt.onOpen()}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onBlur,nt.onClose),onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onClick,nt.onClose)})))}),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=reactExports.forwardRef((_e,_)=>{const et=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip),{forceMount:tt=et.forceMount,side:nt="top",...rt}=_e,it=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:tt||it.open},it.disableHoverableContent?reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({side:nt},rt,{ref:_})):reactExports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends$1({side:nt},rt,{ref:_})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=reactExports.forwardRef((_e,_)=>{const et=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip),tt=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,_e.__scopeTooltip),nt=reactExports.useRef(null),rt=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(_,nt),[it,st]=reactExports.useState(null),{trigger:ot,onClose:at}=et,lt=nt.current,{onPointerInTransitChange:ct}=tt,ut=reactExports.useCallback(()=>{st(null),ct(!1)},[ct]),ft=reactExports.useCallback((ht,vt)=>{const mt=ht.currentTarget,pt={x:ht.clientX,y:ht.clientY},yt=$a093c7e1ec25a057$var$getExitSideFromRect(pt,mt.getBoundingClientRect()),_t=$a093c7e1ec25a057$var$getPaddedExitPoints(pt,yt),St=$a093c7e1ec25a057$var$getPointsFromRect(vt.getBoundingClientRect()),Et=$a093c7e1ec25a057$var$getHull([..._t,...St]);st(Et),ct(!0)},[ct]);return reactExports.useEffect(()=>()=>ut(),[ut]),reactExports.useEffect(()=>{if(ot&&lt){const ht=mt=>ft(mt,lt),vt=mt=>ft(mt,ot);return ot.addEventListener("pointerleave",ht),lt.addEventListener("pointerleave",vt),()=>{ot.removeEventListener("pointerleave",ht),lt.removeEventListener("pointerleave",vt)}}},[ot,lt,ft,ut]),reactExports.useEffect(()=>{if(it){const ht=vt=>{const mt=vt.target,pt={x:vt.clientX,y:vt.clientY},yt=(ot==null?void 0:ot.contains(mt))||(lt==null?void 0:lt.contains(mt)),_t=!$a093c7e1ec25a057$var$isPointInPolygon(pt,it);yt?ut():_t&&(ut(),at())};return document.addEventListener("pointermove",ht),()=>document.removeEventListener("pointermove",ht)}},[ot,lt,it,at,ut]),reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({},_e,{ref:rt}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=reactExports.forwardRef((_e,_)=>{const{__scopeTooltip:et,children:tt,"aria-label":nt,onEscapeKeyDown:rt,onPointerDownOutside:it,...st}=_e,ot=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,et),at=$a093c7e1ec25a057$var$usePopperScope(et),{onClose:lt}=ot;return reactExports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,lt),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,lt)),[lt]),reactExports.useEffect(()=>{if(ot.trigger){const ct=ut=>{const ft=ut.target;ft!=null&&ft.contains(ot.trigger)&&lt()};return window.addEventListener("scroll",ct,{capture:!0}),()=>window.removeEventListener("scroll",ct,{capture:!0})}},[ot.trigger,lt]),reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:rt,onPointerDownOutside:it,onFocusOutside:ct=>ct.preventDefault(),onDismiss:lt},reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$1({"data-state":ot.stateAttribute},at,st,{ref:_,style:{...st.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,tt),reactExports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:et,isInside:!0},reactExports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:ot.contentId,role:"tooltip"},nt||tt))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=reactExports.forwardRef((_e,_)=>{const{__scopeTooltip:et,...tt}=_e,nt=$a093c7e1ec25a057$var$usePopperScope(et);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,et).isInside?null:reactExports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends$1({},nt,tt,{ref:_}))});function $a093c7e1ec25a057$var$getExitSideFromRect(_e,_){const et=Math.abs(_.top-_e.y),tt=Math.abs(_.bottom-_e.y),nt=Math.abs(_.right-_e.x),rt=Math.abs(_.left-_e.x);switch(Math.min(et,tt,nt,rt)){case rt:return"left";case nt:return"right";case et:return"top";case tt:return"bottom";default:throw new Error("unreachable")}}function $a093c7e1ec25a057$var$getPaddedExitPoints(_e,_,et=5){const tt=[];switch(_){case"top":tt.push({x:_e.x-et,y:_e.y+et},{x:_e.x+et,y:_e.y+et});break;case"bottom":tt.push({x:_e.x-et,y:_e.y-et},{x:_e.x+et,y:_e.y-et});break;case"left":tt.push({x:_e.x+et,y:_e.y-et},{x:_e.x+et,y:_e.y+et});break;case"right":tt.push({x:_e.x-et,y:_e.y-et},{x:_e.x-et,y:_e.y+et});break}return tt}function $a093c7e1ec25a057$var$getPointsFromRect(_e){const{top:_,right:et,bottom:tt,left:nt}=_e;return[{x:nt,y:_},{x:et,y:_},{x:et,y:tt},{x:nt,y:tt}]}function $a093c7e1ec25a057$var$isPointInPolygon(_e,_){const{x:et,y:tt}=_e;let nt=!1;for(let rt=0,it=_.length-1;rt<_.length;it=rt++){const st=_[rt].x,ot=_[rt].y,at=_[it].x,lt=_[it].y;ot>tt!=lt>tt&&et<(at-st)*(tt-ot)/(lt-ot)+st&&(nt=!nt)}return nt}function $a093c7e1ec25a057$var$getHull(_e){const _=_e.slice();return _.sort((et,tt)=>et.x<tt.x?-1:et.x>tt.x?1:et.y<tt.y?-1:et.y>tt.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(_)}function $a093c7e1ec25a057$var$getHullPresorted(_e){if(_e.length<=1)return _e.slice();const _=[];for(let tt=0;tt<_e.length;tt++){const nt=_e[tt];for(;_.length>=2;){const rt=_[_.length-1],it=_[_.length-2];if((rt.x-it.x)*(nt.y-it.y)>=(rt.y-it.y)*(nt.x-it.x))_.pop();else break}_.push(nt)}_.pop();const et=[];for(let tt=_e.length-1;tt>=0;tt--){const nt=_e[tt];for(;et.length>=2;){const rt=et[et.length-1],it=et[et.length-2];if((rt.x-it.x)*(nt.y-it.y)>=(rt.y-it.y)*(nt.x-it.x))et.pop();else break}et.push(nt)}return et.pop(),_.length===1&&et.length===1&&_[0].x===et[0].x&&_[0].y===et[0].y?_:_.concat(et)}const $a093c7e1ec25a057$export$be92b6f5f03c0fe9=$a093c7e1ec25a057$export$28c660c63b792dea,$a093c7e1ec25a057$export$41fb9f06171c75f4=$a093c7e1ec25a057$export$8c610744efcf8a1d,$a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559;function _objectWithoutPropertiesLoose$1(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_.indexOf(nt)>=0)&&(et[nt]=_e[nt]);return et}function _objectWithoutProperties$1(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$1(_e,_),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}let LevaErrors;(function(_e){_e[_e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",_e[_e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",_e[_e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",_e[_e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",_e[_e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",_e[_e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",_e[_e.THEME_ERROR=6]="THEME_ERROR",_e[_e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",_e[_e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",_e[_e.EMPTY_KEY=9]="EMPTY_KEY"})(LevaErrors||(LevaErrors={}));const ErrorList={[LevaErrors.UNSUPPORTED_INPUT]:(_e,_)=>[`An input with type \`${_e}\` input was found at path \`${_}\` but it's not supported yet.`],[LevaErrors.NO_COMPONENT_FOR_TYPE]:(_e,_)=>[`Type \`${_e}\` found at path \`${_}\` can't be displayed in panel because no component supports it yet.`],[LevaErrors.UNKNOWN_INPUT]:(_e,_)=>[`input at path \`${_e}\` is not recognized.`,_],[LevaErrors.DUPLICATE_KEYS]:(_e,_,et)=>[`Key \`${_e}\` of path \`${_}\` already exists at path \`${et}\`. Even nested keys need to be unique. Rename one of the keys.`],[LevaErrors.ALREADY_REGISTERED_TYPE]:_e=>[`Type ${_e} has already been registered. You can't register a component with the same type.`],[LevaErrors.CLIPBOARD_ERROR]:_e=>["Error copying the value",_e],[LevaErrors.THEME_ERROR]:(_e,_)=>[`Error accessing the theme \`${_e}.${_}\` value.`],[LevaErrors.PATH_DOESNT_EXIST]:_e=>[`Error getting the value at path \`${_e}\`. There is probably an error in your \`render\` function.`],[LevaErrors.PATH_DOESNT_EXIST]:_e=>[`Error accessing the value at path \`${_e}\``],[LevaErrors.INPUT_TYPE_OVERRIDE]:(_e,_,et)=>[`Input at path \`${_e}\` already exists with type: \`${_}\`. Its type cannot be overridden with type \`${et}\`.`],[LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function _log(_e,_,...et){const[tt,...nt]=ErrorList[_](...et);console[_e]("LEVA: "+tt,...nt)}const warn=_log.bind(null,"warn"),log=_log.bind(null,"log"),_excluded$a=["value"],_excluded2$4=["schema"],_excluded3$1=["value"],Schemas=[],Plugins={};function getValueType(_e){let{value:_}=_e,et=_objectWithoutProperties$1(_e,_excluded$a);for(let tt of Schemas){const nt=tt(_,et);if(nt)return nt}}function register(_e,_){let{schema:et}=_,tt=_objectWithoutProperties$1(_,_excluded2$4);if(_e in Plugins){warn(LevaErrors.ALREADY_REGISTERED_TYPE,_e);return}Schemas.push((nt,rt)=>et(nt,rt)&&_e),Plugins[_e]=tt}function createInternalPlugin(_e){return _e}function normalize$3$1(_e,_,et,tt){const{normalize:nt}=Plugins[_e];if(nt)return nt(_,et,tt);if(typeof _!="object"||!("value"in _))return{value:_};const{value:rt}=_,it=_objectWithoutProperties$1(_,_excluded3$1);return{value:rt,settings:it}}function sanitize$4(_e,_,et,tt,nt,rt){const{sanitize:it}=Plugins[_e];return it?it(_,et,tt,nt,rt):_}function format$2(_e,_,et){const{format:tt}=Plugins[_e];return tt?tt(_,et):_}function _defineProperty$2(_e,_,et){return _ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function ownKeys$2(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2(Object(et),!0).forEach(function(tt){_defineProperty$2(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}const clamp=(_e,_,et)=>_e>et?et:_e<_?_:_e,parseNumber=_e=>{if(_e===""||typeof _e=="number")return _e;try{const _=evaluate(_e);if(!isNaN(_))return _}catch{}return parseFloat(_e)},log10=Math.log(10);function getStep(_e){let _=Math.abs(+String(_e).replace(".",""));if(_===0)return .01;for(;_!==0&&_%10===0;)_/=10;const et=Math.floor(Math.log(_)/log10)+1,tt=Math.floor(Math.log10(Math.abs(_e))),nt=Math.pow(10,tt-et);return Math.max(nt,.001)}const range=(_e,_,et)=>et===_?0:(clamp(_e,_,et)-_)/(et-_),invertedRange=(_e,_,et)=>_e*(et-_)+_,getUid=()=>"_"+Math.random().toString(36).substr(2,9),parens=/\(([0-9+\-*/^ .]+)\)/,exp=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,mul=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,div=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,add=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,sub=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function evaluate(_e){if(isNaN(Number(_e)))if(parens.test(_e)){const _=_e.replace(parens,(et,tt)=>String(evaluate(tt)));return evaluate(_)}else if(exp.test(_e)){const _=_e.replace(exp,(et,tt,nt)=>String(Math.pow(Number(tt),Number(nt))));return evaluate(_)}else if(mul.test(_e)){const _=_e.replace(mul,(et,tt,nt)=>String(Number(tt)*Number(nt)));return evaluate(_)}else if(div.test(_e)){const _=_e.replace(div,(et,tt,nt)=>{if(nt!=0)return String(Number(tt)/Number(nt));throw new Error("Division by zero")});return evaluate(_)}else if(add.test(_e)){const _=_e.replace(add,(et,tt,nt)=>String(Number(tt)+Number(nt)));return evaluate(_)}else if(sub.test(_e)){const _=_e.replace(sub,(et,tt,nt)=>String(Number(tt)-Number(nt)));return evaluate(_)}else return Number(_e);return Number(_e)}function pick(_e,_){return _.reduce((et,tt)=>(_e&&_e.hasOwnProperty(tt)&&(et[tt]=_e[tt]),et),{})}function omit(_e,_){const et=_objectSpread2({},_e);return _.forEach(tt=>tt in _e&&delete et[tt]),et}function mapArrayToKeys(_e,_){return _e.reduce((et,tt,nt)=>Object.assign(et,{[_[nt]]:tt}),{})}function isObject$8(_e){return Object.prototype.toString.call(_e)==="[object Object]"}const isEmptyObject=_e=>isObject$8(_e)&&Object.keys(_e).length===0;let SpecialInputs;(function(_e){_e.BUTTON="BUTTON",_e.BUTTON_GROUP="BUTTON_GROUP",_e.MONITOR="MONITOR",_e.FOLDER="FOLDER"})(SpecialInputs||(SpecialInputs={}));let LevaInputs;(function(_e){_e.SELECT="SELECT",_e.IMAGE="IMAGE",_e.NUMBER="NUMBER",_e.COLOR="COLOR",_e.STRING="STRING",_e.BOOLEAN="BOOLEAN",_e.INTERVAL="INTERVAL",_e.VECTOR3D="VECTOR3D",_e.VECTOR2D="VECTOR2D"})(LevaInputs||(LevaInputs={}));const _excluded$9=["type","__customInput"],_excluded2$3=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],_excluded3$2=["type"];function parseOptions(_e,_,et={},tt){var nt,rt;if(typeof _e!="object"||Array.isArray(_e))return{type:tt,input:_e,options:_objectSpread2({key:_,label:_,optional:!1,disabled:!1,order:0},et)};if("__customInput"in _e){const{type:Et,__customInput:wt}=_e,Mt=_objectWithoutProperties$1(_e,_excluded$9);return parseOptions(wt,_,Mt,Et)}const{render:it,label:st,optional:ot,order:at=0,disabled:lt,hint:ct,onChange:ut,onEditStart:ft,onEditEnd:ht,transient:vt}=_e,mt=_objectWithoutProperties$1(_e,_excluded2$3),pt=_objectSpread2({render:it,key:_,label:st??_,hint:ct,transient:vt??!!ut,onEditStart:ft,onEditEnd:ht,disabled:lt,optional:ot,order:at},et);let{type:yt}=mt,_t=_objectWithoutProperties$1(mt,_excluded3$2);if(yt=tt??yt,yt in SpecialInputs)return{type:yt,input:_t,options:pt};let St;return tt&&isObject$8(_t)&&"value"in _t?St=_t.value:St=isEmptyObject(_t)?void 0:_t,{type:yt,input:St,options:_objectSpread2(_objectSpread2({},pt),{},{onChange:ut,optional:(nt=pt.optional)!==null&&nt!==void 0?nt:!1,disabled:(rt=pt.disabled)!==null&&rt!==void 0?rt:!1})}}function normalizeInput(_e,_,et,tt){const nt=parseOptions(_e,_),{type:rt,input:it,options:st}=nt;if(rt)return rt in SpecialInputs?nt:{type:rt,input:normalize$3$1(rt,it,et,tt),options:st};let ot=getValueType(it);return ot?{type:ot,input:normalize$3$1(ot,it,et,tt),options:st}:(ot=getValueType({value:it}),ot?{type:ot,input:normalize$3$1(ot,{value:it},et,tt),options:st}:!1)}function updateInput(_e,_,et,tt,nt){const{value:rt,type:it,settings:st}=_e;_e.value=sanitizeValue({type:it,value:rt,settings:st},_,et,tt),_e.fromPanel=nt}const ValueError=function _e(_,et,tt){this.type="LEVA_ERROR",this.message="LEVA: "+_,this.previousValue=et,this.error=tt};function sanitizeValue({type:_e,value:_,settings:et},tt,nt,rt){const it=_e!=="SELECT"&&typeof tt=="function"?tt(_):tt;let st;try{st=sanitize$4(_e,it,et,_,nt,rt)}catch(ot){throw new ValueError(`The value \`${tt}\` did not result in a correct value.`,_,ot)}return dequal(st,_)?_:st}const debounce=(_e,_,et=!1)=>{let tt=0;return function(){const nt=arguments,rt=et&&!tt,it=()=>_e.apply(this,nt);window.clearTimeout(tt),tt=window.setTimeout(it,_),rt&&it()}},multiplyStep=_e=>_e.shiftKey?5:_e.altKey?1/5:1;function render(_e,_){const et=console.error;console.error=()=>{},ReactDOM.render(_e,_),console.error=et}const _excluded$8=["value"],_excluded2$2$1=["min","max"],schema$3=_e=>{if(typeof _e=="number")return!0;if(typeof _e=="string"){const _=parseFloat(_e);return isNaN(_)?!1:_e.substring((""+_).length).trim().length<4}return!1},sanitize$3=(_e,{min:_=-1/0,max:et=1/0,suffix:tt})=>{const nt=parseFloat(_e);if(_e===""||isNaN(nt))throw Error("Invalid number");const rt=clamp(nt,_,et);return tt?rt+tt:rt},format$1$1=(_e,{pad:_=0,suffix:et})=>{const tt=parseFloat(_e).toFixed(_);return et?tt+et:tt},normalize$2$1=_e=>{let{value:_}=_e,et=_objectWithoutProperties$1(_e,_excluded$8);const{min:tt=-1/0,max:nt=1/0}=et,rt=_objectWithoutProperties$1(et,_excluded2$2$1);let it=parseFloat(_);const st=typeof _=="string"?_.substring((""+it).length):void 0;it=clamp(it,tt,nt);let ot=et.step;ot||(Number.isFinite(tt)?Number.isFinite(nt)?ot=+(Math.abs(nt-tt)/100).toPrecision(1):ot=+(Math.abs(it-tt)/100).toPrecision(1):Number.isFinite(nt)&&(ot=+(Math.abs(nt-it)/100).toPrecision(1)));const at=ot?getStep(ot)*10:getStep(it);ot=ot||at/10;const lt=Math.round(clamp(Math.log10(1/at),0,2));return{value:st?it+st:it,settings:_objectSpread2({initialValue:it,step:ot,pad:lt,min:tt,max:nt,suffix:st},rt)}},sanitizeStep$1=(_e,{step:_,initialValue:et})=>{const tt=Math.round((_e-et)/_);return et+tt*_};var props$3=Object.freeze({__proto__:null,schema:schema$3,sanitize:sanitize$3,format:format$1$1,normalize:normalize$2$1,sanitizeStep:sanitizeStep$1});function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends.apply(this,arguments)}const InputContext=reactExports.createContext({});function useInputContext(){return reactExports.useContext(InputContext)}const ThemeContext=reactExports.createContext(null),StoreContext=reactExports.createContext(null),PanelSettingsContext=reactExports.createContext(null);function useStoreContext(){return reactExports.useContext(StoreContext)}function usePanelSettingsContext(){return reactExports.useContext(PanelSettingsContext)}const getDefaultTheme=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function createStateClass(_e,_){const[et,tt]=_e.split(" "),nt={};return et!=="none"&&(nt.boxShadow=`${_.inset?"inset ":""}0 0 0 $borderWidths${[_.key]} $colors${et!=="default"&&et||_.borderColor}`),tt&&(nt.backgroundColor=tt),nt}const utils={$inputStyle:()=>_e=>createStateClass(_e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>_e=>createStateClass(_e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>_e=>createStateClass(_e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>_e=>createStateClass(_e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled,css,createTheme,globalCss,keyframes}=q$3({prefix:"leva",theme:getDefaultTheme(),utils:_objectSpread2(_objectSpread2({},utils),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:_e=>({"&:focus":utils.$focusStyle()(_e)}),$focusWithin:_e=>({"&:focus-within":utils.$focusStyle()(_e)}),$hover:_e=>({"&:hover":utils.$hoverStyle()(_e)}),$active:_e=>({"&:active":utils.$activeStyle()(_e)})})}),globalStyles=globalCss({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function mergeTheme(_e){const _=getDefaultTheme();if(!_e)return{theme:_,className:""};Object.keys(_e).forEach(tt=>{Object.assign(_[tt],_e[tt])});const et=createTheme(_);return{theme:_,className:et.className}}function useTh(_e,_){const{theme:et}=reactExports.useContext(ThemeContext);if(!(_e in et)||!(_ in et[_e]))return warn(LevaErrors.THEME_ERROR,_e,_),"";let tt=_;for(;;){let nt=et[_e][tt];if(typeof nt=="string"&&nt.charAt(0)==="$")tt=nt.substr(1);else return nt}}const StyledInput=styled("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),InnerLabel=styled("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${StyledInput}`]:{paddingLeft:0}}),InnerNumberLabel=styled(InnerLabel,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),InputContainer=styled("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),_excluded$7$1=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],_excluded2$1$1=["onUpdate"];function ValueInput(_e){let{innerLabel:_,value:et,onUpdate:tt,onChange:nt,onKeyDown:rt,type:it,id:st,inputType:ot="text",rows:at=0}=_e,lt=_objectWithoutProperties$1(_e,_excluded$7$1);const{id:ct,emitOnEditStart:ut,emitOnEditEnd:ft,disabled:ht}=useInputContext(),vt=st||ct,mt=reactExports.useRef(null),pt=at>0,yt=pt?"textarea":"input",_t=reactExports.useCallback(wt=>Mt=>{const At=Mt.currentTarget.value;wt(At)},[]);React.useEffect(()=>{const wt=mt.current,Mt=_t(At=>{tt(At),ft()});return wt==null||wt.addEventListener("blur",Mt),()=>wt==null?void 0:wt.removeEventListener("blur",Mt)},[_t,tt,ft]);const St=reactExports.useCallback(wt=>{wt.key==="Enter"&&_t(tt)(wt)},[_t,tt]),Et=Object.assign({as:yt},pt?{rows:at}:{},lt);return React.createElement(InputContainer,{textArea:pt},_&&typeof _=="string"?React.createElement(InnerLabel,null,_):_,React.createElement(StyledInput,_extends({levaType:it,ref:mt,id:vt,type:ot,autoComplete:"off",spellCheck:"false",value:et,onChange:_t(nt),onFocus:()=>ut(),onKeyPress:St,onKeyDown:rt,disabled:ht},Et)))}function NumberInput(_e){let{onUpdate:_}=_e,et=_objectWithoutProperties$1(_e,_excluded2$1$1);const tt=reactExports.useCallback(rt=>_(parseNumber(rt)),[_]),nt=reactExports.useCallback(rt=>{const it=rt.key==="ArrowUp"?1:rt.key==="ArrowDown"?-1:0;if(it){rt.preventDefault();const st=rt.altKey?.1:rt.shiftKey?10:1;_(ot=>parseFloat(ot)+it*st)}},[_]);return React.createElement(ValueInput,_extends({},et,{onUpdate:tt,onKeyDown:nt,type:"number"}))}const StyledFolder=styled("div",{}),StyledWrapper=styled("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),StyledTitle=styled("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & > svg`]:{opacity:1}}),StyledContent=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${StyledFolder}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),StyledRow=styled("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${StyledContent} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),StyledInputRow=styled(StyledRow,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),CopyLabelContainer=styled("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),StyledOptionalToggle=styled("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),StyledLabel=styled("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),StyledInputWrapper$1=styled("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${StyledLabel}`]:{pointerEvents:"auto"}}}}}),Overlay=styled("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),StyledToolTipContent=styled("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),ToolTipArrow=styled($a093c7e1ec25a057$export$21b07c8f274aebd5,{fill:"$toolTipBackground"});function Portal({children:_e}){const{className:_}=reactExports.useContext(ThemeContext);return React.createElement($f1701beae083dbae$export$be92b6f5f03c0fe9,{className:_},_e)}const _excluded$6$1=["align"];function OptionalToggle(){const{id:_e,disable:_,disabled:et}=useInputContext();return React.createElement(React.Fragment,null,React.createElement(StyledOptionalToggle,{id:_e+"__disable",type:"checkbox",checked:!et,onChange:()=>_(!et)}),React.createElement("label",{htmlFor:_e+"__disable"}))}function RawLabel(_e){const{id:_,optional:et,hint:tt}=useInputContext(),nt=_e.htmlFor||(_?{htmlFor:_}:null),rt=!tt&&typeof _e.children=="string"?{title:_e.children}:null;return React.createElement(React.Fragment,null,et&&React.createElement(OptionalToggle,null),tt!==void 0?React.createElement($a093c7e1ec25a057$export$be92b6f5f03c0fe9,null,React.createElement($a093c7e1ec25a057$export$41fb9f06171c75f4,{asChild:!0},React.createElement(StyledLabel,_extends({},nt,_e))),React.createElement($a093c7e1ec25a057$export$7c6e2c02157bb7d2,{side:"top",sideOffset:2},React.createElement(StyledToolTipContent,null,tt,React.createElement(ToolTipArrow,null)))):React.createElement(StyledLabel,_extends({},nt,rt,_e)))}function Label(_e){let{align:_}=_e,et=_objectWithoutProperties$1(_e,_excluded$6$1);const{value:tt,label:nt,key:rt,disabled:it}=useInputContext(),{hideCopyButton:st}=usePanelSettingsContext(),ot=!st&&rt!==void 0,[at,lt]=reactExports.useState(!1),ct=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[rt]:tt??""})),lt(!0)}catch{warn(LevaErrors.CLIPBOARD_ERROR,{[rt]:tt})}};return React.createElement(CopyLabelContainer,{align:_,onPointerLeave:()=>lt(!1)},React.createElement(RawLabel,et),ot&&!it&&React.createElement("div",{title:`Click to copy ${typeof nt=="string"?nt:rt} value`},at?React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),React.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):React.createElement("svg",{onClick:ct,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),React.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const _excluded$5$1=["toggled"],Svg=styled("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Chevron(_e){let{toggled:_}=_e,et=_objectWithoutProperties$1(_e,_excluded$5$1);return React.createElement(Svg,_extends({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${_?0:-90}deg)`}},et),React.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const _excluded$4$1=["input"];function Row(_e){let{input:_}=_e,et=_objectWithoutProperties$1(_e,_excluded$4$1);return _?React.createElement(StyledInputRow,et):React.createElement(StyledRow,et)}function useInputSetters({value:_e,type:_,settings:et,setValue:tt}){const[nt,rt]=reactExports.useState(format$2(_,_e,et)),it=reactExports.useRef(_e),st=reactExports.useRef(et);st.current=et;const ot=reactExports.useCallback(lt=>rt(format$2(_,lt,st.current)),[_]),at=reactExports.useCallback(lt=>{try{tt(lt)}catch(ct){const{type:ut,previousValue:ft}=ct;if(ut!=="LEVA_ERROR")throw ct;ot(ft)}},[ot,tt]);return reactExports.useEffect(()=>{dequal(_e,it.current)||ot(_e),it.current=_e},[_e,ot]),{displayValue:nt,onChange:rt,onUpdate:at}}function useDrag(_e,_){const{emitOnEditStart:et,emitOnEditEnd:tt}=useInputContext();return useDrag$1(nt=>{nt.first&&(document.body.classList.add("leva__panel__dragged"),et==null||et());const rt=_e(nt);return nt.last&&(document.body.classList.remove("leva__panel__dragged"),tt==null||tt()),rt},_)}function useCanvas2d(_e){const _=reactExports.useRef(null),et=reactExports.useRef(null),tt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const nt=debounce(()=>{_.current.width=_.current.offsetWidth*window.devicePixelRatio,_.current.height=_.current.offsetHeight*window.devicePixelRatio,_e(_.current,et.current)},250);return window.addEventListener("resize",nt),tt.current||(nt(),tt.current=!0),()=>window.removeEventListener("resize",nt)},[_e]),reactExports.useEffect(()=>{et.current=_.current.getContext("2d")},[]),[_,et]}function useTransform(){const _e=reactExports.useRef(null),_=reactExports.useRef({x:0,y:0}),et=reactExports.useCallback(tt=>{Object.assign(_.current,tt),_e.current&&(_e.current.style.transform=`translate3d(${_.current.x}px, ${_.current.y}px, 0)`)},[]);return[_e,et]}const _excluded$3$1=["__refCount"],getInputAtPath=(_e,_)=>{if(!_e[_])return null;const et=_e[_];return _objectWithoutProperties$1(et,_excluded$3$1)};function useInput(_e){const _=useStoreContext(),[et,tt]=reactExports.useState(getInputAtPath(_.getData(),_e)),nt=reactExports.useCallback(at=>_.setValueAtPath(_e,at,!0),[_e,_]),rt=reactExports.useCallback(at=>_.setSettingsAtPath(_e,at),[_e,_]),it=reactExports.useCallback(at=>_.disableInputAtPath(_e,at),[_e,_]),st=reactExports.useCallback(()=>_.emitOnEditStart(_e),[_e,_]),ot=reactExports.useCallback(()=>_.emitOnEditEnd(_e),[_e,_]);return reactExports.useEffect(()=>{tt(getInputAtPath(_.getData(),_e));const at=_.useStore.subscribe(lt=>getInputAtPath(lt.data,_e),tt,{equalityFn:shallow});return()=>at()},[_,_e]),[et,{set:nt,setSettings:rt,disable:it,storeId:_.storeId,emitOnEditStart:st,emitOnEditEnd:ot}]}const RangeGrid=styled("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Range=styled("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Scrubber=styled("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),RangeWrapper=styled("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Indicator=styled("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function RangeSlider({value:_e,min:_,max:et,onDrag:tt,step:nt,initialValue:rt}){const it=reactExports.useRef(null),st=reactExports.useRef(null),ot=reactExports.useRef(0),at=useTh("sizes","scrubberWidth"),lt=useDrag(({event:ut,first:ft,xy:[ht],movement:[vt],memo:mt})=>{if(ft){const{width:yt,left:_t}=it.current.getBoundingClientRect();ot.current=yt-parseFloat(at),mt=(ut==null?void 0:ut.target)===st.current?_e:invertedRange((ht-_t)/yt,_,et)}const pt=mt+invertedRange(vt/ot.current,0,et-_);return tt(sanitizeStep$1(pt,{step:nt,initialValue:rt})),mt}),ct=range(_e,_,et);return React.createElement(RangeWrapper,_extends({ref:it},lt()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:0,right:`${(1-ct)*100}%`}})),React.createElement(Scrubber,{ref:st,style:{left:`calc(${ct} * (100% - ${at}))`}}))}const DraggableLabel=React.memo(({label:_e,onUpdate:_,step:et,innerLabelTrim:tt})=>{const[nt,rt]=reactExports.useState(!1),it=useDrag(({active:st,delta:[ot],event:at,memo:lt=0})=>(rt(st),lt+=ot/2,Math.abs(lt)>=1&&(_(ct=>parseFloat(ct)+Math.floor(lt)*et*multiplyStep(at)),lt=0),lt));return React.createElement(InnerNumberLabel,_extends({dragging:nt,title:_e.length>1?_e:""},it()),_e.slice(0,tt))});function Number$1({label:_e,id:_,displayValue:et,onUpdate:tt,onChange:nt,settings:rt,innerLabelTrim:it=1}){const st=it>0&&React.createElement(DraggableLabel,{label:_e,step:rt.step,onUpdate:tt,innerLabelTrim:it});return React.createElement(NumberInput,{id:_,value:String(et),onUpdate:tt,onChange:nt,innerLabel:st})}function NumberComponent(){const _e=useInputContext(),{label:_,value:et,onUpdate:tt,settings:nt,id:rt}=_e,{min:it,max:st}=nt,ot=st!==1/0&&it!==-1/0;return React.createElement(Row,{input:!0},React.createElement(Label,null,_),React.createElement(RangeGrid,{hasRange:ot},ot&&React.createElement(RangeSlider,_extends({value:parseFloat(et),onDrag:tt},nt)),React.createElement(Number$1,_extends({},_e,{id:rt,label:"value",innerLabelTrim:ot?0:1}))))}const{sanitizeStep}=props$3,rest=_objectWithoutProperties$1(props$3,["sanitizeStep"]);var number$1=_objectSpread2({component:NumberComponent},rest);const schema$2$1=(_e,_)=>v8n().schema({options:v8n().passesAnyOf(v8n().object(),v8n().array())}).test(_),sanitize$2$1=(_e,{values:_})=>{if(_.indexOf(_e)<0)throw Error("Selected value doesn't match Select options");return _e},format$3=(_e,{values:_})=>_.indexOf(_e),normalize$1$1=_e=>{let{value:_,options:et}=_e,tt,nt;return Array.isArray(et)?(nt=et,tt=et.map(rt=>String(rt))):(nt=Object.values(et),tt=Object.keys(et)),"value"in _e?nt.includes(_)||(tt.unshift(String(_)),nt.unshift(_)):_=nt[0],Object.values(et).includes(_)||(et[String(_)]=_),{value:_,settings:{keys:tt,values:nt}}};var props$2$1=Object.freeze({__proto__:null,schema:schema$2$1,sanitize:sanitize$2$1,format:format$3,normalize:normalize$1$1});const SelectContainer=styled("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),NativeSelect=styled("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),PresentationalSelect=styled("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${NativeSelect}:focus + &`]:{$focusStyle:""},[`${NativeSelect}:hover + &`]:{$hoverStyle:""}});function Select({displayValue:_e,value:_,onUpdate:et,id:tt,settings:nt,disabled:rt}){const{keys:it,values:st}=nt,ot=reactExports.useRef();return _===st[_e]&&(ot.current=it[_e]),React.createElement(SelectContainer,null,React.createElement(NativeSelect,{id:tt,value:_e,onChange:at=>et(st[Number(at.currentTarget.value)]),disabled:rt},it.map((at,lt)=>React.createElement("option",{key:at,value:lt},at))),React.createElement(PresentationalSelect,null,ot.current),React.createElement(Chevron,{toggled:!0}))}function SelectComponent(){const{label:_e,value:_,displayValue:et,onUpdate:tt,id:nt,disabled:rt,settings:it}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,_e),React.createElement(Select,{id:nt,value:_,displayValue:et,onUpdate:tt,settings:it,disabled:rt}))}var select=_objectSpread2({component:SelectComponent},props$2$1);const schema$1$1=_e=>v8n().string().test(_e),sanitize$1$1=_e=>{if(typeof _e!="string")throw Error("Invalid string");return _e},normalize$4=({value:_e,editable:_=!0,rows:et=!1})=>({value:_e,settings:{editable:_,rows:typeof et=="number"?et:et?5:0}});var props$1$1=Object.freeze({__proto__:null,schema:schema$1$1,sanitize:sanitize$1$1,normalize:normalize$4});const _excluded$2$1=["displayValue","onUpdate","onChange","editable"],NonEditableString=styled("div",{whiteSpace:"pre-wrap"});function String$1(_e){let{displayValue:_,onUpdate:et,onChange:tt,editable:nt=!0}=_e,rt=_objectWithoutProperties$1(_e,_excluded$2$1);return nt?React.createElement(ValueInput,_extends({value:_,onUpdate:et,onChange:tt},rt)):React.createElement(NonEditableString,null,_)}function StringComponent(){const{label:_e,settings:_,displayValue:et,onUpdate:tt,onChange:nt}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,_e),React.createElement(String$1,_extends({displayValue:et,onUpdate:tt,onChange:nt},_)))}var string=_objectSpread2({component:StringComponent},props$1$1);const schema$4=_e=>v8n().boolean().test(_e),sanitize$5=_e=>{if(typeof _e!="boolean")throw Error("Invalid boolean");return _e};var props$4=Object.freeze({__proto__:null,schema:schema$4,sanitize:sanitize$5});const StyledInputWrapper=styled("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Boolean$1({value:_e,onUpdate:_,id:et,disabled:tt}){return React.createElement(StyledInputWrapper,null,React.createElement("input",{id:et,type:"checkbox",checked:_e,onChange:nt=>_(nt.currentTarget.checked),disabled:tt}),React.createElement("label",{htmlFor:et},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function BooleanComponent(){const{label:_e,value:_,onUpdate:et,disabled:tt,id:nt}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,_e),React.createElement(Boolean$1,{value:_,onUpdate:et,id:nt,disabled:tt}))}var boolean=_objectSpread2({component:BooleanComponent},props$4);const _excluded$1$1=["locked"];function Coordinate({value:_e,id:_,valueKey:et,settings:tt,onUpdate:nt,innerLabelTrim:rt}){const it=reactExports.useRef(_e[et]);it.current=_e[et];const st=reactExports.useCallback(at=>nt({[et]:sanitizeValue({type:"NUMBER",value:it.current,settings:tt},at)}),[nt,tt,et]),ot=useInputSetters({type:"NUMBER",value:_e[et],settings:tt,setValue:st});return React.createElement(Number$1,{id:_,label:et,value:_e[et],displayValue:ot.displayValue,onUpdate:ot.onUpdate,onChange:ot.onChange,settings:tt,innerLabelTrim:rt})}const Container$2=styled("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Lock(_e){let{locked:_}=_e,et=_objectWithoutProperties$1(_e,_excluded$1$1);return React.createElement("svg",_extends({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et),_?React.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):React.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Vector({value:_e,onUpdate:_,settings:et,innerLabelTrim:tt}){const{id:nt,setSettings:rt}=useInputContext(),{lock:it,locked:st}=et;return React.createElement(Container$2,{withLock:it},it&&React.createElement(Lock,{locked:st,onClick:()=>rt({locked:!st})}),Object.keys(_e).map((ot,at)=>React.createElement(Coordinate,{id:at===0?nt:`${nt}.${ot}`,key:ot,valueKey:ot,value:_e,settings:et[ot],onUpdate:_,innerLabelTrim:tt})))}const normalizeKeyedNumberSettings=(_e,_)=>{const et={};let tt=0,nt=1/0;Object.entries(_e).forEach(([rt,it])=>{et[rt]=normalize$2$1(_objectSpread2({value:it},_[rt])).settings,tt=Math.max(tt,et[rt].step),nt=Math.min(nt,et[rt].pad)});for(let rt in et){const{step:it,min:st,max:ot}=_[rt]||{};!isFinite(it)&&(!isFinite(st)||!isFinite(ot))&&(et[rt].step=tt,et[rt].pad=nt)}return et},_excluded$b=["lock"],_excluded2$5=["value"];function getVectorSchema(_e){const _=v8n().array().length(_e).every.number(),et=tt=>{if(!tt||typeof tt!="object")return!1;const nt=Object.values(tt);return nt.length===_e&&nt.every(rt=>isFinite(rt))};return tt=>_.test(tt)||et(tt)}function getVectorType(_e){return Array.isArray(_e)?"array":"object"}function convert$1(_e,_,et){return getVectorType(_e)===_?_e:_==="array"?Object.values(_e):mapArrayToKeys(_e,et)}const sanitizeVector=(_e,_,et)=>{const tt=convert$1(_e,"object",_.keys);for(let it in tt)tt[it]=sanitize$3(tt[it],_[it]);const nt=Object.keys(tt);let rt={};if(nt.length===_.keys.length)rt=tt;else{const it=convert$1(et,"object",_.keys);if(nt.length===1&&_.locked){const st=nt[0],ot=tt[st],at=it[st],lt=at!==0?ot/at:1;for(let ct in it)ct===st?rt[st]=ot:rt[ct]=it[ct]*lt}else rt=_objectSpread2(_objectSpread2({},it),tt)}return convert$1(rt,_.format,_.keys)},formatVector=(_e,_)=>convert$1(_e,"object",_.keys),isNumberSettings=_e=>!!_e&&("step"in _e||"min"in _e||"max"in _e);function normalizeVector(_e,_,et=[]){const{lock:tt=!1}=_,nt=_objectWithoutProperties$1(_,_excluded$b),rt=Array.isArray(_e)?"array":"object",it=rt==="object"?Object.keys(_e):et,st=convert$1(_e,"object",it),ot=isNumberSettings(nt)?it.reduce((lt,ct)=>Object.assign(lt,{[ct]:nt}),{}):nt,at=normalizeKeyedNumberSettings(st,ot);return{value:rt==="array"?_e:st,settings:_objectSpread2(_objectSpread2({},at),{},{format:rt,keys:it,lock:tt,locked:!1})}}function getVectorPlugin(_e){return{schema:getVectorSchema(_e.length),normalize:_=>{let{value:et}=_,tt=_objectWithoutProperties$1(_,_excluded2$5);return normalizeVector(et,tt,_e)},format:(_,et)=>formatVector(_,et),sanitize:(_,et,tt)=>sanitizeVector(_,et,tt)}}var r$2={grad:.9,turn:360,rad:360/(2*Math.PI)},t$3=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},n$3=function(_e,_,et){return _===void 0&&(_=0),et===void 0&&(et=Math.pow(10,_)),Math.round(et*_e)/et+0},e$2=function(_e,_,et){return _===void 0&&(_=0),et===void 0&&(et=1),_e>et?et:_e>_?_e:_},u$3=function(_e){return(_e=isFinite(_e)?_e%360:0)>0?_e:_e+360},a=function(_e){return{r:e$2(_e.r,0,255),g:e$2(_e.g,0,255),b:e$2(_e.b,0,255),a:e$2(_e.a)}},o$1=function(_e){return{r:n$3(_e.r),g:n$3(_e.g),b:n$3(_e.b),a:n$3(_e.a,3)}},i$2=/^#([0-9a-f]{3,8})$/i,s$2=function(_e){var _=_e.toString(16);return _.length<2?"0"+_:_},h$3=function(_e){var _=_e.r,et=_e.g,tt=_e.b,nt=_e.a,rt=Math.max(_,et,tt),it=rt-Math.min(_,et,tt),st=it?rt===_?(et-tt)/it:rt===et?2+(tt-_)/it:4+(_-et)/it:0;return{h:60*(st<0?st+6:st),s:rt?it/rt*100:0,v:rt/255*100,a:nt}},b$1=function(_e){var _=_e.h,et=_e.s,tt=_e.v,nt=_e.a;_=_/360*6,et/=100,tt/=100;var rt=Math.floor(_),it=tt*(1-et),st=tt*(1-(_-rt)*et),ot=tt*(1-(1-_+rt)*et),at=rt%6;return{r:255*[tt,st,it,it,ot,tt][at],g:255*[ot,tt,tt,st,it,it][at],b:255*[it,it,ot,tt,tt,st][at],a:nt}},g$1=function(_e){return{h:u$3(_e.h),s:e$2(_e.s,0,100),l:e$2(_e.l,0,100),a:e$2(_e.a)}},d$1=function(_e){return{h:n$3(_e.h),s:n$3(_e.s),l:n$3(_e.l),a:n$3(_e.a,3)}},f$1=function(_e){return b$1((et=(_=_e).s,{h:_.h,s:(et*=((tt=_.l)<50?tt:100-tt)/100)>0?2*et/(tt+et)*100:0,v:tt+et,a:_.a}));var _,et,tt},c$1=function(_e){return{h:(_=h$3(_e)).h,s:(nt=(200-(et=_.s))*(tt=_.v)/100)>0&&nt<200?et*tt/100/(nt<=100?nt:200-nt)*100:0,l:nt/2,a:_.a};var _,et,tt,nt},l$2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$3=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(_e){var _=i$2.exec(_e);return _?(_e=_[1]).length<=4?{r:parseInt(_e[0]+_e[0],16),g:parseInt(_e[1]+_e[1],16),b:parseInt(_e[2]+_e[2],16),a:_e.length===4?n$3(parseInt(_e[3]+_e[3],16)/255,2):1}:_e.length===6||_e.length===8?{r:parseInt(_e.substr(0,2),16),g:parseInt(_e.substr(2,2),16),b:parseInt(_e.substr(4,2),16),a:_e.length===8?n$3(parseInt(_e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_e){var _=v$2.exec(_e)||m$2.exec(_e);return _?_[2]!==_[4]||_[4]!==_[6]?null:a({r:Number(_[1])/(_[2]?100/255:1),g:Number(_[3])/(_[4]?100/255:1),b:Number(_[5])/(_[6]?100/255:1),a:_[7]===void 0?1:Number(_[7])/(_[8]?100:1)}):null},"rgb"],[function(_e){var _=l$2.exec(_e)||p$3.exec(_e);if(!_)return null;var et,tt,nt=g$1({h:(et=_[1],tt=_[2],tt===void 0&&(tt="deg"),Number(et)*(r$2[tt]||1)),s:Number(_[3]),l:Number(_[4]),a:_[5]===void 0?1:Number(_[5])/(_[6]?100:1)});return f$1(nt)},"hsl"]],object:[[function(_e){var _=_e.r,et=_e.g,tt=_e.b,nt=_e.a,rt=nt===void 0?1:nt;return t$3(_)&&t$3(et)&&t$3(tt)?a({r:Number(_),g:Number(et),b:Number(tt),a:Number(rt)}):null},"rgb"],[function(_e){var _=_e.h,et=_e.s,tt=_e.l,nt=_e.a,rt=nt===void 0?1:nt;if(!t$3(_)||!t$3(et)||!t$3(tt))return null;var it=g$1({h:Number(_),s:Number(et),l:Number(tt),a:Number(rt)});return f$1(it)},"hsl"],[function(_e){var _=_e.h,et=_e.s,tt=_e.v,nt=_e.a,rt=nt===void 0?1:nt;if(!t$3(_)||!t$3(et)||!t$3(tt))return null;var it=function(st){return{h:u$3(st.h),s:e$2(st.s,0,100),v:e$2(st.v,0,100),a:e$2(st.a)}}({h:Number(_),s:Number(et),v:Number(tt),a:Number(rt)});return b$1(it)},"hsv"]]},N=function(_e,_){for(var et=0;et<_.length;et++){var tt=_[et][0](_e);if(tt)return[tt,_[et][1]]}return[null,void 0]},x=function(_e){return typeof _e=="string"?N(_e.trim(),y$1.string):typeof _e=="object"&&_e!==null?N(_e,y$1.object):[null,void 0]},I$1=function(_e){return x(_e)[1]},M=function(_e,_){var et=c$1(_e);return{h:et.h,s:e$2(et.s+100*_,0,100),l:et.l,a:et.a}},H=function(_e){return(299*_e.r+587*_e.g+114*_e.b)/1e3/255},$$1=function(_e,_){var et=c$1(_e);return{h:et.h,s:et.s,l:e$2(et.l+100*_,0,100),a:et.a}},j=function(){function _e(_){this.parsed=x(_)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _e.prototype.isValid=function(){return this.parsed!==null},_e.prototype.brightness=function(){return n$3(H(this.rgba),2)},_e.prototype.isDark=function(){return H(this.rgba)<.5},_e.prototype.isLight=function(){return H(this.rgba)>=.5},_e.prototype.toHex=function(){return _=o$1(this.rgba),et=_.r,tt=_.g,nt=_.b,it=(rt=_.a)<1?s$2(n$3(255*rt)):"","#"+s$2(et)+s$2(tt)+s$2(nt)+it;var _,et,tt,nt,rt,it},_e.prototype.toRgb=function(){return o$1(this.rgba)},_e.prototype.toRgbString=function(){return _=o$1(this.rgba),et=_.r,tt=_.g,nt=_.b,(rt=_.a)<1?"rgba("+et+", "+tt+", "+nt+", "+rt+")":"rgb("+et+", "+tt+", "+nt+")";var _,et,tt,nt,rt},_e.prototype.toHsl=function(){return d$1(c$1(this.rgba))},_e.prototype.toHslString=function(){return _=d$1(c$1(this.rgba)),et=_.h,tt=_.s,nt=_.l,(rt=_.a)<1?"hsla("+et+", "+tt+"%, "+nt+"%, "+rt+")":"hsl("+et+", "+tt+"%, "+nt+"%)";var _,et,tt,nt,rt},_e.prototype.toHsv=function(){return _=h$3(this.rgba),{h:n$3(_.h),s:n$3(_.s),v:n$3(_.v),a:n$3(_.a,3)};var _},_e.prototype.invert=function(){return w$1({r:255-(_=this.rgba).r,g:255-_.g,b:255-_.b,a:_.a});var _},_e.prototype.saturate=function(_){return _===void 0&&(_=.1),w$1(M(this.rgba,_))},_e.prototype.desaturate=function(_){return _===void 0&&(_=.1),w$1(M(this.rgba,-_))},_e.prototype.grayscale=function(){return w$1(M(this.rgba,-1))},_e.prototype.lighten=function(_){return _===void 0&&(_=.1),w$1($$1(this.rgba,_))},_e.prototype.darken=function(_){return _===void 0&&(_=.1),w$1($$1(this.rgba,-_))},_e.prototype.rotate=function(_){return _===void 0&&(_=15),this.hue(this.hue()+_)},_e.prototype.alpha=function(_){return typeof _=="number"?w$1({r:(et=this.rgba).r,g:et.g,b:et.b,a:_}):n$3(this.rgba.a,3);var et},_e.prototype.hue=function(_){var et=c$1(this.rgba);return typeof _=="number"?w$1({h:_,s:et.s,l:et.l,a:et.a}):n$3(et.h)},_e.prototype.isEqual=function(_){return this.toHex()===w$1(_).toHex()},_e}(),w$1=function(_e){return _e instanceof j?_e:new j(_e)},S$1=[],k$2=function(_e){_e.forEach(function(_){S$1.indexOf(_)<0&&(_(j,y$1),S$1.push(_))})};function namesPlugin(_e,_){var et={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},tt={};for(var nt in et)tt[et[nt]]=nt;var rt={};_e.prototype.toName=function(it){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var st,ot,at=tt[this.toHex()];if(at)return at;if(it!=null&&it.closest){var lt=this.toRgb(),ct=1/0,ut="black";if(!rt.length)for(var ft in et)rt[ft]=new _e(et[ft]).toRgb();for(var ht in et){var vt=(st=lt,ot=rt[ht],Math.pow(st.r-ot.r,2)+Math.pow(st.g-ot.g,2)+Math.pow(st.b-ot.b,2));vt<ct&&(ct=vt,ut=ht)}return ut}},_.string.push([function(it){var st=it.toLowerCase(),ot=st==="transparent"?"#0000":et[st];return ot?new _e(ot).toRgb():null},"name"])}function u$2(){return(u$2=Object.assign||function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e}).apply(this,arguments)}function c(_e,_){if(_e==null)return{};var et,tt,nt={},rt=Object.keys(_e);for(tt=0;tt<rt.length;tt++)_.indexOf(et=rt[tt])>=0||(nt[et]=_e[et]);return nt}function i$1(_e){var _=reactExports.useRef(_e),et=reactExports.useRef(function(tt){_.current&&_.current(tt)});return _.current=_e,et.current}var s$1=function(_e,_,et){return _===void 0&&(_=0),et===void 0&&(et=1),_e>et?et:_e<_?_:_e},f=function(_e){return"touches"in _e},v$1=function(_e){return _e&&_e.ownerDocument.defaultView||self},d=function(_e,_,et){var tt=_e.getBoundingClientRect(),nt=f(_)?function(rt,it){for(var st=0;st<rt.length;st++)if(rt[st].identifier===it)return rt[st];return rt[0]}(_.touches,et):_;return{left:s$1((nt.pageX-(tt.left+v$1(_e).pageXOffset))/tt.width),top:s$1((nt.pageY-(tt.top+v$1(_e).pageYOffset))/tt.height)}},h$2=function(_e){!f(_e)&&_e.preventDefault()},m$1=React.memo(function(_e){var _=_e.onMove,et=_e.onKey,tt=c(_e,["onMove","onKey"]),nt=reactExports.useRef(null),rt=i$1(_),it=i$1(et),st=reactExports.useRef(null),ot=reactExports.useRef(!1),at=reactExports.useMemo(function(){var ft=function(mt){h$2(mt),(f(mt)?mt.touches.length>0:mt.buttons>0)&&nt.current?rt(d(nt.current,mt,st.current)):vt(!1)},ht=function(){return vt(!1)};function vt(mt){var pt=ot.current,yt=v$1(nt.current),_t=mt?yt.addEventListener:yt.removeEventListener;_t(pt?"touchmove":"mousemove",ft),_t(pt?"touchend":"mouseup",ht)}return[function(mt){var pt=mt.nativeEvent,yt=nt.current;if(yt&&(h$2(pt),!function(St,Et){return Et&&!f(St)}(pt,ot.current)&&yt)){if(f(pt)){ot.current=!0;var _t=pt.changedTouches||[];_t.length&&(st.current=_t[0].identifier)}yt.focus(),rt(d(yt,pt,st.current)),vt(!0)}},function(mt){var pt=mt.which||mt.keyCode;pt<37||pt>40||(mt.preventDefault(),it({left:pt===39?.05:pt===37?-.05:0,top:pt===40?.05:pt===38?-.05:0}))},vt]},[it,rt]),lt=at[0],ct=at[1],ut=at[2];return reactExports.useEffect(function(){return ut},[ut]),React.createElement("div",u$2({},tt,{onTouchStart:lt,onMouseDown:lt,className:"react-colorful__interactive",ref:nt,onKeyDown:ct,tabIndex:0,role:"slider"}))}),g=function(_e){return _e.filter(Boolean).join(" ")},p$2=function(_e){var _=_e.color,et=_e.left,tt=_e.top,nt=tt===void 0?.5:tt,rt=g(["react-colorful__pointer",_e.className]);return React.createElement("div",{className:rt,style:{top:100*nt+"%",left:100*et+"%"}},React.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:_}}))},b=function(_e,_,et){return _===void 0&&(_=0),et===void 0&&(et=Math.pow(10,_)),Math.round(et*_e)/et},y=function(_e){var _=_e.s,et=_e.v,tt=_e.a,nt=(200-_)*et/100;return{h:b(_e.h),s:b(nt>0&&nt<200?_*et/100/(nt<=100?nt:200-nt)*100:0),l:b(nt/2),a:b(tt,2)}},q$2=function(_e){var _=y(_e);return"hsl("+_.h+", "+_.s+"%, "+_.l+"%)"},k$1=function(_e){var _=y(_e);return"hsla("+_.h+", "+_.s+"%, "+_.l+"%, "+_.a+")"},I=function(_e){var _=_e.h,et=_e.s,tt=_e.v,nt=_e.a;_=_/360*6,et/=100,tt/=100;var rt=Math.floor(_),it=tt*(1-et),st=tt*(1-(_-rt)*et),ot=tt*(1-(1-_+rt)*et),at=rt%6;return{r:b(255*[tt,st,it,it,ot,tt][at]),g:b(255*[ot,tt,tt,st,it,it][at]),b:b(255*[it,it,ot,tt,tt,st][at]),a:b(nt,2)}},L=function(_e){var _=_e.r,et=_e.g,tt=_e.b,nt=_e.a,rt=Math.max(_,et,tt),it=rt-Math.min(_,et,tt),st=it?rt===_?(et-tt)/it:rt===et?2+(tt-_)/it:4+(_-et)/it:0;return{h:b(60*(st<0?st+6:st)),s:b(rt?it/rt*100:0),v:b(rt/255*100),a:nt}},S=React.memo(function(_e){var _=_e.hue,et=_e.onChange,tt=g(["react-colorful__hue",_e.className]);return React.createElement("div",{className:tt},React.createElement(m$1,{onMove:function(nt){et({h:360*nt.left})},onKey:function(nt){et({h:s$1(_+360*nt.left,0,360)})},"aria-label":"Hue","aria-valuenow":b(_),"aria-valuemax":"360","aria-valuemin":"0"},React.createElement(p$2,{className:"react-colorful__hue-pointer",left:_/360,color:q$2({h:_,s:100,v:100,a:1})})))}),T=React.memo(function(_e){var _=_e.hsva,et=_e.onChange,tt={backgroundColor:q$2({h:_.h,s:100,v:100,a:1})};return React.createElement("div",{className:"react-colorful__saturation",style:tt},React.createElement(m$1,{onMove:function(nt){et({s:100*nt.left,v:100-100*nt.top})},onKey:function(nt){et({s:s$1(_.s+100*nt.left,0,100),v:s$1(_.v-100*nt.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+b(_.s)+"%, Brightness "+b(_.v)+"%"},React.createElement(p$2,{className:"react-colorful__saturation-pointer",top:1-_.v/100,left:_.s/100,color:q$2(_)})))}),F=function(_e,_){if(_e===_)return!0;for(var et in _e)if(_e[et]!==_[et])return!1;return!0};function Y(_e,_,et){var tt=i$1(et),nt=reactExports.useState(function(){return _e.toHsva(_)}),rt=nt[0],it=nt[1],st=reactExports.useRef({color:_,hsva:rt});reactExports.useEffect(function(){if(!_e.equal(_,st.current.color)){var at=_e.toHsva(_);st.current={hsva:at,color:_},it(at)}},[_,_e]),reactExports.useEffect(function(){var at;F(rt,st.current.hsva)||_e.equal(at=_e.fromHsva(rt),st.current.color)||(st.current={hsva:rt,color:at},tt(at))},[rt,_e,tt]);var ot=reactExports.useCallback(function(at){it(function(lt){return Object.assign({},lt,at)})},[]);return[rt,ot]}var V=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},J=new Map,Q=function(_e){V(function(){var _=_e.current?_e.current.ownerDocument:document;if(_!==void 0&&!J.has(_)){var et=_.createElement("style");et.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,J.set(_,et);var tt=$();tt&&et.setAttribute("nonce",tt),_.head.appendChild(et)}},[])},U=function(_e){var _=_e.className,et=_e.colorModel,tt=_e.color,nt=tt===void 0?et.defaultColor:tt,rt=_e.onChange,it=c(_e,["className","colorModel","color","onChange"]),st=reactExports.useRef(null);Q(st);var ot=Y(et,nt,rt),at=ot[0],lt=ot[1],ct=g(["react-colorful",_]);return React.createElement("div",u$2({},it,{ref:st,className:ct}),React.createElement(T,{hsva:at,onChange:lt}),React.createElement(S,{hue:at.h,onChange:lt,className:"react-colorful__last-control"}))},ee=function(_e){var _=_e.className,et=_e.hsva,tt=_e.onChange,nt={backgroundImage:"linear-gradient(90deg, "+k$1(Object.assign({},et,{a:0}))+", "+k$1(Object.assign({},et,{a:1}))+")"},rt=g(["react-colorful__alpha",_]),it=b(100*et.a);return React.createElement("div",{className:rt},React.createElement("div",{className:"react-colorful__alpha-gradient",style:nt}),React.createElement(m$1,{onMove:function(st){tt({a:st.left})},onKey:function(st){tt({a:s$1(et.a+st.left)})},"aria-label":"Alpha","aria-valuetext":it+"%","aria-valuenow":it,"aria-valuemin":"0","aria-valuemax":"100"},React.createElement(p$2,{className:"react-colorful__alpha-pointer",left:et.a,color:k$1(et)})))},re=function(_e){var _=_e.className,et=_e.colorModel,tt=_e.color,nt=tt===void 0?et.defaultColor:tt,rt=_e.onChange,it=c(_e,["className","colorModel","color","onChange"]),st=reactExports.useRef(null);Q(st);var ot=Y(et,nt,rt),at=ot[0],lt=ot[1],ct=g(["react-colorful",_]);return React.createElement("div",u$2({},it,{ref:st,className:ct}),React.createElement(T,{hsva:at,onChange:lt}),React.createElement(S,{hue:at.h,onChange:lt}),React.createElement(ee,{hsva:at,onChange:lt,className:"react-colorful__last-control"}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},Ce=function(_e){return React.createElement(re,u$2({},_e,{colorModel:xe}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(_e){return L({r:_e.r,g:_e.g,b:_e.b,a:1})},fromHsva:function(_e){return{r:(_=I(_e)).r,g:_.g,b:_.b};var _},equal:F},Ne=function(_e){return React.createElement(U,u$2({},_e,{colorModel:Me}))};function __awaiter(_e,_,et,tt){function nt(rt){return rt instanceof et?rt:new et(function(it){it(rt)})}return new(et||(et=Promise))(function(rt,it){function st(lt){try{at(tt.next(lt))}catch(ct){it(ct)}}function ot(lt){try{at(tt.throw(lt))}catch(ct){it(ct)}}function at(lt){lt.done?rt(lt.value):nt(lt.value).then(st,ot)}at((tt=tt.apply(_e,_||[])).next())})}function __generator(_e,_){var et={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},tt,nt,rt,it;return it={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function st(at){return function(lt){return ot([at,lt])}}function ot(at){if(tt)throw new TypeError("Generator is already executing.");for(;it&&(it=0,at[0]&&(et=0)),et;)try{if(tt=1,nt&&(rt=at[0]&2?nt.return:at[0]?nt.throw||((rt=nt.return)&&rt.call(nt),0):nt.next)&&!(rt=rt.call(nt,at[1])).done)return rt;switch(nt=0,rt&&(at=[at[0]&2,rt.value]),at[0]){case 0:case 1:rt=at;break;case 4:return et.label++,{value:at[1],done:!1};case 5:et.label++,nt=at[1],at=[0];continue;case 7:at=et.ops.pop(),et.trys.pop();continue;default:if(rt=et.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(at[0]===6||at[0]===2)){et=0;continue}if(at[0]===3&&(!rt||at[1]>rt[0]&&at[1]<rt[3])){et.label=at[1];break}if(at[0]===6&&et.label<rt[1]){et.label=rt[1],rt=at;break}if(rt&&et.label<rt[2]){et.label=rt[2],et.ops.push(at);break}rt[2]&&et.ops.pop(),et.trys.pop();continue}at=_.call(_e,et)}catch(lt){at=[6,lt],nt=0}finally{tt=rt=0}if(at[0]&5)throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}}function __read(_e,_){var et=typeof Symbol=="function"&&_e[Symbol.iterator];if(!et)return _e;var tt=et.call(_e),nt,rt=[],it;try{for(;(_===void 0||_-- >0)&&!(nt=tt.next()).done;)rt.push(nt.value)}catch(st){it={error:st}}finally{try{nt&&!nt.done&&(et=tt.return)&&et.call(tt)}finally{if(it)throw it.error}}return rt}function __spread(){for(var _e=[],_=0;_<arguments.length;_++)_e=_e.concat(__read(arguments[_]));return _e}typeof SuppressedError=="function"&&SuppressedError;var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(_e,_){var et=withMimeType(_e);if(typeof et.path!="string"){var tt=_e.webkitRelativePath;Object.defineProperty(et,"path",{value:typeof _=="string"?_:typeof tt=="string"&&tt.length>0?tt:_e.name,writable:!1,configurable:!1,enumerable:!0})}return et}function withMimeType(_e){var _=_e.name,et=_&&_.lastIndexOf(".")!==-1;if(et&&!_e.type){var tt=_.split(".").pop().toLowerCase(),nt=COMMON_MIME_TYPES.get(tt);nt&&Object.defineProperty(_e,"type",{value:nt,writable:!1,configurable:!1,enumerable:!0})}return _e}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return isObject$7(_e)&&isDataTransfer(_e)?[2,getDataTransferFiles(_e.dataTransfer,_e.type)]:isChangeEvt(_e)?[2,getInputFiles(_e)]:Array.isArray(_e)&&_e.every(function(et){return"getFile"in et&&typeof et.getFile=="function"})?[2,getFsHandleFiles(_e)]:[2,[]]})})}function isDataTransfer(_e){return isObject$7(_e.dataTransfer)}function isChangeEvt(_e){return isObject$7(_e)&&isObject$7(_e.target)}function isObject$7(_e){return typeof _e=="object"&&_e!==null}function getInputFiles(_e){return fromList(_e.target.files).map(function(_){return toFileWithPath(_)})}function getFsHandleFiles(_e){return __awaiter(this,void 0,void 0,function(){var _;return __generator(this,function(et){switch(et.label){case 0:return[4,Promise.all(_e.map(function(tt){return tt.getFile()}))];case 1:return _=et.sent(),[2,_.map(function(tt){return toFileWithPath(tt)})]}})})}function getDataTransferFiles(_e,_){return __awaiter(this,void 0,void 0,function(){var et,tt;return __generator(this,function(nt){switch(nt.label){case 0:return _e===null?[2,[]]:_e.items?(et=fromList(_e.items).filter(function(rt){return rt.kind==="file"}),_!=="drop"?[2,et]:[4,Promise.all(et.map(toFilePromises))]):[3,2];case 1:return tt=nt.sent(),[2,noIgnoredFiles(flatten(tt))];case 2:return[2,noIgnoredFiles(fromList(_e.files).map(function(rt){return toFileWithPath(rt)}))]}})})}function noIgnoredFiles(_e){return _e.filter(function(_){return FILES_TO_IGNORE.indexOf(_.name)===-1})}function fromList(_e){if(_e===null)return[];for(var _=[],et=0;et<_e.length;et++){var tt=_e[et];_.push(tt)}return _}function toFilePromises(_e){if(typeof _e.webkitGetAsEntry!="function")return fromDataTransferItem(_e);var _=_e.webkitGetAsEntry();return _&&_.isDirectory?fromDirEntry(_):fromDataTransferItem(_e)}function flatten(_e){return _e.reduce(function(_,et){return __spread(_,Array.isArray(et)?flatten(et):[et])},[])}function fromDataTransferItem(_e){var _=_e.getAsFile();if(!_)return Promise.reject(_e+" is not a File");var et=toFileWithPath(_);return Promise.resolve(et)}function fromEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return[2,_e.isDirectory?fromDirEntry(_e):fromFileEntry(_e)]})})}function fromDirEntry(_e){var _=_e.createReader();return new Promise(function(et,tt){var nt=[];function rt(){var it=this;_.readEntries(function(st){return __awaiter(it,void 0,void 0,function(){var ot,at,lt;return __generator(this,function(ct){switch(ct.label){case 0:if(st.length)return[3,5];ct.label=1;case 1:return ct.trys.push([1,3,,4]),[4,Promise.all(nt)];case 2:return ot=ct.sent(),et(ot),[3,4];case 3:return at=ct.sent(),tt(at),[3,4];case 4:return[3,6];case 5:lt=Promise.all(st.map(fromEntry)),nt.push(lt),rt(),ct.label=6;case 6:return[2]}})})},function(st){tt(st)})}rt()})}function fromFileEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_){return[2,new Promise(function(et,tt){_e.file(function(nt){var rt=toFileWithPath(nt,_e.fullPath);et(rt)},function(nt){tt(nt)})})]})})}var _default=function(_e,_){if(_e&&_){var et=Array.isArray(_)?_:_.split(","),tt=_e.name||"",nt=(_e.type||"").toLowerCase(),rt=nt.replace(/\/.*$/,"");return et.some(function(it){var st=it.trim().toLowerCase();return st.charAt(0)==="."?tt.toLowerCase().endsWith(st):st.endsWith("/*")?rt===st.replace(/\/.*$/,""):nt===st})}return!0};function ownKeys$1(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty$1(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$1(_e,_,et){return _ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _slicedToArray$1(_e,_){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,_)||_unsupportedIterableToArray$1(_e,_)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$1(_e,_)}}function _arrayLikeToArray$1(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$1(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt=[],nt=!0,rt=!1,it,st;try{for(et=et.call(_e);!(nt=(it=et.next()).done)&&(tt.push(it.value),!(_&&tt.length===_));nt=!0);}catch(ot){rt=!0,st=ot}finally{try{!nt&&et.return!=null&&et.return()}finally{if(rt)throw st}}return tt}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function _e(_){_=Array.isArray(_)&&_.length===1?_[0]:_;var et=Array.isArray(_)?"one of ".concat(_.join(", ")):_;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(et)}},getTooLargeRejectionErr=function _e(_){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(_," ").concat(_===1?"byte":"bytes")}},getTooSmallRejectionErr=function _e(_){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(_," ").concat(_===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(_e,_){var et=_e.type==="application/x-moz-file"||_default(_e,_);return[et,et?null:getInvalidTypeRejectionErr(_)]}function fileMatchSize(_e,_,et){if(isDefined(_e.size))if(isDefined(_)&&isDefined(et)){if(_e.size>et)return[!1,getTooLargeRejectionErr(et)];if(_e.size<_)return[!1,getTooSmallRejectionErr(_)]}else{if(isDefined(_)&&_e.size<_)return[!1,getTooSmallRejectionErr(_)];if(isDefined(et)&&_e.size>et)return[!1,getTooLargeRejectionErr(et)]}return[!0,null]}function isDefined(_e){return _e!=null}function allFilesAccepted(_e){var _=_e.files,et=_e.accept,tt=_e.minSize,nt=_e.maxSize,rt=_e.multiple,it=_e.maxFiles;return!rt&&_.length>1||rt&&it>=1&&_.length>it?!1:_.every(function(st){var ot=fileAccepted(st,et),at=_slicedToArray$1(ot,1),lt=at[0],ct=fileMatchSize(st,tt,nt),ut=_slicedToArray$1(ct,1),ft=ut[0];return lt&&ft})}function isPropagationStopped(_e){return typeof _e.isPropagationStopped=="function"?_e.isPropagationStopped():typeof _e.cancelBubble<"u"?_e.cancelBubble:!1}function isEvtWithFiles(_e){return _e.dataTransfer?Array.prototype.some.call(_e.dataTransfer.types,function(_){return _==="Files"||_==="application/x-moz-file"}):!!_e.target&&!!_e.target.files}function onDocumentDragOver(_e){_e.preventDefault()}function isIe(_e){return _e.indexOf("MSIE")!==-1||_e.indexOf("Trident/")!==-1}function isEdge(_e){return _e.indexOf("Edge/")!==-1}function isIeOrEdge(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(_e)||isEdge(_e)}function composeEventHandlers(){for(var _e=arguments.length,_=new Array(_e),et=0;et<_e;et++)_[et]=arguments[et];return function(tt){for(var nt=arguments.length,rt=new Array(nt>1?nt-1:0),it=1;it<nt;it++)rt[it-1]=arguments[it];return _.some(function(st){return!isPropagationStopped(tt)&&st&&st.apply(void 0,[tt].concat(rt)),isPropagationStopped(tt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function filePickerOptionsTypes(_e){return _e=typeof _e=="string"?_e.split(","):_e,[{description:"everything",accept:Array.isArray(_e)?_e.filter(function(_){return _==="audio/*"||_==="video/*"||_==="image/*"||_==="text/*"||/\w+\/[-+.\w]+/g.test(_)}).reduce(function(_,et){return _objectSpread$1(_objectSpread$1({},_),{},_defineProperty$1({},et,[]))},{}):{}}]}function isAbort(_e){return _e instanceof DOMException&&(_e.name==="AbortError"||_e.code===_e.ABORT_ERR)}function isSecurityError(_e){return _e instanceof DOMException&&(_e.name==="SecurityError"||_e.code===_e.SECURITY_ERR)}var _excluded=["children"],_excluded2$2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _slicedToArray(_e,_){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,_)||_unsupportedIterableToArray(_e,_)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray(_e,_)}}function _arrayLikeToArray(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt=[],nt=!0,rt=!1,it,st;try{for(et=et.call(_e);!(nt=(it=et.next()).done)&&(tt.push(it.value),!(_&&tt.length===_));nt=!0);}catch(ot){rt=!0,st=ot}finally{try{!nt&&et.return!=null&&et.return()}finally{if(rt)throw st}}return tt}}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function ownKeys(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty(_e,_,et){return _ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _objectWithoutProperties(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose(_e,_),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_.indexOf(nt)>=0)&&(et[nt]=_e[nt]);return et}var Dropzone=reactExports.forwardRef(function(_e,_){var et=_e.children,tt=_objectWithoutProperties(_e,_excluded),nt=useDropzone(tt),rt=nt.open,it=_objectWithoutProperties(nt,_excluded2$2);return reactExports.useImperativeHandle(_,function(){return{open:rt}},[rt]),React.createElement(reactExports.Fragment,null,et(_objectSpread(_objectSpread({},it),{},{open:rt})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function useDropzone(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=_objectSpread(_objectSpread({},defaultProps),_e),et=_.accept,tt=_.disabled,nt=_.getFilesFromEvent,rt=_.maxSize,it=_.minSize,st=_.multiple,ot=_.maxFiles,at=_.onDragEnter,lt=_.onDragLeave,ct=_.onDragOver,ut=_.onDrop,ft=_.onDropAccepted,ht=_.onDropRejected,vt=_.onFileDialogCancel,mt=_.onFileDialogOpen,pt=_.useFsAccessApi,yt=_.preventDropOnDocument,_t=_.noClick,St=_.noKeyboard,Et=_.noDrag,wt=_.noDragEventsBubbling,Mt=_.validator,At=reactExports.useMemo(function(){return typeof mt=="function"?mt:noop},[mt]),Tt=reactExports.useMemo(function(){return typeof vt=="function"?vt:noop},[vt]),Ct=reactExports.useRef(null),Dt=reactExports.useRef(null),$t=reactExports.useReducer(reducer,initialState),kt=_slicedToArray($t,2),It=kt[0],Nt=kt[1],Gt=It.isFocused,Bt=It.isFileDialogActive,Rt=It.draggedFiles,Ot=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&pt&&canUseFileSystemAccessAPI()),Ut=function(){!Ot.current&&Bt&&setTimeout(function(){if(Dt.current){var Ft=Dt.current.files;Ft.length||(Nt({type:"closeDialog"}),Tt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Ut,!1),function(){window.removeEventListener("focus",Ut,!1)}},[Dt,Bt,Tt,Ot]);var jt=reactExports.useRef([]),Jt=function(Ft){Ct.current&&Ct.current.contains(Ft.target)||(Ft.preventDefault(),jt.current=[])};reactExports.useEffect(function(){return yt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Jt,!1)),function(){yt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Jt))}},[Ct,yt]);var Xt=reactExports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt),jt.current=[].concat(_toConsumableArray(jt.current),[zt.target]),isEvtWithFiles(zt)&&Promise.resolve(nt(zt)).then(function(Ft){isPropagationStopped(zt)&&!wt||(Nt({draggedFiles:Ft,isDragActive:!0,type:"setDraggedFiles"}),at&&at(zt))})},[nt,at,wt]),Qt=reactExports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt);var Ft=isEvtWithFiles(zt);if(Ft&&zt.dataTransfer)try{zt.dataTransfer.dropEffect="copy"}catch{}return Ft&&ct&&ct(zt),!1},[ct,wt]),rn=reactExports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt);var Ft=jt.current.filter(function(gn){return Ct.current&&Ct.current.contains(gn)}),Zt=Ft.indexOf(zt.target);Zt!==-1&&Ft.splice(Zt,1),jt.current=Ft,!(Ft.length>0)&&(Nt({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),isEvtWithFiles(zt)&&lt&&lt(zt))},[Ct,lt,wt]),pn=reactExports.useCallback(function(zt,Ft){var Zt=[],gn=[];zt.forEach(function(mn){var yn=fileAccepted(mn,et),Fn=_slicedToArray(yn,2),bn=Fn[0],Dn=Fn[1],qn=fileMatchSize(mn,it,rt),cr=_slicedToArray(qn,2),xn=cr[0],hr=cr[1],Jn=Mt?Mt(mn):null;if(bn&&xn&&!Jn)Zt.push(mn);else{var jn=[Dn,hr];Jn&&(jn=jn.concat(Jn)),gn.push({file:mn,errors:jn.filter(function(Wn){return Wn})})}}),(!st&&Zt.length>1||st&&ot>=1&&Zt.length>ot)&&(Zt.forEach(function(mn){gn.push({file:mn,errors:[TOO_MANY_FILES_REJECTION]})}),Zt.splice(0)),Nt({acceptedFiles:Zt,fileRejections:gn,type:"setFiles"}),ut&&ut(Zt,gn,Ft),gn.length>0&&ht&&ht(gn,Ft),Zt.length>0&&ft&&ft(Zt,Ft)},[Nt,st,et,it,rt,ot,ut,ft,ht,Mt]),fn=reactExports.useCallback(function(zt){zt.preventDefault(),zt.persist(),hn(zt),jt.current=[],isEvtWithFiles(zt)&&Promise.resolve(nt(zt)).then(function(Ft){isPropagationStopped(zt)&&!wt||pn(Ft,zt)}),Nt({type:"reset"})},[nt,pn,wt]),_n=reactExports.useCallback(function(){if(Ot.current){Nt({type:"openDialog"}),At();var zt={multiple:st,types:filePickerOptionsTypes(et)};window.showOpenFilePicker(zt).then(function(Ft){return nt(Ft)}).then(function(Ft){pn(Ft,null),Nt({type:"closeDialog"})}).catch(function(Ft){isAbort(Ft)?(Tt(Ft),Nt({type:"closeDialog"})):isSecurityError(Ft)&&(Ot.current=!1,Dt.current&&(Dt.current.value=null,Dt.current.click()))});return}Dt.current&&(Nt({type:"openDialog"}),At(),Dt.current.value=null,Dt.current.click())},[Nt,At,Tt,pt,pn,et,st]),Pn=reactExports.useCallback(function(zt){!Ct.current||!Ct.current.isEqualNode(zt.target)||(zt.key===" "||zt.key==="Enter"||zt.keyCode===32||zt.keyCode===13)&&(zt.preventDefault(),_n())},[Ct,_n]),Sn=reactExports.useCallback(function(){Nt({type:"focus"})},[]),Cn=reactExports.useCallback(function(){Nt({type:"blur"})},[]),Wt=reactExports.useCallback(function(){_t||(isIeOrEdge()?setTimeout(_n,0):_n())},[_t,_n]),tn=function(Ft){return tt?null:Ft},an=function(Ft){return St?null:tn(Ft)},vn=function(Ft){return Et?null:tn(Ft)},hn=function(Ft){wt&&Ft.stopPropagation()},$n=reactExports.useMemo(function(){return function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ft=zt.refKey,Zt=Ft===void 0?"ref":Ft,gn=zt.role,mn=zt.onKeyDown,yn=zt.onFocus,Fn=zt.onBlur,bn=zt.onClick,Dn=zt.onDragEnter,qn=zt.onDragOver,cr=zt.onDragLeave,xn=zt.onDrop,hr=_objectWithoutProperties(zt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:an(composeEventHandlers(mn,Pn)),onFocus:an(composeEventHandlers(yn,Sn)),onBlur:an(composeEventHandlers(Fn,Cn)),onClick:tn(composeEventHandlers(bn,Wt)),onDragEnter:vn(composeEventHandlers(Dn,Xt)),onDragOver:vn(composeEventHandlers(qn,Qt)),onDragLeave:vn(composeEventHandlers(cr,rn)),onDrop:vn(composeEventHandlers(xn,fn)),role:typeof gn=="string"&&gn!==""?gn:"button"},Zt,Ct),!tt&&!St?{tabIndex:0}:{}),hr)}},[Ct,Pn,Sn,Cn,Wt,Xt,Qt,rn,fn,St,Et,tt]),En=reactExports.useCallback(function(zt){zt.stopPropagation()},[]),Mn=reactExports.useMemo(function(){return function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ft=zt.refKey,Zt=Ft===void 0?"ref":Ft,gn=zt.onChange,mn=zt.onClick,yn=_objectWithoutProperties(zt,_excluded4),Fn=_defineProperty({accept:et,multiple:st,type:"file",style:{display:"none"},onChange:tn(composeEventHandlers(gn,fn)),onClick:tn(composeEventHandlers(mn,En)),tabIndex:-1},Zt,Dt);return _objectSpread(_objectSpread({},Fn),yn)}},[Dt,et,st,fn,tt]),Rn=Rt.length,Vn=Rn>0&&allFilesAccepted({files:Rt,accept:et,minSize:it,maxSize:rt,multiple:st,maxFiles:ot}),sr=Rn>0&&!Vn;return _objectSpread(_objectSpread({},It),{},{isDragAccept:Vn,isDragReject:sr,isFocused:Gt&&!tt,getRootProps:$n,getInputProps:Mn,rootRef:Ct,inputRef:Dt,open:tn(_n)})}function reducer(_e,_){switch(_.type){case"focus":return _objectSpread(_objectSpread({},_e),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},_e),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},_e),{},{isFileDialogActive:!1});case"setDraggedFiles":var et=_.isDragActive,tt=_.draggedFiles;return _objectSpread(_objectSpread({},_e),{},{draggedFiles:tt,isDragActive:et});case"setFiles":return _objectSpread(_objectSpread({},_e),{},{acceptedFiles:_.acceptedFiles,fileRejections:_.fileRejections});case"reset":return _objectSpread({},initialState);default:return _e}}function noop(){}function createStore$2(_e){let _;const et=new Set,tt=(at,lt)=>{const ct=typeof at=="function"?at(_):at;if(ct!==_){const ut=_;_=lt?ct:Object.assign({},_,ct),et.forEach(ft=>ft(_,ut))}},nt=()=>_,rt=(at,lt=nt,ct=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ut=lt(_);function ft(){const ht=lt(_);if(!ct(ut,ht)){const vt=ut;at(ut=ht,vt)}}return et.add(ft),()=>et.delete(ft)},ot={setState:tt,getState:nt,subscribe:(at,lt,ct)=>lt||ct?rt(at,lt,ct):(et.add(at),()=>et.delete(at)),destroy:()=>et.clear()};return _=_e(tt,nt,ot),ot}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(_e){const _=typeof _e=="function"?createStore$2(_e):_e,et=(tt=_.getState,nt=Object.is)=>{const[,rt]=reactExports.useReducer(mt=>mt+1,0),it=_.getState(),st=reactExports.useRef(it),ot=reactExports.useRef(tt),at=reactExports.useRef(nt),lt=reactExports.useRef(!1),ct=reactExports.useRef();ct.current===void 0&&(ct.current=tt(it));let ut,ft=!1;(st.current!==it||ot.current!==tt||at.current!==nt||lt.current)&&(ut=tt(it),ft=!nt(ct.current,ut)),useIsomorphicLayoutEffect$1(()=>{ft&&(ct.current=ut),st.current=it,ot.current=tt,at.current=nt,lt.current=!1});const ht=reactExports.useRef(it);useIsomorphicLayoutEffect$1(()=>{const mt=()=>{try{const yt=_.getState(),_t=ot.current(yt);at.current(ct.current,_t)||(st.current=yt,ct.current=_t,rt())}catch{lt.current=!0,rt()}},pt=_.subscribe(mt);return _.getState()!==ht.current&&mt(),pt},[]);const vt=ft?ut:ct.current;return reactExports.useDebugValue(vt),vt};return Object.assign(et,_),et[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const tt=[et,_];return{next(){const nt=tt.length<=0;return{value:tt.shift(),done:nt}}}},et}const subscribeWithSelector=_e=>(_,et,tt)=>{const nt=tt.subscribe;return tt.subscribe=(it,st,ot)=>{let at=it;if(st){const lt=(ot==null?void 0:ot.equalityFn)||Object.is;let ct=it(tt.getState());at=ut=>{const ft=it(ut);if(!lt(ct,ft)){const ht=ct;st(ct=ft,ht)}},ot!=null&&ot.fireImmediately&&st(ct,ct)}return nt(at)},_e(_,et,tt)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isobject=function _e(_){return _!=null&&typeof _=="object"&&Array.isArray(_)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isObject$6=isobject;function isObjectObject(_e){return isObject$6(_e)===!0&&Object.prototype.toString.call(_e)==="[object Object]"}var isPlainObject$2=function _e(_){var et,tt;return!(isObjectObject(_)===!1||(et=_.constructor,typeof et!="function")||(tt=et.prototype,isObjectObject(tt)===!1)||tt.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isPlainObject$1=isPlainObject$2,isExtendable$4=function _e(_){return isPlainObject$1(_)||typeof _=="function"||Array.isArray(_)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var forIn$1=function _e(_,et,tt){for(var nt in _)if(et.call(tt,_[nt],nt,_)===!1)break},isExtendable$3=isExtendable$4,forIn=forIn$1;function mixinDeep(_e,_){for(var et=arguments.length,tt=0;++tt<et;){var nt=arguments[tt];isObject$5(nt)&&forIn(nt,copy,_e)}return _e}function copy(_e,_){if(isValidKey$1(_)){var et=this[_];isObject$5(_e)&&isObject$5(et)?mixinDeep(et,_e):this[_]=_e}}function isObject$5(_e){return isExtendable$3(_e)&&!Array.isArray(_e)}function isValidKey$1(_e){return _e!=="__proto__"&&_e!=="constructor"&&_e!=="prototype"}var mixinDeep_1=mixinDeep;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var getValue$1=function(_e,_,et,tt,nt){if(!isObject$4(_e)||!_)return _e;if(_=toString(_),et&&(_+="."+toString(et)),tt&&(_+="."+toString(tt)),nt&&(_+="."+toString(nt)),_ in _e)return _e[_];for(var rt=_.split("."),it=rt.length,st=-1;_e&&++st<it;){for(var ot=rt[st];ot[ot.length-1]==="\\";)ot=ot.slice(0,-1)+"."+rt[++st];_e=_e[ot]}return _e};function isObject$4(_e){return _e!==null&&(typeof _e=="object"||typeof _e=="function")}function toString(_e){return _e?Array.isArray(_e)?_e.join("."):_e:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var assignSymbols$1=function(_e,_){if(_e===null||typeof _e>"u")throw new TypeError("expected first argument to be an object.");if(typeof _>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return _e;for(var et=Object.prototype.propertyIsEnumerable,tt=Object(_e),nt=arguments.length,rt=0;++rt<nt;)for(var it=Object(arguments[rt]),st=Object.getOwnPropertySymbols(it),ot=0;ot<st.length;ot++){var at=st[ot];et.call(it,at)&&(tt[at]=it[at])}return tt},isExtendable$2=isExtendable$4,assignSymbols=assignSymbols$1,extendShallow$1=Object.assign||function(_e){if(_e===null||typeof _e>"u")throw new TypeError("Cannot convert undefined or null to object");isObject$3(_e)||(_e={});for(var _=1;_<arguments.length;_++){var et=arguments[_];isString(et)&&(et=toObject(et)),isObject$3(et)&&(assign$1(_e,et),assignSymbols(_e,et))}return _e};function assign$1(_e,_){for(var et in _)hasOwn$1(_,et)&&(_e[et]=_[et])}function isString(_e){return _e&&typeof _e=="string"}function toObject(_e){var _={};for(var et in _e)_[et]=_e[et];return _}function isObject$3(_e){return _e&&typeof _e=="object"||isExtendable$2(_e)}function hasOwn$1(_e,_){return Object.prototype.hasOwnProperty.call(_e,_)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var extend$1=extendShallow$1,splitString=function(_e,_,et){if(typeof _e!="string")throw new TypeError("expected a string");typeof _=="function"&&(et=_,_=null),typeof _=="string"&&(_={sep:_});var tt=extend$1({sep:"."},_),nt=tt.quotes||['"',"'","`"],rt;tt.brackets===!0?rt={"<":">","(":")","[":"]","{":"}"}:tt.brackets&&(rt=tt.brackets);var it=[],st=[],ot=[""],at=tt.sep,lt=_e.length,ct=-1,ut;function ft(){if(rt&&st.length)return rt[st[st.length-1]]}for(;++ct<lt;){var ht=_e[ct],vt=_e[ct+1],mt={val:ht,idx:ct,arr:ot,str:_e};if(it.push(mt),ht==="\\"){mt.val=keepEscaping(tt,_e,ct)===!0?ht+vt:vt,mt.escaped=!0,typeof et=="function"&&et(mt),ot[ot.length-1]+=mt.val,ct++;continue}if(rt&&rt[ht]){st.push(ht);var pt=ft(),yt=ct+1;if(_e.indexOf(pt,yt+1)!==-1)for(;st.length&&yt<lt;){var _t=_e[++yt];if(_t==="\\"){_t++;continue}if(nt.indexOf(_t)!==-1){yt=getClosingQuote(_e,_t,yt+1);continue}if(pt=ft(),st.length&&_e.indexOf(pt,yt+1)===-1)break;if(rt[_t]){st.push(_t);continue}pt===_t&&st.pop()}if(ut=yt,ut===-1){ot[ot.length-1]+=ht;continue}ht=_e.slice(ct,ut+1),mt.val=ht,mt.idx=ct=ut}if(nt.indexOf(ht)!==-1){if(ut=getClosingQuote(_e,ht,ct+1),ut===-1){ot[ot.length-1]+=ht;continue}keepQuotes(ht,tt)===!0?ht=_e.slice(ct,ut+1):ht=_e.slice(ct+1,ut),mt.val=ht,mt.idx=ct=ut}if(typeof et=="function"&&(et(mt,it),ht=mt.val,ct=mt.idx),mt.val===at&&mt.split!==!1){ot.push("");continue}ot[ot.length-1]+=mt.val}return ot};function getClosingQuote(_e,_,et,tt){var nt=_e.indexOf(_,et);return _e.charAt(nt-1)==="\\"?getClosingQuote(_e,_,nt+1):nt}function keepQuotes(_e,_){return _.keepDoubleQuotes===!0&&_e==='"'||_.keepSingleQuotes===!0&&_e==="'"?!0:_.keepQuotes}function keepEscaping(_e,_,et){return typeof _e.keepEscaping=="function"?_e.keepEscaping(_,et):_e.keepEscaping===!0||_[et+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable$1=function _e(_){return typeof _<"u"&&_!==null&&(typeof _=="object"||typeof _=="function")},isObject$2=isExtendable$1,extendShallow=function _e(_){isObject$2(_)||(_={});for(var et=arguments.length,tt=1;tt<et;tt++){var nt=arguments[tt];isObject$2(nt)&&assign(_,nt)}return _};function assign(_e,_){for(var et in _)hasOwn(_,et)&&(_e[et]=_[et])}function hasOwn(_e,_){return Object.prototype.hasOwnProperty.call(_e,_)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable=function _e(_){return typeof _<"u"&&_!==null&&(typeof _=="object"||typeof _=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var split=splitString,extend=extendShallow,isPlainObject=isPlainObject$2,isObject$1=isExtendable,setValue=function(_e,_,et){if(!isObject$1(_e)||(Array.isArray(_)&&(_=[].concat.apply([],_).join(".")),typeof _!="string"))return _e;for(var tt=split(_,{sep:".",brackets:!0}).filter(isValidKey),nt=tt.length,rt=-1,it=_e;++rt<nt;){var st=tt[rt];if(rt!==nt-1){isObject$1(it[st])||(it[st]={}),it=it[st];continue}isPlainObject(it[st])&&isPlainObject(et)?it[st]=extend({},it[st],et):it[st]=et}return _e};function isValidKey(_e){return _e!=="__proto__"&&_e!=="constructor"&&_e!=="prototype"}var isObject=isExtendable$4,merge=mixinDeep_1,get=getValue$1,set=setValue,mergeValue=function _e(_,et,tt){if(!isObject(_))throw new TypeError("expected an object");if(typeof et!="string"||tt==null)return merge.apply(null,arguments);if(typeof tt=="string")return set(_,et,tt),_;var nt=get(_,et);return isObject(tt)&&isObject(nt)&&(tt=merge({},nt,tt)),set(_,et,tt),_};const merge$1=getDefaultExportFromCjs(mergeValue),join=(..._e)=>_e.filter(Boolean).join(".");function getKeyPath(_e){const _=_e.split(".");return[_.pop(),_.join(".")||void 0]}function getValuesForPaths(_e,_){return Object.entries(pick(_e,_)).reduce((et,[,{value:tt,disabled:nt,key:rt}])=>(et[rt]=nt?void 0:tt,et),{})}function useCompareMemoize(_e,_){const et=reactExports.useRef();return dequal(_e,et.current)||(et.current=_e),et.current}function useDeepMemo(_e,_){return reactExports.useMemo(_e,useCompareMemoize(_))}function useToggle(_e){const _=reactExports.useRef(null),et=reactExports.useRef(null),tt=reactExports.useRef(!0);return reactExports.useLayoutEffect(()=>{_e||(_.current.style.height="0px",_.current.style.overflow="hidden")},[]),reactExports.useEffect(()=>{if(tt.current){tt.current=!1;return}let nt;const rt=_.current,it=()=>{_e&&(rt.style.removeProperty("height"),rt.style.removeProperty("overflow"),et.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};rt.addEventListener("transitionend",it,{once:!0});const{height:st}=et.current.getBoundingClientRect();return rt.style.height=st+"px",_e||(rt.style.overflow="hidden",nt=window.setTimeout(()=>rt.style.height="0px",50)),()=>{rt.removeEventListener("transitionend",it),clearTimeout(nt)}},[_e]),{wrapperRef:_,contentRef:et}}const useVisiblePaths=_e=>{const[_,et]=reactExports.useState(_e.getVisiblePaths());return reactExports.useEffect(()=>{et(_e.getVisiblePaths());const tt=_e.useStore.subscribe(_e.getVisiblePaths,et,{equalityFn:shallow});return()=>tt()},[_e]),_};function useValuesForPath(_e,_,et){return _e.useStore(nt=>{const rt=_objectSpread2(_objectSpread2({},et),nt.data);return getValuesForPaths(rt,_)},shallow)}function usePopin(_e=3){const _=reactExports.useRef(null),et=reactExports.useRef(null),[tt,nt]=reactExports.useState(!1),rt=reactExports.useCallback(()=>nt(!0),[]),it=reactExports.useCallback(()=>nt(!1),[]);return reactExports.useLayoutEffect(()=>{if(tt){const{bottom:st,top:ot,left:at}=_.current.getBoundingClientRect(),{height:lt}=et.current.getBoundingClientRect(),ct=st+lt>window.innerHeight-40?"up":"down";et.current.style.position="fixed",et.current.style.zIndex="10000",et.current.style.left=at+"px",ct==="down"?et.current.style.top=st+_e+"px":et.current.style.bottom=window.innerHeight-ot+_e+"px"}},[_e,tt]),{popinRef:_,wrapperRef:et,shown:tt,show:rt,hide:it}}k$2([namesPlugin]);const convertMap={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};v8n.extend({color:()=>_e=>w$1(_e).isValid()});const schema$2=_e=>v8n().color().test(_e);function convert(_e,{format:_,hasAlpha:et,isString:tt}){const nt=convertMap[_]+(tt&&_!=="hex"?"String":""),rt=_e[nt]();return typeof rt=="object"&&!et?omit(rt,["a"]):rt}const sanitize$2=(_e,_)=>{const et=w$1(_e);if(!et.isValid())throw Error("Invalid color");return convert(et,_)},format$1=(_e,_)=>convert(w$1(_e),_objectSpread2(_objectSpread2({},_),{},{isString:!0,format:"hex"})),normalize$3=({value:_e})=>{const _=I$1(_e),et=_==="name"?"hex":_,tt=typeof _e=="object"?"a"in _e:_==="hex"&&_e.length===8||/^(rgba)|(hsla)|(hsva)/.test(_e),nt={format:et,hasAlpha:tt,isString:typeof _e=="string"};return{value:sanitize$2(_e,nt),settings:nt}};var props$2=Object.freeze({__proto__:null,schema:schema$2,sanitize:sanitize$2,format:format$1,normalize:normalize$3});const ColorPreview=styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),PickerContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),PickerWrapper=styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function convertToRgb(_e,_){return _!=="rgb"?w$1(_e).toRgb():_e}function Color({value:_e,displayValue:_,settings:et,onUpdate:tt}){const{emitOnEditStart:nt,emitOnEditEnd:rt}=useInputContext(),{format:it,hasAlpha:st}=et,{popinRef:ot,wrapperRef:at,shown:lt,show:ct,hide:ut}=usePopin(),ft=reactExports.useRef(0),[ht,vt]=reactExports.useState(()=>convertToRgb(_e,it)),mt=st?Ce:Ne,pt=()=>{vt(convertToRgb(_e,it)),ct(),nt()},yt=()=>{ut(),rt(),window.clearTimeout(ft.current)},_t=()=>{ft.current=window.setTimeout(yt,500)};return reactExports.useEffect(()=>()=>window.clearTimeout(ft.current),[]),React.createElement(React.Fragment,null,React.createElement(ColorPreview,{ref:ot,active:lt,onClick:()=>pt(),style:{color:_}}),lt&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:yt}),React.createElement(PickerWrapper,{ref:at,onMouseEnter:()=>window.clearTimeout(ft.current),onMouseLeave:St=>St.buttons===0&&_t()},React.createElement(mt,{color:ht,onChange:tt}))))}function ColorComponent(){const{value:_e,displayValue:_,label:et,onChange:tt,onUpdate:nt,settings:rt}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,et),React.createElement(PickerContainer,null,React.createElement(Color,{value:_e,displayValue:_,onChange:tt,onUpdate:nt,settings:rt}),React.createElement(ValueInput,{value:_,onChange:tt,onUpdate:nt})))}var color=_objectSpread2({component:ColorComponent},props$2);function Vector3dComponent(){const{label:_e,displayValue:_,onUpdate:et,settings:tt}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,_e),React.createElement(Vector,{value:_,settings:tt,onUpdate:et}))}var vector3d=_objectSpread2({component:Vector3dComponent},getVectorPlugin(["x","y","z"]));const JoystickTrigger=styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),JoystickPlayground=styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Joystick({value:_e,settings:_,onUpdate:et}){const tt=reactExports.useRef(),nt=reactExports.useRef(0),rt=reactExports.useRef(0),it=reactExports.useRef(1),[st,ot]=reactExports.useState(!1),[at,lt]=reactExports.useState(!1),[ct,ut]=useTransform(),ft=reactExports.useRef(null),ht=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{if(st){const{top:$t,left:kt,width:It,height:Nt}=ft.current.getBoundingClientRect();ht.current.style.left=kt+It/2+"px",ht.current.style.top=$t+Nt/2+"px"}},[st]);const{keys:[vt,mt],joystick:pt}=_,yt=pt==="invertY"?1:-1,{[vt]:{step:_t},[mt]:{step:St}}=_,Et=useTh("sizes","joystickWidth"),wt=useTh("sizes","joystickHeight"),Mt=parseFloat(Et)*.8/2,At=parseFloat(wt)*.8/2,Tt=reactExports.useCallback(()=>{tt.current||(lt(!0),nt.current&&ut({x:nt.current*Mt}),rt.current&&ut({y:rt.current*-At}),tt.current=window.setInterval(()=>{et($t=>{const kt=_t*nt.current*it.current,It=yt*St*rt.current*it.current;return Array.isArray($t)?{[vt]:$t[0]+kt,[mt]:$t[1]+It}:{[vt]:$t[vt]+kt,[mt]:$t[mt]+It}})},16))},[Mt,At,et,ut,_t,St,vt,mt,yt]),Ct=reactExports.useCallback(()=>{window.clearTimeout(tt.current),tt.current=void 0,lt(!1)},[]);reactExports.useEffect(()=>{function $t(kt){it.current=multiplyStep(kt)}return window.addEventListener("keydown",$t),window.addEventListener("keyup",$t),()=>{window.clearTimeout(tt.current),window.removeEventListener("keydown",$t),window.removeEventListener("keyup",$t)}},[]);const Dt=useDrag(({first:$t,active:kt,delta:[It,Nt],movement:[Gt,Bt]})=>{$t&&ot(!0);const Rt=clamp(Gt,-Mt,Mt),Ot=clamp(Bt,-At,At);nt.current=Math.abs(Gt)>Math.abs(Rt)?Math.sign(Gt-Rt):0,rt.current=Math.abs(Bt)>Math.abs(Ot)?Math.sign(Ot-Bt):0;let Ut=_e[vt],jt=_e[mt];kt?(nt.current||(Ut+=It*_t*it.current,ut({x:Rt})),rt.current||(jt-=yt*Nt*St*it.current,ut({y:Ot})),nt.current||rt.current?Tt():Ct(),et({[vt]:Ut,[mt]:jt})):(ot(!1),nt.current=0,rt.current=0,ut({x:0,y:0}),Ct())});return React.createElement(JoystickTrigger,_extends({ref:ft},Dt()),st&&React.createElement(Portal,null,React.createElement(JoystickPlayground,{ref:ht,isOutOfBounds:at},React.createElement("div",null),React.createElement("span",{ref:ct}))))}const Container$1=styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Vector2dComponent(){const{label:_e,displayValue:_,onUpdate:et,settings:tt}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,_e),React.createElement(Container$1,{withJoystick:!!tt.joystick},tt.joystick&&React.createElement(Joystick,{value:_,settings:tt,onUpdate:et}),React.createElement(Vector,{value:_,settings:tt,onUpdate:et})))}const _excluded$7=["joystick"],plugin=getVectorPlugin(["x","y"]),normalize$2=_e=>{let{joystick:_=!0}=_e,et=_objectWithoutProperties$1(_e,_excluded$7);const{value:tt,settings:nt}=plugin.normalize(et);return{value:tt,settings:_objectSpread2(_objectSpread2({},nt),{},{joystick:_})}};var vector2d=_objectSpread2(_objectSpread2({component:Vector2dComponent},plugin),{},{normalize:normalize$2});const sanitize$1=_e=>{if(_e!==void 0){if(_e instanceof File)try{return URL.createObjectURL(_e)}catch{return}if(typeof _e=="string"&&_e.indexOf("blob:")===0)return _e;throw Error("Invalid image format [undefined | blob | File].")}},schema$1=(_e,_)=>typeof _=="object"&&"image"in _,normalize$1=({image:_e})=>({value:_e});var props$1=Object.freeze({__proto__:null,sanitize:sanitize$1,schema:schema$1,normalize:normalize$1});const ImageContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),DropZone=styled("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ImagePreview=styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ImageLargePreview=styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Instructions=styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Remove=styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function ImageComponent(){const{label:_e,value:_,onUpdate:et,disabled:tt}=useInputContext(),{popinRef:nt,wrapperRef:rt,shown:it,show:st,hide:ot}=usePopin(),at=reactExports.useCallback(ht=>{ht.length&&et(ht[0])},[et]),lt=reactExports.useCallback(ht=>{ht.stopPropagation(),et(void 0)},[et]),{getRootProps:ct,getInputProps:ut,isDragAccept:ft}=useDropzone({maxFiles:1,accept:"image/*",onDrop:at,disabled:tt});return React.createElement(Row,{input:!0},React.createElement(Label,null,_e),React.createElement(ImageContainer,null,React.createElement(ImagePreview,{ref:nt,hasImage:!!_,onPointerDown:()=>!!_&&st(),onPointerUp:ot,style:{backgroundImage:_?`url(${_})`:"none"}}),it&&!!_&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:ot,style:{cursor:"pointer"}}),React.createElement(ImageLargePreview,{ref:rt,style:{backgroundImage:`url(${_})`}})),React.createElement(DropZone,ct({isDragAccept:ft}),React.createElement("input",ut()),React.createElement(Instructions,null,ft?"drop image":"click or drop")),React.createElement(Remove,{onClick:lt,disabled:!_})))}var image=_objectSpread2({component:ImageComponent},props$1);const number=v8n().number(),schema=(_e,_)=>v8n().array().length(2).every.number().test(_e)&&v8n().schema({min:number,max:number}).test(_),format=_e=>({min:_e[0],max:_e[1]}),sanitize=(_e,{bounds:[_,et]},tt)=>{const nt=Array.isArray(_e)?format(_e):_e,rt={min:tt[0],max:tt[1]},{min:it,max:st}=_objectSpread2(_objectSpread2({},rt),nt);return[clamp(Number(it),_,Math.max(_,st)),clamp(Number(st),Math.min(et,it),et)]},normalize=({value:_e,min:_,max:et})=>{const tt={min:_,max:et},nt=normalizeKeyedNumberSettings(format(_e),{min:tt,max:tt}),rt=[_,et],it=_objectSpread2(_objectSpread2({},nt),{},{bounds:rt});return{value:sanitize(format(_e),it,_e),settings:it}};var props=Object.freeze({__proto__:null,schema,format,sanitize,normalize});const _excluded$6=["value","bounds","onDrag"],_excluded2$1=["bounds"],Container=styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function IntervalSlider(_e){let{value:_,bounds:[et,tt],onDrag:nt}=_e,rt=_objectWithoutProperties$1(_e,_excluded$6);const it=reactExports.useRef(null),st=reactExports.useRef(null),ot=reactExports.useRef(null),at=reactExports.useRef(0),lt=useTh("sizes","scrubberWidth"),ct=useDrag(({event:ht,first:vt,xy:[mt],movement:[pt],memo:yt={}})=>{if(vt){const{width:St,left:Et}=it.current.getBoundingClientRect();at.current=St-parseFloat(lt);const wt=(ht==null?void 0:ht.target)===st.current||(ht==null?void 0:ht.target)===ot.current;yt.pos=invertedRange((mt-Et)/St,et,tt);const Mt=Math.abs(yt.pos-_.min)-Math.abs(yt.pos-_.max);yt.key=Mt<0||Mt===0&&yt.pos<=_.min?"min":"max",wt&&(yt.pos=_[yt.key])}const _t=yt.pos+invertedRange(pt/at.current,0,tt-et);return nt({[yt.key]:sanitizeStep(_t,rt[yt.key])}),yt}),ut=`calc(${range(_.min,et,tt)} * (100% - ${lt} - 8px) + 4px)`,ft=`calc(${1-range(_.max,et,tt)} * (100% - ${lt} - 8px) + 4px)`;return React.createElement(RangeWrapper,_extends({ref:it},ct()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:ut,right:ft}})),React.createElement(Scrubber,{position:"left",ref:st,style:{left:ut}}),React.createElement(Scrubber,{position:"right",ref:ot,style:{right:ft}}))}function IntervalComponent(){const{label:_e,displayValue:_,onUpdate:et,settings:tt}=useInputContext(),nt=_objectWithoutProperties$1(tt,_excluded2$1);return React.createElement(React.Fragment,null,React.createElement(Row,{input:!0},React.createElement(Label,null,_e),React.createElement(Container,null,React.createElement(IntervalSlider,_extends({value:_},tt,{onDrag:et})),React.createElement(Vector,{value:_,settings:nt,onUpdate:et,innerLabelTrim:0}))))}var interval=_objectSpread2({component:IntervalComponent},props);const createEventEmitter=()=>{const _e=new Map;return{on:(_,et)=>{let tt=_e.get(_);tt===void 0&&(tt=new Set,_e.set(_,tt)),tt.add(et)},off:(_,et)=>{const tt=_e.get(_);tt!==void 0&&(tt.delete(et),tt.size===0&&_e.delete(_))},emit:(_,...et)=>{const tt=_e.get(_);if(tt!==void 0)for(const nt of tt)nt(...et)}}},_excluded$5=["type","value"],_excluded2=["onChange","transient","onEditStart","onEditEnd"],Store=function _e(){const _=create$1(subscribeWithSelector(()=>({data:{}}))),et=createEventEmitter();this.storeId=getUid(),this.useStore=_;const tt={},nt=new Set;this.getVisiblePaths=()=>{const it=this.getData(),st=Object.keys(it),ot=[];Object.entries(tt).forEach(([lt,ct])=>{ct.render&&st.some(ut=>ut.indexOf(lt)===0)&&!ct.render(this.get)&&ot.push(lt+".")});const at=[];return nt.forEach(lt=>{lt in it&&it[lt].__refCount>0&&ot.every(ct=>lt.indexOf(ct)===-1)&&(!it[lt].render||it[lt].render(this.get))&&at.push(lt)}),at},this.setOrderedPaths=it=>{it.forEach(st=>nt.add(st))},this.orderPaths=it=>(this.setOrderedPaths(it),it),this.disposePaths=it=>{_.setState(st=>{const ot=st.data;return it.forEach(at=>{if(at in ot){const lt=ot[at];lt.__refCount--,lt.__refCount===0&&lt.type in SpecialInputs&&delete ot[at]}}),{data:ot}})},this.dispose=()=>{_.setState(()=>({data:{}}))},this.getFolderSettings=it=>tt[it]||{},this.getData=()=>_.getState().data,this.addData=(it,st)=>{_.setState(ot=>{const at=ot.data;return Object.entries(it).forEach(([lt,ct])=>{let ut=at[lt];if(ut){const{type:ft,value:ht}=ct,vt=_objectWithoutProperties$1(ct,_excluded$5);ft!==ut.type?warn(LevaErrors.INPUT_TYPE_OVERRIDE,ft):((ut.__refCount===0||st)&&Object.assign(ut,vt),ut.__refCount++)}else at[lt]=_objectSpread2(_objectSpread2({},ct),{},{__refCount:1})}),{data:at}})},this.setValueAtPath=(it,st,ot)=>{_.setState(at=>{const lt=at.data;return updateInput(lt[it],st,it,this,ot),{data:lt}})},this.setSettingsAtPath=(it,st)=>{_.setState(ot=>{const at=ot.data;return at[it].settings=_objectSpread2(_objectSpread2({},at[it].settings),st),{data:at}})},this.disableInputAtPath=(it,st)=>{_.setState(ot=>{const at=ot.data;return at[it].disabled=st,{data:at}})},this.set=(it,st)=>{_.setState(ot=>{const at=ot.data;return Object.entries(it).forEach(([lt,ct])=>{try{updateInput(at[lt],ct,void 0,void 0,st)}catch{}}),{data:at}})},this.getInput=it=>{try{return this.getData()[it]}catch{warn(LevaErrors.PATH_DOESNT_EXIST,it)}},this.get=it=>{var st;return(st=this.getInput(it))===null||st===void 0?void 0:st.value},this.emitOnEditStart=it=>{et.emit(`onEditStart:${it}`,this.get(it),it,_objectSpread2(_objectSpread2({},this.getInput(it)),{},{get:this.get}))},this.emitOnEditEnd=it=>{et.emit(`onEditEnd:${it}`,this.get(it),it,_objectSpread2(_objectSpread2({},this.getInput(it)),{},{get:this.get}))},this.subscribeToEditStart=(it,st)=>{const ot=`onEditStart:${it}`;return et.on(ot,st),()=>et.off(ot,st)},this.subscribeToEditEnd=(it,st)=>{const ot=`onEditEnd:${it}`;return et.on(ot,st),()=>et.off(ot,st)};const rt=(it,st,ot)=>{const at={};return Object.entries(it).forEach(([lt,ct])=>{if(lt==="")return warn(LevaErrors.EMPTY_KEY);let ut=join(st,lt);if(ct.type===SpecialInputs.FOLDER){const ft=rt(ct.schema,ut,ot);Object.assign(at,ft),ut in tt||(tt[ut]=ct.settings)}else if(lt in ot)warn(LevaErrors.DUPLICATE_KEYS,lt,ut,ot[lt].path);else{const ft=normalizeInput(ct,lt,ut,at);if(ft){const{type:ht,options:vt,input:mt}=ft,{onChange:pt,transient:yt,onEditStart:_t,onEditEnd:St}=vt,Et=_objectWithoutProperties$1(vt,_excluded2);at[ut]=_objectSpread2(_objectSpread2(_objectSpread2({type:ht},Et),mt),{},{fromPanel:!0}),ot[lt]={path:ut,onChange:pt,transient:yt,onEditStart:_t,onEditEnd:St}}else warn(LevaErrors.UNKNOWN_INPUT,ut,ct)}}),at};this.getDataFromSchema=it=>{const st={};return[rt(it,"",st),st]}},levaStore=new Store,defaultSettings$2={collapsed:!1};function folder(_e,_){return{type:SpecialInputs.FOLDER,schema:_e,settings:_objectSpread2(_objectSpread2({},defaultSettings$2),_)}}const isInput=_e=>"__levaInput"in _e,buildTree=(_e,_)=>{const et={},tt=_?_.toLowerCase():null;return _e.forEach(nt=>{const[rt,it]=getKeyPath(nt);(!tt||rt.toLowerCase().indexOf(tt)>-1)&&merge$1(et,it,{[rt]:{__levaInput:!0,path:nt}})}),et},_excluded$4=["type","label","path","valueKey","value","settings","setValue","disabled"];function ControlInput(_e){let{type:_,label:et,path:tt,valueKey:nt,value:rt,settings:it,setValue:st,disabled:ot}=_e,at=_objectWithoutProperties$1(_e,_excluded$4);const{displayValue:lt,onChange:ct,onUpdate:ut}=useInputSetters({type:_,value:rt,settings:it,setValue:st}),ft=Plugins[_].component;return ft?React.createElement(InputContext.Provider,{value:_objectSpread2({key:nt,path:tt,id:""+tt,label:et,displayValue:lt,value:rt,onChange:ct,onUpdate:ut,settings:it,setValue:st,disabled:ot},at)},React.createElement(StyledInputWrapper$1,{disabled:ot},React.createElement(ft,null))):(warn(LevaErrors.NO_COMPONENT_FOR_TYPE,_,tt),null)}const StyledButton=styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Button({onClick:_e,settings:_,label:et}){const tt=useStoreContext();return React.createElement(Row,null,React.createElement(StyledButton,{disabled:_.disabled,onClick:()=>_e(tt.get)},et))}const StyledButtonGroup=styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),StyledButtonGroupButton=styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),getOpts=({label:_e,opts:_})=>{let et=typeof _e=="string"&&_e.trim()===""?null:_e,tt=_;return typeof _.opts=="object"&&(tt.label!==void 0&&(et=_.label),tt=_.opts),{label:et,opts:tt}};function ButtonGroup(_e){const{label:_,opts:et}=getOpts(_e),tt=useStoreContext();return React.createElement(Row,{input:!!_},_&&React.createElement(Label,null,_),React.createElement(StyledButtonGroup,null,Object.entries(et).map(([nt,rt])=>React.createElement(StyledButtonGroupButton,{key:nt,onClick:()=>rt(tt.get)},nt))))}const Canvas=styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),POINTS=100;function push(_e,_){_e.push(_),_e.length>POINTS&&_e.shift()}const MonitorCanvas=reactExports.forwardRef(function({initialValue:_e},_){const et=useTh("colors","highlight3"),tt=useTh("colors","elevation2"),nt=useTh("colors","highlight1"),[rt,it]=reactExports.useMemo(()=>[w$1(nt).alpha(.4).toRgbString(),w$1(nt).alpha(.1).toRgbString()],[nt]),st=reactExports.useRef([_e]),ot=reactExports.useRef(_e),at=reactExports.useRef(_e),lt=reactExports.useRef(),ct=reactExports.useCallback((ht,vt)=>{if(!ht)return;const{width:mt,height:pt}=ht,yt=new Path2D,_t=mt/POINTS,St=pt*.05;for(let Mt=0;Mt<st.current.length;Mt++){const At=range(st.current[Mt],ot.current,at.current),Tt=_t*Mt,Ct=pt-At*(pt-St*2)-St;yt.lineTo(Tt,Ct)}vt.clearRect(0,0,mt,pt);const Et=new Path2D(yt);Et.lineTo(_t*(st.current.length+1),pt),Et.lineTo(0,pt),Et.lineTo(0,0);const wt=vt.createLinearGradient(0,0,0,pt);wt.addColorStop(0,rt),wt.addColorStop(1,it),vt.fillStyle=wt,vt.fill(Et),vt.strokeStyle=tt,vt.lineJoin="round",vt.lineWidth=14,vt.stroke(yt),vt.strokeStyle=et,vt.lineWidth=2,vt.stroke(yt)},[et,tt,rt,it]),[ut,ft]=useCanvas2d(ct);return reactExports.useImperativeHandle(_,()=>({frame:ht=>{(ot.current===void 0||ht<ot.current)&&(ot.current=ht),(at.current===void 0||ht>at.current)&&(at.current=ht),push(st.current,ht),lt.current=requestAnimationFrame(()=>ct(ut.current,ft.current))}}),[ut,ft,ct]),reactExports.useEffect(()=>()=>cancelAnimationFrame(lt.current),[]),React.createElement(Canvas,{ref:ut})}),parse=_e=>Number.isFinite(_e)?_e.toPrecision(2):_e.toString(),MonitorLog=reactExports.forwardRef(function({initialValue:_e},_){const[et,tt]=reactExports.useState(parse(_e));return reactExports.useImperativeHandle(_,()=>({frame:nt=>tt(parse(nt))}),[]),React.createElement("div",null,et)});function getValue(_e){return typeof _e=="function"?_e():_e.current}function Monitor({label:_e,objectOrFn:_,settings:et}){const tt=reactExports.useRef(),nt=reactExports.useRef(getValue(_));return reactExports.useEffect(()=>{const rt=window.setInterval(()=>{var it;document.hidden||(it=tt.current)===null||it===void 0||it.frame(getValue(_))},et.interval);return()=>window.clearInterval(rt)},[_,et.interval]),React.createElement(Row,{input:!0},React.createElement(Label,{align:"top"},_e),et.graph?React.createElement(MonitorCanvas,{ref:tt,initialValue:nt.current}):React.createElement(MonitorLog,{ref:tt,initialValue:nt.current}))}const _excluded$3=["type","label","key"],specialComponents={[SpecialInputs.BUTTON]:Button,[SpecialInputs.BUTTON_GROUP]:ButtonGroup,[SpecialInputs.MONITOR]:Monitor},Control=React.memo(({path:_e})=>{const[_,{set:et,setSettings:tt,disable:nt,storeId:rt,emitOnEditStart:it,emitOnEditEnd:st}]=useInput(_e);if(!_)return null;const{type:ot,label:at,key:lt}=_,ct=_objectWithoutProperties$1(_,_excluded$3);if(ot in SpecialInputs){const ut=specialComponents[ot];return React.createElement(ut,_extends({label:at,path:_e},ct))}return ot in Plugins?React.createElement(ControlInput,_extends({key:rt+_e,type:ot,label:at,storeId:rt,path:_e,valueKey:lt,setValue:et,setSettings:tt,disable:nt,emitOnEditStart:it,emitOnEditEnd:st},ct)):(log(LevaErrors.UNSUPPORTED_INPUT,ot,_e),null)});function FolderTitle({toggle:_e,toggled:_,name:et}){return React.createElement(StyledTitle,{onClick:()=>_e()},React.createElement(Chevron,{toggled:_}),React.createElement("div",null,et))}const Folder=({name:_e,path:_,tree:et})=>{const tt=useStoreContext(),nt=join(_,_e),{collapsed:rt,color:it}=tt.getFolderSettings(nt),[st,ot]=reactExports.useState(!rt),at=reactExports.useRef(null),lt=useTh("colors","folderWidgetColor"),ct=useTh("colors","folderTextColor");return reactExports.useLayoutEffect(()=>{at.current.style.setProperty("--leva-colors-folderWidgetColor",it||lt),at.current.style.setProperty("--leva-colors-folderTextColor",it||ct)},[it,lt,ct]),React.createElement(StyledFolder,{ref:at},React.createElement(FolderTitle,{name:_e,toggled:st,toggle:()=>ot(ut=>!ut)}),React.createElement(TreeWrapper,{parent:nt,tree:et,toggled:st}))},TreeWrapper=React.memo(({isRoot:_e=!1,fill:_=!1,flat:et=!1,parent:tt,tree:nt,toggled:rt})=>{const{wrapperRef:it,contentRef:st}=useToggle(rt),ot=useStoreContext(),at=([ct,ut])=>{var ft;return(isInput(ut)?(ft=ot.getInput(ut.path))===null||ft===void 0?void 0:ft.order:ot.getFolderSettings(join(tt,ct)).order)||0},lt=Object.entries(nt).sort((ct,ut)=>at(ct)-at(ut));return React.createElement(StyledWrapper,{ref:it,isRoot:_e,fill:_,flat:et},React.createElement(StyledContent,{ref:st,isRoot:_e,toggled:rt},lt.map(([ct,ut])=>isInput(ut)?React.createElement(Control,{key:ut.path,valueKey:ut.valueKey,path:ut.path}):React.createElement(Folder,{key:ct,name:ct,path:tt,tree:ut}))))}),StyledRoot=styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),iconWidth=40,Icon=styled("i",{$flexCenter:"",width:iconWidth,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),StyledTitleWithFilter=styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),FilterWrapper=styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Icon}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),StyledFilterInput=styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),TitleContainer=styled("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:iconWidth}}}}),FilterInput=React.forwardRef(({setFilter:_e,toggle:_},et)=>{const[tt,nt]=reactExports.useState(""),rt=reactExports.useMemo(()=>debounce(_e,250),[_e]),it=()=>{_e(""),nt("")},st=ot=>{const at=ot.currentTarget.value;_(!0),nt(at)};return reactExports.useEffect(()=>{rt(tt)},[tt,rt]),React.createElement(React.Fragment,null,React.createElement(StyledFilterInput,{ref:et,value:tt,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:ot=>ot.stopPropagation(),onChange:st}),React.createElement(Icon,{onClick:()=>it(),style:{visibility:tt?"visible":"hidden"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function TitleWithFilter({setFilter:_e,onDrag:_,onDragStart:et,onDragEnd:tt,toggle:nt,toggled:rt,title:it,drag:st,filterEnabled:ot,from:at}){const[lt,ct]=reactExports.useState(!1),ut=reactExports.useRef(null);reactExports.useEffect(()=>{var ht,vt;lt?(ht=ut.current)===null||ht===void 0||ht.focus():(vt=ut.current)===null||vt===void 0||vt.blur()},[lt]);const ft=useDrag(({offset:[ht,vt],first:mt,last:pt})=>{_({x:ht,y:vt}),mt&&et({x:ht,y:vt}),pt&&tt({x:ht,y:vt})},{filterTaps:!0,from:({offset:[ht,vt]})=>[(at==null?void 0:at.x)||ht,(at==null?void 0:at.y)||vt]});return reactExports.useEffect(()=>{const ht=vt=>{vt.key==="L"&&vt.shiftKey&&vt.metaKey&&ct(mt=>!mt)};return window.addEventListener("keydown",ht),()=>window.removeEventListener("keydown",ht)},[]),React.createElement(React.Fragment,null,React.createElement(StyledTitleWithFilter,{mode:st?"drag":void 0},React.createElement(Icon,{active:!rt,onClick:()=>nt()},React.createElement(Chevron,{toggled:rt,width:12,height:8})),React.createElement(TitleContainer,_extends({},st?ft():{},{drag:st,filterEnabled:ot}),it===void 0&&st?React.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"2",cy:"2",r:"2"}),React.createElement("circle",{cx:"14",cy:"2",r:"2"}),React.createElement("circle",{cx:"26",cy:"2",r:"2"}),React.createElement("circle",{cx:"2",cy:"12",r:"2"}),React.createElement("circle",{cx:"14",cy:"12",r:"2"}),React.createElement("circle",{cx:"26",cy:"12",r:"2"})):it),ot&&React.createElement(Icon,{active:lt,onClick:()=>ct(ht=>!ht)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},React.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),React.createElement(FilterWrapper,{toggled:lt},React.createElement(FilterInput,{ref:ut,setFilter:_e,toggle:nt})))}const _excluded$2=["store","hidden","theme","collapsed"];function LevaRoot(_e){let{store:_,hidden:et=!1,theme:tt,collapsed:nt=!1}=_e,rt=_objectWithoutProperties$1(_e,_excluded$2);const it=useDeepMemo(()=>mergeTheme(tt),[tt]),[st,ot]=reactExports.useState(!nt),at=typeof nt=="object"?!nt.collapsed:st,lt=reactExports.useMemo(()=>typeof nt=="object"?ct=>{typeof ct=="function"?nt.onChange(!ct(!nt.collapsed)):nt.onChange(!ct)}:ot,[nt]);return!_||et?null:React.createElement(ThemeContext.Provider,{value:it},React.createElement(LevaCore,_extends({store:_},rt,{toggled:at,setToggle:lt,rootClass:it.className})))}const LevaCore=React.memo(({store:_e,rootClass:_,fill:et=!1,flat:tt=!1,neverHide:nt=!1,oneLineLabels:rt=!1,titleBar:it={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:st=!1,toggled:ot,setToggle:at})=>{var lt,ct;const ut=useVisiblePaths(_e),[ft,ht]=reactExports.useState(""),vt=reactExports.useMemo(()=>buildTree(ut,ft),[ut,ft]),[mt,pt]=useTransform(),yt=nt||ut.length>0,_t=typeof it=="object"&&it.title||void 0,St=typeof it=="object"&&(lt=it.drag)!==null&&lt!==void 0?lt:!0,Et=typeof it=="object"&&(ct=it.filter)!==null&&ct!==void 0?ct:!0,wt=typeof it=="object"&&it.position||void 0,Mt=typeof it=="object"&&it.onDrag||void 0,At=typeof it=="object"&&it.onDragStart||void 0,Tt=typeof it=="object"&&it.onDragEnd||void 0;return React.useEffect(()=>{pt({x:wt==null?void 0:wt.x,y:wt==null?void 0:wt.y})},[wt,pt]),globalStyles(),React.createElement(PanelSettingsContext.Provider,{value:{hideCopyButton:st}},React.createElement(StyledRoot,{ref:mt,className:_,fill:et,flat:tt,oneLineLabels:rt,hideTitleBar:!it,style:{display:yt?"block":"none"}},it&&React.createElement(TitleWithFilter,{onDrag:Ct=>{pt(Ct),Mt==null||Mt(Ct)},onDragStart:Ct=>At==null?void 0:At(Ct),onDragEnd:Ct=>Tt==null?void 0:Tt(Ct),setFilter:ht,toggle:Ct=>at(Dt=>Ct??!Dt),toggled:ot,title:_t,drag:St,filterEnabled:Et,from:wt}),yt&&React.createElement(StoreContext.Provider,{value:_e},React.createElement(TreeWrapper,{isRoot:!0,fill:et,flat:tt,tree:vt,toggled:ot}))))}),_excluded$1=["isRoot"];let rootInitialized=!1,rootEl=null;function Leva(_e){let{isRoot:_=!1}=_e,et=_objectWithoutProperties$1(_e,_excluded$1);return reactExports.useEffect(()=>(rootInitialized=!0,!_&&rootEl&&(rootEl.remove(),rootEl=null),()=>{_||(rootInitialized=!1)}),[_]),React.createElement(LevaRoot,_extends({store:levaStore},et))}function useRenderRoot(_e){reactExports.useEffect(()=>{_e&&!rootInitialized&&(rootEl||(rootEl=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(rootEl),render(React.createElement(Leva,{isRoot:!0}),rootEl))),rootInitialized=!0)},[_e])}function parseArgs(_e,_,et,tt,nt){let rt,it,st,ot,at;return it=_e,rt=_,Array.isArray(et)&&(at=et),{schema:rt,folderName:it,folderSettings:st,hookSettings:ot,deps:at||[]}}function useControls(_e,_,et,tt,nt){const{folderName:rt,schema:it,folderSettings:st,hookSettings:ot,deps:at}=parseArgs(_e,_,et),lt=typeof it=="function",ct=reactExports.useRef(!1),ut=reactExports.useRef(!0),ft=useDeepMemo(()=>{ct.current=!0;const Dt=typeof it=="function"?it():it;return rt?{[rt]:folder(Dt,st)}:Dt},at),ht=!(ot!=null&&ot.store);useRenderRoot(ht);const[vt]=reactExports.useState(()=>(ot==null?void 0:ot.store)||levaStore),[mt,pt]=reactExports.useMemo(()=>vt.getDataFromSchema(ft),[vt,ft]),[yt,_t,St,Et,wt]=reactExports.useMemo(()=>{const Dt=[],$t=[],kt={},It={},Nt={};return Object.values(pt).forEach(({path:Gt,onChange:Bt,onEditStart:Rt,onEditEnd:Ot,transient:Ut})=>{Dt.push(Gt),Bt?(kt[Gt]=Bt,Ut||$t.push(Gt)):$t.push(Gt),Rt&&(It[Gt]=Rt),Ot&&(Nt[Gt]=Ot)}),[Dt,$t,kt,It,Nt]},[pt]),Mt=reactExports.useMemo(()=>vt.orderPaths(yt),[yt,vt]),At=useValuesForPath(vt,_t,mt),Tt=reactExports.useCallback(Dt=>{const $t=Object.entries(Dt).reduce((kt,[It,Nt])=>Object.assign(kt,{[pt[It].path]:Nt}),{});vt.set($t,!1)},[vt,pt]),Ct=reactExports.useCallback(Dt=>vt.get(pt[Dt].path),[vt,pt]);return reactExports.useEffect(()=>{const Dt=!ut.current&&ct.current;return vt.addData(mt,Dt),ut.current=!1,ct.current=!1,()=>vt.disposePaths(Mt)},[vt,Mt,mt]),reactExports.useEffect(()=>{const Dt=[];return Object.entries(St).forEach(([$t,kt])=>{kt(vt.get($t),$t,_objectSpread2({initial:!0,get:vt.get},vt.getInput($t)));const It=vt.useStore.subscribe(Nt=>{const Gt=Nt.data[$t];return[Gt.disabled?void 0:Gt.value,Gt]},([Nt,Gt])=>kt(Nt,$t,_objectSpread2({initial:!1,get:vt.get},Gt)),{equalityFn:shallow});Dt.push(It)}),()=>Dt.forEach($t=>$t())},[vt,St]),reactExports.useEffect(()=>{const Dt=[];return Object.entries(Et).forEach(([$t,kt])=>Dt.push(vt.subscribeToEditStart($t,kt))),Object.entries(wt).forEach(([$t,kt])=>Dt.push(vt.subscribeToEditEnd($t,kt))),()=>Dt.forEach($t=>$t())},[Et,wt,vt]),lt?[At,Tt,Ct]:At}register(LevaInputs.SELECT,select);register(LevaInputs.IMAGE,image);register(LevaInputs.NUMBER,number$1);register(LevaInputs.COLOR,color);register(LevaInputs.STRING,string);register(LevaInputs.BOOLEAN,boolean);register(LevaInputs.INTERVAL,interval);register(LevaInputs.VECTOR3D,vector3d);register(LevaInputs.VECTOR2D,vector2d);var define_import_meta_env_default$2={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const createStoreImpl$1=_e=>{let _;const et=new Set,tt=(lt,ct)=>{const ut=typeof lt=="function"?lt(_):lt;if(!Object.is(ut,_)){const ft=_;_=ct??(typeof ut!="object"||ut===null)?ut:Object.assign({},_,ut),et.forEach(ht=>ht(_,ft))}},nt=()=>_,ot={setState:tt,getState:nt,getInitialState:()=>at,subscribe:lt=>(et.add(lt),()=>et.delete(lt)),destroy:()=>{(define_import_meta_env_default$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),et.clear()}},at=_=_e(tt,nt,ot);return ot},createStore$1=_e=>_e?createStoreImpl$1(_e):createStoreImpl$1;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$1(_e,_){return _e===_&&(_e!==0||1/_e===1/_)||_e!==_e&&_!==_}var k=typeof Object.is=="function"?Object.is:h$1,l$1=e$1.useState,m=e$1.useEffect,n$2=e$1.useLayoutEffect,p$1=e$1.useDebugValue;function q$1(_e,_){var et=_(),tt=l$1({inst:{value:et,getSnapshot:_}}),nt=tt[0].inst,rt=tt[1];return n$2(function(){nt.value=et,nt.getSnapshot=_,r$1(nt)&&rt({inst:nt})},[_e,et,_]),m(function(){return r$1(nt)&&rt({inst:nt}),_e(function(){r$1(nt)&&rt({inst:nt})})},[_e]),p$1(et),et}function r$1(_e){var _=_e.getSnapshot;_e=_e.value;try{var et=_();return!k(_e,et)}catch{return!0}}function t$2(_e,_){return _()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$1;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=reactExports,n$1=shimExports;function p(_e,_){return _e===_&&(_e!==0||1/_e===1/_)||_e!==_e&&_!==_}var q=typeof Object.is=="function"?Object.is:p,r=n$1.useSyncExternalStore,t$1=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(_e,_,et,tt,nt){var rt=t$1(null);if(rt.current===null){var it={hasValue:!1,value:null};rt.current=it}else it=rt.current;rt=v(function(){function ot(ft){if(!at){if(at=!0,lt=ft,ft=tt(ft),nt!==void 0&&it.hasValue){var ht=it.value;if(nt(ht,ft))return ct=ht}return ct=ft}if(ht=ct,q(lt,ft))return ht;var vt=tt(ft);return nt!==void 0&&nt(ht,vt)?ht:(lt=ft,ct=vt)}var at=!1,lt,ct,ut=et===void 0?null:et;return[function(){return ot(_())},ut===null?void 0:function(){return ot(ut())}]},[_,et,tt,nt]);var st=r(_e,rt[0],rt[1]);return u(function(){it.hasValue=!0,it.value=st},[st]),w(st),st};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports);var define_import_meta_env_default$1={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:useDebugValue$1}=React,{useSyncExternalStoreWithSelector:useSyncExternalStoreWithSelector$1}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=_e=>_e;function useStore(_e,_=identity,et){(define_import_meta_env_default$1?"production":void 0)!=="production"&&et&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const tt=useSyncExternalStoreWithSelector$1(_e.subscribe,_e.getState,_e.getServerState||_e.getInitialState,_,et);return useDebugValue$1(tt),tt}const createImpl=_e=>{(define_import_meta_env_default$1?"production":void 0)!=="production"&&typeof _e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const _=typeof _e=="function"?createStore$1(_e):_e,et=(tt,nt)=>useStore(_,tt,nt);return Object.assign(et,_),et},create=_e=>_e?createImpl(_e):createImpl;var _window$document,_window$navigator;const useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?React.useLayoutEffect:React.useEffect;function tunnel(){const _e=create(_=>({current:new Array,version:0,set:_}));return{In:({children:_})=>{const et=_e(nt=>nt.set),tt=_e(nt=>nt.version);return useIsomorphicLayoutEffect(()=>{et(nt=>({version:nt.version+1}))},[]),useIsomorphicLayoutEffect(()=>(et(({current:nt})=>({current:[...nt,_]})),()=>et(({current:nt})=>({current:nt.filter(rt=>rt!==_)}))),[_,tt]),null},Out:()=>{const _=_e(et=>et.current);return React.createElement(React.Fragment,null,_)}}}const r3f=tunnel(),Three=({children:_e})=>jsxRuntimeExports.jsx(r3f.In,{children:_e}),CanvasLayout=({children:_e})=>{const _=reactExports.useRef(),et=useControls("GL",{exposure:{value:5,min:-5,max:5},toneMapping:{options:{filmic:ACESFilmicToneMapping,linear:LinearToneMapping,notone:NoToneMapping,reinhard:ReinhardToneMapping,cineon:CineonToneMapping}},encoding:{options:{linear:LinearSRGBColorSpace,rgb:SRGBColorSpace}},background:{value:"#060913"},enableBg:{value:!1},hideCanvas:{value:!1}});return jsxRuntimeExports.jsxs("div",{ref:_,style:{position:"relative",width:" 100%",height:"100%",minHeight:"100vh",zIndex:1},children:[_e,jsxRuntimeExports.jsxs(Canvas$1,{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",visibility:et.hideCanvas?"hidden":"visible"},gl:{powerPreference:"high-performance",alpha:!0,antialias:!0,toneMappingExposure:Math.pow(2,et.exposure),toneMapping:et.toneMapping,outputColorSpace:et.encoding},eventSource:_,eventPrefix:"client",children:[et.enableBg&&jsxRuntimeExports.jsx("color",{attach:"background",args:[et.background]}),jsxRuntimeExports.jsx(r3f.Out,{}),jsxRuntimeExports.jsx(Preload,{all:!0})]}),jsxRuntimeExports.jsx(Leva,{hidden:!0})]})};function t(){return t=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},t.apply(this,arguments)}function e(_e,_,et){return Math.max(_e,Math.min(_,et))}class i{advance(_){var et;if(!this.isRunning)return;let tt=!1;if(this.lerp)this.value=(nt=this.value,rt=this.to,(1-(it=1-Math.exp(-60*this.lerp*_)))*nt+it*rt),Math.round(this.value)===this.to&&(this.value=this.to,tt=!0);else{this.currentTime+=_;const st=e(0,this.currentTime/this.duration,1);tt=st>=1;const ot=tt?1:this.easing(st);this.value=this.from+(this.to-this.from)*ot}var nt,rt,it;(et=this.onUpdate)==null||et.call(this,this.value,tt),tt&&this.stop()}stop(){this.isRunning=!1}fromTo(_,et,{lerp:tt=.1,duration:nt=1,easing:rt=ot=>ot,onStart:it,onUpdate:st}){this.from=this.value=_,this.to=et,this.lerp=tt,this.duration=nt,this.easing=rt,this.currentTime=0,this.isRunning=!0,it==null||it(),this.onUpdate=st}}class s{constructor({wrapper:_,content:et,autoResize:tt=!0}={}){if(this.resize=()=>{this.onWrapperResize(),this.onContentResize()},this.onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)},this.onContentResize=()=>{this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth},this.wrapper=_,this.content=et,tt){const nt=function(rt,it){let st;return function(){let ot=arguments,at=this;clearTimeout(st),st=setTimeout(function(){rt.apply(at,ot)},250)}}(this.resize);this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(nt),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(nt),this.contentResizeObserver.observe(this.content)}this.resize()}destroy(){var _,et;(_=this.wrapperResizeObserver)==null||_.disconnect(),(et=this.contentResizeObserver)==null||et.disconnect()}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class o{constructor(){this.events={}}emit(_,...et){let tt=this.events[_]||[];for(let nt=0,rt=tt.length;nt<rt;nt++)tt[nt](...et)}on(_,et){var tt;return(tt=this.events[_])!=null&&tt.push(et)||(this.events[_]=[et]),()=>{var nt;this.events[_]=(nt=this.events[_])==null?void 0:nt.filter(rt=>et!==rt)}}off(_,et){var tt;this.events[_]=(tt=this.events[_])==null?void 0:tt.filter(nt=>et!==nt)}destroy(){this.events={}}}class n{constructor(_,{wheelMultiplier:et=1,touchMultiplier:tt=2,normalizeWheel:nt=!1}){this.onTouchStart=rt=>{const{clientX:it,clientY:st}=rt.targetTouches?rt.targetTouches[0]:rt;this.touchStart.x=it,this.touchStart.y=st,this.lastDelta={x:0,y:0}},this.onTouchMove=rt=>{const{clientX:it,clientY:st}=rt.targetTouches?rt.targetTouches[0]:rt,ot=-(it-this.touchStart.x)*this.touchMultiplier,at=-(st-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=it,this.touchStart.y=st,this.lastDelta={x:ot,y:at},this.emitter.emit("scroll",{deltaX:ot,deltaY:at,event:rt})},this.onTouchEnd=rt=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:rt})},this.onWheel=rt=>{let{deltaX:it,deltaY:st}=rt;this.normalizeWheel&&(it=e(-100,it,100),st=e(-100,st,100)),it*=this.wheelMultiplier,st*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:it,deltaY:st,event:rt})},this.element=_,this.wheelMultiplier=et,this.touchMultiplier=tt,this.normalizeWheel=nt,this.touchStart={x:null,y:null},this.emitter=new o,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(_,et){return this.emitter.on(_,et)}destroy(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class l{constructor({wrapper:_=window,content:et=document.documentElement,wheelEventsTarget:tt=_,eventsTarget:nt=tt,smoothWheel:rt=!0,smoothTouch:it=!1,syncTouch:st=!1,syncTouchLerp:ot=.1,__iosNoInertiaSyncTouchLerp:at=.4,touchInertiaMultiplier:lt=35,duration:ct,easing:ut=Et=>Math.min(1,1.001-Math.pow(2,-10*Et)),lerp:ft=!ct&&.1,infinite:ht=!1,orientation:vt="vertical",gestureOrientation:mt="vertical",touchMultiplier:pt=1,wheelMultiplier:yt=1,normalizeWheel:_t=!1,autoResize:St=!0}={}){this.onVirtualScroll=({deltaX:Et,deltaY:wt,event:Mt})=>{if(Mt.ctrlKey)return;const At=Mt.type.includes("touch"),Tt=Mt.type.includes("wheel");if(this.options.gestureOrientation==="both"&&Et===0&&wt===0||this.options.gestureOrientation==="vertical"&&wt===0||this.options.gestureOrientation==="horizontal"&&Et===0||At&&this.options.gestureOrientation==="vertical"&&this.scroll===0&&!this.options.infinite&&wt<=0)return;let Ct=Mt.composedPath();if(Ct=Ct.slice(0,Ct.indexOf(this.rootElement)),Ct.find(It=>{var Nt;return(It.hasAttribute==null?void 0:It.hasAttribute("data-lenis-prevent"))||At&&(It.hasAttribute==null?void 0:It.hasAttribute("data-lenis-prevent-touch"))||Tt&&(It.hasAttribute==null?void 0:It.hasAttribute("data-lenis-prevent-wheel"))||((Nt=It.classList)==null?void 0:Nt.contains("lenis"))}))return;if(this.isStopped||this.isLocked)return void Mt.preventDefault();if(this.isSmooth=(this.options.smoothTouch||this.options.syncTouch)&&At||this.options.smoothWheel&&Tt,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();Mt.preventDefault();let Dt=wt;this.options.gestureOrientation==="both"?Dt=Math.abs(wt)>Math.abs(Et)?wt:Et:this.options.gestureOrientation==="horizontal"&&(Dt=Et);const $t=At&&this.options.syncTouch,kt=At&&Mt.type==="touchend"&&Math.abs(Dt)>1;kt&&(Dt=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+Dt,t({programmatic:!1},$t&&{lerp:kt?this.syncTouchLerp:this.options.__iosNoInertiaSyncTouchLerp}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const Et=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-Et),this.emit()}},window.lenisVersion="1.0.29",_!==document.documentElement&&_!==document.body||(_=window),this.options={wrapper:_,content:et,wheelEventsTarget:tt,eventsTarget:nt,smoothWheel:rt,smoothTouch:it,syncTouch:st,syncTouchLerp:ot,__iosNoInertiaSyncTouchLerp:at,touchInertiaMultiplier:lt,duration:ct,easing:ut,lerp:ft,infinite:ht,gestureOrientation:mt,orientation:vt,touchMultiplier:pt,wheelMultiplier:yt,normalizeWheel:_t,autoResize:St},this.animate=new i,this.emitter=new o,this.dimensions=new s({wrapper:_,content:et,autoResize:St}),this.toggleClass("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=st||rt||it,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll=new n(nt,{touchMultiplier:pt,wheelMultiplier:yt,normalizeWheel:_t}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClass("lenis",!1),this.toggleClass("lenis-smooth",!1),this.toggleClass("lenis-scrolling",!1),this.toggleClass("lenis-stopped",!1),this.toggleClass("lenis-locked",!1)}on(_,et){return this.emitter.on(_,et)}off(_,et){return this.emitter.off(_,et)}setScroll(_){this.isHorizontal?this.rootElement.scrollLeft=_:this.rootElement.scrollTop=_}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped=!1,this.reset()}stop(){this.isStopped=!0,this.animate.stop(),this.reset()}raf(_){const et=_-(this.time||_);this.time=_,this.animate.advance(.001*et)}scrollTo(_,{offset:et=0,immediate:tt=!1,lock:nt=!1,duration:rt=this.options.duration,easing:it=this.options.easing,lerp:st=!rt&&this.options.lerp,onComplete:ot=null,force:at=!1,programmatic:lt=!0}={}){if(!this.isStopped&&!this.isLocked||at){if(["top","left","start"].includes(_))_=0;else if(["bottom","right","end"].includes(_))_=this.limit;else{var ct;let ut;if(typeof _=="string"?ut=document.querySelector(_):(ct=_)!=null&&ct.nodeType&&(ut=_),ut){if(this.options.wrapper!==window){const ht=this.options.wrapper.getBoundingClientRect();et-=this.isHorizontal?ht.left:ht.top}const ft=ut.getBoundingClientRect();_=(this.isHorizontal?ft.left:ft.top)+this.animatedScroll}}if(typeof _=="number"){if(_+=et,_=Math.round(_),this.options.infinite?lt&&(this.targetScroll=this.animatedScroll=this.scroll):_=e(0,_,this.limit),tt)return this.animatedScroll=this.targetScroll=_,this.setScroll(this.scroll),this.reset(),void(ot==null||ot(this));if(!lt){if(_===this.targetScroll)return;this.targetScroll=_}this.animate.fromTo(this.animatedScroll,_,{duration:rt,easing:it,lerp:st,onStart:()=>{nt&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(ut,ft)=>{this.isScrolling=!0,this.velocity=ut-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=ut,this.setScroll(this.scroll),lt&&(this.targetScroll=ut),ft||this.emit(),ft&&(this.reset(),this.emit(),ot==null||ot(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(this.animatedScroll%(_=this.limit)+_)%_:this.animatedScroll;var _}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(_){this.__isSmooth!==_&&(this.__isSmooth=_,this.toggleClass("lenis-smooth",_))}get isScrolling(){return this.__isScrolling}set isScrolling(_){this.__isScrolling!==_&&(this.__isScrolling=_,this.toggleClass("lenis-scrolling",_))}get isStopped(){return this.__isStopped}set isStopped(_){this.__isStopped!==_&&(this.__isStopped=_,this.toggleClass("lenis-stopped",_))}get isLocked(){return this.__isLocked}set isLocked(_){this.__isLocked!==_&&(this.__isLocked=_,this.toggleClass("lenis-locked",_))}get className(){let _="lenis";return this.isStopped&&(_+=" lenis-stopped"),this.isLocked&&(_+=" lenis-locked"),this.isScrolling&&(_+=" lenis-scrolling"),this.isSmooth&&(_+=" lenis-smooth"),_}toggleClass(_,et){this.rootElement.classList.toggle(_,et),this.emitter.emit("className change",this)}}function shallow$1(_e,_){if(Object.is(_e,_))return!0;if(typeof _e!="object"||_e===null||typeof _!="object"||_===null)return!1;if(_e instanceof Map&&_ instanceof Map){if(_e.size!==_.size)return!1;for(const[tt,nt]of _e)if(!Object.is(nt,_.get(tt)))return!1;return!0}if(_e instanceof Set&&_ instanceof Set){if(_e.size!==_.size)return!1;for(const tt of _e)if(!_.has(tt))return!1;return!0}const et=Object.keys(_e);if(et.length!==Object.keys(_).length)return!1;for(let tt=0;tt<et.length;tt++)if(!Object.prototype.hasOwnProperty.call(_,et[tt])||!Object.is(_e[et[tt]],_[et[tt]]))return!1;return!0}var define_import_meta_env_default={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const createStoreImpl=_e=>{let _;const et=new Set,tt=(ot,at)=>{const lt=typeof ot=="function"?ot(_):ot;if(!Object.is(lt,_)){const ct=_;_=at??(typeof lt!="object"||lt===null)?lt:Object.assign({},_,lt),et.forEach(ut=>ut(_,ct))}},nt=()=>_,st={setState:tt,getState:nt,subscribe:ot=>(et.add(ot),()=>et.delete(ot)),destroy:()=>{(define_import_meta_env_default?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),et.clear()}};return _=_e(tt,nt,st),st},createStore=_e=>_e?createStoreImpl(_e):createStoreImpl,{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;function useStoreWithEqualityFn(_e,_=_e.getState,et){const tt=useSyncExternalStoreWithSelector(_e.subscribe,_e.getState,_e.getServerState||_e.getState,_,et);return useDebugValue(tt),tt}const createWithEqualityFnImpl=(_e,_)=>{const et=createStore(_e),tt=(nt,rt=_)=>useStoreWithEqualityFn(et,nt,rt);return Object.assign(tt,et),tt},createWithEqualityFn=(_e,_)=>_e?createWithEqualityFnImpl(_e,_):createWithEqualityFnImpl,useScroll=createWithEqualityFn((_e,_)=>({isEnableScroll:!1,start:()=>_e({isEnableScroll:!0}),stop:()=>_e({isEnableScroll:!1})}),shallow$1);gsapWithCSS.registerPlugin(ScrollTrigger,ScrollSmoother,SplitText);function ScrollLayout({children:_e}){const[_,et]=reactExports.useState(.75),[tt,nt]=reactExports.useState(.5),[rt,it]=reactExports.useState(!0),st=useScroll(at=>at.isEnableScroll),ot=reactExports.useRef();return reactExports.useEffect(()=>(ot.current=new l({wheelMultiplier:_,smoothTouch:!0,touchMultiplier:tt,lerp:(window.innerWidth>1024,.05),direction:"vertical",gestureDirection:"vertical",smooth:rt,infinite:!1}),ot.current.on("scroll",ScrollTrigger.update),gsapWithCSS.ticker.add(at=>{ot.current.raf(at*1e3)}),gsapWithCSS.ticker.lagSmoothing(0),()=>{var at;(at=ot.current)==null||at.destroy()}),[_,tt,rt]),reactExports.useEffect(()=>{var at,lt;st?((at=ot.current)==null||at.stop(),enableNativeScroll(!1)):((lt=ot.current)==null||lt.start(),enableNativeScroll(!0))},[st]),jsxRuntimeExports.jsx(ScrollContext.Provider,{value:{setWheelMultiplayer:et,setTouchMultiplier:nt},children:_e})}const enableNativeScroll=_e=>{if(!document)return;const _=document.querySelector("html");_&&(_e?(_.style.removeProperty("position"),_.style.removeProperty("overflow"),_.style.removeProperty("height")):(_.style.position="relative",_.style.overflow="hidden",_.style.height="100%"))};client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(ScrollLayout,{children:jsxRuntimeExports.jsx(CanvasLayout,{children:jsxRuntimeExports.jsx(App,{})})})}));export{LineLoop as $,LinearFilter as A,BufferAttribute as B,Color$1 as C,DirectionalLight as D,LinearMipmapLinearFilter as E,FileLoader as F,RepeatWrapping as G,PointsMaterial as H,InstancedMesh as I,Material as J,LineBasicMaterial as K,Loader as L,MotionConfigContext as M,MeshStandardMaterial as N,Object3D as O,PointLight as P,DoubleSide as Q,REVISION as R,SpotLight as S,TrianglesDrawMode as T,PropertyBinding as U,Vector2 as V,BufferGeometry as W,SkinnedMesh as X,Mesh as Y,LineSegments as Z,Line as _,easeInOut as a,MainContext as a$,Points as a0,Group as a1,PerspectiveCamera as a2,MathUtils as a3,OrthographicCamera as a4,Skeleton as a5,AnimationClip as a6,Bone as a7,InterpolateLinear as a8,Matrix4 as a9,createPortal as aA,extend$2 as aB,DynamicDrawUsage as aC,Ray as aD,Float32BufferAttribute as aE,jsxRuntimeExports as aF,getProgress as aG,UnsignedByteType as aH,SRGBColorSpace as aI,DepthStencilFormat as aJ,UnsignedInt248Type as aK,UnsignedIntType as aL,EventDispatcher as aM,LinearSRGBColorSpace as aN,NoColorSpace as aO,BasicDepthPacking as aP,MeshNormalMaterial as aQ,BackSide as aR,ShaderMaterial as aS,Uniform as aT,NoBlending as aU,Camera as aV,Vector4 as aW,React as aX,useInstanceHandle as aY,PlaneGeometry as aZ,Three as a_,Quaternion as aa,NearestFilter as ab,NearestMipmapNearestFilter as ac,LinearMipmapNearestFilter as ad,NearestMipmapLinearFilter as ae,ClampToEdgeWrapping as af,MirroredRepeatWrapping as ag,InterpolateDiscrete as ah,FrontSide as ai,InterleavedBufferAttribute as aj,Texture as ak,VectorKeyframeTrack as al,NumberKeyframeTrack as am,QuaternionKeyframeTrack as an,Box3 as ao,Sphere as ap,Interpolant as aq,useLoader as ar,useThree as as,WebGLRenderTarget as at,HalfFloatType as au,DepthTexture as av,FloatType as aw,useFrame as ax,_extends$1 as ay,Scene as az,easeOut as b,useGSAP as b0,clsx as b1,Player as b2,gsapWithCSS as b3,sectionAnim as b4,SectionTitle as b5,IconArrow as b6,ScrollContext as b7,IconLogo as b8,scrollTo as b9,dataNav as ba,SocialItem as bb,dataSocials as bc,Policy as bd,cubicBezier as c,defaultOffset$1 as d,easeIn as e,interpolate$1 as f,clamp$5 as g,frame as h,invariant as i,cancelFrame as j,frameData as k,useIsomorphicLayoutEffect$6 as l,TriangleFanDrawMode as m,noop$2 as n,TriangleStripDrawMode as o,LoaderUtils as p,MeshBasicMaterial as q,reactExports as r,MeshPhysicalMaterial as s,Vector3 as t,useMotionValue as u,velocityPerSecond as v,InstancedBufferAttribute as w,TextureLoader as x,ImageBitmapLoader as y,InterleavedBuffer as z};
