import{aF as t,b1 as c,r as n,b4 as N,b5 as R,b3 as u}from"./index-BCy5xNdd.js";import{C as A}from"./index-Bf9KQbg6.js";import{s as T}from"./sectionActive-COvEF9CS.js";const E=()=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"228",viewBox:"0 0 34 228",fill:"none",preserveAspectRatio:window.innerWidth>768?"true":"none",children:t.jsx("path",{d:"M20.943 29.8824L33.1702 10.4221C33.658 9.64568 33.5554 8.63704 32.9212 7.97479L26.0783 0.828731C25.1849 -0.104311 23.6544 0.0417911 22.9536 1.12703L8.7333 23.1487C8.00253 24.2804 7.61382 25.5989 7.61382 26.946L7.61382 92.7548C7.61382 92.9947 7.57065 93.2327 7.48637 93.4574L0.640817 111.704C0.226949 112.807 0.215937 114.021 0.609725 115.131L7.49881 134.558C7.57492 134.773 7.61382 134.999 7.61382 135.226L7.61382 200.504C7.61382 201.827 7.98866 203.123 8.6949 204.242L22.9884 226.88C23.674 227.965 25.1905 228.133 26.0966 227.223L32.8396 220.452C33.5139 219.775 33.615 218.716 33.0811 217.923L21.0127 200.013C20.5676 199.353 20.3299 198.575 20.3299 197.778L20.3299 132.807C20.3299 132.236 20.2079 131.672 19.9721 131.153L12.1115 113.839C11.9886 113.568 11.9926 113.257 12.1222 112.989L19.9292 96.8853C20.1929 96.3414 20.3299 95.7448 20.3299 95.1404L20.3299 32.0104C20.3299 31.2575 20.5424 30.5199 20.943 29.8824Z",fill:"#fff"})}),F="_PortfolioDominance_1btas_1",S="_PortfolioDominance_inner_1btas_19",H="_PortfolioDominance_header_1btas_37",B="_PortfolioDominance_title_1btas_44",Y="_PortfolioDominance_description_1btas_48",z="_PortfolioDominance_brackets_1btas_73",X="_PortfolioDominance_brackets_item_1btas_82",d={PortfolioDominance:F,PortfolioDominance_inner:S,PortfolioDominance_header:H,PortfolioDominance_title:B,PortfolioDominance_description:Y,PortfolioDominance_brackets:z,PortfolioDominance_brackets_item:X},$=[{title:t.jsx(t.Fragment,{children:"Order CONSOLIDATION"}),text:t.jsx(t.Fragment,{children:"Optimization algorithm employs a mechanism to consolidate orders on options on the same underlying asset across types and strikes without assumptions about an option pricing model or underlying asset stochastic process."})},{title:t.jsxs(t.Fragment,{children:["PROTOCOL ASSET SIDE ",t.jsx("span",{children:"≥"})," PROTOCOL LIABILITY SIDE"]}),text:t.jsx(t.Fragment,{children:"The protocol optimizes over how much to sell to buy orders and how much to buy from sell orders at auction subject to the liability of the protocol not exceeding its positive payoff at all states of the world at expiry; portfolio of bought options ‘dominating’ portfolio of sold options."})}],M="_DescriptionItem_1he44_1",Z="_DescriptionItem_title_1he44_21",q="_DescriptionItem_text_1he44_59",P={DescriptionItem:M,DescriptionItem_title:Z,DescriptionItem_text:q},G=({title:m,text:a,refForward:_,index:p})=>t.jsxs("div",{className:c(P.DescriptionItem),ref:w=>{w&&_.current&&(_.current[p]=w)},children:[t.jsx("div",{className:c(P.DescriptionItem_title),children:m}),t.jsx("div",{className:c(P.DescriptionItem_text),children:a})]}),ot=({isSectionActive:m})=>{const a=n.useRef(null),_=n.useRef(null),p=n.useRef(null),w=n.useRef(null),o=n.useRef([]),D=n.useRef([]),r=i=>{const{x:e,y:s,width:l,height:j}=i.getBoundingClientRect();return{x:e,y:s,width:l,height:j}},I=()=>{let i=u.timeline({defaults:{delay:0,duration:2.5,ease:"power2.inOut"}}),e=u.timeline({defaults:{delay:0,duration:2.5,ease:"power2.inOut"}}),s=u.timeline({defaults:{delay:0,duration:1.5,ease:"power2.inOut"}}),l=u.timeline({defaults:{delay:0,duration:1,ease:"power2.inOut",pause:!0}});if(p.current&&a.current){let{x:j,y:J,width:g,height:K}=r(o.current[0]);const{x:C,y:x,width:L,height:f}=r(p.current),{x:Q,y,width:v,height:U}=r(a.current);i.to(o.current[0],{y:x-y,height:window.innerWidth>1024?f:f/2,width:window.innerWidth>1024?"auto":25,onComplete:()=>{g=r(o.current[0]).width,setTimeout(()=>{l.play(1)},1200)}}),i.to(o.current[0],{x:window.innerWidth>1024?C-g*2:20,width:window.innerWidth>1024?"auto":15,height:window.innerWidth>1024?f:r(D.current[0]).height}),e.to(o.current[1],{y:x-y+x*.15,height:window.innerWidth>1024?f:f/2,width:window.innerWidth>1024?"auto":25}),e.to(o.current[1],{x:window.innerWidth>1024?C+L+g*1.5:v-15*2,y:window.innerWidth>1024?x-y:r(D.current[1]).y-y,height:window.innerWidth>1024?f:r(D.current[1]).height,width:window.innerWidth>1024?"auto":15}),s.fromTo(w.current,{opacity:0,yPercent:50},{opacity:1,yPercent:0,delay:1.5}),D.current.map((k,O)=>{l.fromTo(k,{opacity:0,yPercent:20},{opacity:1,yPercent:0,delay:O==0?1.5:0},"<50%")}),l.pause()}},W=()=>{if(a.current){const{width:i,height:e}=r(a.current),{width:s,height:l}=r(o.current[0]);u.set(o.current[0],{x:i/2-s/2,y:e/2-l/2*1.2,height:window.innerWidth>1024?e/2:e/3}),u.set(o.current[1],{x:i/2+s/2,y:e/2-l/2*.9,height:window.innerWidth>1024?e/2:e/3})}};n.useLayoutEffect(()=>{W()},[]);const h=T();N(a,_,h);const b=()=>{h.firstActive(),I()};return n.useEffect(()=>{h.isActive&&!h.isFirstActive&&b()},[h.isActive]),(m===!0||m===!1)&&n.useEffect(()=>{m&&!h.isFirstActive&&b()},[m]),t.jsxs("section",{id:"portfolio-dominance",className:c("section",d.PortfolioDominance),ref:a,children:[(window==null?void 0:window.innerWidth)>1024&&t.jsxs(t.Fragment,{children:[t.jsx(A,{}),t.jsx("img",{loading:"lazy",decoding:"async",className:"bg_noise_absolute",src:"/images/noise.png",alt:""})]}),t.jsxs("div",{className:c(d.PortfolioDominance_inner),ref:_,children:[t.jsx("div",{className:c(d.PortfolioDominance_header),ref:w,children:t.jsx(R,{className:d.PortfolioDominance_title,title:"Portfolio Dominance"})}),t.jsx("div",{className:c(d.PortfolioDominance_description),ref:p,children:$.map((i,e)=>n.createElement(G,{...i,key:e,refForward:D,index:e}))}),t.jsx("div",{className:c(d.PortfolioDominance_brackets),children:Array(2).fill(null).map((i,e)=>t.jsx("div",{className:c(d.PortfolioDominance_brackets_item),ref:s=>{s&&(o.current[e]=s)},children:t.jsx(E,{})},e))})]})]})};export{ot as PortfolioDominance,ot as default};
